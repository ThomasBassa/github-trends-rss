<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>GitHub Trending: Nix, This month</title><link>https://github.com/trending/nix?since=monthly</link><description>The top repositories on GitHub for nix, measured monthly</description><pubDate>Thu, 19 Dec 2019 04:55:58 GMT</pubDate><lastBuildDate>Thu, 19 Dec 2019 04:55:58 GMT</lastBuildDate><generator>PyRSS2Gen-1.1.0</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><ttl>720</ttl><item><title>rycee/home-manager #1 in Nix, This month</title><link>https://github.com/rycee/home-manager</link><description>&lt;p&gt;&lt;i&gt;Manage a user environment using Nix&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-home-manager-using-nix" class="anchor" aria-hidden="true" href="#home-manager-using-nix"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Home Manager using Nix&lt;/h1&gt;
&lt;p&gt;This project provides a basic system for managing a user environment
using the &lt;a href="https://nixos.org/nix/" rel="nofollow"&gt;Nix&lt;/a&gt; package manager together with the Nix libraries
found in &lt;a href="https://nixos.org/nixpkgs/" rel="nofollow"&gt;Nixpkgs&lt;/a&gt;. Before attempting to use Home Manager please
read the warning below.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-words-of-warning" class="anchor" aria-hidden="true" href="#words-of-warning"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Words of warning&lt;/h2&gt;
&lt;p&gt;This project is under development. I personally use it to manage
several user configurations but it may fail catastrophically for you.
So beware!&lt;/p&gt;
&lt;p&gt;In some cases Home Manager cannot detect whether it will overwrite a
previous manual configuration. For example, the Gnome Terminal module
will write to your dconf store and cannot tell whether a configuration
that it is about to be overwrite was from a previous Home Manager
generation or from manual configuration.&lt;/p&gt;
&lt;p&gt;Home Manager targets &lt;a href="https://nixos.org/" rel="nofollow"&gt;NixOS&lt;/a&gt; unstable and NixOS version 19.09 (the
current stable version), it may or may not work on other Linux
distributions and NixOS versions.&lt;/p&gt;
&lt;p&gt;Also, the &lt;code&gt;home-manager&lt;/code&gt; tool does not explicitly support rollbacks at
the moment so if your home directory gets messed up you'll have to fix
it yourself. See the &lt;a href="#rollbacks"&gt;rollbacks&lt;/a&gt; section for instructions
on how to manually perform a rollback.&lt;/p&gt;
&lt;p&gt;Now when your expectations have been built up and you are eager to try
all this out you can go ahead and read the rest of this text.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-contact" class="anchor" aria-hidden="true" href="#contact"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contact&lt;/h2&gt;
&lt;p&gt;You can chat with us on IRC in the channel &lt;a href="https://webchat.freenode.net/?url=irc%3A%2F%2Firc.freenode.net%2Fhome-manager" rel="nofollow"&gt;#home-manager&lt;/a&gt; on
&lt;a href="https://freenode.net/" rel="nofollow"&gt;freenode&lt;/a&gt;. The &lt;a href="https://logs.nix.samueldr.com/home-manager/" rel="nofollow"&gt;channel logs&lt;/a&gt; are hosted courtesy of
&lt;a href="https://github.com/samueldr/"&gt;samueldr&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation&lt;/h2&gt;
&lt;p&gt;Currently the easiest way to install Home Manager is as follows:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Make sure you have a working Nix installation. If you are not
using NixOS then you may here have to run&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;mkdir -m 0755 -p /nix/var/nix/{profiles,gcroots}/per-user/&lt;span class="pl-smi"&gt;$USER&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;since Home Manager uses these directories to manage your profile
generations. On NixOS these should already be available.&lt;/p&gt;
&lt;p&gt;Also make sure that your user is able to build and install Nix
packages. For example, you should be able to successfully run a
command like &lt;code&gt;nix-instantiate '&amp;lt;nixpkgs&amp;gt;' -A hello&lt;/code&gt; without having
to switch to the root user. For a multi-user install of Nix this
means that your user must be covered by the
&lt;a href="https://nixos.org/nix/manual/#conf-allowed-users" rel="nofollow"&gt;&lt;code&gt;allowed-users&lt;/code&gt;&lt;/a&gt; Nix option. On NixOS you can
control this option using the
&lt;a href="https://nixos.org/nixos/manual/options.html#opt-nix.allowedUsers" rel="nofollow"&gt;&lt;code&gt;nix.allowedUsers&lt;/code&gt;&lt;/a&gt; system option.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add the appropriate Home Manager channel. Typically this is&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;nix-channel --add https://github.com/rycee/home-manager/archive/master.tar.gz home-manager&lt;/span&gt;
$ &lt;span class="pl-s1"&gt;nix-channel --update&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;if you are following Nixpkgs master or an unstable channel and&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;nix-channel --add https://github.com/rycee/home-manager/archive/release-19.09.tar.gz home-manager&lt;/span&gt;
$ &lt;span class="pl-s1"&gt;nix-channel --update&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;if you follow a Nixpkgs version 19.09 channel.&lt;/p&gt;
&lt;p&gt;On NixOS you may need to log out and back in for the channel to
become available. On non-NixOS you may have to add&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;export&lt;/span&gt; NIX_PATH=&lt;span class="pl-smi"&gt;$HOME&lt;/span&gt;/.nix-defexpr/channels&lt;span class="pl-smi"&gt;${NIX_PATH&lt;span class="pl-k"&gt;:&lt;/span&gt;+&lt;span class="pl-k"&gt;:&lt;/span&gt;}&lt;/span&gt;&lt;span class="pl-smi"&gt;$NIX_PATH&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;to your shell (see &lt;a href="https://github.com/NixOS/nix/issues/2033"&gt;nix#2033&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install Home Manager and create the first Home Manager generation:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;nix-shell &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;&amp;lt;home-manager&amp;gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; -A install&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once finished, Home Manager should be active and available in your
user environment.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you do not plan on having Home Manager manage your shell
configuration then you must source the&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$HOME/.nix-profile/etc/profile.d/hm-session-vars.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;file in your shell configuration. Unfortunately, in this specific
case we currently only support POSIX.2-like shells such as
&lt;a href="https://www.gnu.org/software/bash/" rel="nofollow"&gt;Bash&lt;/a&gt; or &lt;a href="http://zsh.sourceforge.net/" rel="nofollow"&gt;Z shell&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;For example, if you use Bash then add&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;.&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-smi"&gt;$HOME&lt;/span&gt;/.nix-profile/etc/profile.d/hm-session-vars.sh&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;to your &lt;code&gt;~/.profile&lt;/code&gt; file.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If instead of using channels you want to run Home Manager from a Git
checkout of the repository then you can use the
&lt;code&gt;programs.home-manager.path&lt;/code&gt; option to specify the absolute path to
the repository.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h2&gt;
&lt;p&gt;Home Manager is typically managed through the &lt;code&gt;home-manager&lt;/code&gt; tool.
This tool can, for example, apply configurations to your home
directory, list user packages installed by the tool, and list the
configuration generations.&lt;/p&gt;
&lt;p&gt;As an example, let us expand the initial configuration file from the
installation above to install the htop and fortune packages, install
Emacs with a few extra packages enabled, install Firefox with the
IcedTea plugin enabled, and enable the user gpg-agent service.&lt;/p&gt;
&lt;p&gt;To satisfy the above setup we should elaborate the
&lt;code&gt;~/.config/nixpkgs/home.nix&lt;/code&gt; file as follows:&lt;/p&gt;
&lt;div class="highlight highlight-source-nix"&gt;&lt;pre&gt;{ &lt;span class="pl-smi"&gt;pkgs&lt;/span&gt;&lt;span class="pl-k"&gt;,&lt;/span&gt; &lt;span class="pl-k"&gt;... &lt;/span&gt;}:

{
  &lt;span class="pl-e"&gt;home&lt;/span&gt;.&lt;span class="pl-e"&gt;packages&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [
    &lt;span class="pl-v"&gt;pkgs&lt;/span&gt;&lt;span class="pl-k"&gt;.&lt;/span&gt;&lt;span class="pl-v"&gt;htop&lt;/span&gt;
    &lt;span class="pl-v"&gt;pkgs&lt;/span&gt;&lt;span class="pl-k"&gt;.&lt;/span&gt;&lt;span class="pl-v"&gt;fortune&lt;/span&gt;
  ];

  &lt;span class="pl-e"&gt;programs&lt;/span&gt;.&lt;span class="pl-e"&gt;emacs&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; {
    &lt;span class="pl-e"&gt;enable&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;;
    &lt;span class="pl-e"&gt;extraPackages&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-smi"&gt;epkgs&lt;/span&gt;: [
      &lt;span class="pl-v"&gt;epkgs&lt;/span&gt;&lt;span class="pl-k"&gt;.&lt;/span&gt;&lt;span class="pl-v"&gt;nix-mode&lt;/span&gt;
      &lt;span class="pl-v"&gt;epkgs&lt;/span&gt;&lt;span class="pl-k"&gt;.&lt;/span&gt;&lt;span class="pl-v"&gt;magit&lt;/span&gt;
    ];
  };

  &lt;span class="pl-e"&gt;programs&lt;/span&gt;.&lt;span class="pl-e"&gt;firefox&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; {
    &lt;span class="pl-e"&gt;enable&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;;
    &lt;span class="pl-e"&gt;enableIcedTea&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;;
  };

  &lt;span class="pl-e"&gt;services&lt;/span&gt;.&lt;span class="pl-e"&gt;gpg-agent&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; {
    &lt;span class="pl-e"&gt;enable&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;;
    &lt;span class="pl-e"&gt;defaultCacheTtl&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;1800&lt;/span&gt;;
    &lt;span class="pl-e"&gt;enableSshSupport&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;;
  };

  &lt;span class="pl-e"&gt;programs&lt;/span&gt;.&lt;span class="pl-e"&gt;home-manager&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; {
    &lt;span class="pl-e"&gt;enable&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;;
    &lt;span class="pl-e"&gt;path&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;…&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;;
  };
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To activate this configuration you can then run&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;home-manager switch&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;or if you are not feeling so lucky,&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;home-manager build&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;which will create a &lt;code&gt;result&lt;/code&gt; link to a directory containing an
activation script and the generated home directory files.&lt;/p&gt;
&lt;p&gt;Documentation of available configuration options, including
descriptions and usage examples, is available in the &lt;a href="https://rycee.gitlab.io/home-manager/options.html" rel="nofollow"&gt;Home Manager
manual&lt;/a&gt; or offline by running&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;man home-configuration.nix&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-rollbacks" class="anchor" aria-hidden="true" href="#rollbacks"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Rollbacks&lt;/h2&gt;
&lt;p&gt;While the &lt;code&gt;home-manager&lt;/code&gt; tool does not explicitly support rollbacks at
the moment it is relatively easy to perform one manually. The steps to
do so are&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Run &lt;code&gt;home-manager generations&lt;/code&gt; to determine which generation you
wish to rollback to:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;home-manager generations&lt;/span&gt;
&lt;span class="pl-c1"&gt;2018-01-04 11:56 : id 765 -&amp;gt; /nix/store/kahm1rxk77mnvd2l8pfvd4jkkffk5ijk-home-manager-generation&lt;/span&gt;
&lt;span class="pl-c1"&gt;2018-01-03 10:29 : id 764 -&amp;gt; /nix/store/2wsmsliqr5yynqkdyjzb1y57pr5q2lsj-home-manager-generation&lt;/span&gt;
&lt;span class="pl-c1"&gt;2018-01-01 12:21 : id 763 -&amp;gt; /nix/store/mv960kl9chn2lal5q8lnqdp1ygxngcd1-home-manager-generation&lt;/span&gt;
&lt;span class="pl-c1"&gt;2017-12-29 21:03 : id 762 -&amp;gt; /nix/store/6c0k1r03fxckql4vgqcn9ccb616ynb94-home-manager-generation&lt;/span&gt;
&lt;span class="pl-c1"&gt;2017-12-25 18:51 : id 761 -&amp;gt; /nix/store/czc5y6vi1rvnkfv83cs3rn84jarcgsgh-home-manager-generation&lt;/span&gt;
&lt;span class="pl-c1"&gt;…&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Copy the Nix store path of the generation you chose, e.g.,&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/nix/store/mv960kl9chn2lal5q8lnqdp1ygxngcd1-home-manager-generation
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;for generation 763.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Run the &lt;code&gt;activate&lt;/code&gt; script inside the copied store path:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;/nix/store/mv960kl9chn2lal5q8lnqdp1ygxngcd1-home-manager-generation/activate&lt;/span&gt;
&lt;span class="pl-c1"&gt;Starting home manager activation&lt;/span&gt;
&lt;span class="pl-c1"&gt;…&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;a id="user-content-keeping-your--safe-from-harm" class="anchor" aria-hidden="true" href="#keeping-your--safe-from-harm"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Keeping your ~ safe from harm&lt;/h2&gt;
&lt;p&gt;To configure programs and services Home Manager must write various
things to your home directory. To prevent overwriting any existing
files when switching to a new generation, Home Manager will attempt to
detect collisions between existing files and generated files. If any
such collision is detected the activation will terminate before
changing anything on your computer.&lt;/p&gt;
&lt;p&gt;For example, suppose you have a wonderful, painstakingly created
&lt;code&gt;~/.config/git/config&lt;/code&gt; and add&lt;/p&gt;
&lt;div class="highlight highlight-source-nix"&gt;&lt;pre&gt;{
  &lt;span class="pl-c"&gt;# …&lt;/span&gt;

  &lt;span class="pl-e"&gt;programs&lt;/span&gt;.&lt;span class="pl-e"&gt;git&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; {
    &lt;span class="pl-e"&gt;enable&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;;
    &lt;span class="pl-e"&gt;userName&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Jane Doe&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;;
    &lt;span class="pl-e"&gt;userEmail&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;jane.doe@example.org&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;;
  };

  &lt;span class="pl-c"&gt;# …&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;to your configuration. Attempting to switch to the generation will
then result in&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;home-manager switch&lt;/span&gt;
&lt;span class="pl-c1"&gt;…&lt;/span&gt;
&lt;span class="pl-c1"&gt;Activating checkLinkTargets&lt;/span&gt;
&lt;span class="pl-c1"&gt;Existing file '/home/jdoe/.gitconfig' is in the way&lt;/span&gt;
&lt;span class="pl-c1"&gt;Please move the above files and try again&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-graphical-services" class="anchor" aria-hidden="true" href="#graphical-services"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Graphical services&lt;/h2&gt;
&lt;p&gt;Home Manager includes a number of services intended to run in a
graphical session, for example &lt;code&gt;xscreensaver&lt;/code&gt; and &lt;code&gt;dunst&lt;/code&gt;.
Unfortunately, such services will not be started automatically unless
you let Home Manager start your X session. That is, you have something
like&lt;/p&gt;
&lt;div class="highlight highlight-source-nix"&gt;&lt;pre&gt;{
  &lt;span class="pl-c"&gt;# …&lt;/span&gt;

  &lt;span class="pl-e"&gt;services&lt;/span&gt;.&lt;span class="pl-e"&gt;xserver&lt;/span&gt;.&lt;span class="pl-e"&gt;enable&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;;

  &lt;span class="pl-c"&gt;# …&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;in your system configuration and&lt;/p&gt;
&lt;div class="highlight highlight-source-nix"&gt;&lt;pre&gt;{
  &lt;span class="pl-c"&gt;# …&lt;/span&gt;

  &lt;span class="pl-e"&gt;xsession&lt;/span&gt;.&lt;span class="pl-e"&gt;enable&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;;
  &lt;span class="pl-e"&gt;xsession&lt;/span&gt;.&lt;span class="pl-e"&gt;windowManager&lt;/span&gt;.&lt;span class="pl-e"&gt;command&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;…&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;;

  &lt;span class="pl-c"&gt;# …&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;in your Home Manager configuration.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>rycee</author><guid isPermaLink="false">https://github.com/rycee/home-manager</guid><pubDate>Thu, 19 Dec 2019 00:01:00 GMT</pubDate></item></channel></rss>
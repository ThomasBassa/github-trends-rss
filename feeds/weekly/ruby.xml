<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>GitHub Trending: Ruby, This week</title><link>https://github.com/trending/ruby?since=weekly</link><description>The top repositories on GitHub for ruby, measured weekly</description><pubDate>Mon, 10 Feb 2020 01:18:47 GMT</pubDate><lastBuildDate>Mon, 10 Feb 2020 01:18:47 GMT</lastBuildDate><generator>PyRSS2Gen-1.1.0</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><ttl>720</ttl><item><title>faker-ruby/faker #1 in Ruby, This week</title><link>https://github.com/faker-ruby/faker</link><description>&lt;p&gt;&lt;i&gt;A library for generating fake data such as names, addresses, and phone numbers.&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/36028424/40263395-4318481e-5b44-11e8-92e5-3dcc1ce169b3.png"&gt;&lt;img src="https://user-images.githubusercontent.com/36028424/40263395-4318481e-5b44-11e8-92e5-3dcc1ce169b3.png" alt="logotype a happy-07" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-faker" class="anchor" aria-hidden="true" href="#faker"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Faker&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://travis-ci.org/faker-ruby/faker" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/ce92ae0ba8ef7fe45e881791e8e61a5aa456831b/68747470733a2f2f7472617669732d63692e6f72672f66616b65722d727562792f66616b65722e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/faker-ruby/faker.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://badge.fury.io/rb/faker" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/c02d9541ee5b284d271f74643ad25dd28912d057/68747470733a2f2f62616467652e667572792e696f2f72622f66616b65722e737667" alt="Gem Version" data-canonical-src="https://badge.fury.io/rb/faker.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://inch-ci.org/github/faker-ruby/faker" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/561542319d235ff71e121411ffec22672cbc40f6/68747470733a2f2f696e63682d63692e6f72672f6769746875622f66616b65722d727562792f66616b65722e7376673f6272616e63683d6d6173746572" alt="Inline docs" data-canonical-src="https://inch-ci.org/github/faker-ruby/faker.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://codeclimate.com/github/stympy/faker/test_coverage" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/7068d3050e09bb88c17cf24fb639423e9078daa1/68747470733a2f2f6170692e636f6465636c696d6174652e636f6d2f76312f6261646765732f65663534633766396466383665393635643634622f746573745f636f766572616765" alt="Test Coverage" data-canonical-src="https://api.codeclimate.com/v1/badges/ef54c7f9df86e965d64b/test_coverage" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://codeclimate.com/github/stympy/faker/maintainability" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/34f77d5bc22e9a864aaa80306f783813c26dd8db/68747470733a2f2f6170692e636f6465636c696d6174652e636f6d2f76312f6261646765732f65663534633766396466383665393635643634622f6d61696e7461696e6162696c697479" alt="Maintainability" data-canonical-src="https://api.codeclimate.com/v1/badges/ef54c7f9df86e965d64b/maintainability" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://dependabot.com/compatibility-score.html?dependency-name=faker&amp;amp;package-manager=bundler&amp;amp;version-scheme=semver" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/dccceabc8d79bd84bb5288a975c5813d69c1c785/68747470733a2f2f6170692e646570656e6461626f742e636f6d2f6261646765732f636f6d7061746962696c6974795f73636f72653f646570656e64656e63792d6e616d653d66616b6572267061636b6167652d6d616e616765723d62756e646c65722676657273696f6e2d736368656d653d73656d766572" alt="SemVer compatibility" data-canonical-src="https://api.dependabot.com/badges/compatibility_score?dependency-name=faker&amp;amp;package-manager=bundler&amp;amp;version-scheme=semver" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This gem is a port of &lt;a href="https://metacpan.org/pod/Data::Faker" rel="nofollow"&gt;Perl's Data::Faker library&lt;/a&gt; that generates fake data.&lt;/p&gt;
&lt;p&gt;It comes in very handy for taking screenshots (taking screenshots for my
project, &lt;a href="http://catchthebest.com/" rel="nofollow"&gt;Catch the Best&lt;/a&gt; was the original impetus
for the creation of this gem), having real-looking test data, and having your
database populated with more than one or two records while you're doing
development.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#faker"&gt;Faker&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#note"&gt;NOTE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#installing"&gt;Installing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#usage"&gt;Usage&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#cli"&gt;CLI&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ensuring-unique-values"&gt;Ensuring unique values&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#deterministic-random"&gt;Deterministic Random&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#generators"&gt;Generators&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#default"&gt;Default&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#blockchain"&gt;Blockchain&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#books"&gt;Books&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#creature"&gt;Creature&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#games"&gt;Games&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#japanese-media"&gt;Japanese Media&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#movies"&gt;Movies&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#music"&gt;Music&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#quotes"&gt;Quotes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#sports"&gt;Sports&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#tv-shows"&gt;Tv Shows&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#customization"&gt;Customization&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#contributing"&gt;Contributing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#contact"&gt;Contact&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#license"&gt;License&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-note" class="anchor" aria-hidden="true" href="#note"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;NOTE&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;While Faker generates data at random, returned values are not guaranteed to be unique by default.
You must explicitly specify when you require unique values, see &lt;a href="#ensuring-unique-values"&gt;details&lt;/a&gt;.
Values also can be deterministic if you use the deterministic feature, see &lt;a href="#deterministic-random"&gt;details&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;This is the &lt;code&gt;master&lt;/code&gt; branch of Faker and may contain changes that are not yet released.
Please refer the README of your version for the available methods.
List of all versions is &lt;a href="https://github.com/stympy/faker/releases"&gt;available here&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-installing" class="anchor" aria-hidden="true" href="#installing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installing&lt;/h2&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;gem install faker&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note: if you are getting a &lt;code&gt;uninitialized constant Faker::[some_class]&lt;/code&gt; error, your version of the gem is behind the one documented here. To make sure that your gem is the one documented here, change the line in your Gemfile to:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;gem &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;faker&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;:git&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;https://github.com/faker-ruby/faker.git&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;:branch&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;master&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h2&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;faker&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-c1"&gt;Faker&lt;/span&gt;::&lt;span class="pl-c1"&gt;Name&lt;/span&gt;.name      &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;=&amp;gt; "Christophe Bartell"&lt;/span&gt;

&lt;span class="pl-c1"&gt;Faker&lt;/span&gt;::&lt;span class="pl-c1"&gt;Internet&lt;/span&gt;.email &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;=&amp;gt; "kirsten.greenholt@corkeryfisher.info"&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-cli" class="anchor" aria-hidden="true" href="#cli"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CLI&lt;/h3&gt;
&lt;p&gt;Instructions are available in the &lt;a href="https://github.com/faker-ruby/faker-bot"&gt;faker-bot README&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-ensuring-unique-values" class="anchor" aria-hidden="true" href="#ensuring-unique-values"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ensuring unique values&lt;/h3&gt;
&lt;p&gt;Prefix your method call with &lt;code&gt;unique&lt;/code&gt;. For example:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Faker&lt;/span&gt;::&lt;span class="pl-c1"&gt;Name&lt;/span&gt;.unique.name &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; This will return a unique name every time it is called&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If too many unique values are requested from a generator that has a limited
number of potential values, a &lt;code&gt;Faker::UniqueGenerator::RetryLimitExceeded&lt;/code&gt;
exception may be raised. It is possible to clear the record of unique values
that have been returned, for example between tests.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Faker&lt;/span&gt;::&lt;span class="pl-c1"&gt;Name&lt;/span&gt;.unique.clear &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Clears used values for Faker::Name&lt;/span&gt;
&lt;span class="pl-c1"&gt;Faker&lt;/span&gt;::&lt;span class="pl-c1"&gt;UniqueGenerator&lt;/span&gt;.clear &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Clears used values for all generators&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You also can give some already used values to the unique generator if you have
collisions with the generated data (i.e: using FactoryBot with random and
manually set values).&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Usage:&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Faker::&amp;lt;generator&amp;gt;.unique.exclude(method, arguments, list)&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Add 'azerty' and 'wxcvbn' to the string generator with 6 char length&lt;/span&gt;
&lt;span class="pl-c1"&gt;Faker&lt;/span&gt;::&lt;span class="pl-c1"&gt;Lorem&lt;/span&gt;.unique.exclude &lt;span class="pl-c1"&gt;:string&lt;/span&gt;, [&lt;span class="pl-c1"&gt;6&lt;/span&gt;], &lt;span class="pl-s"&gt;%w[azerty wxcvbn]&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-deterministic-random" class="anchor" aria-hidden="true" href="#deterministic-random"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deterministic Random&lt;/h3&gt;
&lt;p&gt;Faker supports seeding of its pseudo-random number generator (PRNG) to provide deterministic output of repeated method calls.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Faker&lt;/span&gt;::&lt;span class="pl-c1"&gt;Config&lt;/span&gt;.random &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Random&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(&lt;span class="pl-c1"&gt;42&lt;/span&gt;)
&lt;span class="pl-c1"&gt;Faker&lt;/span&gt;::&lt;span class="pl-c1"&gt;Company&lt;/span&gt;.bs &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;=&amp;gt; "seize collaborative mindshare"&lt;/span&gt;
&lt;span class="pl-c1"&gt;Faker&lt;/span&gt;::&lt;span class="pl-c1"&gt;Company&lt;/span&gt;.bs &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;=&amp;gt; "engage strategic platforms"&lt;/span&gt;
&lt;span class="pl-c1"&gt;Faker&lt;/span&gt;::&lt;span class="pl-c1"&gt;Config&lt;/span&gt;.random &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Random&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(&lt;span class="pl-c1"&gt;42&lt;/span&gt;)
&lt;span class="pl-c1"&gt;Faker&lt;/span&gt;::&lt;span class="pl-c1"&gt;Company&lt;/span&gt;.bs &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;=&amp;gt; "seize collaborative mindshare"&lt;/span&gt;
&lt;span class="pl-c1"&gt;Faker&lt;/span&gt;::&lt;span class="pl-c1"&gt;Company&lt;/span&gt;.bs &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;=&amp;gt; "engage strategic platforms"&lt;/span&gt;

&lt;span class="pl-c1"&gt;Faker&lt;/span&gt;::&lt;span class="pl-c1"&gt;Config&lt;/span&gt;.random &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;nil&lt;/span&gt; &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; seeds the PRNG using default entropy sources&lt;/span&gt;
&lt;span class="pl-c1"&gt;Faker&lt;/span&gt;::&lt;span class="pl-c1"&gt;Config&lt;/span&gt;.random.seed &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;=&amp;gt; 185180369676275068918401850258677722187&lt;/span&gt;
&lt;span class="pl-c1"&gt;Faker&lt;/span&gt;::&lt;span class="pl-c1"&gt;Company&lt;/span&gt;.bs &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;=&amp;gt; "cultivate viral synergies"&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-generators" class="anchor" aria-hidden="true" href="#generators"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Generators&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;NOTE: Some of the generators below aren't released yet. If you want to use them, change the line in your gemfile to:&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;gem &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;faker&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;:git&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;https://github.com/faker-ruby/faker.git&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;:branch&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;master&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-default" class="anchor" aria-hidden="true" href="#default"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Default&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="doc/default/address.md"&gt;Faker::Address&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/alphanumeric.md"&gt;Faker::Alphanumeric&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/ancient.md"&gt;Faker::Ancient&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/app.md"&gt;Faker::App&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/appliance.md"&gt;Faker::Appliance&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/artist.md"&gt;Faker::Artist&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/avatar.md"&gt;Faker::Avatar&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/bank.md"&gt;Faker::Bank&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/beer.md"&gt;Faker::Beer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/boolean.md"&gt;Faker::Boolean&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/bossa_nova.md"&gt;Faker::BossaNova&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/business.md"&gt;Faker::Business&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/cannabis.md"&gt;Faker::Cannabis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/chile_rut.md"&gt;Faker::ChileRut&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/chuck_norris.md"&gt;Faker::ChuckNorris&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/code.md"&gt;Faker::Code&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/coffee.md"&gt;Faker::Coffee&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/coin.md"&gt;Faker::Coin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/color.md"&gt;Faker::Color&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/commerce.md"&gt;Faker::Commerce&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/company.md"&gt;Faker::Company&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/compass.md"&gt;Faker::Compass&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/construction.md"&gt;Faker::Construction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/cosmere.md"&gt;Faker::Cosmere&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/crypto.md"&gt;Faker::Crypto&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/crypto_coin.md"&gt;Faker::CryptoCoin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/currency.md"&gt;Faker::Currency&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/date.md"&gt;Faker::Date&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/dc_comics.md"&gt;Faker::DcComics&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/demographic.md"&gt;Faker::Demographic&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/dessert.md"&gt;Faker::Dessert&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/device.md"&gt;Faker::Device&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/driving_licence.md"&gt;Faker::DrivingLicence&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/educator.md"&gt;Faker::Educator&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/electrical_components.md"&gt;Faker::ElectricalComponents&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/esport.md"&gt;Faker::Esport&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/file.md"&gt;Faker::File&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/fillmurray.md"&gt;Faker::Fillmurray&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/finance.md"&gt;Faker::Finance&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/food.md"&gt;Faker::Food&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/funny_name.md"&gt;Faker::FunnyName&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/gender.md"&gt;Faker::Gender&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/greek_philosophers.md"&gt;Faker::GreekPhilosophers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/hacker.md"&gt;Faker::Hacker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/hipster.md"&gt;Faker::Hipster&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/house.md"&gt;Faker::House&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/id_number.md"&gt;Faker::IDNumber&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/industry_segments.md"&gt;Faker::IndustrySegments&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/internet.md"&gt;Faker::Internet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/invoice.md"&gt;Faker::Invoice&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/job.md"&gt;Faker::Job&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/json.md"&gt;Faker::Json&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/kpop.md"&gt;Faker::Kpop&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/lorem.md"&gt;Faker::Lorem&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/lorem_flickr.md"&gt;Faker::LoremFlickr&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/lorem_pixel.md"&gt;Faker::LoremPixel&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/markdown.md"&gt;Faker::Markdown&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/marketing.md"&gt;Faker::Marketing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/measurement.md"&gt;Faker::Measurement&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/military.md"&gt;Faker::Military&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/name.md"&gt;Faker::Name&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/nation.md"&gt;Faker::Nation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/nato_phonetic_alphabet.md"&gt;Faker::NatoPhoneticAlphabet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/national_health_service.md"&gt;Faker::NationalHealthService&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/number.md"&gt;Faker::Number&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/omniauth.md"&gt;Faker::Omniauth&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/phone_number.md"&gt;Faker::PhoneNumber&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/placeholdit.md"&gt;Faker::Placeholdit&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/programming_language.md"&gt;Faker::ProgrammingLanguage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/relationship.md"&gt;Faker::Relationship&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/restaurant.md"&gt;Faker::Restaurant&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/science.md"&gt;Faker::Science&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/slack_emoji.md"&gt;Faker::SlackEmoji&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/source.md"&gt;Faker::Source&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/south_africa.md"&gt;Faker::SouthAfrica&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/space.md"&gt;Faker::Space&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/string.md"&gt;Faker::String&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/stripe.md"&gt;Faker::Stripe&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/subscription.md"&gt;Faker::Subscription&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/superhero.md"&gt;Faker::Superhero&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/team.md"&gt;Faker::Team&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/time.md"&gt;Faker::Time&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/twitter.md"&gt;Faker::Twitter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/types.md"&gt;Faker::Types&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/university.md"&gt;Faker::University&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/vehicle.md"&gt;Faker::Vehicle&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/verbs.md"&gt;Faker::Verbs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/default/world_cup.md"&gt;Faker::WorldCup&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-blockchain" class="anchor" aria-hidden="true" href="#blockchain"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Blockchain&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="doc/blockchain/aeternity.md"&gt;Faker::Blockchain::Aeternity&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/blockchain/bitcoin.md"&gt;Faker::Blockchain::Bitcoin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/blockchain/ethereum.md"&gt;Faker::Blockchain::Ethereum&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/blockchain/tezos.md"&gt;Faker::Blockchain::Tezos&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-books" class="anchor" aria-hidden="true" href="#books"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Books&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="doc/books/book.md"&gt;Faker::Book&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/books/culture_series.md"&gt;Faker::Books::CultureSeries&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/books/dune.md"&gt;Faker::Books::Dune&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/books/lovecraft.md"&gt;Faker::Books::Lovecraft&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-creature" class="anchor" aria-hidden="true" href="#creature"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Creature&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="doc/creature/animal.md"&gt;Faker::Creature::Animal&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/creature/cat.md"&gt;Faker::Creature::Cat&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/creature/dog.md"&gt;Faker::Creature::Dog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/creature/horse.md"&gt;Faker::Creature::Horse&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-games" class="anchor" aria-hidden="true" href="#games"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Games&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="doc/games/game.md"&gt;Faker::Game&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/games/dota.md"&gt;Faker::Games::Dota&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/games/elder_scrolls.md"&gt;Faker::Games::ElderScrolls&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/games/fallout.md"&gt;Faker::Games::Fallout&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/games/half_life.md"&gt;Faker::Games::HalfLife&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/games/heroes.md"&gt;Faker::Games::Heroes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/games/heroes_of_the_storm.md"&gt;Faker::Games::HeroesOfTheStorm&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/games/league_of_legends.md"&gt;Faker::Games::LeagueOfLegends&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/games/myst.md"&gt;Faker::Games::Myst&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/games/overwatch.md"&gt;Faker::Games::Overwatch&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/games/pokemon.md"&gt;Faker::Games::Pokemon&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/games/sonic_the_hedgehog.md"&gt;Faker::Games::SonicTheHedgehog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/games/super_smash_bros.md"&gt;Faker::Games::SuperSmashBros&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/games/witcher.md"&gt;Faker::Games::Witcher&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/games/world_of_warcraft.md"&gt;Faker::Games::WorldOfWarcraft&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/games/zelda.md"&gt;Faker::Games::Zelda&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-japanese-media" class="anchor" aria-hidden="true" href="#japanese-media"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Japanese Media&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="doc/japanese_media/dragon_ball.md"&gt;Faker::JapaneseMedia::DragonBall&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/japanese_media/one_piece.md"&gt;Faker::JapaneseMedia::OnePiece&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/japanese_media/sword_art_online.md"&gt;Faker::JapaneseMedia::SwordArtOnline&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-movies" class="anchor" aria-hidden="true" href="#movies"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Movies&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="doc/movies/movie.md"&gt;Faker::Movie&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/movies/back_to_the_future.md"&gt;Faker::Movies::BackToTheFuture&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/movies/ghostbusters.md"&gt;Faker::Movies::Ghostbusters&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/movies/harry_potter.md"&gt;Faker::Movies::HarryPotter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/movies/hitchhikers_guide_to_the_galaxy.md"&gt;Faker::Movies::HitchhikersGuideToTheGalaxy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/movies/hobbit.md"&gt;Faker::Movies::Hobbit&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/movies/lebowski.md"&gt;Faker::Movies::Lebowski&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/movies/lord_of_the_rings.md"&gt;Faker::Movies::LordOfTheRings&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/movies/princess_bride.md"&gt;Faker::Movies::PrincessBride&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/movies/star_wars.md"&gt;Faker::Movies::StarWars&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/movies/v_for_vendetta.md"&gt;Faker::Movies::VForVendetta&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-music" class="anchor" aria-hidden="true" href="#music"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Music&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="doc/music/music.md"&gt;Faker::Music&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/music/grateful_dead.md"&gt;Faker::Music::GratefulDead&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/music/opera.md"&gt;Faker::Music::Opera&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/music/phish.md"&gt;Faker::Music::Phish&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/music/rock_band.md"&gt;Faker::Music::RockBand&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/music/umphreys_mcgee.md"&gt;Faker::Music::UmphreysMcgee&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-quotes" class="anchor" aria-hidden="true" href="#quotes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Quotes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="doc/quotes/quote.md"&gt;Faker::Quote&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/quotes/shakespeare.md"&gt;Faker::Quotes::Shakespeare&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-sports" class="anchor" aria-hidden="true" href="#sports"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Sports&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="doc/sports/basketball.md"&gt;Faker::Sports::Basketball&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/sports/football.md"&gt;Faker::Sports::Football&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-tv-shows" class="anchor" aria-hidden="true" href="#tv-shows"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Tv Shows&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/aqua_teen_hunger_force.md"&gt;Faker::TvShows::AquaTeenHungerForce&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/bojack_horseman.md"&gt;Faker::TvShows::BojackHorseman&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/breaking_bad.md"&gt;Faker::TvShows::BreakingBad&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/buffy.md"&gt;Faker::TvShows::Buffy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/community.md"&gt;Faker::TvShows::Community&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/dr_who.md"&gt;Faker::TvShows::DrWho&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/dumb_and_dumber.md"&gt;Faker::TvShows::DumbAndDumber&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/family_guy.md"&gt;Faker::TvShows::FamilyGuy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/friends.md"&gt;Faker::TvShows::Friends&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/game_of_thrones.md"&gt;Faker::TvShows::GameOfThrones&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/hey_arnold.md"&gt;Faker::TvShows::HeyArnold&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/how_i_met_your_mother.md"&gt;Faker::TvShows::HowIMetYourMother&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/michael_scott.md"&gt;Faker::TvShows::MichaelScott&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/new_girl.md"&gt;Faker::TvShows::NewGirl&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/parks_and_rec.md"&gt;Faker::TvShows::ParksAndRec&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/rick_and_morty.md"&gt;Faker::TvShows::RickAndMorty&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/rupaul.md"&gt;Faker::TvShows::RuPaul&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/seinfeld.md"&gt;Faker::TvShows::Seinfeld&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/silicon_valley.md"&gt;Faker::TvShows::SiliconValley&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/simpsons.md"&gt;Faker::TvShows::Simpsons&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/south_park.md"&gt;Faker::TvShows::SouthPark&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/star_trek.md"&gt;Faker::TvShows::StarTrek&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/stargate.md"&gt;Faker::TvShows::Stargate&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/stranger_things.md"&gt;Faker::TvShows::StrangerThings&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/the_expanse.md"&gt;Faker::TvShows::TheExpanse&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/the_fresh_prince_of_bel_air.md"&gt;Faker::TvShows::TheFreshPrinceOfBelAir&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/the_it_crowd.md"&gt;Faker::TvShows::TheITCrowd&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/the_thick_of_it.md"&gt;Faker::TvShows::TheThickOfIt&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/twin_peaks.md"&gt;Faker::TvShows::TwinPeaks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="doc/tv_shows/venture_bros.md"&gt;Faker::TvShows::VentureBros&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-customization" class="anchor" aria-hidden="true" href="#customization"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Customization&lt;/h2&gt;
&lt;p&gt;Since you may want to make addresses and other types of data look different
depending on where in the world you are (US postal codes vs. UK postal codes,
for example), Faker uses the I18n gem to store strings (like state names) and
formats (US postal codes are NNNNN while UK postal codes are AAN NAA),
allowing you to get different formats by switching locales.  Just set
Faker::Config.locale to the locale you want, and Faker will take care of the
rest.&lt;/p&gt;
&lt;p&gt;If your locale doesn't already exist, create it in the &lt;code&gt;lib/locales&lt;/code&gt; directory
and you can then override or add elements to suit your needs. See more about how to
use locales &lt;a href="lib/locales/README.md"&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight highlight-source-yaml"&gt;&lt;pre&gt;&lt;span class="pl-ent"&gt;en-au-ocker&lt;/span&gt;:
  &lt;span class="pl-ent"&gt;faker&lt;/span&gt;:
    &lt;span class="pl-ent"&gt;name&lt;/span&gt;:
      &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Existing faker field, new data&lt;/span&gt;
      &lt;span class="pl-ent"&gt;first_name&lt;/span&gt;:
        - &lt;span class="pl-s"&gt;Charlotte&lt;/span&gt;
        - &lt;span class="pl-s"&gt;Ava&lt;/span&gt;
        - &lt;span class="pl-s"&gt;Chloe&lt;/span&gt;
        - &lt;span class="pl-s"&gt;Emily&lt;/span&gt;

      &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; New faker fields&lt;/span&gt;
      &lt;span class="pl-ent"&gt;ocker_first_name&lt;/span&gt;:
        - &lt;span class="pl-s"&gt;Bazza&lt;/span&gt;
        - &lt;span class="pl-s"&gt;Bluey&lt;/span&gt;
        - &lt;span class="pl-s"&gt;Davo&lt;/span&gt;
        - &lt;span class="pl-s"&gt;Johno&lt;/span&gt;
        - &lt;span class="pl-s"&gt;Shano&lt;/span&gt;
        - &lt;span class="pl-s"&gt;Shazza&lt;/span&gt;
      &lt;span class="pl-ent"&gt;region&lt;/span&gt;:
        - &lt;span class="pl-s"&gt;South East Queensland&lt;/span&gt;
        - &lt;span class="pl-s"&gt;Wide Bay Burnett&lt;/span&gt;
        - &lt;span class="pl-s"&gt;Margaret River&lt;/span&gt;
        - &lt;span class="pl-s"&gt;Port Pirie&lt;/span&gt;
        - &lt;span class="pl-s"&gt;Gippsland&lt;/span&gt;
        - &lt;span class="pl-s"&gt;Elizabeth&lt;/span&gt;
        - &lt;span class="pl-s"&gt;Barossa&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing&lt;/h2&gt;
&lt;p&gt;See &lt;a href="https://github.com/stympy/faker/blob/master/CONTRIBUTING.md"&gt;CONTRIBUTING.md&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-contact" class="anchor" aria-hidden="true" href="#contact"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contact&lt;/h2&gt;
&lt;p&gt;Comments and feedback are welcome. Send an email to Benjamin Curtis via the &lt;a href="http://groups.google.com/group/ruby-faker" rel="nofollow"&gt;google group&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;You can also join our &lt;a href="https://discord.gg/RMumTwB" rel="nofollow"&gt;discord channel&lt;/a&gt; to discuss anything regarding improvements or feature requests.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;This code is free to use under the terms of the MIT license.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>faker-ruby</author><guid isPermaLink="false">https://github.com/faker-ruby/faker</guid><pubDate>Mon, 10 Feb 2020 00:01:00 GMT</pubDate></item><item><title>elastic/logstash #2 in Ruby, This week</title><link>https://github.com/elastic/logstash</link><description>&lt;p&gt;&lt;i&gt;Logstash - transport and process your logs, events, or other data&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-logstash" class="anchor" aria-hidden="true" href="#logstash"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Logstash&lt;/h1&gt;
&lt;p&gt;Logstash is part of the &lt;a href="https://www.elastic.co/products" rel="nofollow"&gt;Elastic Stack&lt;/a&gt; along with Beats, Elasticsearch and Kibana. Logstash is a server-side data processing pipeline that ingests data from a multitude of sources simultaneously, transforms it, and then sends it to your favorite "stash." (Ours is Elasticsearch, naturally.). Logstash has over 200 plugins, and you can write your own very easily as well.&lt;/p&gt;
&lt;p&gt;For more info, see &lt;a href="https://www.elastic.co/products/logstash" rel="nofollow"&gt;https://www.elastic.co/products/logstash&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-documentation-and-getting-started" class="anchor" aria-hidden="true" href="#documentation-and-getting-started"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Documentation and Getting Started&lt;/h2&gt;
&lt;p&gt;You can find the documentation and getting started guides for Logstash
on the &lt;a href="https://www.elastic.co/guide/en/logstash/current/getting-started-with-logstash.html" rel="nofollow"&gt;elastic.co site&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;For information about building the documentation, see the README in &lt;a href="https://github.com/elastic/docs"&gt;https://github.com/elastic/docs&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-downloads" class="anchor" aria-hidden="true" href="#downloads"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Downloads&lt;/h2&gt;
&lt;p&gt;You can download officially released Logstash binaries, as well as debian/rpm packages for the
supported platforms, from &lt;a href="https://www.elastic.co/downloads/logstash" rel="nofollow"&gt;downloads page&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-snapshot-builds" class="anchor" aria-hidden="true" href="#snapshot-builds"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Snapshot Builds&lt;/h3&gt;
&lt;p&gt;For the daring, snapshot builds are available.
These builds are created nightly and have undergone no formal QA, so they should &lt;strong&gt;never&lt;/strong&gt; be run in production.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Complete, with X-Pack&lt;/th&gt;
&lt;th&gt;Apache 2.0 licensed&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="https://snapshots.elastic.co/downloads/logstash/logstash-8.0.0-SNAPSHOT.tar.gz" rel="nofollow"&gt;tar-complete&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://snapshots.elastic.co/downloads/logstash/logstash-oss-8.0.0-SNAPSHOT.tar.gz" rel="nofollow"&gt;tar-oss&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="https://snapshots.elastic.co/downloads/logstash/logstash-8.0.0-SNAPSHOT.zip" rel="nofollow"&gt;zip-complete&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://snapshots.elastic.co/downloads/logstash/logstash-oss-8.0.0-SNAPSHOT.zip" rel="nofollow"&gt;zip-oss&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="https://snapshots.elastic.co/downloads/logstash/logstash-8.0.0-SNAPSHOT.deb" rel="nofollow"&gt;deb-complete&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://snapshots.elastic.co/downloads/logstash/logstash-oss-8.0.0-SNAPSHOT.deb" rel="nofollow"&gt;deb-oss&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="https://snapshots.elastic.co/downloads/logstash/logstash-8.0.0-SNAPSHOT.rpm" rel="nofollow"&gt;rpm-complete&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="https://snapshots.elastic.co/downloads/logstash/logstash-oss-8.0.0-SNAPSHOT.rpm" rel="nofollow"&gt;rpm-oss&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-need-help" class="anchor" aria-hidden="true" href="#need-help"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Need Help?&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://discuss.elastic.co/c/logstash" rel="nofollow"&gt;Logstash Forum&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.elastic.co/guide/en/logstash/current/index.html" rel="nofollow"&gt;Logstash Documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://webchat.freenode.net/?channels=logstash" rel="nofollow"&gt;#logstash on freenode IRC&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.elastic.co/products/logstash" rel="nofollow"&gt;Logstash Product Information&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.elastic.co/subscriptions" rel="nofollow"&gt;Elastic Support&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-logstash-plugins" class="anchor" aria-hidden="true" href="#logstash-plugins"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Logstash Plugins&lt;/h2&gt;
&lt;p&gt;Logstash plugins are hosted in separate repositories under the &lt;a href="https://github.com/logstash-plugins"&gt;logstash-plugins&lt;/a&gt; github organization. Each plugin is a self-contained Ruby gem which gets published to RubyGems.org.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-writing-your-own-plugin" class="anchor" aria-hidden="true" href="#writing-your-own-plugin"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Writing your own Plugin&lt;/h3&gt;
&lt;p&gt;Logstash is known for its extensibility. There are hundreds of plugins for Logstash and you can write your own very easily! For more info on developing and testing these plugins, please see the &lt;a href="https://www.elastic.co/guide/en/logstash/current/contributing-to-logstash.html" rel="nofollow"&gt;working with plugins section&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-plugin-issues-and-pull-requests" class="anchor" aria-hidden="true" href="#plugin-issues-and-pull-requests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Plugin Issues and Pull Requests&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Please open new issues and pull requests for plugins under its own repository&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;For example, if you have to report an issue/enhancement for the Elasticsearch output, please do so &lt;a href="https://github.com/logstash-plugins/logstash-output-elasticsearch/issues"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Logstash core will continue to exist under this repository and all related issues and pull requests can be submitted here.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-developing-logstash-core" class="anchor" aria-hidden="true" href="#developing-logstash-core"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Developing Logstash Core&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-prerequisites" class="anchor" aria-hidden="true" href="#prerequisites"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Prerequisites&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Install JDK version 8 or 11. Make sure to set the &lt;code&gt;JAVA_HOME&lt;/code&gt; environment variable to the path to your JDK installation directory. For example &lt;code&gt;set JAVA_HOME=&amp;lt;JDK_PATH&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Install JRuby 9.2.x It is recommended to use a Ruby version manager such as &lt;a href="https://rvm.io/" rel="nofollow"&gt;RVM&lt;/a&gt; or &lt;a href="https://github.com/sstephenson/rbenv"&gt;rbenv&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Install &lt;code&gt;rake&lt;/code&gt; and &lt;code&gt;bundler&lt;/code&gt; tool using &lt;code&gt;gem install rake&lt;/code&gt; and &lt;code&gt;gem install bundler&lt;/code&gt; respectively.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-rvm-install-optional" class="anchor" aria-hidden="true" href="#rvm-install-optional"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;RVM install (optional)&lt;/h3&gt;
&lt;p&gt;If you prefer to use rvm (ruby version manager) to manage Ruby versions on your machine, follow these directions. In the Logstash folder:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;gpg --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3
&lt;span class="pl-cce"&gt;\c&lt;/span&gt;url -sSL https://get.rvm.io &lt;span class="pl-k"&gt;|&lt;/span&gt; bash -s stable --ruby=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;$(&lt;/span&gt;cat .ruby-version&lt;span class="pl-pds"&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-check-ruby-version" class="anchor" aria-hidden="true" href="#check-ruby-version"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Check Ruby version&lt;/h3&gt;
&lt;p&gt;Before you proceed, please check your ruby version by:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ ruby -v&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The printed version should be the same as in the &lt;code&gt;.ruby-version&lt;/code&gt; file.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-building-logstash" class="anchor" aria-hidden="true" href="#building-logstash"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Building Logstash&lt;/h3&gt;
&lt;p&gt;The Logstash project includes the source code for all of Logstash, including the Elastic-Licensed X-Pack features and functions; to run Logstash from source using only the OSS-licensed code, export the &lt;code&gt;OSS&lt;/code&gt; environment variable with a value of &lt;code&gt;true&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;export&lt;/span&gt; OSS=true&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;To run Logstash from the repo you must first bootstrap the environment:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;rake bootstrap&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;You can then use &lt;code&gt;bin/logstash&lt;/code&gt; to start Logstash, but there are no plugins installed. To install default plugins, you can run:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;rake plugin:install-default&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This will install the 80+ default plugins which makes Logstash ready to connect to multiple data sources, perform transformations and send the results to Elasticsearch and other destinations.&lt;/p&gt;
&lt;p&gt;To verify your environment, run the following to send your first event:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;bin/logstash -e &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;input { stdin { } } output { stdout {} }&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This should start Logstash with stdin input waiting for you to enter an event&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;hello world
2016-11-11T01:22:14.405+0000 0.0.0.0 hello world&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Advanced: Drip Launcher&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/ninjudd/drip"&gt;Drip&lt;/a&gt; is a tool that solves the slow JVM startup problem while developing Logstash. The drip script is intended to be a drop-in replacement for the java command. We recommend using drip during development, in particular for running tests. Using drip, the first invocation of a command will not be faster but the subsequent commands will be swift.&lt;/p&gt;
&lt;p&gt;To tell logstash to use drip, set the environment variable &lt;code&gt;JAVACMD=`which drip`&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Example (but see the &lt;em&gt;Testing&lt;/em&gt; section below before running rspec for the first time):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;JAVACMD=`which drip` bin/rspec
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Caveats&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Drip does not work with STDIN. You cannot use drip for running configs which use the stdin plugin.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-building-logstash-documentation" class="anchor" aria-hidden="true" href="#building-logstash-documentation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Building Logstash Documentation&lt;/h2&gt;
&lt;p&gt;To build the Logstash Reference (open source content only) on your local
machine, clone the following repos:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/elastic/logstash"&gt;logstash&lt;/a&gt; - contains main docs about core features&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/elastic/logstash-docs"&gt;logstash-docs&lt;/a&gt; - contains generated plugin docs&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/elastic/docs"&gt;docs&lt;/a&gt; - contains doc build files&lt;/p&gt;
&lt;p&gt;Make sure you have the same branch checked out in &lt;code&gt;logstash&lt;/code&gt; and &lt;code&gt;logstash-docs&lt;/code&gt;.
Check out &lt;code&gt;master&lt;/code&gt; in the &lt;code&gt;docs&lt;/code&gt; repo.&lt;/p&gt;
&lt;p&gt;Run the doc build script from within the &lt;code&gt;docs&lt;/code&gt; repo. For example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;./build_docs.pl --doc ../logstash/docs/index.asciidoc --chunk=1 -open
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-testing" class="anchor" aria-hidden="true" href="#testing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Testing&lt;/h2&gt;
&lt;p&gt;Most of the unit tests in Logstash are written using &lt;a href="http://rspec.info/" rel="nofollow"&gt;rspec&lt;/a&gt; for the Ruby parts. For the Java parts, we use junit. For testing you can use the &lt;em&gt;test&lt;/em&gt; &lt;code&gt;rake&lt;/code&gt; tasks and the &lt;code&gt;bin/rspec&lt;/code&gt; command, see instructions below:&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-core-tests" class="anchor" aria-hidden="true" href="#core-tests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Core tests&lt;/h3&gt;
&lt;p&gt;1- To run the core tests you can use the Gradle task:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;./gradlew test
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or use the &lt;code&gt;rspec&lt;/code&gt; tool to run all tests or run a specific test:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;bin/rspec
bin/rspec spec/foo/bar_spec.rb
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that before running the &lt;code&gt;rspec&lt;/code&gt; command for the first time you need to set up the RSpec test dependencies by running:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;./gradlew bootstrap
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2- To run the subset of tests covering the Java codebase only run:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;./gradlew javaTests
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3- To execute the complete test-suite including the integration tests run:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;./gradlew check
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;4- To execute a single Ruby test run:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;SPEC_OPTS="-fd -P logstash-core/spec/logstash/api/commands/default_metadata_spec.rb" ./gradlew :logstash-core:rubyTests --tests org.logstash.RSpecTests    
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;5- To execute single spec for integration test, run:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;./gradlew integrationTests -PrubyIntegrationSpecs=specs/slowlog_spec.rb
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Sometimes you might find a change to a piece of Logstash code causes a test to hang. These can be hard to debug.&lt;/p&gt;
&lt;p&gt;If you set &lt;code&gt;LS_JAVA_OPTS="-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005"&lt;/code&gt; you can connect to a running Logstash with your IDEs debugger which can be a great way of finding the issue.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-plugins-tests" class="anchor" aria-hidden="true" href="#plugins-tests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Plugins tests&lt;/h3&gt;
&lt;p&gt;To run the tests of all currently installed plugins:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;rake test:plugin
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can install the default set of plugins included in the logstash package:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;rake test:install-default
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;p&gt;Note that if a plugin is installed using the plugin manager &lt;code&gt;bin/logstash-plugin install ...&lt;/code&gt; do not forget to also install the plugins development dependencies using the following command after the plugin installation:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;bin/logstash-plugin install --development
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-building-artifacts" class="anchor" aria-hidden="true" href="#building-artifacts"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Building Artifacts&lt;/h2&gt;
&lt;p&gt;Built artifacts will be placed in the &lt;code&gt;LS_HOME/build&lt;/code&gt; directory, and will create the directory if it is not already present.&lt;/p&gt;
&lt;p&gt;You can build a Logstash snapshot package as tarball or zip file&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;./gradlew assembleTarDistribution
./gradlew assembleZipDistribution&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;OSS-only artifacts can similarly be built with their own gradle tasks:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;./gradlew assembleOssTarDistribution
./gradlew assembleOssZipDistribution
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can also build .rpm and .deb, but the &lt;a href="https://github.com/jordansissel/fpm"&gt;fpm&lt;/a&gt; tool is required.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;rake artifact:rpm
rake artifact:deb&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;rake artifact:rpm_oss
rake artifact:deb_oss&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-using-a-custom-jruby-distribution" class="anchor" aria-hidden="true" href="#using-a-custom-jruby-distribution"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using a Custom JRuby Distribution&lt;/h2&gt;
&lt;p&gt;If you want the build to use a custom JRuby you can do so by setting a path to a custom
JRuby distribution's source root via the &lt;code&gt;custom.jruby.path&lt;/code&gt; Gradle property.&lt;/p&gt;
&lt;p&gt;E.g.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;./gradlew clean &lt;span class="pl-c1"&gt;test&lt;/span&gt; -Pcustom.jruby.path=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/path/to/jruby&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-project-principles" class="anchor" aria-hidden="true" href="#project-principles"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Project Principles&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Community: If a newbie has a bad time, it's a bug.&lt;/li&gt;
&lt;li&gt;Software: Make it work, then make it right, then make it fast.&lt;/li&gt;
&lt;li&gt;Technology: If it doesn't do a thing today, we can make it do it tomorrow.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing&lt;/h2&gt;
&lt;p&gt;All contributions are welcome: ideas, patches, documentation, bug reports,
complaints, and even something you drew up on a napkin.&lt;/p&gt;
&lt;p&gt;Programming is not a required skill. Whatever you've seen about open source and
maintainers or community members  saying "send patches or die" - you will not
see that here.&lt;/p&gt;
&lt;p&gt;It is more important to me that you are able to contribute.&lt;/p&gt;
&lt;p&gt;For more information about contributing, see the
&lt;a href="./CONTRIBUTING.md"&gt;CONTRIBUTING&lt;/a&gt; file.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>elastic</author><guid isPermaLink="false">https://github.com/elastic/logstash</guid><pubDate>Mon, 10 Feb 2020 00:02:00 GMT</pubDate></item><item><title>rails/rails #3 in Ruby, This week</title><link>https://github.com/rails/rails</link><description>&lt;p&gt;&lt;i&gt;Ruby on Rails&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-welcome-to-rails" class="anchor" aria-hidden="true" href="#welcome-to-rails"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Welcome to Rails&lt;/h1&gt;
&lt;h2&gt;&lt;a id="user-content-whats-rails" class="anchor" aria-hidden="true" href="#whats-rails"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What's Rails?&lt;/h2&gt;
&lt;p&gt;Rails is a web-application framework that includes everything needed to
create database-backed web applications according to the
&lt;a href="https://en.wikipedia.org/wiki/Model-view-controller" rel="nofollow"&gt;Model-View-Controller (MVC)&lt;/a&gt;
pattern.&lt;/p&gt;
&lt;p&gt;Understanding the MVC pattern is key to understanding Rails. MVC divides your
application into three layers: Model, View, and Controller, each with a specific responsibility.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-model-layer" class="anchor" aria-hidden="true" href="#model-layer"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Model layer&lt;/h2&gt;
&lt;p&gt;The &lt;em&gt;&lt;strong&gt;Model layer&lt;/strong&gt;&lt;/em&gt; represents the domain model (such as Account, Product,
Person, Post, etc.) and encapsulates the business logic specific to
your application. In Rails, database-backed model classes are derived from
&lt;code&gt;ActiveRecord::Base&lt;/code&gt;. &lt;a href="activerecord/README.rdoc"&gt;Active Record&lt;/a&gt; allows you to present the data from
database rows as objects and embellish these data objects with business logic
methods.
Although most Rails models are backed by a database, models can also be ordinary
Ruby classes, or Ruby classes that implement a set of interfaces as provided by
the &lt;a href="activemodel/README.rdoc"&gt;Active Model&lt;/a&gt; module.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-controller-layer" class="anchor" aria-hidden="true" href="#controller-layer"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Controller layer&lt;/h2&gt;
&lt;p&gt;The &lt;em&gt;&lt;strong&gt;Controller layer&lt;/strong&gt;&lt;/em&gt; is responsible for handling incoming HTTP requests and
providing a suitable response. Usually, this means returning HTML, but Rails controllers
can also generate XML, JSON, PDFs, mobile-specific views, and more. Controllers load and
manipulate models, and render view templates in order to generate the appropriate HTTP response.
In Rails, incoming requests are routed by Action Dispatch to an appropriate controller, and
controller classes are derived from &lt;code&gt;ActionController::Base&lt;/code&gt;. Action Dispatch and Action Controller
are bundled together in &lt;a href="actionpack/README.rdoc"&gt;Action Pack&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-view-layer" class="anchor" aria-hidden="true" href="#view-layer"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;View layer&lt;/h2&gt;
&lt;p&gt;The &lt;em&gt;&lt;strong&gt;View layer&lt;/strong&gt;&lt;/em&gt; is composed of "templates" that are responsible for providing
appropriate representations of your application's resources. Templates can
come in a variety of formats, but most view templates are HTML with embedded
Ruby code (ERB files). Views are typically rendered to generate a controller response
or to generate the body of an email. In Rails, View generation is handled by &lt;a href="actionview/README.rdoc"&gt;Action View&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-frameworks-and-libraries" class="anchor" aria-hidden="true" href="#frameworks-and-libraries"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Frameworks and libraries&lt;/h2&gt;
&lt;p&gt;&lt;a href="activerecord/README.rdoc"&gt;Active Record&lt;/a&gt;, &lt;a href="activemodel/README.rdoc"&gt;Active Model&lt;/a&gt;, &lt;a href="actionpack/README.rdoc"&gt;Action Pack&lt;/a&gt;, and &lt;a href="actionview/README.rdoc"&gt;Action View&lt;/a&gt; can each be used independently outside Rails.
In addition to that, Rails also comes with &lt;a href="actionmailer/README.rdoc"&gt;Action Mailer&lt;/a&gt;, a library
to generate and send emails; &lt;a href="actionmailbox/README.md"&gt;Action Mailbox&lt;/a&gt;, a library to receive emails within a Rails application;
&lt;a href="activejob/README.md"&gt;Active Job&lt;/a&gt;, a framework for declaring jobs and making them run on a variety of queuing
backends; &lt;a href="actioncable/README.md"&gt;Action Cable&lt;/a&gt;, a framework to
integrate WebSockets with a Rails application; &lt;a href="activestorage/README.md"&gt;Active Storage&lt;/a&gt;, a library to attach cloud
and local files to Rails applications; &lt;a href="actiontext/README.md"&gt;Action Text&lt;/a&gt;, a library to handle rich text content;
and &lt;a href="activesupport/README.rdoc"&gt;Active Support&lt;/a&gt;, a collection
of utility classes and standard library extensions that are useful for Rails,
and may also be used independently outside Rails.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-getting-started" class="anchor" aria-hidden="true" href="#getting-started"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Getting Started&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Install Rails at the command prompt if you haven't yet:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; $ gem install rails
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;At the command prompt, create a new Rails application:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; $ rails new myapp
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;where "myapp" is the application name.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Change directory to &lt;code&gt;myapp&lt;/code&gt; and start the web server:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; $ cd myapp
 $ bin/rails server
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Run with &lt;code&gt;--help&lt;/code&gt; or &lt;code&gt;-h&lt;/code&gt; for options.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Go to &lt;code&gt;http://localhost:3000&lt;/code&gt; and you'll see:
"Yay! Youre on Rails!"&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Follow the guidelines to start developing your application. You may find
the following resources handy:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://guides.rubyonrails.org/getting_started.html" rel="nofollow"&gt;Getting Started with Rails&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://guides.rubyonrails.org" rel="nofollow"&gt;Ruby on Rails Guides&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://api.rubyonrails.org" rel="nofollow"&gt;The API Documentation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://www.codetriage.com/rails/rails" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/04e058bfae9e9bbed506f71739e106f703bf41bc/68747470733a2f2f7777772e636f64657472696167652e636f6d2f7261696c732f7261696c732f6261646765732f75736572732e737667" alt="Code Triage Badge" data-canonical-src="https://www.codetriage.com/rails/rails/badges/users.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;We encourage you to contribute to Ruby on Rails! Please check out the
&lt;a href="https://edgeguides.rubyonrails.org/contributing_to_ruby_on_rails.html" rel="nofollow"&gt;Contributing to Ruby on Rails guide&lt;/a&gt; for guidelines about how to proceed. &lt;a href="https://contributors.rubyonrails.org" rel="nofollow"&gt;Join us!&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Trying to report a possible security vulnerability in Rails? Please
check out our &lt;a href="https://rubyonrails.org/security/" rel="nofollow"&gt;security policy&lt;/a&gt; for
guidelines about how to proceed.&lt;/p&gt;
&lt;p&gt;Everyone interacting in Rails and its sub-projects' codebases, issue trackers, chat rooms, and mailing lists is expected to follow the Rails &lt;a href="https://rubyonrails.org/conduct/" rel="nofollow"&gt;code of conduct&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-code-status" class="anchor" aria-hidden="true" href="#code-status"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Code Status&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://buildkite.com/rails/rails" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/3bf8e396f8d45a3ead95ff55e0ca1f1c14040211/68747470733a2f2f62616467652e6275696c646b6974652e636f6d2f61623131353262366131663661363164336561346563356233656563653864346332623833303939383435396337353335322e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://badge.buildkite.com/ab1152b6a1f6a61d3ea4ec5b3eece8d4c2b830998459c75352.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;Ruby on Rails is released under the &lt;a href="https://opensource.org/licenses/MIT" rel="nofollow"&gt;MIT License&lt;/a&gt;.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>rails</author><guid isPermaLink="false">https://github.com/rails/rails</guid><pubDate>Mon, 10 Feb 2020 00:03:00 GMT</pubDate></item><item><title>rmosolgo/graphql-ruby #4 in Ruby, This week</title><link>https://github.com/rmosolgo/graphql-ruby</link><description>&lt;p&gt;&lt;i&gt;Ruby implementation of GraphQL &lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="readme.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-graphql-" class="anchor" aria-hidden="true" href="#graphql-"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;graphql &lt;a target="_blank" rel="noopener noreferrer" href="https://cloud.githubusercontent.com/assets/2231765/9094460/cb43861e-3b66-11e5-9fbf-71066ff3ab13.png"&gt;&lt;img src="https://cloud.githubusercontent.com/assets/2231765/9094460/cb43861e-3b66-11e5-9fbf-71066ff3ab13.png" height="40" alt="graphql-ruby" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://travis-ci.org/rmosolgo/graphql-ruby" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/eb1ea9de69fe7d5cc1dedd9f77846b4e2c305b57/68747470733a2f2f7472617669732d63692e6f72672f726d6f736f6c676f2f6772617068716c2d727562792e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/rmosolgo/graphql-ruby.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://rubygems.org/gems/graphql" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/925ec4c3cf2e3fafc09da65c74ab7e33ea353e40/68747470733a2f2f62616467652e667572792e696f2f72622f6772617068716c2e737667" alt="Gem Version" data-canonical-src="https://badge.fury.io/rb/graphql.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://codeclimate.com/github/rmosolgo/graphql-ruby" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/5a223b732abd56e5774577cffdab0152e4f708ad/68747470733a2f2f636f6465636c696d6174652e636f6d2f6769746875622f726d6f736f6c676f2f6772617068716c2d727562792f6261646765732f6770612e737667" alt="Code Climate" data-canonical-src="https://codeclimate.com/github/rmosolgo/graphql-ruby/badges/gpa.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://codeclimate.com/github/rmosolgo/graphql-ruby" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/e4570a754c0ec61520463a796f9f319a8f3a1251/68747470733a2f2f636f6465636c696d6174652e636f6d2f6769746875622f726d6f736f6c676f2f6772617068716c2d727562792f6261646765732f636f7665726167652e737667" alt="Test Coverage" data-canonical-src="https://codeclimate.com/github/rmosolgo/graphql-ruby/badges/coverage.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://rmosolgo.github.io/react-badges/" rel="nofollow"&gt;&lt;img src="https://cloud.githubusercontent.com/assets/2231765/6766607/d07992c6-cfc9-11e4-813f-d9240714dd50.png" alt="built with love" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A Ruby implementation of &lt;a href="https://graphql.org/" rel="nofollow"&gt;GraphQL&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://graphql-ruby.org/" rel="nofollow"&gt;Website&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.rubydoc.info/gems/graphql" rel="nofollow"&gt;API Documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://tinyletter.com/graphql-ruby" rel="nofollow"&gt;Newsletter&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation&lt;/h2&gt;
&lt;p&gt;Install from RubyGems by adding it to your &lt;code&gt;Gemfile&lt;/code&gt;, then bundling.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Gemfile&lt;/span&gt;
gem &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;graphql&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;pre&gt;&lt;code&gt;$ bundle install
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-getting-started" class="anchor" aria-hidden="true" href="#getting-started"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Getting Started&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;$ rails generate graphql:install
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;After this, you may need to run &lt;code&gt;bundle install&lt;/code&gt; again, as by default graphiql-rails is added on installation.&lt;/p&gt;
&lt;p&gt;Or, see &lt;a href="https://graphql-ruby.org/getting_started.html" rel="nofollow"&gt;"Getting Started"&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-upgrade" class="anchor" aria-hidden="true" href="#upgrade"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Upgrade&lt;/h2&gt;
&lt;p&gt;I also sell &lt;a href="https://graphql.pro" rel="nofollow"&gt;GraphQL::Pro&lt;/a&gt; which provides several features on top of the GraphQL runtime, including &lt;a href="https://graphql-ruby.org/authorization/pundit_integration" rel="nofollow"&gt;Pundit authorization&lt;/a&gt;, &lt;a href="https://graphql-ruby.org/authorization/can_can_integration" rel="nofollow"&gt;CanCan authorization&lt;/a&gt;, &lt;a href="https://graphql-ruby.org/subscriptions/pusher_implementation" rel="nofollow"&gt;Pusher-based subscriptions&lt;/a&gt; and &lt;a href="https://graphql-ruby.org/operation_store/overview" rel="nofollow"&gt;persisted queries&lt;/a&gt;. Besides that, Pro customers get email support and an opportunity to support graphql-ruby's development!&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-goals" class="anchor" aria-hidden="true" href="#goals"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Goals&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Implement the GraphQL spec &amp;amp; support a Relay front end&lt;/li&gt;
&lt;li&gt;Provide idiomatic, plain-Ruby API with similarities to reference implementation where possible&lt;/li&gt;
&lt;li&gt;Support Ruby on Rails and Relay&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-getting-involved" class="anchor" aria-hidden="true" href="#getting-involved"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Getting Involved&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Say hi &amp;amp; ask questions&lt;/strong&gt; in the &lt;a href="https://graphql-slack.herokuapp.com/" rel="nofollow"&gt;#ruby channel on Slack&lt;/a&gt; or &lt;a href="https://twitter.com/rmosolgo" rel="nofollow"&gt;on Twitter&lt;/a&gt;!&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Report bugs&lt;/strong&gt; by posting a description, full stack trace, and all relevant code in a  &lt;a href="https://github.com/rmosolgo/graphql-ruby/issues"&gt;GitHub issue&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Start hacking&lt;/strong&gt; with the &lt;a href="https://graphql-ruby.org/development" rel="nofollow"&gt;Development guide&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>rmosolgo</author><guid isPermaLink="false">https://github.com/rmosolgo/graphql-ruby</guid><pubDate>Mon, 10 Feb 2020 00:04:00 GMT</pubDate></item><item><title>puma/puma #5 in Ruby, This week</title><link>https://github.com/puma/puma</link><description>&lt;p&gt;&lt;i&gt;A Ruby/Rack web server built for concurrency&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;p align="center"&gt;
  &lt;a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/bc94b04f918825fa84251684ee121408da04bb85/68747470733a2f2f70756d612e696f2f696d616765732f6c6f676f732f70756d612d6c6f676f2d6c617267652e706e67"&gt;&lt;img src="https://camo.githubusercontent.com/bc94b04f918825fa84251684ee121408da04bb85/68747470733a2f2f70756d612e696f2f696d616765732f6c6f676f732f70756d612d6c6f676f2d6c617267652e706e67" data-canonical-src="https://puma.io/images/logos/puma-logo-large.png" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-puma-a-ruby-web-server-built-for-concurrency" class="anchor" aria-hidden="true" href="#puma-a-ruby-web-server-built-for-concurrency"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Puma: A Ruby Web Server Built For Concurrency&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://gitter.im/puma/puma?utm_source=badge&amp;amp;utm_medium=badge&amp;amp;utm_campaign=pr-badge" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667" alt="Gitter" data-canonical-src="https://badges.gitter.im/Join%20Chat.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://github.com/puma/puma/actions"&gt;&lt;img src="https://github.com/puma/puma/workflows/Puma/badge.svg" alt="Actions Build Status" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://travis-ci.org/puma/puma" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/b3c6349d5ccbd3ef7cbbf284ef17547e1b6d1312/68747470733a2f2f7472617669732d63692e6f72672f70756d612f70756d612e7376673f6272616e63683d6d6173746572" alt="Travis Build Status" data-canonical-src="https://travis-ci.org/puma/puma.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://codeclimate.com/github/puma/puma" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/1dbd721ff9142a7c6f17350c813b6d691acc0964/68747470733a2f2f636f6465636c696d6174652e636f6d2f6769746875622f70756d612f70756d612e737667" alt="Code Climate" data-canonical-src="https://codeclimate.com/github/puma/puma.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://dependabot.com/compatibility-score.html?dependency-name=puma&amp;amp;package-manager=bundler&amp;amp;version-scheme=semver" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/fe1ccce9d1cdb3a06997b35e3cc5673490c1cbd9/68747470733a2f2f6170692e646570656e6461626f742e636f6d2f6261646765732f636f6d7061746962696c6974795f73636f72653f646570656e64656e63792d6e616d653d70756d61267061636b6167652d6d616e616765723d62756e646c65722676657273696f6e2d736368656d653d73656d766572" alt="SemVer" data-canonical-src="https://api.dependabot.com/badges/compatibility_score?dependency-name=puma&amp;amp;package-manager=bundler&amp;amp;version-scheme=semver" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Puma is a &lt;strong&gt;simple, fast, multi-threaded, and highly concurrent HTTP 1.1 server for Ruby/Rack applications&lt;/strong&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-built-for-speed--concurrency" class="anchor" aria-hidden="true" href="#built-for-speed--concurrency"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Built For Speed &amp;amp; Concurrency&lt;/h2&gt;
&lt;p&gt;Puma processes requests using a C-optimized Ragel extension (inherited from Mongrel) that provides fast, accurate HTTP 1.1 protocol parsing in a portable way. Puma then serves the request using a thread pool. Each request is served in a separate thread, so truly concurrent Ruby implementations (JRuby, Rubinius) will use all available CPU cores.&lt;/p&gt;
&lt;p&gt;Puma was designed to be the go-to server for &lt;a href="https://rubinius.com" rel="nofollow"&gt;Rubinius&lt;/a&gt;, but also works well with JRuby and MRI.&lt;/p&gt;
&lt;p&gt;On MRI, there is a Global VM Lock (GVL) that ensures only one thread can run Ruby code at a time. But if you're doing a lot of blocking IO (such as HTTP calls to external APIs like Twitter), Puma still improves MRI's throughput by allowing IO waiting to be done in parallel.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-quick-start" class="anchor" aria-hidden="true" href="#quick-start"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;$ gem install puma
$ puma
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Without arguments, puma will look for a rackup (.ru) file in the current working directory called &lt;code&gt;config.ru&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-frameworks" class="anchor" aria-hidden="true" href="#frameworks"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Frameworks&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-rails" class="anchor" aria-hidden="true" href="#rails"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Rails&lt;/h3&gt;
&lt;p&gt;Puma is the default server for Rails, included in the generated Gemfile.&lt;/p&gt;
&lt;p&gt;Start your server with the &lt;code&gt;rails&lt;/code&gt; command:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ rails server
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Many configuration options and Puma features are not available when using &lt;code&gt;rails server&lt;/code&gt;. It is recommended that you use Puma's executable instead:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ bundle exec puma
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-sinatra" class="anchor" aria-hidden="true" href="#sinatra"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Sinatra&lt;/h3&gt;
&lt;p&gt;You can run your Sinatra application with Puma from the command line like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ ruby app.rb -s Puma
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Or you can configure your Sinatra application to always use Puma:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;sinatra&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
configure { set &lt;span class="pl-c1"&gt;:server&lt;/span&gt;, &lt;span class="pl-c1"&gt;:puma&lt;/span&gt; }&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-configuration" class="anchor" aria-hidden="true" href="#configuration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Configuration&lt;/h2&gt;
&lt;p&gt;Puma provides numerous options. Consult &lt;code&gt;puma -h&lt;/code&gt; (or &lt;code&gt;puma --help&lt;/code&gt;) for a full list of CLI options, or see &lt;a href="https://github.com/puma/puma/blob/master/lib/puma/dsl.rb"&gt;dsl.rb&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;You can also find several configuration examples as part of the
&lt;a href="https://github.com/puma/puma/tree/master/test/config"&gt;test&lt;/a&gt; suite.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-thread-pool" class="anchor" aria-hidden="true" href="#thread-pool"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Thread Pool&lt;/h3&gt;
&lt;p&gt;Puma uses a thread pool. You can set the minimum and maximum number of threads that are available in the pool with the &lt;code&gt;-t&lt;/code&gt; (or &lt;code&gt;--threads&lt;/code&gt;) flag:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ puma -t 8:32
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Puma will automatically scale the number of threads, from the minimum until it caps out at the maximum, based on how much traffic is present. The current default is &lt;code&gt;0:16&lt;/code&gt;. Feel free to experiment, but be careful not to set the number of maximum threads to a large number, as you may exhaust resources on the system (or cause contention for the Global VM Lock, when using MRI).&lt;/p&gt;
&lt;p&gt;Be aware that additionally Puma creates threads on its own for internal purposes (e.g. handling slow clients). So, even if you specify -t 1:1, expect around 7 threads created in your application.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-clustered-mode" class="anchor" aria-hidden="true" href="#clustered-mode"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Clustered mode&lt;/h3&gt;
&lt;p&gt;Puma also offers "clustered mode". Clustered mode &lt;code&gt;fork&lt;/code&gt;s workers from a master process. Each child process still has its own thread pool. You can tune the number of workers with the &lt;code&gt;-w&lt;/code&gt; (or &lt;code&gt;--workers&lt;/code&gt;) flag:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ puma -t 8:32 -w 3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that threads are still used in clustered mode, and the &lt;code&gt;-t&lt;/code&gt; thread flag setting is per worker, so &lt;code&gt;-w 2 -t 16:16&lt;/code&gt; will spawn 32 threads in total, with 16 in each worker process.&lt;/p&gt;
&lt;p&gt;In clustered mode, Puma can "preload" your application. This loads all the application code &lt;em&gt;prior&lt;/em&gt; to forking. Preloading reduces total memory usage of your application via an operating system feature called &lt;a href="https://en.wikipedia.org/wiki/Copy-on-write" rel="nofollow"&gt;copy-on-write&lt;/a&gt; (Ruby 2.0+ only). Use the &lt;code&gt;--preload&lt;/code&gt; flag from the command line:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ puma -w 3 --preload
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you're using a configuration file, use the &lt;code&gt;preload_app!&lt;/code&gt; method:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; config/puma.rb&lt;/span&gt;
workers &lt;span class="pl-c1"&gt;3&lt;/span&gt;
preload_app!&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Additionally, you can specify a block in your configuration file that will be run on boot of each worker:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; config/puma.rb&lt;/span&gt;
on_worker_boot &lt;span class="pl-k"&gt;do&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; configuration here&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This code can be used to setup the process before booting the application, allowing
you to do some Puma-specific things that you don't want to embed in your application.
For instance, you could fire a log notification that a worker booted or send something to statsd. This can be called multiple times.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;before_fork&lt;/code&gt; specifies a block to be run before workers are forked:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; config/puma.rb&lt;/span&gt;
before_fork &lt;span class="pl-k"&gt;do&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; configuration here&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Preloading cant be used with phased restart, since phased restart kills and restarts workers one-by-one, and preload_app copies the code of master into the workers.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-error-handling" class="anchor" aria-hidden="true" href="#error-handling"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Error handling&lt;/h3&gt;
&lt;p&gt;If puma encounters an error outside of the context of your application, it will respond with a 500 and a simple
textual error message (see &lt;code&gt;lowlevel_error&lt;/code&gt; in &lt;a href="https://github.com/puma/puma/blob/master/lib/puma/server.rb"&gt;this file&lt;/a&gt;).
You can specify custom behavior for this scenario. For example, you can report the error to your third-party
error-tracking service (in this example, &lt;a href="http://rollbar.com" rel="nofollow"&gt;rollbar&lt;/a&gt;):&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;lowlevel_error_handler &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;e&lt;/span&gt;|
  &lt;span class="pl-c1"&gt;Rollbar&lt;/span&gt;.critical(e)
  [&lt;span class="pl-c1"&gt;500&lt;/span&gt;, {}, [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;An error has occurred, and engineers have been informed. Please reload the page. If you continue to have problems, contact support@example.com&lt;span class="pl-cce"&gt;\n&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;]]
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-binding-tcp--sockets" class="anchor" aria-hidden="true" href="#binding-tcp--sockets"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Binding TCP / Sockets&lt;/h3&gt;
&lt;p&gt;Bind Puma to a socket with the &lt;code&gt;-b&lt;/code&gt; (or &lt;code&gt;--bind&lt;/code&gt;) flag:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ puma -b tcp://127.0.0.1:9292
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To use a UNIX Socket instead of TCP:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ puma -b unix:///var/run/puma.sock
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you need to change the permissions of the UNIX socket, just add a umask parameter:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ puma -b 'unix:///var/run/puma.sock?umask=0111'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Need a bit of security? Use SSL sockets:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ puma -b 'ssl://127.0.0.1:9292?key=path_to_key&amp;amp;cert=path_to_cert'
&lt;/code&gt;&lt;/pre&gt;
&lt;h4&gt;&lt;a id="user-content-controlling-ssl-cipher-suites" class="anchor" aria-hidden="true" href="#controlling-ssl-cipher-suites"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Controlling SSL Cipher Suites&lt;/h4&gt;
&lt;p&gt;To use or avoid specific SSL cipher suites, use &lt;code&gt;ssl_cipher_filter&lt;/code&gt; or &lt;code&gt;ssl_cipher_list&lt;/code&gt; options.&lt;/p&gt;
&lt;h5&gt;&lt;a id="user-content-ruby" class="anchor" aria-hidden="true" href="#ruby"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ruby:&lt;/h5&gt;
&lt;pre&gt;&lt;code&gt;$ puma -b 'ssl://127.0.0.1:9292?key=path_to_key&amp;amp;cert=path_to_cert&amp;amp;ssl_cipher_filter=!aNULL:AES+SHA'
&lt;/code&gt;&lt;/pre&gt;
&lt;h5&gt;&lt;a id="user-content-jruby" class="anchor" aria-hidden="true" href="#jruby"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;JRuby:&lt;/h5&gt;
&lt;pre&gt;&lt;code&gt;$ puma -b 'ssl://127.0.0.1:9292?keystore=path_to_keystore&amp;amp;keystore-pass=keystore_password&amp;amp;ssl_cipher_list=TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_256_CBC_SHA'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;See &lt;a href="https://www.openssl.org/docs/man1.0.2/apps/ciphers.html" rel="nofollow"&gt;https://www.openssl.org/docs/man1.0.2/apps/ciphers.html&lt;/a&gt; for cipher filter format and full list of cipher suites.&lt;/p&gt;
&lt;p&gt;Disable TLS v1 with the &lt;code&gt;no_tlsv1&lt;/code&gt; option:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ puma -b 'ssl://127.0.0.1:9292?key=path_to_key&amp;amp;cert=path_to_cert&amp;amp;no_tlsv1=true'
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-controlstatus-server" class="anchor" aria-hidden="true" href="#controlstatus-server"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Control/Status Server&lt;/h3&gt;
&lt;p&gt;Puma has a built-in status and control app that can be used to query and control Puma.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ puma --control-url tcp://127.0.0.1:9293 --control-token foo
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Puma will start the control server on localhost port 9293. All requests to the control server will need to include control token (in this case, &lt;code&gt;token=foo&lt;/code&gt;) as a query parameter. This allows for simple authentication. Check out &lt;a href="https://github.com/puma/puma/blob/master/lib/puma/app/status.rb"&gt;status.rb&lt;/a&gt; to see what the status app has available.&lt;/p&gt;
&lt;p&gt;You can also interact with the control server via &lt;code&gt;pumactl&lt;/code&gt;. This command will restart Puma:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ pumactl --control-url 'tcp://127.0.0.1:9293' --control-token foo restart
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To see a list of &lt;code&gt;pumactl&lt;/code&gt; options, use &lt;code&gt;pumactl --help&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-configuration-file" class="anchor" aria-hidden="true" href="#configuration-file"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Configuration File&lt;/h3&gt;
&lt;p&gt;You can also provide a configuration file with the &lt;code&gt;-C&lt;/code&gt; (or &lt;code&gt;--config&lt;/code&gt;) flag:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ puma -C /path/to/config
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If no configuration file is specified, Puma will look for a configuration file at &lt;code&gt;config/puma.rb&lt;/code&gt;. If an environment is specified, either via the &lt;code&gt;-e&lt;/code&gt; and &lt;code&gt;--environment&lt;/code&gt; flags, or through the &lt;code&gt;RACK_ENV&lt;/code&gt; or the &lt;code&gt;RAILS_ENV&lt;/code&gt; environment variables, Puma looks for configuration at &lt;code&gt;config/puma/&amp;lt;environment_name&amp;gt;.rb&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;If you want to prevent Puma from looking for a configuration file in those locations, provide a dash as the argument to the &lt;code&gt;-C&lt;/code&gt; (or &lt;code&gt;--config&lt;/code&gt;) flag:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ puma -C "-"
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The other side-effects of setting the environment are whether to show stack traces (in &lt;code&gt;development&lt;/code&gt; or &lt;code&gt;test&lt;/code&gt;), and setting RACK_ENV may potentially affect middleware looking for this value to change their behavior. The default puma RACK_ENV value is &lt;code&gt;development&lt;/code&gt;. You can see all config default values &lt;a href="https://github.com/puma/puma/blob/12d1706ddc71b89ed2ee26275e31c788e94ff541/lib/puma/configuration.rb#L170"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Check out &lt;a href="https://github.com/puma/puma/blob/master/lib/puma/dsl.rb"&gt;dsl.rb&lt;/a&gt; to see all available options.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-restart" class="anchor" aria-hidden="true" href="#restart"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Restart&lt;/h2&gt;
&lt;p&gt;Puma includes the ability to restart itself. When available (MRI, Rubinius, JRuby), Puma performs a "hot restart". This is the same functionality available in &lt;em&gt;Unicorn&lt;/em&gt; and &lt;em&gt;NGINX&lt;/em&gt; which keep the server sockets open between restarts. This makes sure that no pending requests are dropped while the restart is taking place.&lt;/p&gt;
&lt;p&gt;For more, see the &lt;a href="https://github.com/puma/puma/blob/master/docs/restart.md"&gt;restart documentation&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-signals" class="anchor" aria-hidden="true" href="#signals"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Signals&lt;/h2&gt;
&lt;p&gt;Puma responds to several signals. A detailed guide to using UNIX signals with Puma can be found in the &lt;a href="https://github.com/puma/puma/blob/master/docs/signals.md"&gt;signals documentation&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-platform-constraints" class="anchor" aria-hidden="true" href="#platform-constraints"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Platform Constraints&lt;/h2&gt;
&lt;p&gt;Some platforms do not support all Puma features.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;JRuby&lt;/strong&gt;, &lt;strong&gt;Windows&lt;/strong&gt;: server sockets are not seamless on restart, they must be closed and reopened. These platforms have no way to pass descriptors into a new process that is exposed to Ruby. Also, cluster mode is not supported due to a lack of fork(2).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Windows&lt;/strong&gt;: Cluster mode is not supported due to a lack of fork(2).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-known-bugs" class="anchor" aria-hidden="true" href="#known-bugs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Known Bugs&lt;/h2&gt;
&lt;p&gt;For MRI versions 2.2.7, 2.2.8, 2.2.9, 2.2.10 2.3.4 and 2.4.1, you may see &lt;code&gt;stream closed in another thread (IOError)&lt;/code&gt;. It may be caused by a &lt;a href="https://bugs.ruby-lang.org/issues/13632" rel="nofollow"&gt;Ruby bug&lt;/a&gt;. It can be fixed with the gem &lt;a href="https://rubygems.org/gems/stopgap_13632" rel="nofollow"&gt;https://rubygems.org/gems/stopgap_13632&lt;/a&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;if&lt;/span&gt; &lt;span class="pl-s"&gt;%w(2.2.7 2.2.8 2.2.9 2.2.10 2.3.4 2.4.1)&lt;/span&gt;.include? &lt;span class="pl-c1"&gt;RUBY_VERSION&lt;/span&gt;
  &lt;span class="pl-k"&gt;begin&lt;/span&gt;
    &lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;stopgap_13632&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;rescue&lt;/span&gt; &lt;span class="pl-c1"&gt;LoadError&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-deployment" class="anchor" aria-hidden="true" href="#deployment"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deployment&lt;/h2&gt;
&lt;p&gt;Puma has support for Capistrano with an &lt;a href="https://github.com/seuros/capistrano-puma"&gt;external gem&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It is common to use process monitors with Puma. Modern process monitors like systemd or upstart
provide continuous monitoring and restarts for increased
reliability in production environments:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/puma/puma/tree/master/tools/jungle"&gt;tools/jungle&lt;/a&gt; for sysvinit (init.d) and upstart&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/puma/puma/blob/master/docs/systemd.md"&gt;docs/systemd&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-community-extensions" class="anchor" aria-hidden="true" href="#community-extensions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Community Extensions&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-plugins" class="anchor" aria-hidden="true" href="#plugins"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Plugins&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/puma/puma-heroku"&gt;puma-heroku&lt;/a&gt; default Puma configuration for running on Heroku&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/harmjanblok/puma-metrics"&gt;puma-metrics&lt;/a&gt; export Puma metrics to Prometheus&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/yob/puma-plugin-statsd"&gt;puma-plugin-statsd&lt;/a&gt; send Puma metrics to statsd&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sj26/puma-plugin-systemd"&gt;puma-plugin-systemd&lt;/a&gt; deeper integration with systemd for notify, status and watchdog&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-monitoring" class="anchor" aria-hidden="true" href="#monitoring"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Monitoring&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/ylecuyer/puma-status"&gt;puma-status&lt;/a&gt; Monitor CPU/Mem/Load of running puma instances from the CLI&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing&lt;/h2&gt;
&lt;p&gt;Find details for contributing in the &lt;a href="https://github.com/puma/puma/blob/master/CONTRIBUTING.md"&gt;contribution guide&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;Puma is copyright Evan Phoenix and contributors, licensed under the BSD 3-Clause license. See the included LICENSE file for details.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>puma</author><guid isPermaLink="false">https://github.com/puma/puma</guid><pubDate>Mon, 10 Feb 2020 00:05:00 GMT</pubDate></item><item><title>chef/chef #6 in Ruby, This week</title><link>https://github.com/chef/chef</link><description>&lt;p&gt;&lt;i&gt;Chef Infra, a powerful automation platform that transforms infrastructure into code automating how infrastructure is configured, deployed and managed across any environment, at any scale&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-chef-infra" class="anchor" aria-hidden="true" href="#chef-infra"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Chef Infra&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://codeclimate.com/github/chef/chef" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/20c230d6f1bd3d965e7aeb766c7d3b560ca31ff9/68747470733a2f2f636f6465636c696d6174652e636f6d2f6769746875622f636865662f636865662e737667" alt="Code Climate" data-canonical-src="https://codeclimate.com/github/chef/chef.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://buildkite.com/chef-oss/chef-chef-master-verify" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/366296b33e27cc77c1d0e8b6dbf1ffaa51ad5165/68747470733a2f2f62616467652e6275696c646b6974652e636f6d2f63383230393334333063656563376432376166303566656262396463616665336161333331666666396437346330616239642e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://badge.buildkite.com/c82093430ceec7d27af05febb9dcafe3aa331fff9d74c0ab9d.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://badge.fury.io/rb/chef" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/ac22f6a14112252a1e5ee43bc92018dd75228a0e/68747470733a2f2f62616467652e667572792e696f2f72622f636865662e737667" alt="Gem Version" data-canonical-src="https://badge.fury.io/rb/chef.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://github.com/chef/chef/blob/v15.2.21/docs/dev/design_documents/client_release_cadence.md"&gt;&lt;img src="https://camo.githubusercontent.com/161d7c335048212d518cf2d0110712e053dd0ae4/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f52656c65617365253230506f6c6963792d436164656e636525323052656c656173652d627269676874677265656e2e737667" alt="" data-canonical-src="https://img.shields.io/badge/Release%20Policy-Cadence%20Release-brightgreen.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Umbrella Project&lt;/strong&gt;: &lt;a href="https://github.com/chef/chef-oss-practices/blob/master/projects/chef-infra.md"&gt;Chef Infra&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Project State&lt;/strong&gt;: &lt;a href="https://github.com/chef/chef-oss-practices/blob/master/repo-management/repo-states.md#active"&gt;Active&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Issues &lt;a href="https://github.com/chef/chef-oss-practices/blob/master/repo-management/repo-states.md"&gt;Response Time Maximum&lt;/a&gt;&lt;/strong&gt;: 14 days&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Pull Request &lt;a href="https://github.com/chef/chef-oss-practices/blob/master/repo-management/repo-states.md"&gt;Response Time Maximum&lt;/a&gt;&lt;/strong&gt;: 14 days&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-getting-started" class="anchor" aria-hidden="true" href="#getting-started"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Getting Started&lt;/h2&gt;
&lt;p&gt;Chef Infra is a configuration management tool designed to bring automation to your entire infrastructure.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-want-to-try-chef-infra" class="anchor" aria-hidden="true" href="#want-to-try-chef-infra"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Want to try Chef Infra?&lt;/h3&gt;
&lt;p&gt;For Chef Infra usage, please refer to our &lt;a href="https://learn.chef.io/" rel="nofollow"&gt;Learn Chef Rally&lt;/a&gt; website, which includes module-based training for Chef Infra, as well as Automate, Habitat, and InSpec.&lt;/p&gt;
&lt;p&gt;Other useful resources for Chef Infra users:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Documentation: &lt;a href="https://docs.chef.io" rel="nofollow"&gt;https://docs.chef.io&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Source: &lt;a href="https://github.com/chef/chef/tree/master"&gt;https://github.com/chef/chef/tree/master&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Tickets/Issues: &lt;a href="https://github.com/chef/chef/issues"&gt;https://github.com/chef/chef/issues&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Slack: &lt;a href="https://community-slack.chef.io/" rel="nofollow"&gt;Chef Community Slack&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Mailing list: &lt;a href="https://discourse.chef.io" rel="nofollow"&gt;https://discourse.chef.io&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-reporting-issues" class="anchor" aria-hidden="true" href="#reporting-issues"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Reporting Issues&lt;/h2&gt;
&lt;p&gt;Issues can be reported by using &lt;a href="https://github.com/chef/chef/issues"&gt;GitHub Issues&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Note that this repository is primarily for reporting issues in the chef-client itself.  For reporting issues against other Chef projects, please look up the appropriate repository. If you're unsure where to submit an issue, please ask in the #chef-dev channel in &lt;a href="https://community-slack.chef.io/" rel="nofollow"&gt;Chef Community Slack&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-how-we-build--release-chef" class="anchor" aria-hidden="true" href="#how-we-build--release-chef"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How We Build &amp;amp; Release Chef&lt;/h2&gt;
&lt;p&gt;For information on how a contribution goes from PR to released package, see &lt;a href="docs/dev/design_documents/how_chef_is_tested_and_built.md"&gt;How Chef Infra Is Built&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;To learn more about our monthly feature releases and yearly major releases, see &lt;a href="./docs/dev/policy/release_and_support_schedule.md"&gt;Chef Infra Release and Support Schedule&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-getting-involved" class="anchor" aria-hidden="true" href="#getting-involved"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Getting Involved&lt;/h2&gt;
&lt;p&gt;We'd love to have your help developing Chef Infra. See our &lt;a href="./CONTRIBUTING.md"&gt;Contributing Document&lt;/a&gt; for more information on getting started.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license-and-copyright" class="anchor" aria-hidden="true" href="#license-and-copyright"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License and Copyright&lt;/h2&gt;
&lt;p&gt;Copyright 2008-2019, Chef Software, Inc.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
&lt;/code&gt;&lt;/pre&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>chef</author><guid isPermaLink="false">https://github.com/chef/chef</guid><pubDate>Mon, 10 Feb 2020 00:06:00 GMT</pubDate></item><item><title>carrierwaveuploader/carrierwave #7 in Ruby, This week</title><link>https://github.com/carrierwaveuploader/carrierwave</link><description>&lt;p&gt;&lt;i&gt;Classier solution for file uploads for Rails, Sinatra and other Ruby web frameworks&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-carrierwave" class="anchor" aria-hidden="true" href="#carrierwave"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CarrierWave&lt;/h1&gt;
&lt;p&gt;This gem provides a simple and extremely flexible way to upload files from Ruby applications.
It works well with Rack based web applications, such as Ruby on Rails.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://travis-ci.org/carrierwaveuploader/carrierwave" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/14d75f2d16e991aefe9f6f6a12fd85a72081a40e/68747470733a2f2f7472617669732d63692e6f72672f636172726965727761766575706c6f616465722f63617272696572776176652e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/carrierwaveuploader/carrierwave.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://codeclimate.com/github/carrierwaveuploader/carrierwave" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/e9797e5061c67eb86d16e4118399f8dc939eca8b/68747470733a2f2f636f6465636c696d6174652e636f6d2f6769746875622f636172726965727761766575706c6f616465722f63617272696572776176652e737667" alt="Code Climate" data-canonical-src="https://codeclimate.com/github/carrierwaveuploader/carrierwave.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://dependabot.com/compatibility-score.html?dependency-name=carrierwave&amp;amp;package-manager=bundler&amp;amp;version-scheme=semver" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/fbdfa1ea1e56766a82643e9ef1db0f244ddcef9a/68747470733a2f2f6170692e646570656e6461626f742e636f6d2f6261646765732f636f6d7061746962696c6974795f73636f72653f646570656e64656e63792d6e616d653d6361727269657277617665267061636b6167652d6d616e616765723d62756e646c65722676657273696f6e2d736368656d653d73656d766572" alt="SemVer" data-canonical-src="https://api.dependabot.com/badges/compatibility_score?dependency-name=carrierwave&amp;amp;package-manager=bundler&amp;amp;version-scheme=semver" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-information" class="anchor" aria-hidden="true" href="#information"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Information&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;RDoc documentation &lt;a href="http://rubydoc.info/gems/carrierwave/frames" rel="nofollow"&gt;available on RubyDoc.info&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Source code &lt;a href="http://github.com/carrierwaveuploader/carrierwave"&gt;available on GitHub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;More information, known limitations, and how-tos &lt;a href="https://github.com/carrierwaveuploader/carrierwave/wiki"&gt;available on the wiki&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-getting-help" class="anchor" aria-hidden="true" href="#getting-help"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Getting Help&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Please ask the community on &lt;a href="https://stackoverflow.com/questions/tagged/carrierwave" rel="nofollow"&gt;Stack Overflow&lt;/a&gt; for help if you have any questions. Please do not post usage questions on the issue tracker.&lt;/li&gt;
&lt;li&gt;Please report bugs on the &lt;a href="http://github.com/carrierwaveuploader/carrierwave/issues"&gt;issue tracker&lt;/a&gt; but read the "getting help" section in the wiki first.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation&lt;/h2&gt;
&lt;p&gt;Install the latest release:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ gem install carrierwave
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In Rails, add it to your Gemfile:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;gem &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;carrierwave&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;~&amp;gt; 2.0&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Finally, restart the server to apply the changes.&lt;/p&gt;
&lt;p&gt;As of version 2.0, CarrierWave requires Rails 5.0 or higher and Ruby 2.2
or higher. If you're on Rails 4, you should use 1.x.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-getting-started" class="anchor" aria-hidden="true" href="#getting-started"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Getting Started&lt;/h2&gt;
&lt;p&gt;Start off by generating an uploader:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;rails generate uploader Avatar
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;this should give you a file in:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;app/uploaders/avatar_uploader.rb
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Check out this file for some hints on how you can customize your uploader. It
should look something like this:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;AvatarUploader&lt;span class="pl-e"&gt; &amp;lt; CarrierWave::Uploader::Base&lt;/span&gt;&lt;/span&gt;
  storage &lt;span class="pl-c1"&gt;:file&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can use your uploader class to store and retrieve files like this:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;uploader &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;AvatarUploader&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;

uploader.store!(my_file)

uploader.retrieve_from_store!(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;my_file.png&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;CarrierWave gives you a &lt;code&gt;store&lt;/code&gt; for permanent storage, and a &lt;code&gt;cache&lt;/code&gt; for
temporary storage. You can use different stores, including filesystem
and cloud storage.&lt;/p&gt;
&lt;p&gt;Most of the time you are going to want to use CarrierWave together with an ORM.
It is quite simple to mount uploaders on columns in your model, so you can
simply assign files and get going:&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-activerecord" class="anchor" aria-hidden="true" href="#activerecord"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ActiveRecord&lt;/h3&gt;
&lt;p&gt;Make sure you are loading CarrierWave after loading your ORM, otherwise you'll
need to require the relevant extension manually, e.g.:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;carrierwave/orm/activerecord&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Add a string column to the model you want to mount the uploader by creating
a migration:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;rails g migration add_avatar_to_users avatar:string
rails db:migrate
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Open your model file and mount the uploader:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;User&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Base&lt;/span&gt;&lt;/span&gt;
  mount_uploader &lt;span class="pl-c1"&gt;:avatar&lt;/span&gt;, &lt;span class="pl-c1"&gt;AvatarUploader&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now you can cache files by assigning them to the attribute, they will
automatically be stored when the record is saved.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;u &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;User&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;
u.avatar &lt;span class="pl-k"&gt;=&lt;/span&gt; params[&lt;span class="pl-c1"&gt;:file&lt;/span&gt;] &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Assign a file like this, or&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; like this&lt;/span&gt;
&lt;span class="pl-c1"&gt;File&lt;/span&gt;.&lt;span class="pl-c1"&gt;open&lt;/span&gt;(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;somewhere&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;f&lt;/span&gt;|
  u.avatar &lt;span class="pl-k"&gt;=&lt;/span&gt; f
&lt;span class="pl-k"&gt;end&lt;/span&gt;

u.save!
u.avatar.url &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; =&amp;gt; '/url/to/file.png'&lt;/span&gt;
u.avatar.current_path &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; =&amp;gt; 'path/to/file.png'&lt;/span&gt;
u.avatar_identifier &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; =&amp;gt; 'file.png'&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: &lt;code&gt;u.avatar&lt;/code&gt; will never return nil, even if there is no photo associated to it.
To check if a photo was saved to the model, use &lt;code&gt;u.avatar.file.nil?&lt;/code&gt; instead.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-datamapper-mongoid-sequel" class="anchor" aria-hidden="true" href="#datamapper-mongoid-sequel"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;DataMapper, Mongoid, Sequel&lt;/h3&gt;
&lt;p&gt;Other ORM support has been extracted into separate gems:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/carrierwaveuploader/carrierwave-datamapper"&gt;carrierwave-datamapper&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/carrierwaveuploader/carrierwave-mongoid"&gt;carrierwave-mongoid&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/carrierwaveuploader/carrierwave-sequel"&gt;carrierwave-sequel&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are more extensions listed in &lt;a href="https://github.com/carrierwaveuploader/carrierwave/wiki"&gt;the wiki&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-multiple-file-uploads" class="anchor" aria-hidden="true" href="#multiple-file-uploads"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Multiple file uploads&lt;/h2&gt;
&lt;p&gt;CarrierWave also has convenient support for multiple file upload fields.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-activerecord-1" class="anchor" aria-hidden="true" href="#activerecord-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ActiveRecord&lt;/h3&gt;
&lt;p&gt;Add a column which can store an array. This could be an array column or a JSON
column for example. Your choice depends on what your database supports. For
example, create a migration like this:&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-for-databases-with-activerecord-json-data-type-support-eg-postgresql-mysql" class="anchor" aria-hidden="true" href="#for-databases-with-activerecord-json-data-type-support-eg-postgresql-mysql"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;For databases with ActiveRecord json data type support (e.g. PostgreSQL, MySQL)&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;rails g migration add_avatars_to_users avatars:json
rails db:migrate
&lt;/code&gt;&lt;/pre&gt;
&lt;h4&gt;&lt;a id="user-content-for-database-without-activerecord-json-data-type-support-eg-sqlite" class="anchor" aria-hidden="true" href="#for-database-without-activerecord-json-data-type-support-eg-sqlite"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;For database without ActiveRecord json data type support (e.g. SQLite)&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;rails g migration add_avatars_to_users avatars:string
rails db:migrate
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: JSON datatype doesn't exists in SQLite adapter, that's why you can use a string datatype which will be serialized in model.&lt;/p&gt;
&lt;p&gt;Open your model file and mount the uploader:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;User&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Base&lt;/span&gt;&lt;/span&gt;
  mount_uploaders &lt;span class="pl-c1"&gt;:avatars&lt;/span&gt;, &lt;span class="pl-c1"&gt;AvatarUploader&lt;/span&gt;
  serialize &lt;span class="pl-c1"&gt;:avatars&lt;/span&gt;, &lt;span class="pl-c1"&gt;JSON&lt;/span&gt; &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; If you use SQLite, add this line.&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Make sure that you mount the uploader with write (mount_uploaders) with &lt;code&gt;s&lt;/code&gt; not (mount_uploader)
in order to avoid errors when uploading multiple files&lt;/p&gt;
&lt;p&gt;Make sure your file input fields are set up as multiple file fields. For
example in Rails you'll want to do something like this:&lt;/p&gt;
&lt;div class="highlight highlight-text-html-erb"&gt;&lt;pre&gt;&lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; form.file_field &lt;span class="pl-c1"&gt;:avatars&lt;/span&gt;, &lt;span class="pl-c1"&gt;multiple:&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Also, make sure your upload controller permits the multiple file upload attribute, &lt;em&gt;pointing to an empty array in a hash&lt;/em&gt;. For example:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;params.require(&lt;span class="pl-c1"&gt;:user&lt;/span&gt;).permit(&lt;span class="pl-c1"&gt;:email&lt;/span&gt;, &lt;span class="pl-c1"&gt;:first_name&lt;/span&gt;, &lt;span class="pl-c1"&gt;:last_name&lt;/span&gt;, {&lt;span class="pl-c1"&gt;avatars:&lt;/span&gt; []})&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now you can select multiple files in the upload dialog (e.g. SHIFT+SELECT), and they will
automatically be stored when the record is saved.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;u &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;User&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(params[&lt;span class="pl-c1"&gt;:user&lt;/span&gt;])
u.save!
u.avatars[&lt;span class="pl-c1"&gt;0&lt;/span&gt;].url &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; =&amp;gt; '/url/to/file.png'&lt;/span&gt;
u.avatars[&lt;span class="pl-c1"&gt;0&lt;/span&gt;].current_path &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; =&amp;gt; 'path/to/file.png'&lt;/span&gt;
u.avatars[&lt;span class="pl-c1"&gt;0&lt;/span&gt;].identifier &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; =&amp;gt; 'file.png'&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you want to preserve existing files on uploading new one, you can go like:&lt;/p&gt;
&lt;div class="highlight highlight-text-html-erb"&gt;&lt;pre&gt;&lt;span class="pl-pse"&gt;&amp;lt;%&lt;/span&gt;&lt;span class="pl-sre"&gt; user.avatars.each &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;avatar&lt;/span&gt;| &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;
  &lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; hidden_field &lt;span class="pl-c1"&gt;:user&lt;/span&gt;, &lt;span class="pl-c1"&gt;:avatars&lt;/span&gt;, &lt;span class="pl-c1"&gt;multiple:&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;, &lt;span class="pl-c1"&gt;value:&lt;/span&gt; avatar.identifier &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;
&lt;span class="pl-pse"&gt;&amp;lt;%&lt;/span&gt;&lt;span class="pl-sre"&gt; &lt;span class="pl-k"&gt;end&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;
&lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; form.file_field &lt;span class="pl-c1"&gt;:avatars&lt;/span&gt;, &lt;span class="pl-c1"&gt;multiple:&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Sorting avatars is supported as well by reordering &lt;code&gt;hidden_field&lt;/code&gt;, an example using jQuery UI Sortable is available &lt;a href="https://github.com/carrierwaveuploader/carrierwave/wiki/How-to%3A-Add%2C-remove-and-reorder-images-using-multiple-file-upload"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-changing-the-storage-directory" class="anchor" aria-hidden="true" href="#changing-the-storage-directory"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Changing the storage directory&lt;/h2&gt;
&lt;p&gt;In order to change where uploaded files are put, just override the &lt;code&gt;store_dir&lt;/code&gt;
method:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyUploader&lt;span class="pl-e"&gt; &amp;lt; CarrierWave::Uploader::Base&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;store_dir&lt;/span&gt;
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;public/my/upload/directory&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This works for the file storage as well as Amazon S3 and Rackspace Cloud Files.
Define &lt;code&gt;store_dir&lt;/code&gt; as &lt;code&gt;nil&lt;/code&gt; if you'd like to store files at the root level.&lt;/p&gt;
&lt;p&gt;If you store files outside the project root folder, you may want to define &lt;code&gt;cache_dir&lt;/code&gt; in the same way:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyUploader&lt;span class="pl-e"&gt; &amp;lt; CarrierWave::Uploader::Base&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;cache_dir&lt;/span&gt;
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/tmp/projectname-cache&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-securing-uploads" class="anchor" aria-hidden="true" href="#securing-uploads"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Securing uploads&lt;/h2&gt;
&lt;p&gt;Certain files might be dangerous if uploaded to the wrong location, such as PHP
files or other script files. CarrierWave allows you to specify a whitelist of
allowed extensions or content types.&lt;/p&gt;
&lt;p&gt;If you're mounting the uploader, uploading a file with the wrong extension will
make the record invalid instead. Otherwise, an error is raised.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyUploader&lt;span class="pl-e"&gt; &amp;lt; CarrierWave::Uploader::Base&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;extension_whitelist&lt;/span&gt;
    &lt;span class="pl-s"&gt;%w(jpg jpeg gif png)&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The same thing could be done using content types.
Let's say we need an uploader that accepts only images. This can be done like this&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyUploader&lt;span class="pl-e"&gt; &amp;lt; CarrierWave::Uploader::Base&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;content_type_whitelist&lt;/span&gt;
    &lt;span class="pl-sr"&gt;/image&lt;span class="pl-cce"&gt;\/&lt;/span&gt;/&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can use a blacklist to reject content types.
Let's say we need an uploader that reject JSON files. This can be done like this&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;NoJsonUploader&lt;span class="pl-e"&gt; &amp;lt; CarrierWave::Uploader::Base&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;content_type_blacklist&lt;/span&gt;
    [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;application/text&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;application/json&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;]
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-cve-2016-3714-imagetragick" class="anchor" aria-hidden="true" href="#cve-2016-3714-imagetragick"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CVE-2016-3714 (ImageTragick)&lt;/h3&gt;
&lt;p&gt;This version of CarrierWave has the ability to mitigate CVE-2016-3714. However, you &lt;strong&gt;MUST&lt;/strong&gt; set a content_type_whitelist in your uploaders for this protection to be effective, and you &lt;strong&gt;MUST&lt;/strong&gt; either disable ImageMagick's default SVG delegate or use the RSVG delegate for SVG processing.&lt;/p&gt;
&lt;p&gt;A valid whitelist that will restrict your uploader to images only, and mitigate the CVE is:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyUploader&lt;span class="pl-e"&gt; &amp;lt; CarrierWave::Uploader::Base&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;content_type_whitelist&lt;/span&gt;
    [&lt;span class="pl-sr"&gt;/image&lt;span class="pl-cce"&gt;\/&lt;/span&gt;/&lt;/span&gt;]
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;WARNING&lt;/strong&gt;: A &lt;code&gt;content_type_whitelist&lt;/code&gt; is the only form of whitelist or blacklist supported by CarrierWave that can effectively mitigate against CVE-2016-3714. Use of &lt;code&gt;extension_whitelist&lt;/code&gt; will not inspect the file headers, and thus still leaves your application open to the vulnerability.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-filenames-and-unicode-chars" class="anchor" aria-hidden="true" href="#filenames-and-unicode-chars"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Filenames and unicode chars&lt;/h3&gt;
&lt;p&gt;Another security issue you should care for is the file names (see
&lt;a href="http://guides.rubyonrails.org/security.html#file-uploads" rel="nofollow"&gt;Ruby On Rails Security Guide&lt;/a&gt;).
By default, CarrierWave provides only English letters, arabic numerals and some symbols as
white-listed characters in the file name. If you want to support local scripts (Cyrillic letters, letters with diacritics and so on), you
have to override &lt;code&gt;sanitize_regexp&lt;/code&gt; method. It should return regular expression which would match
all &lt;em&gt;non&lt;/em&gt;-allowed symbols.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;CarrierWave&lt;/span&gt;::&lt;span class="pl-c1"&gt;SanitizedFile&lt;/span&gt;.sanitize_regexp &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-sr"&gt;/&lt;span class="pl-pds"&gt;[^[:word:]&lt;/span&gt;&lt;span class="pl-cce"&gt;\.\-\+&lt;/span&gt;]/&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Also make sure that allowing non-latin characters won't cause a compatibility issue with a third-party
plugins or client-side software.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-setting-the-content-type" class="anchor" aria-hidden="true" href="#setting-the-content-type"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setting the content type&lt;/h2&gt;
&lt;p&gt;As of v0.11.0, the &lt;code&gt;mime-types&lt;/code&gt; gem is a runtime dependency and the content type is set automatically.
You no longer need to do this manually.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-adding-versions" class="anchor" aria-hidden="true" href="#adding-versions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Adding versions&lt;/h2&gt;
&lt;p&gt;Often you'll want to add different versions of the same file. The classic example is image thumbnails. There is built in support for this*:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Note:&lt;/em&gt; You must have Imagemagick installed to do image resizing.&lt;/p&gt;
&lt;p&gt;Some documentation refers to RMagick instead of MiniMagick but MiniMagick is recommended.&lt;/p&gt;
&lt;p&gt;To install Imagemagick on OSX with homebrew type the following:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ brew install imagemagick
&lt;/code&gt;&lt;/pre&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyUploader&lt;span class="pl-e"&gt; &amp;lt; CarrierWave::Uploader::Base&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;CarrierWave&lt;/span&gt;::&lt;span class="pl-c1"&gt;MiniMagick&lt;/span&gt;

  process &lt;span class="pl-c1"&gt;resize_to_fit:&lt;/span&gt; [&lt;span class="pl-c1"&gt;800&lt;/span&gt;, &lt;span class="pl-c1"&gt;800&lt;/span&gt;]

  version &lt;span class="pl-c1"&gt;:thumb&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
    process &lt;span class="pl-c1"&gt;resize_to_fill:&lt;/span&gt; [&lt;span class="pl-c1"&gt;200&lt;/span&gt;,&lt;span class="pl-c1"&gt;200&lt;/span&gt;]
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When this uploader is used, an uploaded image would be scaled to be no larger
than 800 by 800 pixels. The original aspect ratio will be kept.&lt;/p&gt;
&lt;p&gt;A version called &lt;code&gt;:thumb&lt;/code&gt; is then created, which is scaled
to exactly 200 by 200 pixels. The thumbnail uses &lt;code&gt;resize_to_fill&lt;/code&gt; which makes sure
that the width and height specified are filled, only cropping
if the aspect ratio requires it.&lt;/p&gt;
&lt;p&gt;The above uploader could be used like this:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;uploader &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;AvatarUploader&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;
uploader.store!(my_file)                              &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; size: 1024x768&lt;/span&gt;

uploader.url &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; =&amp;gt; '/url/to/my_file.png'               # size: 800x800&lt;/span&gt;
uploader.thumb.url &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; =&amp;gt; '/url/to/thumb_my_file.png'   # size: 200x200&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;One important thing to remember is that process is called &lt;em&gt;before&lt;/em&gt; versions are
created. This can cut down on processing cost.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-processing-methods-mini_magick" class="anchor" aria-hidden="true" href="#processing-methods-mini_magick"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Processing Methods: mini_magick&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;convert&lt;/code&gt; - Changes the image encoding format to the given format, eg. jpg&lt;/li&gt;
&lt;li&gt;&lt;code&gt;resize_to_limit&lt;/code&gt; - Resize the image to fit within the specified dimensions while retaining the original aspect ratio. Will only resize the image if it is larger than the specified dimensions. The resulting image may be shorter or narrower than specified in the smaller dimension but will not be larger than the specified values.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;resize_to_fit&lt;/code&gt; - Resize the image to fit within the specified dimensions while retaining the original aspect ratio. The image may be shorter or narrower than specified in the smaller dimension but will not be larger than the specified values.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;resize_to_fill&lt;/code&gt; - Resize the image to fit within the specified dimensions while retaining the aspect ratio of the original image. If necessary, crop the image in the larger dimension. Optionally, a "gravity" may be specified, for example "Center", or "NorthEast".&lt;/li&gt;
&lt;li&gt;&lt;code&gt;resize_and_pad&lt;/code&gt; - Resize the image to fit within the specified dimensions while retaining the original aspect ratio. If necessary, will pad the remaining area with the given color, which defaults to transparent (for gif and png, white for jpeg). Optionally, a "gravity" may be specified, as above.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See &lt;code&gt;carrierwave/processing/mini_magick.rb&lt;/code&gt; for details.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-nested-versions" class="anchor" aria-hidden="true" href="#nested-versions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Nested versions&lt;/h3&gt;
&lt;p&gt;It is possible to nest versions within versions:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyUploader&lt;span class="pl-e"&gt; &amp;lt; CarrierWave::Uploader::Base&lt;/span&gt;&lt;/span&gt;

  version &lt;span class="pl-c1"&gt;:animal&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
    version &lt;span class="pl-c1"&gt;:human&lt;/span&gt;
    version &lt;span class="pl-c1"&gt;:monkey&lt;/span&gt;
    version &lt;span class="pl-c1"&gt;:llama&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-conditional-versions" class="anchor" aria-hidden="true" href="#conditional-versions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Conditional versions&lt;/h3&gt;
&lt;p&gt;Occasionally you want to restrict the creation of versions on certain
properties within the model or based on the picture itself.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyUploader&lt;span class="pl-e"&gt; &amp;lt; CarrierWave::Uploader::Base&lt;/span&gt;&lt;/span&gt;

  version &lt;span class="pl-c1"&gt;:human&lt;/span&gt;, &lt;span class="pl-c1"&gt;if:&lt;/span&gt; &lt;span class="pl-c1"&gt;:is_human?&lt;/span&gt;
  version &lt;span class="pl-c1"&gt;:monkey&lt;/span&gt;, &lt;span class="pl-c1"&gt;if:&lt;/span&gt; &lt;span class="pl-c1"&gt;:is_monkey?&lt;/span&gt;
  version &lt;span class="pl-c1"&gt;:banner&lt;/span&gt;, &lt;span class="pl-c1"&gt;if:&lt;/span&gt; &lt;span class="pl-c1"&gt;:is_landscape?&lt;/span&gt;

&lt;span class="pl-k"&gt;private&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;is_human?&lt;/span&gt; &lt;span class="pl-smi"&gt;picture&lt;/span&gt;
    model.can_program?(&lt;span class="pl-c1"&gt;:ruby&lt;/span&gt;)
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;is_monkey?&lt;/span&gt; &lt;span class="pl-smi"&gt;picture&lt;/span&gt;
    model.favorite_food &lt;span class="pl-k"&gt;==&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;banana&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;is_landscape?&lt;/span&gt; &lt;span class="pl-smi"&gt;picture&lt;/span&gt;
    image &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;MiniMagick&lt;/span&gt;::&lt;span class="pl-c1"&gt;Image&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(picture.path)
    image[&lt;span class="pl-c1"&gt;:width&lt;/span&gt;] &lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; image[&lt;span class="pl-c1"&gt;:height&lt;/span&gt;]
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;model&lt;/code&gt; variable points to the instance object the uploader is attached to.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-create-versions-from-existing-versions" class="anchor" aria-hidden="true" href="#create-versions-from-existing-versions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Create versions from existing versions&lt;/h3&gt;
&lt;p&gt;For performance reasons, it is often useful to create versions from existing ones
instead of using the original file. If your uploader generates several versions
where the next is smaller than the last, it will take less time to generate from
a smaller, already processed image.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyUploader&lt;span class="pl-e"&gt; &amp;lt; CarrierWave::Uploader::Base&lt;/span&gt;&lt;/span&gt;

  version &lt;span class="pl-c1"&gt;:thumb&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
    process &lt;span class="pl-c1"&gt;resize_to_fill:&lt;/span&gt; [&lt;span class="pl-c1"&gt;280&lt;/span&gt;, &lt;span class="pl-c1"&gt;280&lt;/span&gt;]
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  version &lt;span class="pl-c1"&gt;:small_thumb&lt;/span&gt;, &lt;span class="pl-c1"&gt;from_version:&lt;/span&gt; &lt;span class="pl-c1"&gt;:thumb&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
    process &lt;span class="pl-c1"&gt;resize_to_fill:&lt;/span&gt; [&lt;span class="pl-c1"&gt;20&lt;/span&gt;, &lt;span class="pl-c1"&gt;20&lt;/span&gt;]
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The option &lt;code&gt;:from_version&lt;/code&gt; uses the file cached in the &lt;code&gt;:thumb&lt;/code&gt; version instead
of the original version, potentially resulting in faster processing.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-making-uploads-work-across-form-redisplays" class="anchor" aria-hidden="true" href="#making-uploads-work-across-form-redisplays"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Making uploads work across form redisplays&lt;/h2&gt;
&lt;p&gt;Often you'll notice that uploaded files disappear when a validation fails.
CarrierWave has a feature that makes it easy to remember the uploaded file even
in that case. Suppose your &lt;code&gt;user&lt;/code&gt; model has an uploader mounted on &lt;code&gt;avatar&lt;/code&gt;
file, just add a hidden field called &lt;code&gt;avatar_cache&lt;/code&gt; (don't forget to add it to
the attr_accessible list as necessary). In Rails, this would look like this:&lt;/p&gt;
&lt;div class="highlight highlight-text-html-erb"&gt;&lt;pre&gt;&lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; form_for &lt;span class="pl-smi"&gt;@user&lt;/span&gt;, &lt;span class="pl-c1"&gt;html:&lt;/span&gt; { &lt;span class="pl-c1"&gt;multipart:&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt; } &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;f&lt;/span&gt;| &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;
  &amp;lt;&lt;span class="pl-ent"&gt;p&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class="pl-ent"&gt;label&lt;/span&gt;&amp;gt;My Avatar&amp;lt;/&lt;span class="pl-ent"&gt;label&lt;/span&gt;&amp;gt;
    &lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; f.file_field &lt;span class="pl-c1"&gt;:avatar&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;
    &lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; f.hidden_field &lt;span class="pl-c1"&gt;:avatar_cache&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;
  &amp;lt;/&lt;span class="pl-ent"&gt;p&lt;/span&gt;&amp;gt;
&lt;span class="pl-pse"&gt;&amp;lt;%&lt;/span&gt;&lt;span class="pl-sre"&gt; &lt;span class="pl-k"&gt;end&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It might be a good idea to show the user that a file has been uploaded, in the
case of images, a small thumbnail would be a good indicator:&lt;/p&gt;
&lt;div class="highlight highlight-text-html-erb"&gt;&lt;pre&gt;&lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; form_for &lt;span class="pl-smi"&gt;@user&lt;/span&gt;, &lt;span class="pl-c1"&gt;html:&lt;/span&gt; { &lt;span class="pl-c1"&gt;multipart:&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt; } &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;f&lt;/span&gt;| &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;
  &amp;lt;&lt;span class="pl-ent"&gt;p&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class="pl-ent"&gt;label&lt;/span&gt;&amp;gt;My Avatar&amp;lt;/&lt;span class="pl-ent"&gt;label&lt;/span&gt;&amp;gt;
    &lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; image_tag(&lt;span class="pl-smi"&gt;@user&lt;/span&gt;.avatar_url) &lt;span class="pl-k"&gt;if&lt;/span&gt; &lt;span class="pl-smi"&gt;@user&lt;/span&gt;.avatar? &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;
    &lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; f.file_field &lt;span class="pl-c1"&gt;:avatar&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;
    &lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; f.hidden_field &lt;span class="pl-c1"&gt;:avatar_cache&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;
  &amp;lt;/&lt;span class="pl-ent"&gt;p&lt;/span&gt;&amp;gt;
&lt;span class="pl-pse"&gt;&amp;lt;%&lt;/span&gt;&lt;span class="pl-sre"&gt; &lt;span class="pl-k"&gt;end&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-removing-uploaded-files" class="anchor" aria-hidden="true" href="#removing-uploaded-files"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Removing uploaded files&lt;/h2&gt;
&lt;p&gt;If you want to remove a previously uploaded file on a mounted uploader, you can
easily add a checkbox to the form which will remove the file when checked.&lt;/p&gt;
&lt;div class="highlight highlight-text-html-erb"&gt;&lt;pre&gt;&lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; form_for &lt;span class="pl-smi"&gt;@user&lt;/span&gt;, &lt;span class="pl-c1"&gt;html:&lt;/span&gt; { &lt;span class="pl-c1"&gt;multipart:&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt; } &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;f&lt;/span&gt;| &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;
  &amp;lt;&lt;span class="pl-ent"&gt;p&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class="pl-ent"&gt;label&lt;/span&gt;&amp;gt;My Avatar&amp;lt;/&lt;span class="pl-ent"&gt;label&lt;/span&gt;&amp;gt;
    &lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; image_tag(&lt;span class="pl-smi"&gt;@user&lt;/span&gt;.avatar_url) &lt;span class="pl-k"&gt;if&lt;/span&gt; &lt;span class="pl-smi"&gt;@user&lt;/span&gt;.avatar? &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;
    &lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; f.file_field &lt;span class="pl-c1"&gt;:avatar&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;
  &amp;lt;/&lt;span class="pl-ent"&gt;p&lt;/span&gt;&amp;gt;

  &amp;lt;&lt;span class="pl-ent"&gt;p&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class="pl-ent"&gt;label&lt;/span&gt;&amp;gt;
      &lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; f.check_box &lt;span class="pl-c1"&gt;:remove_avatar&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;
      Remove avatar
    &amp;lt;/&lt;span class="pl-ent"&gt;label&lt;/span&gt;&amp;gt;
  &amp;lt;/&lt;span class="pl-ent"&gt;p&lt;/span&gt;&amp;gt;
&lt;span class="pl-pse"&gt;&amp;lt;%&lt;/span&gt;&lt;span class="pl-sre"&gt; &lt;span class="pl-k"&gt;end&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you want to remove the file manually, you can call &lt;code&gt;remove_avatar!&lt;/code&gt;, then save the object.&lt;/p&gt;
&lt;div class="highlight highlight-text-html-erb"&gt;&lt;pre&gt;@user.remove_avatar!
@user.save
#=&amp;gt; true&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-uploading-files-from-a-remote-location" class="anchor" aria-hidden="true" href="#uploading-files-from-a-remote-location"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Uploading files from a remote location&lt;/h2&gt;
&lt;p&gt;Your users may find it convenient to upload a file from a location on the Internet
via a URL. CarrierWave makes this simple, just add the appropriate attribute to your
form and you're good to go:&lt;/p&gt;
&lt;div class="highlight highlight-text-html-erb"&gt;&lt;pre&gt;&lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; form_for &lt;span class="pl-smi"&gt;@user&lt;/span&gt;, &lt;span class="pl-c1"&gt;html:&lt;/span&gt; { &lt;span class="pl-c1"&gt;multipart:&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt; } &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;f&lt;/span&gt;| &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;
  &amp;lt;&lt;span class="pl-ent"&gt;p&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class="pl-ent"&gt;label&lt;/span&gt;&amp;gt;My Avatar URL:&amp;lt;/&lt;span class="pl-ent"&gt;label&lt;/span&gt;&amp;gt;
    &lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; image_tag(&lt;span class="pl-smi"&gt;@user&lt;/span&gt;.avatar_url) &lt;span class="pl-k"&gt;if&lt;/span&gt; &lt;span class="pl-smi"&gt;@user&lt;/span&gt;.avatar? &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;
    &lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; f.text_field &lt;span class="pl-c1"&gt;:remote_avatar_url&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;
  &amp;lt;/&lt;span class="pl-ent"&gt;p&lt;/span&gt;&amp;gt;
&lt;span class="pl-pse"&gt;&amp;lt;%&lt;/span&gt;&lt;span class="pl-sre"&gt; &lt;span class="pl-k"&gt;end&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you're using ActiveRecord, CarrierWave will indicate invalid URLs and download
failures automatically with attribute validation errors. If you aren't, or you
disable CarrierWave's &lt;code&gt;validate_download&lt;/code&gt; option, you'll need to handle those
errors yourself.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-providing-a-default-url" class="anchor" aria-hidden="true" href="#providing-a-default-url"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Providing a default URL&lt;/h2&gt;
&lt;p&gt;In many cases, especially when working with images, it might be a good idea to
provide a default url, a fallback in case no file has been uploaded. You can do
this easily by overriding the &lt;code&gt;default_url&lt;/code&gt; method in your uploader:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyUploader&lt;span class="pl-e"&gt; &amp;lt; CarrierWave::Uploader::Base&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;default_url&lt;/span&gt;(&lt;span class="pl-k"&gt;*&lt;/span&gt;&lt;span class="pl-smi"&gt;args&lt;/span&gt;)
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/images/fallback/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; [version_name, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;default.png&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;].compact.join(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;_&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or if you are using the Rails asset pipeline:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyUploader&lt;span class="pl-e"&gt; &amp;lt; CarrierWave::Uploader::Base&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;default_url&lt;/span&gt;(&lt;span class="pl-k"&gt;*&lt;/span&gt;&lt;span class="pl-smi"&gt;args&lt;/span&gt;)
    &lt;span class="pl-c1"&gt;ActionController&lt;/span&gt;::&lt;span class="pl-c1"&gt;Base&lt;/span&gt;.helpers.asset_path(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;fallback/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt; [version_name, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;default.png&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;].compact.join(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;_&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;))
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-recreating-versions" class="anchor" aria-hidden="true" href="#recreating-versions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Recreating versions&lt;/h2&gt;
&lt;p&gt;You might come to a situation where you want to retroactively change a version
or add a new one. You can use the &lt;code&gt;recreate_versions!&lt;/code&gt; method to recreate the
versions from the base file. This uses a naive approach which will re-upload and
process the specified version or all versions, if none is passed as an argument.&lt;/p&gt;
&lt;p&gt;When you are generating random unique filenames you have to call &lt;code&gt;save!&lt;/code&gt; on
the model after using &lt;code&gt;recreate_versions!&lt;/code&gt;. This is necessary because
&lt;code&gt;recreate_versions!&lt;/code&gt; doesn't save the new filename to the database. Calling
&lt;code&gt;save!&lt;/code&gt; yourself will prevent that the database and file system are running
out of sync.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;instance &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;MyUploader&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;
instance.recreate_versions!(&lt;span class="pl-c1"&gt;:thumb&lt;/span&gt;, &lt;span class="pl-c1"&gt;:large&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or on a mounted uploader:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;User&lt;/span&gt;.find_each &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;user&lt;/span&gt;|
  user.avatar.recreate_versions!
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note: &lt;code&gt;recreate_versions!&lt;/code&gt; will throw an exception on records without an image. To avoid this, scope the records to those with images or check if an image exists within the block. If you're using ActiveRecord, recreating versions for a user avatar might look like this:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;User&lt;/span&gt;.find_each &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;user&lt;/span&gt;|
  user.avatar.recreate_versions! &lt;span class="pl-k"&gt;if&lt;/span&gt; user.avatar?
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-configuring-carrierwave" class="anchor" aria-hidden="true" href="#configuring-carrierwave"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Configuring CarrierWave&lt;/h2&gt;
&lt;p&gt;CarrierWave has a broad range of configuration options, which you can configure,
both globally and on a per-uploader basis:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;CarrierWave&lt;/span&gt;.configure &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;config&lt;/span&gt;|
  config.permissions &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;0666&lt;/span&gt;
  config.directory_permissions &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;0777&lt;/span&gt;
  config.storage &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;:file&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or alternatively:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;AvatarUploader&lt;span class="pl-e"&gt; &amp;lt; CarrierWave::Uploader::Base&lt;/span&gt;&lt;/span&gt;
  permissions &lt;span class="pl-c1"&gt;0777&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you're using Rails, create an initializer for this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;config/initializers/carrierwave.rb
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you want CarrierWave to fail noisily in development, you can change these configs in your environment file:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;CarrierWave&lt;/span&gt;.configure &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;config&lt;/span&gt;|
  config.ignore_integrity_errors &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;
  config.ignore_processing_errors &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;
  config.ignore_download_errors &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-testing-with-carrierwave" class="anchor" aria-hidden="true" href="#testing-with-carrierwave"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Testing with CarrierWave&lt;/h2&gt;
&lt;p&gt;It's a good idea to test your uploaders in isolation. In order to speed up your
tests, it's recommended to switch off processing in your tests, and to use the
file storage. In Rails you could do that by adding an initializer with:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;if&lt;/span&gt; &lt;span class="pl-c1"&gt;Rails&lt;/span&gt;.env.test? &lt;span class="pl-k"&gt;or&lt;/span&gt; &lt;span class="pl-c1"&gt;Rails&lt;/span&gt;.env.cucumber?
  &lt;span class="pl-c1"&gt;CarrierWave&lt;/span&gt;.configure &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;config&lt;/span&gt;|
    config.storage &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;:file&lt;/span&gt;
    config.enable_processing &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Remember, if you have already set &lt;code&gt;storage :something&lt;/code&gt; in your uploader, the &lt;code&gt;storage&lt;/code&gt;
setting from this initializer will be ignored.&lt;/p&gt;
&lt;p&gt;If you need to test your processing, you should test it in isolation, and enable
processing only for those tests that need it.&lt;/p&gt;
&lt;p&gt;CarrierWave comes with some RSpec matchers which you may find useful:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;carrierwave/test/matchers&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;

describe &lt;span class="pl-c1"&gt;MyUploader&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;CarrierWave&lt;/span&gt;::&lt;span class="pl-c1"&gt;Test&lt;/span&gt;::&lt;span class="pl-c1"&gt;Matchers&lt;/span&gt;

  let(&lt;span class="pl-c1"&gt;:user&lt;/span&gt;) { double(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;user&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;) }
  let(&lt;span class="pl-c1"&gt;:uploader&lt;/span&gt;) { &lt;span class="pl-c1"&gt;MyUploader&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(user, &lt;span class="pl-c1"&gt;:avatar&lt;/span&gt;) }

  before &lt;span class="pl-k"&gt;do&lt;/span&gt;
    &lt;span class="pl-c1"&gt;MyUploader&lt;/span&gt;.enable_processing &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
    &lt;span class="pl-c1"&gt;File&lt;/span&gt;.&lt;span class="pl-c1"&gt;open&lt;/span&gt;(path_to_file) { |&lt;span class="pl-smi"&gt;f&lt;/span&gt;| uploader.store!(f) }
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  after &lt;span class="pl-k"&gt;do&lt;/span&gt;
    &lt;span class="pl-c1"&gt;MyUploader&lt;/span&gt;.enable_processing &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;
    uploader.remove!
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  context &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;the thumb version&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
    it &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;scales down a landscape image to be exactly 64 by 64 pixels&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
      expect(uploader.thumb).to have_dimensions(&lt;span class="pl-c1"&gt;64&lt;/span&gt;, &lt;span class="pl-c1"&gt;64&lt;/span&gt;)
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  context &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;the small version&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
    it &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;scales down a landscape image to fit within 200 by 200 pixels&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
      expect(uploader.small).to be_no_larger_than(&lt;span class="pl-c1"&gt;200&lt;/span&gt;, &lt;span class="pl-c1"&gt;200&lt;/span&gt;)
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  it &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;makes the image readable only to the owner and not executable&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
    expect(uploader).to have_permissions(&lt;span class="pl-c1"&gt;0600&lt;/span&gt;)
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  it &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;has the correct format&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
    expect(uploader).to be_format(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;png&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you're looking for minitest asserts, checkout &lt;a href="https://github.com/hcfairbanks/carrierwave_asserts"&gt;carrierwave_asserts&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Setting the enable_processing flag on an uploader will prevent any of the versions from processing as well.
Processing can be enabled for a single version by setting the processing flag on the version like so:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-smi"&gt;@uploader&lt;/span&gt;.thumb.enable_processing &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-fog" class="anchor" aria-hidden="true" href="#fog"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Fog&lt;/h2&gt;
&lt;p&gt;If you want to use fog you must add in your CarrierWave initializer the
following lines&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;config.fog_credentials &lt;span class="pl-k"&gt;=&lt;/span&gt; { ... } &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Provider specific credentials&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-using-amazon-s3" class="anchor" aria-hidden="true" href="#using-amazon-s3"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using Amazon S3&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://github.com/fog/fog-aws"&gt;Fog AWS&lt;/a&gt; is used to support Amazon S3. Ensure you have it in your Gemfile:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;gem &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;fog-aws&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You'll need to provide your fog_credentials and a fog_directory (also known as a bucket) in an initializer.
For the sake of performance it is assumed that the directory already exists, so please create it if it needs to be.
You can also pass in additional options, as documented fully in lib/carrierwave/storage/fog.rb. Here's a full example:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;CarrierWave&lt;/span&gt;.configure &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;config&lt;/span&gt;|
  config.fog_credentials &lt;span class="pl-k"&gt;=&lt;/span&gt; {
    &lt;span class="pl-c1"&gt;provider:&lt;/span&gt;              &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;AWS&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;,                        &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; required&lt;/span&gt;
    &lt;span class="pl-c1"&gt;aws_access_key_id:&lt;/span&gt;     &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;xxx&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;,                        &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; required unless using use_iam_profile&lt;/span&gt;
    &lt;span class="pl-c1"&gt;aws_secret_access_key:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;yyy&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;,                        &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; required unless using use_iam_profile&lt;/span&gt;
    &lt;span class="pl-c1"&gt;use_iam_profile:&lt;/span&gt;       &lt;span class="pl-c1"&gt;true&lt;/span&gt;,                         &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; optional, defaults to false&lt;/span&gt;
    &lt;span class="pl-c1"&gt;region:&lt;/span&gt;                &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;eu-west-1&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;,                  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; optional, defaults to 'us-east-1'&lt;/span&gt;
    &lt;span class="pl-c1"&gt;host:&lt;/span&gt;                  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;s3.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;,             &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; optional, defaults to nil&lt;/span&gt;
    &lt;span class="pl-c1"&gt;endpoint:&lt;/span&gt;              &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;https://s3.example.com:8080&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; optional, defaults to nil&lt;/span&gt;
  }
  config.fog_directory  &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;name_of_bucket&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;                                      &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; required&lt;/span&gt;
  config.fog_public     &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;                                                 &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; optional, defaults to true&lt;/span&gt;
  config.fog_attributes &lt;span class="pl-k"&gt;=&lt;/span&gt; { &lt;span class="pl-c1"&gt;cache_control:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;public, max-age=&lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt;&lt;span class="pl-c1"&gt;365&lt;/span&gt;.days.to_i&lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; } &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; optional, defaults to {}&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In your uploader, set the storage to :fog&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;AvatarUploader&lt;span class="pl-e"&gt; &amp;lt; CarrierWave::Uploader::Base&lt;/span&gt;&lt;/span&gt;
  storage &lt;span class="pl-c1"&gt;:fog&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That's it! You can still use the &lt;code&gt;CarrierWave::Uploader#url&lt;/code&gt; method to return the url to the file on Amazon S3.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: for Carrierwave to work properly it needs credentials with the following permissions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;s3:ListBucket&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;s3:PutObject&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;s3:GetObject&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;s3:DeleteObject&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;s3:PutObjectAcl&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-using-rackspace-cloud-files" class="anchor" aria-hidden="true" href="#using-rackspace-cloud-files"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using Rackspace Cloud Files&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://github.com/fog/fog"&gt;Fog&lt;/a&gt; is used to support Rackspace Cloud Files. Ensure you have it in your Gemfile:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;gem &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;fog&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You'll need to configure a directory (also known as a container), username and API key in the initializer.
For the sake of performance it is assumed that the directory already exists, so please create it if need be.&lt;/p&gt;
&lt;p&gt;Using a US-based account:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;CarrierWave&lt;/span&gt;.configure &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;config&lt;/span&gt;|
  config.fog_credentials &lt;span class="pl-k"&gt;=&lt;/span&gt; {
    &lt;span class="pl-c1"&gt;provider:&lt;/span&gt;           &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Rackspace&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;,
    &lt;span class="pl-c1"&gt;rackspace_username:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;xxxxxx&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;,
    &lt;span class="pl-c1"&gt;rackspace_api_key:&lt;/span&gt;  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;yyyyyy&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;,
    &lt;span class="pl-c1"&gt;rackspace_region:&lt;/span&gt;   &lt;span class="pl-c1"&gt;:ord&lt;/span&gt;                      &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; optional, defaults to :dfw&lt;/span&gt;
  }
  config.fog_directory &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;name_of_directory&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Using a UK-based account:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;CarrierWave&lt;/span&gt;.configure &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;config&lt;/span&gt;|
  config.fog_credentials &lt;span class="pl-k"&gt;=&lt;/span&gt; {
    &lt;span class="pl-c1"&gt;provider:&lt;/span&gt;           &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Rackspace&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;,
    &lt;span class="pl-c1"&gt;rackspace_username:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;xxxxxx&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;,
    &lt;span class="pl-c1"&gt;rackspace_api_key:&lt;/span&gt;  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;yyyyyy&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;,
    &lt;span class="pl-c1"&gt;rackspace_auth_url:&lt;/span&gt; &lt;span class="pl-c1"&gt;Fog&lt;/span&gt;::&lt;span class="pl-c1"&gt;Rackspace&lt;/span&gt;::&lt;span class="pl-c1"&gt;UK_AUTH_ENDPOINT&lt;/span&gt;,
    &lt;span class="pl-c1"&gt;rackspace_region:&lt;/span&gt;   &lt;span class="pl-c1"&gt;:lon&lt;/span&gt;
  }
  config.fog_directory &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;name_of_directory&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can optionally include your CDN host name in the configuration.
This is &lt;em&gt;highly&lt;/em&gt; recommended, as without it every request requires a lookup
of this information.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;config.asset_host &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://c000000.cdn.rackspacecloud.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In your uploader, set the storage to :fog&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;AvatarUploader&lt;span class="pl-e"&gt; &amp;lt; CarrierWave::Uploader::Base&lt;/span&gt;&lt;/span&gt;
  storage &lt;span class="pl-c1"&gt;:fog&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That's it! You can still use the &lt;code&gt;CarrierWave::Uploader#url&lt;/code&gt; method to return
the url to the file on Rackspace Cloud Files.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-using-google-storage-for-developers" class="anchor" aria-hidden="true" href="#using-google-storage-for-developers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using Google Storage for Developers&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://github.com/fog/fog-google"&gt;Fog&lt;/a&gt; is used to support Google Storage for Developers. Ensure you have it in your Gemfile:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;gem &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;fog-google&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
gem &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;google-api-client&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&amp;gt; 0.8.5&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&amp;lt; 0.9&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
gem &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;mime-types&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You'll need to configure a directory (also known as a bucket), access key id and secret access key in the initializer.
For the sake of performance it is assumed that the directory already exists, so please create it if need be.&lt;/p&gt;
&lt;p&gt;Please read the &lt;a href="https://github.com/fog/fog-google/blob/master/README.md"&gt;fog-google README&lt;/a&gt; on how to get credentials.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;CarrierWave&lt;/span&gt;.configure &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;config&lt;/span&gt;|
  config.fog_credentials &lt;span class="pl-k"&gt;=&lt;/span&gt; {
    &lt;span class="pl-c1"&gt;provider:&lt;/span&gt;                         &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Google&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;,
    &lt;span class="pl-c1"&gt;google_storage_access_key_id:&lt;/span&gt;     &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;xxxxxx&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;,
    &lt;span class="pl-c1"&gt;google_storage_secret_access_key:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;yyyyyy&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  }
  config.fog_directory &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;name_of_directory&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In your uploader, set the storage to :fog&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;AvatarUploader&lt;span class="pl-e"&gt; &amp;lt; CarrierWave::Uploader::Base&lt;/span&gt;&lt;/span&gt;
  storage &lt;span class="pl-c1"&gt;:fog&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That's it! You can still use the &lt;code&gt;CarrierWave::Uploader#url&lt;/code&gt; method to return
the url to the file on Google.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-optimized-loading-of-fog" class="anchor" aria-hidden="true" href="#optimized-loading-of-fog"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Optimized Loading of Fog&lt;/h2&gt;
&lt;p&gt;Since Carrierwave doesn't know which parts of Fog you intend to use, it will just load the entire library (unless you use e.g. [&lt;code&gt;fog-aws&lt;/code&gt;, &lt;code&gt;fog-google&lt;/code&gt;] instead of fog proper). If you prefer to load fewer classes into your application, you need to load those parts of Fog yourself &lt;em&gt;before&lt;/em&gt; loading CarrierWave in your Gemfile.  Ex:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;gem &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;fog&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;~&amp;gt; 1.27&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;require:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;fog/rackspace/storage&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
gem &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;carrierwave&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A couple of notes about versions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;This functionality was introduced in Fog v1.20.&lt;/li&gt;
&lt;li&gt;This functionality is slated for CarrierWave v1.0.0.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you're not relying on Gemfile entries alone and are requiring "carrierwave" anywhere, ensure you require "fog/rackspace/storage" before it.  Ex:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;fog/rackspace/storage&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;carrierwave&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Beware that this specific require is only needed when working with a fog provider that was not extracted to its own gem yet.
A list of the extracted providers can be found in the page of the &lt;code&gt;fog&lt;/code&gt; organizations &lt;a href="https://github.com/fog"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;When in doubt, inspect &lt;code&gt;Fog.constants&lt;/code&gt; to see what has been loaded.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-dynamic-asset-host" class="anchor" aria-hidden="true" href="#dynamic-asset-host"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Dynamic Asset Host&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;asset_host&lt;/code&gt; config property can be assigned a proc (or anything that responds to &lt;code&gt;call&lt;/code&gt;) for generating the host dynamically. The proc-compliant object gets an instance of the current &lt;code&gt;CarrierWave::Storage::Fog::File&lt;/code&gt; or &lt;code&gt;CarrierWave::SanitizedFile&lt;/code&gt; as its only argument.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;CarrierWave&lt;/span&gt;.configure &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;config&lt;/span&gt;|
  config.asset_host &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;proc&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;file&lt;/span&gt;|
    identifier &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; some logic&lt;/span&gt;
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://&lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt;identifier&lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt;.cdn.rackspacecloud.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-using-rmagick" class="anchor" aria-hidden="true" href="#using-rmagick"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using RMagick&lt;/h2&gt;
&lt;p&gt;If you're uploading images, you'll probably want to manipulate them in some way,
you might want to create thumbnail images for example. CarrierWave comes with a
small library to make manipulating images with RMagick easier, you'll need to
include it in your Uploader:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;AvatarUploader&lt;span class="pl-e"&gt; &amp;lt; CarrierWave::Uploader::Base&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;CarrierWave&lt;/span&gt;::&lt;span class="pl-c1"&gt;RMagick&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The RMagick module gives you a few methods, like
&lt;code&gt;CarrierWave::RMagick#resize_to_fill&lt;/code&gt; which manipulate the image file in some
way. You can set a &lt;code&gt;process&lt;/code&gt; callback, which will call that method any time a
file is uploaded.
There is a demonstration of convert here.
Convert will only work if the file has the same file extension, thus the use of the filename method.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;AvatarUploader&lt;span class="pl-e"&gt; &amp;lt; CarrierWave::Uploader::Base&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;CarrierWave&lt;/span&gt;::&lt;span class="pl-c1"&gt;RMagick&lt;/span&gt;

  process &lt;span class="pl-c1"&gt;resize_to_fill:&lt;/span&gt; [&lt;span class="pl-c1"&gt;200&lt;/span&gt;, &lt;span class="pl-c1"&gt;200&lt;/span&gt;]
  process &lt;span class="pl-c1"&gt;convert:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;png&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;filename&lt;/span&gt;
    &lt;span class="pl-k"&gt;super&lt;/span&gt;.&lt;span class="pl-c1"&gt;chomp&lt;/span&gt;(&lt;span class="pl-c1"&gt;File&lt;/span&gt;.extname(&lt;span class="pl-k"&gt;super&lt;/span&gt;)) &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;.png&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;if&lt;/span&gt; original_filename.present?
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Check out the manipulate! method, which makes it easy for you to write your own
manipulation methods.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-using-minimagick" class="anchor" aria-hidden="true" href="#using-minimagick"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using MiniMagick&lt;/h2&gt;
&lt;p&gt;MiniMagick is similar to RMagick but performs all the operations using the 'convert'
CLI which is part of the standard ImageMagick kit. This allows you to have the power
of ImageMagick without having to worry about installing all the RMagick libraries.&lt;/p&gt;
&lt;p&gt;See the MiniMagick site for more details:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/minimagick/minimagick"&gt;https://github.com/minimagick/minimagick&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;And the ImageMagick command line options for more for whats on offer:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.imagemagick.org/script/command-line-options.php" rel="nofollow"&gt;http://www.imagemagick.org/script/command-line-options.php&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Currently, the MiniMagick carrierwave processor provides exactly the same methods as
for the RMagick processor.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;AvatarUploader&lt;span class="pl-e"&gt; &amp;lt; CarrierWave::Uploader::Base&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;CarrierWave&lt;/span&gt;::&lt;span class="pl-c1"&gt;MiniMagick&lt;/span&gt;

  process &lt;span class="pl-c1"&gt;resize_to_fill:&lt;/span&gt; [&lt;span class="pl-c1"&gt;200&lt;/span&gt;, &lt;span class="pl-c1"&gt;200&lt;/span&gt;]
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-migrating-from-paperclip" class="anchor" aria-hidden="true" href="#migrating-from-paperclip"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Migrating from Paperclip&lt;/h2&gt;
&lt;p&gt;If you are using Paperclip, you can use the provided compatibility module:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;AvatarUploader&lt;span class="pl-e"&gt; &amp;lt; CarrierWave::Uploader::Base&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;CarrierWave&lt;/span&gt;::&lt;span class="pl-c1"&gt;Compatibility&lt;/span&gt;::&lt;span class="pl-c1"&gt;Paperclip&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;See the documentation for &lt;code&gt;CarrierWave::Compatibility::Paperclip&lt;/code&gt; for more
details.&lt;/p&gt;
&lt;p&gt;Be sure to use mount_on to specify the correct column:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;mount_uploader &lt;span class="pl-c1"&gt;:avatar&lt;/span&gt;, &lt;span class="pl-c1"&gt;AvatarUploader&lt;/span&gt;, &lt;span class="pl-c1"&gt;mount_on:&lt;/span&gt; &lt;span class="pl-c1"&gt;:avatar_file_name&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-i18n" class="anchor" aria-hidden="true" href="#i18n"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;I18n&lt;/h2&gt;
&lt;p&gt;The Active Record validations use the Rails &lt;code&gt;i18n&lt;/code&gt; framework. Add these keys to
your translations file:&lt;/p&gt;
&lt;div class="highlight highlight-source-yaml"&gt;&lt;pre&gt;&lt;span class="pl-ent"&gt;errors&lt;/span&gt;:
  &lt;span class="pl-ent"&gt;messages&lt;/span&gt;:
    &lt;span class="pl-ent"&gt;carrierwave_processing_error&lt;/span&gt;: &lt;span class="pl-s"&gt;failed to be processed&lt;/span&gt;
    &lt;span class="pl-ent"&gt;carrierwave_integrity_error&lt;/span&gt;: &lt;span class="pl-s"&gt;is not of an allowed file type&lt;/span&gt;
    &lt;span class="pl-ent"&gt;carrierwave_download_error&lt;/span&gt;: &lt;span class="pl-s"&gt;could not be downloaded&lt;/span&gt;
    &lt;span class="pl-ent"&gt;extension_whitelist_error&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;You are not allowed to upload %{extension} files, allowed types: %{allowed_types}&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
    &lt;span class="pl-ent"&gt;extension_blacklist_error&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;You are not allowed to upload %{extension} files, prohibited types: %{prohibited_types}&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
    &lt;span class="pl-ent"&gt;content_type_whitelist_error&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;You are not allowed to upload %{content_type} files, allowed types: %{allowed_types}&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
    &lt;span class="pl-ent"&gt;content_type_blacklist_error&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;You are not allowed to upload %{content_type} files&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
    &lt;span class="pl-ent"&gt;rmagick_processing_error&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Failed to manipulate with rmagick, maybe it is not an image?&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
    &lt;span class="pl-ent"&gt;mini_magick_processing_error&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Failed to manipulate with MiniMagick, maybe it is not an image? Original Error: %{e}&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
    &lt;span class="pl-ent"&gt;min_size_error&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;File size should be greater than %{min_size}&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
    &lt;span class="pl-ent"&gt;max_size_error&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;File size should be less than %{max_size}&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;a href="https://github.com/carrierwaveuploader/carrierwave-i18n"&gt;&lt;code&gt;carrierwave-i18n&lt;/code&gt;&lt;/a&gt;
library adds support for additional locales.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-large-files" class="anchor" aria-hidden="true" href="#large-files"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Large files&lt;/h2&gt;
&lt;p&gt;By default, CarrierWave copies an uploaded file twice, first copying the file into the cache, then
copying the file into the store.  For large files, this can be prohibitively time consuming.&lt;/p&gt;
&lt;p&gt;You may change this behavior by overriding either or both of the &lt;code&gt;move_to_cache&lt;/code&gt; and
&lt;code&gt;move_to_store&lt;/code&gt; methods:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyUploader&lt;span class="pl-e"&gt; &amp;lt; CarrierWave::Uploader::Base&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;move_to_cache&lt;/span&gt;
    &lt;span class="pl-c1"&gt;true&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;move_to_store&lt;/span&gt;
    &lt;span class="pl-c1"&gt;true&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When the &lt;code&gt;move_to_cache&lt;/code&gt; and/or &lt;code&gt;move_to_store&lt;/code&gt; methods return true, files will be moved (instead of copied) to the cache and store respectively.&lt;/p&gt;
&lt;p&gt;This has only been tested with the local filesystem store.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-skipping-activerecord-callbacks" class="anchor" aria-hidden="true" href="#skipping-activerecord-callbacks"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Skipping ActiveRecord callbacks&lt;/h2&gt;
&lt;p&gt;By default, mounting an uploader into an ActiveRecord model will add a few
callbacks. For example, this code:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;User&lt;/span&gt;
  mount_uploader &lt;span class="pl-c1"&gt;:avatar&lt;/span&gt;, &lt;span class="pl-c1"&gt;AvatarUploader&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Will add these callbacks:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;after_save &lt;span class="pl-c1"&gt;:store_avatar!&lt;/span&gt;
before_save &lt;span class="pl-c1"&gt;:write_avatar_identifier&lt;/span&gt;
after_commit &lt;span class="pl-c1"&gt;:remove_avatar!&lt;/span&gt;, &lt;span class="pl-c1"&gt;on:&lt;/span&gt; &lt;span class="pl-c1"&gt;:destroy&lt;/span&gt;
after_commit &lt;span class="pl-c1"&gt;:mark_remove_avatar_false&lt;/span&gt;, &lt;span class="pl-c1"&gt;on:&lt;/span&gt; &lt;span class="pl-c1"&gt;:update&lt;/span&gt;
after_save &lt;span class="pl-c1"&gt;:store_previous_changes_for_avatar&lt;/span&gt;
after_commit &lt;span class="pl-c1"&gt;:remove_previously_stored_avatar&lt;/span&gt;, &lt;span class="pl-c1"&gt;on:&lt;/span&gt; &lt;span class="pl-c1"&gt;:update&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you want to skip any of these callbacks (eg. you want to keep the existing
avatar, even after uploading a new one), you can use ActiveRecords
&lt;code&gt;skip_callback&lt;/code&gt; method.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;User&lt;/span&gt;
  mount_uploader &lt;span class="pl-c1"&gt;:avatar&lt;/span&gt;, &lt;span class="pl-c1"&gt;AvatarUploader&lt;/span&gt;
  skip_callback &lt;span class="pl-c1"&gt;:commit&lt;/span&gt;, &lt;span class="pl-c1"&gt;:after&lt;/span&gt;, &lt;span class="pl-c1"&gt;:remove_previously_stored_avatar&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-contributing-to-carrierwave" class="anchor" aria-hidden="true" href="#contributing-to-carrierwave"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing to CarrierWave&lt;/h2&gt;
&lt;p&gt;See &lt;a href="https://github.com/carrierwaveuploader/carrierwave/blob/master/CONTRIBUTING.md"&gt;CONTRIBUTING.md&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;Copyright (c) 2008-2015 Jonas Nicklas&lt;/p&gt;
&lt;p&gt;Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:&lt;/p&gt;
&lt;p&gt;The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.&lt;/p&gt;
&lt;p&gt;THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>carrierwaveuploader</author><guid isPermaLink="false">https://github.com/carrierwaveuploader/carrierwave</guid><pubDate>Mon, 10 Feb 2020 00:07:00 GMT</pubDate></item><item><title>heartcombo/devise #8 in Ruby, This week</title><link>https://github.com/heartcombo/devise</link><description>&lt;p&gt;&lt;i&gt;Flexible authentication solution for Rails with Warden.&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/678fc26ec9f3bdd7aede229c50083f16cd21df51/68747470733a2f2f7261772e6769746875622e636f6d2f6865617274636f6d626f2f6465766973652f6d61737465722f6465766973652e706e67"&gt;&lt;img src="https://camo.githubusercontent.com/678fc26ec9f3bdd7aede229c50083f16cd21df51/68747470733a2f2f7261772e6769746875622e636f6d2f6865617274636f6d626f2f6465766973652f6d61737465722f6465766973652e706e67" alt="Devise Logo" data-canonical-src="https://raw.github.com/heartcombo/devise/master/devise.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://travis-ci.org/heartcombo/devise" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/3e9c1393498423690c13d135882fcfbc0e1b9d18/68747470733a2f2f6170692e7472617669732d63692e6f72672f6865617274636f6d626f2f6465766973652e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://api.travis-ci.org/heartcombo/devise.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://codeclimate.com/github/heartcombo/devise" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/a011fdfd1b0dceb577ad79209324ac207dad0152/68747470733a2f2f636f6465636c696d6174652e636f6d2f6769746875622f6865617274636f6d626f2f6465766973652e737667" alt="Code Climate" data-canonical-src="https://codeclimate.com/github/heartcombo/devise.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Devise is a flexible authentication solution for Rails based on Warden. It:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Is Rack based;&lt;/li&gt;
&lt;li&gt;Is a complete MVC solution based on Rails engines;&lt;/li&gt;
&lt;li&gt;Allows you to have multiple models signed in at the same time;&lt;/li&gt;
&lt;li&gt;Is based on a modularity concept: use only what you really need.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It's composed of 10 modules:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.rubydoc.info/github/heartcombo/devise/master/Devise/Models/DatabaseAuthenticatable" rel="nofollow"&gt;Database Authenticatable&lt;/a&gt;: hashes and stores a password in the database to validate the authenticity of a user while signing in. The authentication can be done both through POST requests or HTTP Basic Authentication.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.rubydoc.info/github/heartcombo/devise/master/Devise/Models/Omniauthable" rel="nofollow"&gt;Omniauthable&lt;/a&gt;: adds OmniAuth (&lt;a href="https://github.com/omniauth/omniauth"&gt;https://github.com/omniauth/omniauth&lt;/a&gt;) support.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.rubydoc.info/github/heartcombo/devise/master/Devise/Models/Confirmable" rel="nofollow"&gt;Confirmable&lt;/a&gt;: sends emails with confirmation instructions and verifies whether an account is already confirmed during sign in.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.rubydoc.info/github/heartcombo/devise/master/Devise/Models/Recoverable" rel="nofollow"&gt;Recoverable&lt;/a&gt;: resets the user password and sends reset instructions.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.rubydoc.info/github/heartcombo/devise/master/Devise/Models/Registerable" rel="nofollow"&gt;Registerable&lt;/a&gt;: handles signing up users through a registration process, also allowing them to edit and destroy their account.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.rubydoc.info/github/heartcombo/devise/master/Devise/Models/Rememberable" rel="nofollow"&gt;Rememberable&lt;/a&gt;: manages generating and clearing a token for remembering the user from a saved cookie.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.rubydoc.info/github/heartcombo/devise/master/Devise/Models/Trackable" rel="nofollow"&gt;Trackable&lt;/a&gt;: tracks sign in count, timestamps and IP address.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.rubydoc.info/github/heartcombo/devise/master/Devise/Models/Timeoutable" rel="nofollow"&gt;Timeoutable&lt;/a&gt;: expires sessions that have not been active in a specified period of time.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.rubydoc.info/github/heartcombo/devise/master/Devise/Models/Validatable" rel="nofollow"&gt;Validatable&lt;/a&gt;: provides validations of email and password. It's optional and can be customized, so you're able to define your own validations.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.rubydoc.info/github/heartcombo/devise/master/Devise/Models/Lockable" rel="nofollow"&gt;Lockable&lt;/a&gt;: locks an account after a specified number of failed sign-in attempts. Can unlock via email or after a specified time period.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-table-of-contents" class="anchor" aria-hidden="true" href="#table-of-contents"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Table of Contents&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="#information"&gt;Information&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#the-devise-wiki"&gt;The Devise wiki&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#bug-reports"&gt;Bug reports&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#stackoverflow-and-mailing-list"&gt;StackOverflow and Mailing List&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#rdocs"&gt;RDocs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#example-applications"&gt;Example applications&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#extensions"&gt;Extensions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#contributing"&gt;Contributing&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#starting-with-rails"&gt;Starting with Rails?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#getting-started"&gt;Getting started&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#controller-filters-and-helpers"&gt;Controller filters and helpers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#configuring-models"&gt;Configuring Models&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#strong-parameters"&gt;Strong Parameters&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#configuring-views"&gt;Configuring views&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#configuring-controllers"&gt;Configuring controllers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#configuring-routes"&gt;Configuring routes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#i18n"&gt;I18n&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#test-helpers"&gt;Test helpers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#controller-tests"&gt;Controller tests&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#integration-tests"&gt;Integration tests&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#omniauth"&gt;OmniAuth&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#configuring-multiple-models"&gt;Configuring multiple models&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#activejob-integration"&gt;ActiveJob Integration&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#password-reset-tokens-and-rails-logs"&gt;Password reset tokens and Rails logs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#other-orms"&gt;Other ORMs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#rails-api-mode"&gt;Rails API mode&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#additional-information"&gt;Additional information&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#heroku"&gt;Heroku&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#warden"&gt;Warden&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#contributors"&gt;Contributors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#license"&gt;License&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;&lt;a id="user-content-information" class="anchor" aria-hidden="true" href="#information"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Information&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-the-devise-wiki" class="anchor" aria-hidden="true" href="#the-devise-wiki"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The Devise wiki&lt;/h3&gt;
&lt;p&gt;The Devise Wiki has lots of additional information about Devise including many "how-to" articles and answers to the most frequently asked questions. Please browse the Wiki after finishing this README:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/heartcombo/devise/wiki"&gt;https://github.com/heartcombo/devise/wiki&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-bug-reports" class="anchor" aria-hidden="true" href="#bug-reports"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bug reports&lt;/h3&gt;
&lt;p&gt;If you discover a problem with Devise, we would like to know about it. However, we ask that you please review these guidelines before submitting a bug report:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/heartcombo/devise/wiki/Bug-reports"&gt;https://github.com/heartcombo/devise/wiki/Bug-reports&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If you have discovered a security related bug, please do &lt;em&gt;NOT&lt;/em&gt; use the GitHub issue tracker. Send an email to &lt;a href="mailto:heartcombo@googlegroups.com"&gt;heartcombo@googlegroups.com&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-stackoverflow-and-mailing-list" class="anchor" aria-hidden="true" href="#stackoverflow-and-mailing-list"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;StackOverflow and Mailing List&lt;/h3&gt;
&lt;p&gt;If you have any questions, comments, or concerns, please use StackOverflow instead of the GitHub issue tracker:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://stackoverflow.com/questions/tagged/devise" rel="nofollow"&gt;http://stackoverflow.com/questions/tagged/devise&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The deprecated mailing list can still be read on&lt;/p&gt;
&lt;p&gt;&lt;a href="https://groups.google.com/group/plataformatec-devise" rel="nofollow"&gt;https://groups.google.com/group/plataformatec-devise&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-rdocs" class="anchor" aria-hidden="true" href="#rdocs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;RDocs&lt;/h3&gt;
&lt;p&gt;You can view the Devise documentation in RDoc format here:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://rubydoc.info/github/heartcombo/devise/master/frames" rel="nofollow"&gt;http://rubydoc.info/github/heartcombo/devise/master/frames&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If you need to use Devise with previous versions of Rails, you can always run "gem server" from the command line after you install the gem to access the old documentation.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-example-applications" class="anchor" aria-hidden="true" href="#example-applications"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example applications&lt;/h3&gt;
&lt;p&gt;There are a few example applications available on GitHub that demonstrate various features of Devise with different versions of Rails. You can view them here:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/heartcombo/devise/wiki/Example-Applications"&gt;https://github.com/heartcombo/devise/wiki/Example-Applications&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-extensions" class="anchor" aria-hidden="true" href="#extensions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Extensions&lt;/h3&gt;
&lt;p&gt;Our community has created a number of extensions that add functionality above and beyond what is included with Devise. You can view a list of available extensions and add your own here:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/heartcombo/devise/wiki/Extensions"&gt;https://github.com/heartcombo/devise/wiki/Extensions&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing&lt;/h3&gt;
&lt;p&gt;We hope that you will consider contributing to Devise. Please read this short overview for some information about how to get started:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/heartcombo/devise/wiki/Contributing"&gt;https://github.com/heartcombo/devise/wiki/Contributing&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You will usually want to write tests for your changes.  To run the test suite, go into Devise's top-level directory and run &lt;code&gt;bundle install&lt;/code&gt; and &lt;code&gt;bin/test&lt;/code&gt;.
Devise works with multiple Ruby and Rails versions, and ActiveRecord and Mongoid ORMs, which means you can run the test suite with some modifiers: &lt;code&gt;DEVISE_ORM&lt;/code&gt; and &lt;code&gt;BUNDLE_GEMFILE&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-devise_orm" class="anchor" aria-hidden="true" href="#devise_orm"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;DEVISE_ORM&lt;/h3&gt;
&lt;p&gt;Since Devise support both Mongoid and ActiveRecord, we rely on this variable to run specific code for each ORM.
The default value of &lt;code&gt;DEVISE_ORM&lt;/code&gt; is &lt;code&gt;active_record&lt;/code&gt;. To run the tests for mongoid, you can pass &lt;code&gt;mongoid&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;DEVISE_ORM=mongoid bin/test

==&amp;gt; Devise.orm = :mongoid
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;When running the tests for Mongoid, you will need to have a MongoDB server (version 2.0 or newer) running on your system.&lt;/p&gt;
&lt;p&gt;Please note that the command output will show the variable value being used.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-bundle_gemfile" class="anchor" aria-hidden="true" href="#bundle_gemfile"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;BUNDLE_GEMFILE&lt;/h3&gt;
&lt;p&gt;We can use this variable to tell bundler what Gemfile it should use (instead of the one in the current directory).
Inside the &lt;a href="https://github.com/heartcombo/devise/tree/master/gemfiles"&gt;gemfiles&lt;/a&gt; directory, we have one for each version of Rails we support. When you send us a pull request, it may happen that the test suite breaks on Travis using some of them. If that's the case, you can simulate the same environment using the &lt;code&gt;BUNDLE_GEMFILE&lt;/code&gt; variable.
For example, if the tests broke using Ruby 2.4.2 and Rails 4.1, you can do the following:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;rbenv shell 2.4.2 &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; or rvm use 2.4.2&lt;/span&gt;
BUNDLE_GEMFILE=gemfiles/Gemfile.rails-4.1-stable bundle install
BUNDLE_GEMFILE=gemfiles/Gemfile.rails-4.1-stable bin/test&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can also combine both of them if the tests broke for Mongoid:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;BUNDLE_GEMFILE=gemfiles/Gemfile.rails-4.1-stable bundle install
BUNDLE_GEMFILE=gemfiles/Gemfile.rails-4.1-stable DEVISE_ORM=mongoid bin/test&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-running-tests" class="anchor" aria-hidden="true" href="#running-tests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Running tests&lt;/h3&gt;
&lt;p&gt;Devise uses &lt;a href="https://github.com/seattlerb/minitest"&gt;Mini Test&lt;/a&gt; as test framework.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Running all tests:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;bin/test&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Running tests for an specific file:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;bin/test test/models/trackable_test.rb&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Running a specific test given a regex:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;bin/test test/models/trackable_test.rb:16&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-starting-with-rails" class="anchor" aria-hidden="true" href="#starting-with-rails"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Starting with Rails?&lt;/h2&gt;
&lt;p&gt;If you are building your first Rails application, we recommend you &lt;em&gt;do not&lt;/em&gt; use Devise. Devise requires a good understanding of the Rails Framework. In such cases, we advise you to start a simple authentication system from scratch. Today, we have three resources that should help you get started:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Michael Hartl's online book: &lt;a href="https://www.railstutorial.org/book/modeling_users" rel="nofollow"&gt;https://www.railstutorial.org/book/modeling_users&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Ryan Bates' Railscast: &lt;a href="http://railscasts.com/episodes/250-authentication-from-scratch" rel="nofollow"&gt;http://railscasts.com/episodes/250-authentication-from-scratch&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Codecademy's Ruby on Rails: Authentication and Authorization: &lt;a href="https://www.codecademy.com/learn/rails-auth" rel="nofollow"&gt;https://www.codecademy.com/learn/rails-auth&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Once you have solidified your understanding of Rails and authentication mechanisms, we assure you Devise will be very pleasant to work with. &lt;g-emoji class="g-emoji" alias="smiley" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f603.png"&gt;&lt;/g-emoji&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-getting-started" class="anchor" aria-hidden="true" href="#getting-started"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Getting started&lt;/h2&gt;
&lt;p&gt;Devise 4.0 works with Rails 4.1 onwards. Add the following line to your Gemfile:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;gem &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;devise&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then run &lt;code&gt;bundle install&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Next, you need to run the generator:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;rails generate devise:install&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;At this point, a number of instructions will appear in the console. Among these instructions, you'll need to set up the default URL options for the Devise mailer in each environment. Here is a possible configuration for &lt;code&gt;config/environments/development.rb&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;config.action_mailer.default_url_options &lt;span class="pl-k"&gt;=&lt;/span&gt; { &lt;span class="pl-c1"&gt;host:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;localhost&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;port:&lt;/span&gt; &lt;span class="pl-c1"&gt;3000&lt;/span&gt; }&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The generator will install an initializer which describes ALL of Devise's configuration options. It is &lt;em&gt;imperative&lt;/em&gt; that you take a look at it. When you are done, you are ready to add Devise to any of your models using the generator.&lt;/p&gt;
&lt;p&gt;In the following command you will replace &lt;code&gt;MODEL&lt;/code&gt; with the class name used for the applications users (its frequently &lt;code&gt;User&lt;/code&gt; but could also be &lt;code&gt;Admin&lt;/code&gt;). This will create a model (if one does not exist) and configure it with the default Devise modules. The generator also configures your &lt;code&gt;config/routes.rb&lt;/code&gt; file to point to the Devise controller.&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;rails generate devise MODEL&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Next, check the MODEL for any additional configuration options you might want to add, such as confirmable or lockable. If you add an option, be sure to inspect the migration file (created by the generator if your ORM supports them) and uncomment the appropriate section.  For example, if you add the confirmable option in the model, you'll need to uncomment the Confirmable section in the migration.&lt;/p&gt;
&lt;p&gt;Then run &lt;code&gt;rails db:migrate&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;You should restart your application after changing Devise's configuration options (this includes stopping spring). Otherwise, you will run into strange errors, for example, users being unable to login and route helpers being undefined.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-controller-filters-and-helpers" class="anchor" aria-hidden="true" href="#controller-filters-and-helpers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Controller filters and helpers&lt;/h3&gt;
&lt;p&gt;Devise will create some helpers to use inside your controllers and views. To set up a controller with user authentication, just add this before_action (assuming your devise model is 'User'):&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;before_action &lt;span class="pl-c1"&gt;:authenticate_user!&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For Rails 5, note that &lt;code&gt;protect_from_forgery&lt;/code&gt; is no longer prepended to the &lt;code&gt;before_action&lt;/code&gt; chain, so if you have set &lt;code&gt;authenticate_user&lt;/code&gt; before &lt;code&gt;protect_from_forgery&lt;/code&gt;, your request will result in "Can't verify CSRF token authenticity." To resolve this, either change the order in which you call them, or use &lt;code&gt;protect_from_forgery prepend: true&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;If your devise model is something other than User, replace "_user" with "_yourmodel". The same logic applies to the instructions below.&lt;/p&gt;
&lt;p&gt;To verify if a user is signed in, use the following helper:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;user_signed_in?&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For the current signed-in user, this helper is available:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;current_user&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can access the session for this scope:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;user_session&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After signing in a user, confirming the account or updating the password, Devise will look for a scoped root path to redirect to. For instance, when using a &lt;code&gt;:user&lt;/code&gt; resource, the &lt;code&gt;user_root_path&lt;/code&gt; will be used if it exists; otherwise, the default &lt;code&gt;root_path&lt;/code&gt; will be used. This means that you need to set the root inside your routes:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;root &lt;span class="pl-c1"&gt;to:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;home#index&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can also override &lt;code&gt;after_sign_in_path_for&lt;/code&gt; and &lt;code&gt;after_sign_out_path_for&lt;/code&gt; to customize your redirect hooks.&lt;/p&gt;
&lt;p&gt;Notice that if your Devise model is called &lt;code&gt;Member&lt;/code&gt; instead of &lt;code&gt;User&lt;/code&gt;, for example, then the helpers available are:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;before_action &lt;span class="pl-c1"&gt;:authenticate_member!&lt;/span&gt;

member_signed_in?

current_member

member_session&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-configuring-models" class="anchor" aria-hidden="true" href="#configuring-models"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Configuring Models&lt;/h3&gt;
&lt;p&gt;The Devise method in your models also accepts some options to configure its modules. For example, you can choose the cost of the hashing algorithm with:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;devise &lt;span class="pl-c1"&gt;:database_authenticatable&lt;/span&gt;, &lt;span class="pl-c1"&gt;:registerable&lt;/span&gt;, &lt;span class="pl-c1"&gt;:confirmable&lt;/span&gt;, &lt;span class="pl-c1"&gt;:recoverable&lt;/span&gt;, &lt;span class="pl-c1"&gt;stretches:&lt;/span&gt; &lt;span class="pl-c1"&gt;13&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Besides &lt;code&gt;:stretches&lt;/code&gt;, you can define &lt;code&gt;:pepper&lt;/code&gt;, &lt;code&gt;:encryptor&lt;/code&gt;, &lt;code&gt;:confirm_within&lt;/code&gt;, &lt;code&gt;:remember_for&lt;/code&gt;, &lt;code&gt;:timeout_in&lt;/code&gt;, &lt;code&gt;:unlock_in&lt;/code&gt; among other options. For more details, see the initializer file that was created when you invoked the "devise:install" generator described above. This file is usually located at &lt;code&gt;/config/initializers/devise.rb&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-strong-parameters" class="anchor" aria-hidden="true" href="#strong-parameters"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Strong Parameters&lt;/h3&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/50bf54a71ba05c29e6c1c1e55e021373f82f3741/687474703a2f2f6d657373616765732e68656c6c6f626974732e636f6d2f7761726e696e672e7376673f6d6573736167653d546865253230506172616d6574657225323053616e6974697a65722532304150492532306861732532306368616e676564253230666f7225323044657669736525323034"&gt;&lt;img src="https://camo.githubusercontent.com/50bf54a71ba05c29e6c1c1e55e021373f82f3741/687474703a2f2f6d657373616765732e68656c6c6f626974732e636f6d2f7761726e696e672e7376673f6d6573736167653d546865253230506172616d6574657225323053616e6974697a65722532304150492532306861732532306368616e676564253230666f7225323044657669736525323034" alt="The Parameter Sanitizer API has changed for Devise 4" data-canonical-src="http://messages.hellobits.com/warning.svg?message=The%20Parameter%20Sanitizer%20API%20has%20changed%20for%20Devise%204" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;For previous Devise versions see &lt;a href="https://github.com/heartcombo/devise/tree/3-stable#strong-parameters"&gt;https://github.com/heartcombo/devise/tree/3-stable#strong-parameters&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;When you customize your own views, you may end up adding new attributes to forms. Rails 4 moved the parameter sanitization from the model to the controller, causing Devise to handle this concern at the controller as well.&lt;/p&gt;
&lt;p&gt;There are just three actions in Devise that allow any set of parameters to be passed down to the model, therefore requiring sanitization. Their names and default permitted parameters are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sign_in&lt;/code&gt; (&lt;code&gt;Devise::SessionsController#create&lt;/code&gt;) - Permits only the authentication keys (like &lt;code&gt;email&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sign_up&lt;/code&gt; (&lt;code&gt;Devise::RegistrationsController#create&lt;/code&gt;) - Permits authentication keys plus &lt;code&gt;password&lt;/code&gt; and &lt;code&gt;password_confirmation&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;account_update&lt;/code&gt; (&lt;code&gt;Devise::RegistrationsController#update&lt;/code&gt;) - Permits authentication keys plus &lt;code&gt;password&lt;/code&gt;, &lt;code&gt;password_confirmation&lt;/code&gt; and &lt;code&gt;current_password&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In case you want to permit additional parameters (the lazy way), you can do so using a simple before action in your &lt;code&gt;ApplicationController&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;ApplicationController&lt;span class="pl-e"&gt; &amp;lt; ActionController::Base&lt;/span&gt;&lt;/span&gt;
  before_action &lt;span class="pl-c1"&gt;:configure_permitted_parameters&lt;/span&gt;, &lt;span class="pl-c1"&gt;if:&lt;/span&gt; &lt;span class="pl-c1"&gt;:devise_controller?&lt;/span&gt;

  &lt;span class="pl-k"&gt;protected&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;configure_permitted_parameters&lt;/span&gt;
    devise_parameter_sanitizer.permit(&lt;span class="pl-c1"&gt;:sign_up&lt;/span&gt;, &lt;span class="pl-c1"&gt;keys:&lt;/span&gt; [&lt;span class="pl-c1"&gt;:username&lt;/span&gt;])
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The above works for any additional fields where the parameters are simple scalar types. If you have nested attributes (say you're using &lt;code&gt;accepts_nested_attributes_for&lt;/code&gt;), then you will need to tell devise about those nestings and types:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;ApplicationController&lt;span class="pl-e"&gt; &amp;lt; ActionController::Base&lt;/span&gt;&lt;/span&gt;
  before_action &lt;span class="pl-c1"&gt;:configure_permitted_parameters&lt;/span&gt;, &lt;span class="pl-c1"&gt;if:&lt;/span&gt; &lt;span class="pl-c1"&gt;:devise_controller?&lt;/span&gt;

  &lt;span class="pl-k"&gt;protected&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;configure_permitted_parameters&lt;/span&gt;
    devise_parameter_sanitizer.permit(&lt;span class="pl-c1"&gt;:sign_up&lt;/span&gt;, &lt;span class="pl-c1"&gt;keys:&lt;/span&gt; [&lt;span class="pl-c1"&gt;:first_name&lt;/span&gt;, &lt;span class="pl-c1"&gt;:last_name&lt;/span&gt;, &lt;span class="pl-c1"&gt;address_attributes:&lt;/span&gt; [&lt;span class="pl-c1"&gt;:country&lt;/span&gt;, &lt;span class="pl-c1"&gt;:state&lt;/span&gt;, &lt;span class="pl-c1"&gt;:city&lt;/span&gt;, &lt;span class="pl-c1"&gt;:area&lt;/span&gt;, &lt;span class="pl-c1"&gt;:postal_code&lt;/span&gt;]])
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Devise allows you to completely change Devise defaults or invoke custom behaviour by passing a block:&lt;/p&gt;
&lt;p&gt;To permit simple scalar values for username and email, use this&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;configure_permitted_parameters&lt;/span&gt;
  devise_parameter_sanitizer.permit(&lt;span class="pl-c1"&gt;:sign_in&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;user_params&lt;/span&gt;|
    user_params.permit(&lt;span class="pl-c1"&gt;:username&lt;/span&gt;, &lt;span class="pl-c1"&gt;:email&lt;/span&gt;)
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you have some checkboxes that express the roles a user may take on registration, the browser will send those selected checkboxes as an array. An array is not one of Strong Parameters' permitted scalars, so we need to configure Devise in the following way:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;configure_permitted_parameters&lt;/span&gt;
  devise_parameter_sanitizer.permit(&lt;span class="pl-c1"&gt;:sign_up&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;user_params&lt;/span&gt;|
    user_params.permit({ &lt;span class="pl-c1"&gt;roles:&lt;/span&gt; [] }, &lt;span class="pl-c1"&gt;:email&lt;/span&gt;, &lt;span class="pl-c1"&gt;:password&lt;/span&gt;, &lt;span class="pl-c1"&gt;:password_confirmation&lt;/span&gt;)
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For the list of permitted scalars, and how to declare permitted keys in nested hashes and arrays, see&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/rails/strong_parameters#nested-parameters"&gt;https://github.com/rails/strong_parameters#nested-parameters&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If you have multiple Devise models, you may want to set up a different parameter sanitizer per model. In this case, we recommend inheriting from &lt;code&gt;Devise::ParameterSanitizer&lt;/code&gt; and adding your own logic:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;User::ParameterSanitizer&lt;span class="pl-e"&gt; &amp;lt; Devise::ParameterSanitizer&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;initialize&lt;/span&gt;(&lt;span class="pl-k"&gt;*&lt;/span&gt;)
    &lt;span class="pl-k"&gt;super&lt;/span&gt;
    permit(&lt;span class="pl-c1"&gt;:sign_up&lt;/span&gt;, &lt;span class="pl-c1"&gt;keys:&lt;/span&gt; [&lt;span class="pl-c1"&gt;:username&lt;/span&gt;, &lt;span class="pl-c1"&gt;:email&lt;/span&gt;])
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And then configure your controllers to use it:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;ApplicationController&lt;span class="pl-e"&gt; &amp;lt; ActionController::Base&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;protected&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;devise_parameter_sanitizer&lt;/span&gt;
    &lt;span class="pl-k"&gt;if&lt;/span&gt; resource_class &lt;span class="pl-k"&gt;==&lt;/span&gt; &lt;span class="pl-c1"&gt;User&lt;/span&gt;
      &lt;span class="pl-c1"&gt;User&lt;/span&gt;::&lt;span class="pl-c1"&gt;ParameterSanitizer&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(&lt;span class="pl-c1"&gt;User&lt;/span&gt;, &lt;span class="pl-c1"&gt;:user&lt;/span&gt;, params)
    &lt;span class="pl-k"&gt;else&lt;/span&gt;
      &lt;span class="pl-k"&gt;super&lt;/span&gt; &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Use the default one&lt;/span&gt;
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The example above overrides the permitted parameters for the user to be both &lt;code&gt;:username&lt;/code&gt; and &lt;code&gt;:email&lt;/code&gt;. The non-lazy way to configure parameters would be by defining the before filter above in a custom controller. We detail how to configure and customize controllers in some sections below.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-configuring-views" class="anchor" aria-hidden="true" href="#configuring-views"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Configuring views&lt;/h3&gt;
&lt;p&gt;We built Devise to help you quickly develop an application that uses authentication. However, we don't want to be in your way when you need to customize it.&lt;/p&gt;
&lt;p&gt;Since Devise is an engine, all its views are packaged inside the gem. These views will help you get started, but after some time you may want to change them. If this is the case, you just need to invoke the following generator, and it will copy all views to your application:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;rails generate devise:views&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you have more than one Devise model in your application (such as &lt;code&gt;User&lt;/code&gt; and &lt;code&gt;Admin&lt;/code&gt;), you will notice that Devise uses the same views for all models. Fortunately, Devise offers an easy way to customize views. All you need to do is set &lt;code&gt;config.scoped_views = true&lt;/code&gt; inside the &lt;code&gt;config/initializers/devise.rb&lt;/code&gt; file.&lt;/p&gt;
&lt;p&gt;After doing so, you will be able to have views based on the role like &lt;code&gt;users/sessions/new&lt;/code&gt; and &lt;code&gt;admins/sessions/new&lt;/code&gt;. If no view is found within the scope, Devise will use the default view at &lt;code&gt;devise/sessions/new&lt;/code&gt;. You can also use the generator to generate scoped views:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;rails generate devise:views users&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you would like to generate only a few sets of views, like the ones for the &lt;code&gt;registerable&lt;/code&gt; and &lt;code&gt;confirmable&lt;/code&gt; module,
you can pass a list of modules to the generator with the &lt;code&gt;-v&lt;/code&gt; flag.&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;rails generate devise:views -v registrations confirmations&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-configuring-controllers" class="anchor" aria-hidden="true" href="#configuring-controllers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Configuring controllers&lt;/h3&gt;
&lt;p&gt;If the customization at the views level is not enough, you can customize each controller by following these steps:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Create your custom controllers using the generator which requires a scope:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;rails generate devise:controllers [scope]&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you specify &lt;code&gt;users&lt;/code&gt; as the scope, controllers will be created in &lt;code&gt;app/controllers/users/&lt;/code&gt;.
And the sessions controller will look like this:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Users::SessionsController&lt;span class="pl-e"&gt; &amp;lt; Devise::SessionsController&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; GET /resource/sign_in&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; def new&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;   super&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; end&lt;/span&gt;
  ...
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;(Use the -c flag to specify a controller, for example: &lt;code&gt;rails generate devise:controllers users -c=sessions&lt;/code&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Tell the router to use this controller:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;devise_for &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;controllers:&lt;/span&gt; { &lt;span class="pl-c1"&gt;sessions:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;users/sessions&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; }&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Copy the views from &lt;code&gt;devise/sessions&lt;/code&gt; to &lt;code&gt;users/sessions&lt;/code&gt;. Since the controller was changed, it won't use the default views located in &lt;code&gt;devise/sessions&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Finally, change or extend the desired controller actions.&lt;/p&gt;
&lt;p&gt;You can completely override a controller action:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Users::SessionsController&lt;span class="pl-e"&gt; &amp;lt; Devise::SessionsController&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;create&lt;/span&gt;
    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; custom sign-in code&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or you can simply add new behaviour to it:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Users::SessionsController&lt;span class="pl-e"&gt; &amp;lt; Devise::SessionsController&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;create&lt;/span&gt;
    &lt;span class="pl-k"&gt;super&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;resource&lt;/span&gt;|
      &lt;span class="pl-c1"&gt;BackgroundWorker&lt;/span&gt;.trigger(resource)
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is useful for triggering background jobs or logging events during certain actions.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Remember that Devise uses flash messages to let users know if sign in was successful or unsuccessful. Devise expects your application to call &lt;code&gt;flash[:notice]&lt;/code&gt; and &lt;code&gt;flash[:alert]&lt;/code&gt; as appropriate. Do not print the entire flash hash, print only specific keys. In some circumstances, Devise adds a &lt;code&gt;:timedout&lt;/code&gt; key to the flash hash, which is not meant for display. Remove this key from the hash if you intend to print the entire hash.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-configuring-routes" class="anchor" aria-hidden="true" href="#configuring-routes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Configuring routes&lt;/h3&gt;
&lt;p&gt;Devise also ships with default routes. If you need to customize them, you should probably be able to do it through the devise_for method. It accepts several options like :class_name, :path_prefix and so on, including the possibility to change path names for I18n:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;devise_for &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;path:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;auth&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;path_names:&lt;/span&gt; { &lt;span class="pl-c1"&gt;sign_in:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;login&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;sign_out:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;logout&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;password:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;secret&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;confirmation:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;verification&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;unlock:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;unblock&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;registration:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;register&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;sign_up:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;cmon_let_me_in&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; }&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Be sure to check &lt;code&gt;devise_for&lt;/code&gt; &lt;a href="http://www.rubydoc.info/github/heartcombo/devise/master/ActionDispatch/Routing/Mapper%3Adevise_for" rel="nofollow"&gt;documentation&lt;/a&gt; for details.&lt;/p&gt;
&lt;p&gt;If you have the need for more deep customization, for instance to also allow "/sign_in" besides "/users/sign_in", all you need to do is create your routes normally and wrap them in a &lt;code&gt;devise_scope&lt;/code&gt; block in the router:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;devise_scope &lt;span class="pl-c1"&gt;:user&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
  get &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;sign_in&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;to:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;devise/sessions#new&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This way, you tell Devise to use the scope &lt;code&gt;:user&lt;/code&gt; when "/sign_in" is accessed. Notice &lt;code&gt;devise_scope&lt;/code&gt; is also aliased as &lt;code&gt;as&lt;/code&gt; in your router.&lt;/p&gt;
&lt;p&gt;Please note: You will still need to add &lt;code&gt;devise_for&lt;/code&gt; in your routes in order to use helper methods such as &lt;code&gt;current_user&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;devise_for &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;skip:&lt;/span&gt; &lt;span class="pl-c1"&gt;:all&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-i18n" class="anchor" aria-hidden="true" href="#i18n"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;I18n&lt;/h3&gt;
&lt;p&gt;Devise uses flash messages with I18n, in conjunction with the flash keys :notice and :alert. To customize your app, you can set up your locale file:&lt;/p&gt;
&lt;div class="highlight highlight-source-yaml"&gt;&lt;pre&gt;&lt;span class="pl-ent"&gt;en&lt;/span&gt;:
  &lt;span class="pl-ent"&gt;devise&lt;/span&gt;:
    &lt;span class="pl-ent"&gt;sessions&lt;/span&gt;:
      &lt;span class="pl-ent"&gt;signed_in&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Signed in successfully.&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can also create distinct messages based on the resource you've configured using the singular name given in routes:&lt;/p&gt;
&lt;div class="highlight highlight-source-yaml"&gt;&lt;pre&gt;&lt;span class="pl-ent"&gt;en&lt;/span&gt;:
  &lt;span class="pl-ent"&gt;devise&lt;/span&gt;:
    &lt;span class="pl-ent"&gt;sessions&lt;/span&gt;:
      &lt;span class="pl-ent"&gt;user&lt;/span&gt;:
        &lt;span class="pl-ent"&gt;signed_in&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Welcome user, you are signed in.&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
      &lt;span class="pl-ent"&gt;admin&lt;/span&gt;:
        &lt;span class="pl-ent"&gt;signed_in&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Hello admin!&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The Devise mailer uses a similar pattern to create subject messages:&lt;/p&gt;
&lt;div class="highlight highlight-source-yaml"&gt;&lt;pre&gt;&lt;span class="pl-ent"&gt;en&lt;/span&gt;:
  &lt;span class="pl-ent"&gt;devise&lt;/span&gt;:
    &lt;span class="pl-ent"&gt;mailer&lt;/span&gt;:
      &lt;span class="pl-ent"&gt;confirmation_instructions&lt;/span&gt;:
        &lt;span class="pl-ent"&gt;subject&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Hello everybody!&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
        &lt;span class="pl-ent"&gt;user_subject&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Hello User! Please confirm your email&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
      &lt;span class="pl-ent"&gt;reset_password_instructions&lt;/span&gt;:
        &lt;span class="pl-ent"&gt;subject&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Reset instructions&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Take a look at our locale file to check all available messages. You may also be interested in one of the many translations that are available on our wiki:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/heartcombo/devise/wiki/I18n"&gt;https://github.com/heartcombo/devise/wiki/I18n&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Caution: Devise Controllers inherit from ApplicationController. If your app uses multiple locales, you should be sure to set I18n.locale in ApplicationController.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-test-helpers" class="anchor" aria-hidden="true" href="#test-helpers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Test helpers&lt;/h3&gt;
&lt;p&gt;Devise includes some test helpers for controller and integration tests.
In order to use them, you need to include the respective module in your test
cases/specs.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-controller-tests" class="anchor" aria-hidden="true" href="#controller-tests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Controller tests&lt;/h3&gt;
&lt;p&gt;Controller tests require that you include &lt;code&gt;Devise::Test::IntegrationHelpers&lt;/code&gt; on
your test case or its parent &lt;code&gt;ActionController::TestCase&lt;/code&gt; superclass.
For Rails versions prior to 5, include &lt;code&gt;Devise::Test::ControllerHelpers&lt;/code&gt; instead, since the superclass
for controller tests was changed to ActionDispatch::IntegrationTest
(for more details, see the &lt;a href="#integration-tests"&gt;Integration tests&lt;/a&gt; section).&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;PostsControllerTest&lt;span class="pl-e"&gt; &amp;lt; ActionController::TestCase&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Devise&lt;/span&gt;::&lt;span class="pl-c1"&gt;Test&lt;/span&gt;::&lt;span class="pl-c1"&gt;IntegrationHelpers&lt;/span&gt; &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Rails &amp;gt;= 5&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;PostsControllerTest&lt;span class="pl-e"&gt; &amp;lt; ActionController::TestCase&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Devise&lt;/span&gt;::&lt;span class="pl-c1"&gt;Test&lt;/span&gt;::&lt;span class="pl-c1"&gt;ControllerHelpers&lt;/span&gt; &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Rails &amp;lt; 5&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you're using RSpec, you can put the following inside a file named
&lt;code&gt;spec/support/devise.rb&lt;/code&gt; or in your &lt;code&gt;spec/spec_helper.rb&lt;/code&gt; (or
&lt;code&gt;spec/rails_helper.rb&lt;/code&gt; if you are using &lt;code&gt;rspec-rails&lt;/code&gt;):&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;RSpec&lt;/span&gt;.configure &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;config&lt;/span&gt;|
  config.&lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Devise&lt;/span&gt;::&lt;span class="pl-c1"&gt;Test&lt;/span&gt;::&lt;span class="pl-c1"&gt;ControllerHelpers&lt;/span&gt;, &lt;span class="pl-c1"&gt;type:&lt;/span&gt; &lt;span class="pl-c1"&gt;:controller&lt;/span&gt;
  config.&lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Devise&lt;/span&gt;::&lt;span class="pl-c1"&gt;Test&lt;/span&gt;::&lt;span class="pl-c1"&gt;ControllerHelpers&lt;/span&gt;, &lt;span class="pl-c1"&gt;type:&lt;/span&gt; &lt;span class="pl-c1"&gt;:view&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Just be sure that this inclusion is made &lt;em&gt;after&lt;/em&gt; the &lt;code&gt;require 'rspec/rails'&lt;/code&gt; directive.&lt;/p&gt;
&lt;p&gt;Now you are ready to use the &lt;code&gt;sign_in&lt;/code&gt; and &lt;code&gt;sign_out&lt;/code&gt; methods on your controller
tests:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;sign_in &lt;span class="pl-smi"&gt;@user&lt;/span&gt;
sign_in &lt;span class="pl-smi"&gt;@user&lt;/span&gt;, &lt;span class="pl-c1"&gt;scope:&lt;/span&gt; &lt;span class="pl-c1"&gt;:admin&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you are testing Devise internal controllers or a controller that inherits
from Devise's, you need to tell Devise which mapping should be used before a
request. This is necessary because Devise gets this information from the router,
but since controller tests do not pass through the router, it needs to be stated
explicitly. For example, if you are testing the user scope, simply use:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;test&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;GET new&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Mimic the router behavior of setting the Devise scope through the env.&lt;/span&gt;
  &lt;span class="pl-smi"&gt;@request&lt;/span&gt;.env[&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;devise.mapping&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;] &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Devise&lt;/span&gt;.mappings[&lt;span class="pl-c1"&gt;:user&lt;/span&gt;]

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Use the sign_in helper to sign in a fixture `User` record.&lt;/span&gt;
  sign_in users(&lt;span class="pl-c1"&gt;:alice&lt;/span&gt;)

  get &lt;span class="pl-c1"&gt;:new&lt;/span&gt;

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; assert something&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-integration-tests" class="anchor" aria-hidden="true" href="#integration-tests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Integration tests&lt;/h3&gt;
&lt;p&gt;Integration test helpers are available by including the
&lt;code&gt;Devise::Test::IntegrationHelpers&lt;/code&gt; module.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;PostsTests&lt;span class="pl-e"&gt; &amp;lt; ActionDispatch::IntegrationTest&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Devise&lt;/span&gt;::&lt;span class="pl-c1"&gt;Test&lt;/span&gt;::&lt;span class="pl-c1"&gt;IntegrationHelpers&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now you can use the following &lt;code&gt;sign_in&lt;/code&gt; and &lt;code&gt;sign_out&lt;/code&gt; methods in your integration
tests:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;sign_in users(&lt;span class="pl-c1"&gt;:bob&lt;/span&gt;)
sign_in users(&lt;span class="pl-c1"&gt;:bob&lt;/span&gt;), &lt;span class="pl-c1"&gt;scope:&lt;/span&gt; &lt;span class="pl-c1"&gt;:admin&lt;/span&gt;

sign_out &lt;span class="pl-c1"&gt;:user&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;RSpec users can include the &lt;code&gt;IntegrationHelpers&lt;/code&gt; module on their &lt;code&gt;:feature&lt;/code&gt; specs.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;RSpec&lt;/span&gt;.configure &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;config&lt;/span&gt;|
  config.&lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Devise&lt;/span&gt;::&lt;span class="pl-c1"&gt;Test&lt;/span&gt;::&lt;span class="pl-c1"&gt;IntegrationHelpers&lt;/span&gt;, &lt;span class="pl-c1"&gt;type:&lt;/span&gt; &lt;span class="pl-c1"&gt;:feature&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Unlike controller tests, integration tests do not need to supply the
&lt;code&gt;devise.mapping&lt;/code&gt; &lt;code&gt;env&lt;/code&gt; value, as the mapping can be inferred by the routes that
are executed in your tests.&lt;/p&gt;
&lt;p&gt;You can read more about testing your Rails 3 - Rails 4 controllers with RSpec in the wiki:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/heartcombo/devise/wiki/How-To:-Test-controllers-with-Rails-(and-RSpec)"&gt;https://github.com/heartcombo/devise/wiki/How-To:-Test-controllers-with-Rails-(and-RSpec)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-omniauth" class="anchor" aria-hidden="true" href="#omniauth"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;OmniAuth&lt;/h3&gt;
&lt;p&gt;Devise comes with OmniAuth support out of the box to authenticate with other providers. To use it, simply specify your OmniAuth configuration in &lt;code&gt;config/initializers/devise.rb&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;config.omniauth &lt;span class="pl-c1"&gt;:github&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;APP_ID&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;APP_SECRET&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;scope:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;user,public_repo&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can read more about OmniAuth support in the wiki:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/heartcombo/devise/wiki/OmniAuth:-Overview"&gt;https://github.com/heartcombo/devise/wiki/OmniAuth:-Overview&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-configuring-multiple-models" class="anchor" aria-hidden="true" href="#configuring-multiple-models"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Configuring multiple models&lt;/h3&gt;
&lt;p&gt;Devise allows you to set up as many Devise models as you want. If you want to have an Admin model with just authentication and timeout features, in addition to the User model above, just run:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Create a migration with the required fields&lt;/span&gt;
create_table &lt;span class="pl-c1"&gt;:admins&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;t&lt;/span&gt;|
  t.string &lt;span class="pl-c1"&gt;:email&lt;/span&gt;
  t.string &lt;span class="pl-c1"&gt;:encrypted_password&lt;/span&gt;
  t.timestamps &lt;span class="pl-c1"&gt;null:&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Inside your Admin model&lt;/span&gt;
devise &lt;span class="pl-c1"&gt;:database_authenticatable&lt;/span&gt;, &lt;span class="pl-c1"&gt;:timeoutable&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Inside your routes&lt;/span&gt;
devise_for &lt;span class="pl-c1"&gt;:admins&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Inside your protected controller&lt;/span&gt;
before_action &lt;span class="pl-c1"&gt;:authenticate_admin!&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Inside your controllers and views&lt;/span&gt;
admin_signed_in?
current_admin
admin_session&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Alternatively, you can simply run the Devise generator.&lt;/p&gt;
&lt;p&gt;Keep in mind that those models will have completely different routes. They &lt;strong&gt;do not&lt;/strong&gt; and &lt;strong&gt;cannot&lt;/strong&gt; share the same controller for sign in, sign out and so on. In case you want to have different roles sharing the same actions, we recommend that you use a role-based approach, by either providing a role column or using a dedicated gem for authorization.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-activejob-integration" class="anchor" aria-hidden="true" href="#activejob-integration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ActiveJob Integration&lt;/h3&gt;
&lt;p&gt;If you are using Rails 4.2 and ActiveJob to deliver ActionMailer messages in the
background through a queuing back-end, you can send Devise emails through your
existing queue by overriding the &lt;code&gt;send_devise_notification&lt;/code&gt; method in your model.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;send_devise_notification&lt;/span&gt;(&lt;span class="pl-smi"&gt;notification&lt;/span&gt;, &lt;span class="pl-k"&gt;*&lt;/span&gt;&lt;span class="pl-smi"&gt;args&lt;/span&gt;)
  devise_mailer.send(notification, &lt;span class="pl-c1"&gt;self&lt;/span&gt;, &lt;span class="pl-k"&gt;*&lt;/span&gt;args).deliver_later
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-password-reset-tokens-and-rails-logs" class="anchor" aria-hidden="true" href="#password-reset-tokens-and-rails-logs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Password reset tokens and Rails logs&lt;/h3&gt;
&lt;p&gt;If you enable the &lt;a href="http://rubydoc.info/github/heartcombo/devise/master/Devise/Models/Recoverable" rel="nofollow"&gt;Recoverable&lt;/a&gt; module, note that a stolen password reset token could give an attacker access to your application. Devise takes effort to generate random, secure tokens, and stores only token digests in the database, never plaintext. However the default logging behavior in Rails can cause plaintext tokens to leak into log files:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Action Mailer logs the entire contents of all outgoing emails to the DEBUG level. Password reset tokens delivered to users in email will be leaked.&lt;/li&gt;
&lt;li&gt;Active Job logs all arguments to every enqueued job at the INFO level. If you configure Devise to use &lt;code&gt;deliver_later&lt;/code&gt; to send password reset emails, password reset tokens will be leaked.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Rails sets the production logger level to DEBUG by default. Consider changing your production logger level to WARN if you wish to prevent tokens from being leaked into your logs. In &lt;code&gt;config/environments/production.rb&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;config.log_level &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;:warn&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-other-orms" class="anchor" aria-hidden="true" href="#other-orms"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Other ORMs&lt;/h3&gt;
&lt;p&gt;Devise supports ActiveRecord (default) and Mongoid. To select another ORM, simply require it in the initializer file.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-rails-api-mode" class="anchor" aria-hidden="true" href="#rails-api-mode"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Rails API Mode&lt;/h3&gt;
&lt;p&gt;Rails 5+ has a built-in &lt;a href="https://edgeguides.rubyonrails.org/api_app.html" rel="nofollow"&gt;API Mode&lt;/a&gt; which optimizes Rails for use as an API (only). Devise is &lt;em&gt;somewhat&lt;/em&gt; able to handle applications that are built in this mode without additional modifications in the sense that it should not raise exceptions and the like. But some issues may still arise during &lt;code&gt;development&lt;/code&gt;/&lt;code&gt;testing&lt;/code&gt;, as we still don't know the full extent of this compatibility. (For more information, see &lt;a href="https://github.com/heartcombo/devise/issues/4947/"&gt;issue #4947&lt;/a&gt;)&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-supported-authentication-strategies" class="anchor" aria-hidden="true" href="#supported-authentication-strategies"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Supported Authentication Strategies&lt;/h4&gt;
&lt;p&gt;API-only applications don't support browser-based authentication via cookies, which is devise's default. Yet, devise can still provide authentication out of the box in those cases with the &lt;code&gt;http_authenticatable&lt;/code&gt; strategy, which uses HTTP Basic Auth and authenticates the user on each request. (For more info, see this wiki article for &lt;a href="https://github.com/heartcombo/devise/wiki/How-To:-Use-HTTP-Basic-Authentication"&gt;How To: Use HTTP Basic Authentication&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;The devise default for HTTP Auth is disabled, so it will need to be enabled in the devise initializer for the database strategy:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;config.http_authenticatable &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-c1"&gt;:database&lt;/span&gt;]&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This restriction does not limit you from implementing custom warden strategies, either in your application or via gem-based extensions for devise.
A common authentication strategy for APIs is token-based authentication. For more information on extending devise to support this type of authentication and others, see the wiki article for &lt;a href="https://github.com/heartcombo/devise/wiki/How-To:-Simple-Token-Authentication-Example#alternatives"&gt;Simple Token Authentication Examples and alternatives&lt;/a&gt; or this blog post on &lt;a href="http://blog.plataformatec.com.br/2019/01/custom-authentication-methods-with-devise/" rel="nofollow"&gt;Custom authentication methods with Devise&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-testing" class="anchor" aria-hidden="true" href="#testing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Testing&lt;/h4&gt;
&lt;p&gt;API Mode changes the order of the middleware stack, and this can cause problems for &lt;code&gt;Devise::Test::IntegrationHelpers&lt;/code&gt;. This problem usually surfaces as an &lt;code&gt;undefined method `[]=' for nil:NilClass&lt;/code&gt; error when using integration test helpers, such as &lt;code&gt;#sign_in&lt;/code&gt;. The solution is simply to reorder the middlewares by adding the following to test.rb:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Rails&lt;/span&gt;.application.config.middleware.insert_before &lt;span class="pl-c1"&gt;Warden&lt;/span&gt;::&lt;span class="pl-c1"&gt;Manager&lt;/span&gt;, &lt;span class="pl-c1"&gt;ActionDispatch&lt;/span&gt;::&lt;span class="pl-c1"&gt;Cookies&lt;/span&gt;
&lt;span class="pl-c1"&gt;Rails&lt;/span&gt;.application.config.middleware.insert_before &lt;span class="pl-c1"&gt;Warden&lt;/span&gt;::&lt;span class="pl-c1"&gt;Manager&lt;/span&gt;, &lt;span class="pl-c1"&gt;ActionDispatch&lt;/span&gt;::&lt;span class="pl-c1"&gt;Session&lt;/span&gt;::&lt;span class="pl-c1"&gt;CookieStore&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For a deeper understanding of this, review &lt;a href="https://github.com/heartcombo/devise/issues/4696"&gt;this issue&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Additionally be mindful that without views supported, some email-based flows from Confirmable, Recoverable and Lockable are not supported directly at this time.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-additional-information" class="anchor" aria-hidden="true" href="#additional-information"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Additional information&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-heroku" class="anchor" aria-hidden="true" href="#heroku"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Heroku&lt;/h3&gt;
&lt;p&gt;Using Devise on Heroku with Ruby on Rails 3.2 requires setting:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;config.assets.initialize_on_precompile &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Read more about the potential issues at &lt;a href="http://guides.rubyonrails.org/asset_pipeline.html" rel="nofollow"&gt;http://guides.rubyonrails.org/asset_pipeline.html&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-warden" class="anchor" aria-hidden="true" href="#warden"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Warden&lt;/h3&gt;
&lt;p&gt;Devise is based on Warden, which is a general Rack authentication framework created by Daniel Neighman. We encourage you to read more about Warden here:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/hassox/warden"&gt;https://github.com/hassox/warden&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-contributors" class="anchor" aria-hidden="true" href="#contributors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributors&lt;/h3&gt;
&lt;p&gt;We have a long list of valued contributors. Check them all at:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/heartcombo/devise/graphs/contributors"&gt;https://github.com/heartcombo/devise/graphs/contributors&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;MIT License. Copyright 2020 Rafael Frana, Leaonardo Tegon, Carlos Antnio da Silva. Copyright 2009-2019 Plataformatec.&lt;/p&gt;
&lt;p&gt;The Devise logo is licensed under &lt;a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" rel="nofollow"&gt;Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License&lt;/a&gt;.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>heartcombo</author><guid isPermaLink="false">https://github.com/heartcombo/devise</guid><pubDate>Mon, 10 Feb 2020 00:08:00 GMT</pubDate></item><item><title>rails/webpacker #9 in Ruby, This week</title><link>https://github.com/rails/webpacker</link><description>&lt;p&gt;&lt;i&gt;Use Webpack to manage app-like JavaScript modules in Rails&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-webpacker" class="anchor" aria-hidden="true" href="#webpacker"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Webpacker&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://travis-ci.org/rails/webpacker" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/be6996dd1a1113292066f475528cf52948af58f7/68747470733a2f2f7472617669732d63692e6f72672f7261696c732f7765627061636b65722e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/rails/webpacker.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://www.npmjs.com/package/@rails/webpacker" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/b9ee288da2a3e8ebc415fca9beca2e85224ea1f8/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6e6f64652d253345253344253230382e31362e302d627269676874677265656e2e737667" alt="node.js" data-canonical-src="https://img.shields.io/badge/node-%3E%3D%208.16.0-brightgreen.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://rubygems.org/gems/webpacker" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/a9fe86cc0d0cb2958d12ff91bf6ceee836757c9f/68747470733a2f2f696d672e736869656c64732e696f2f67656d2f762f7765627061636b65722e737667" alt="Gem" data-canonical-src="https://img.shields.io/gem/v/webpacker.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Webpacker makes it easy to use the JavaScript pre-processor and bundler
&lt;a href="https://webpack.js.org/" rel="nofollow"&gt;webpack 4.x.x+&lt;/a&gt;
to manage application-like JavaScript in Rails. It coexists with the asset pipeline,
as the primary purpose for webpack is app-like JavaScript, not images, CSS, or
even JavaScript Sprinkles (that all continues to live in app/assets).&lt;/p&gt;
&lt;p&gt;However, it is possible to use Webpacker for CSS, images and fonts assets as well,
in which case you may not even need the asset pipeline. This is mostly relevant when exclusively using component-based JavaScript frameworks.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; The master branch now hosts the code for v4.x.x. Please refer to &lt;a href="https://github.com/rails/webpacker/tree/3-x-stable"&gt;3-x-stable&lt;/a&gt; branch for 3.x documentation. See the &lt;a href="docs/v4-upgrade.md"&gt;v4-upgrade guide&lt;/a&gt; for an overview of the changes.&lt;/p&gt;


&lt;h2&gt;&lt;a id="user-content-table-of-contents" class="anchor" aria-hidden="true" href="#table-of-contents"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Table of Contents&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#prerequisites"&gt;Prerequisites&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#features"&gt;Features&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#installation"&gt;Installation&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#usage"&gt;Usage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#development"&gt;Development&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#webpack-configuration"&gt;Webpack Configuration&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#custom-rails-environments"&gt;Custom Rails environments&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#upgrading"&gt;Upgrading&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#yarn-integrity"&gt;Yarn Integrity&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#integrations"&gt;Integrations&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#react"&gt;React&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#angular-with-typescript"&gt;Angular with TypeScript&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#vue"&gt;Vue&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#elm"&gt;Elm&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#stimulus"&gt;Stimulus&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#svelte"&gt;Svelte&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#coffeescript"&gt;CoffeeScript&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#erb"&gt;Erb&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#paths"&gt;Paths&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#resolved"&gt;Resolved&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#watched"&gt;Watched&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#deployment"&gt;Deployment&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#docs"&gt;Docs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#contributing"&gt;Contributing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#license"&gt;License&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;&lt;a id="user-content-prerequisites" class="anchor" aria-hidden="true" href="#prerequisites"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Prerequisites&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Ruby 2.2+&lt;/li&gt;
&lt;li&gt;Rails 4.2+&lt;/li&gt;
&lt;li&gt;Node.js 8.16.0+&lt;/li&gt;
&lt;li&gt;Yarn 1.x+&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-features" class="anchor" aria-hidden="true" href="#features"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Features&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://webpack.js.org/" rel="nofollow"&gt;webpack 4.x.x&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ES6 with &lt;a href="https://babeljs.io/" rel="nofollow"&gt;babel&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Automatic code splitting using multiple entry points&lt;/li&gt;
&lt;li&gt;Stylesheets - Sass and CSS&lt;/li&gt;
&lt;li&gt;Images and fonts&lt;/li&gt;
&lt;li&gt;PostCSS - Auto-Prefixer&lt;/li&gt;
&lt;li&gt;Asset compression, source-maps, and minification&lt;/li&gt;
&lt;li&gt;CDN support&lt;/li&gt;
&lt;li&gt;React, Angular, Elm and Vue support out-of-the-box&lt;/li&gt;
&lt;li&gt;Rails view helpers&lt;/li&gt;
&lt;li&gt;Extensible and configurable&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation&lt;/h2&gt;
&lt;p&gt;You can either add Webpacker during setup of a new Rails 5.1+ application
using new &lt;code&gt;--webpack&lt;/code&gt; option:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Available Rails 5.1+&lt;/span&gt;
rails new myapp --webpack&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or add it to your &lt;code&gt;Gemfile&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Gemfile&lt;/span&gt;
gem &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;webpacker&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;~&amp;gt; 4.x&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; OR if you prefer to use master&lt;/span&gt;
gem &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;webpacker&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;git:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;https://github.com/rails/webpacker.git&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
yarn add &lt;span class="pl-c1"&gt;https:&lt;/span&gt;&lt;span class="pl-k"&gt;//&lt;/span&gt;github.com&lt;span class="pl-k"&gt;/&lt;/span&gt;rails&lt;span class="pl-k"&gt;/&lt;/span&gt;webpacker.git
yarn add core&lt;span class="pl-k"&gt;-&lt;/span&gt;js regenerator&lt;span class="pl-k"&gt;-&lt;/span&gt;runtime&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Finally, run the following to install Webpacker:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;bundle
bundle &lt;span class="pl-c1"&gt;exec&lt;/span&gt; rails webpacker:install

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; OR (on rails version &amp;lt; 5.0)&lt;/span&gt;
bundle &lt;span class="pl-c1"&gt;exec&lt;/span&gt; rake webpacker:install&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Optional: To fix &lt;a href="https://github.com/rails/webpacker/issues/1078"&gt;"unmet peer dependency" warnings&lt;/a&gt;,&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;yarn upgrade&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h3&gt;
&lt;p&gt;Once installed, you can start writing modern ES6-flavored JavaScript apps right away:&lt;/p&gt;
&lt;div class="highlight highlight-source-yaml"&gt;&lt;pre&gt;&lt;span class="pl-ent"&gt;app/javascript&lt;/span&gt;:
  &lt;span class="pl-ent"&gt; packs&lt;/span&gt;:
     &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;only webpack entry files here&lt;/span&gt;
  &lt;span class="pl-s"&gt;    application.js&lt;/span&gt;
  &lt;span class="pl-ent"&gt; src&lt;/span&gt;:
  &lt;span class="pl-s"&gt;    application.css&lt;/span&gt;
  &lt;span class="pl-ent"&gt; images&lt;/span&gt;:
      &lt;span class="pl-s"&gt; logo.svg&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In &lt;code&gt;/packs/application.js&lt;/code&gt;, include this at the top of the file:&lt;/p&gt;
&lt;div class="highlight highlight-source-js"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;import&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;core-js/stable&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;;
&lt;span class="pl-k"&gt;import&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;regenerator-runtime/runtime&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can then link the JavaScript pack in Rails views using the &lt;code&gt;javascript_pack_tag&lt;/code&gt; helper.
If you have styles imported in your pack file, you can link them by using &lt;code&gt;stylesheet_pack_tag&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-text-html-erb"&gt;&lt;pre&gt;&lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; javascript_pack_tag &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;application&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;
&lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; stylesheet_pack_tag &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;application&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you want to link a static asset for &lt;code&gt;&amp;lt;link rel="prefetch"&amp;gt;&lt;/code&gt; or &lt;code&gt;&amp;lt;img /&amp;gt;&lt;/code&gt; tag, you
can use the &lt;code&gt;asset_pack_path&lt;/code&gt; helper:&lt;/p&gt;
&lt;div class="highlight highlight-text-html-erb"&gt;&lt;pre&gt;&amp;lt;&lt;span class="pl-ent"&gt;link&lt;/span&gt; &lt;span class="pl-e"&gt;rel&lt;/span&gt;=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;prefetch&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-e"&gt;href&lt;/span&gt;=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; asset_pack_path &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;application.css&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; /&amp;gt;
&amp;lt;&lt;span class="pl-ent"&gt;img&lt;/span&gt; &lt;span class="pl-e"&gt;src&lt;/span&gt;=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; asset_pack_path &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;images/logo.svg&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; /&amp;gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you are using new webpack 4 split chunks API, then consider using &lt;code&gt;javascript_packs_with_chunks_tag&lt;/code&gt; helper, which creates html
tags for a pack and all the dependent chunks.&lt;/p&gt;
&lt;div class="highlight highlight-text-html-erb"&gt;&lt;pre&gt;&lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; javascript_packs_with_chunks_tag &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;calendar&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;map&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;data-turbolinks-track&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;reload&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;

&amp;lt;&lt;span class="pl-ent"&gt;script&lt;/span&gt; &lt;span class="pl-e"&gt;src&lt;/span&gt;=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/packs/vendor-16838bab065ae1e314.js&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-e"&gt;data-turbolinks-track&lt;/span&gt;=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;reload&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span class="pl-ent"&gt;script&lt;/span&gt;&amp;gt;
&amp;lt;&lt;span class="pl-ent"&gt;script&lt;/span&gt; &lt;span class="pl-e"&gt;src&lt;/span&gt;=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/packs/calendar~runtime-16838bab065ae1e314.js&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-e"&gt;data-turbolinks-track&lt;/span&gt;=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;reload&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span class="pl-ent"&gt;script&lt;/span&gt;&amp;gt;
&amp;lt;&lt;span class="pl-ent"&gt;script&lt;/span&gt; &lt;span class="pl-e"&gt;src&lt;/span&gt;=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/packs/calendar-1016838bab065ae1e314.js&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-e"&gt;data-turbolinks-track&lt;/span&gt;=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;reload&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span class="pl-ent"&gt;script&lt;/span&gt;&amp;gt;
&amp;lt;&lt;span class="pl-ent"&gt;script&lt;/span&gt; &lt;span class="pl-e"&gt;src&lt;/span&gt;=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/packs/map~runtime-16838bab065ae1e314.js&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-e"&gt;data-turbolinks-track&lt;/span&gt;=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;reload&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span class="pl-ent"&gt;script&lt;/span&gt;&amp;gt;
&amp;lt;&lt;span class="pl-ent"&gt;script&lt;/span&gt; &lt;span class="pl-e"&gt;src&lt;/span&gt;=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/packs/map-16838bab065ae1e314.js&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-e"&gt;data-turbolinks-track&lt;/span&gt;=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;reload&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span class="pl-ent"&gt;script&lt;/span&gt;&amp;gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Important:&lt;/strong&gt; Pass all your pack names when using &lt;code&gt;javascript_packs_with_chunks_tag&lt;/code&gt;
helper otherwise you will get duplicated chunks on the page.&lt;/p&gt;
&lt;div class="highlight highlight-text-html-erb"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;&amp;lt;%#&lt;/span&gt; DO &lt;span class="pl-c"&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; javascript_packs_with_chunks_tag &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;calendar&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;map&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;&amp;lt;%#&lt;/span&gt; DON'T &lt;span class="pl-c"&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; javascript_packs_with_chunks_tag &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;calendar&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;
&lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; javascript_packs_with_chunks_tag &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;map&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; In order for your styles or static assets files to be available in your view,
you would need to link them in your "pack" or entry file.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-development" class="anchor" aria-hidden="true" href="#development"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Development&lt;/h3&gt;
&lt;p&gt;Webpacker ships with two binstubs: &lt;code&gt;./bin/webpack&lt;/code&gt; and &lt;code&gt;./bin/webpack-dev-server&lt;/code&gt;.
Both are thin wrappers around the standard &lt;code&gt;webpack.js&lt;/code&gt; and &lt;code&gt;webpack-dev-server.js&lt;/code&gt;
executables to ensure that the right configuration files and environmental variables
are loaded based on your environment.&lt;/p&gt;
&lt;p&gt;In development, Webpacker compiles on demand rather than upfront by default. This
happens when you refer to any of the pack assets using the Webpacker helper methods.
This means that you don't have to run any separate processes. Compilation errors are logged
to the standard Rails log.&lt;/p&gt;
&lt;p&gt;If you want to use live code reloading, or you have enough JavaScript that on-demand compilation is too slow, you'll need to run &lt;code&gt;./bin/webpack-dev-server&lt;/code&gt; or &lt;code&gt;ruby ./bin/webpack-dev-server&lt;/code&gt;. Windows users will need to run these commands
in a terminal separate from &lt;code&gt;bundle exec rails s&lt;/code&gt;. This process will watch for changes
in the &lt;code&gt;app/javascript/packs/*.js&lt;/code&gt; files and automatically reload the browser to match.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; webpack dev server&lt;/span&gt;
./bin/webpack-dev-server

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; watcher&lt;/span&gt;
./bin/webpack --watch --colors --progress

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; standalone build&lt;/span&gt;
./bin/webpack&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once you start this development server, Webpacker will automatically start proxying all
webpack asset requests to this server. When you stop the server, it'll revert back to
on-demand compilation.&lt;/p&gt;
&lt;p&gt;You can use environment variables as options supported by
&lt;a href="https://webpack.js.org/configuration/dev-server/" rel="nofollow"&gt;webpack-dev-server&lt;/a&gt; in the
form &lt;code&gt;WEBPACKER_DEV_SERVER_&amp;lt;OPTION&amp;gt;&lt;/code&gt;. Please note that these environmental
variables will always take precedence over the ones already set in the
configuration file, and that the &lt;em&gt;same&lt;/em&gt; environmental variables must
be available to the &lt;code&gt;rails server&lt;/code&gt; process.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;WEBPACKER_DEV_SERVER_HOST=example.com WEBPACKER_DEV_SERVER_INLINE=true WEBPACKER_DEV_SERVER_HOT=false ./bin/webpack-dev-server&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;By default, the webpack dev server listens on &lt;code&gt;localhost&lt;/code&gt; in development for security purposes.
However, if you want your app to be available over local LAN IP or a VM instance like vagrant,
you can set the &lt;code&gt;host&lt;/code&gt; when running &lt;code&gt;./bin/webpack-dev-server&lt;/code&gt; binstub:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;WEBPACKER_DEV_SERVER_HOST=0.0.0.0 ./bin/webpack-dev-server&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; You need to allow webpack-dev-server host as an allowed origin for &lt;code&gt;connect-src&lt;/code&gt; if you are running your application in a restrict CSP environment (like Rails 5.2+). This can be done in Rails 5.2+ in the CSP initializer &lt;code&gt;config/initializers/content_security_policy.rb&lt;/code&gt; with a snippet like this:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;  &lt;span class="pl-c1"&gt;Rails&lt;/span&gt;.application.config.content_security_policy &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;policy&lt;/span&gt;|
    policy.connect_src &lt;span class="pl-c1"&gt;:self&lt;/span&gt;, &lt;span class="pl-c1"&gt;:https&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;http://localhost:3035&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;ws://localhost:3035&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;if&lt;/span&gt; &lt;span class="pl-c1"&gt;Rails&lt;/span&gt;.env.development?
  &lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Don't forget to prefix &lt;code&gt;ruby&lt;/code&gt; when running these binstubs on Windows&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-webpack-configuration" class="anchor" aria-hidden="true" href="#webpack-configuration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Webpack Configuration&lt;/h3&gt;
&lt;p&gt;See &lt;a href="docs/webpack.md"&gt;docs/webpack&lt;/a&gt; for modifying webpack configuration and loaders.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-custom-rails-environments" class="anchor" aria-hidden="true" href="#custom-rails-environments"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Custom Rails environments&lt;/h3&gt;
&lt;p&gt;Out of the box Webpacker ships with - development, test and production environments in &lt;code&gt;config/webpacker.yml&lt;/code&gt; however, in most production apps extra environments are needed as part of deployment workflow. Webpacker supports this out of the box from version 3.4.0+ onwards.&lt;/p&gt;
&lt;p&gt;You can choose to define additional environment configurations in webpacker.yml,&lt;/p&gt;
&lt;div class="highlight highlight-source-yaml"&gt;&lt;pre&gt;&lt;span class="pl-ent"&gt;staging&lt;/span&gt;:
  &lt;span class="pl-ent"&gt;&amp;lt;&amp;lt;&lt;/span&gt;: &lt;span class="pl-s"&gt;*default&lt;/span&gt;

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Production depends on precompilation of packs prior to booting for performance.&lt;/span&gt;
  &lt;span class="pl-ent"&gt;compile&lt;/span&gt;: &lt;span class="pl-c1"&gt;false&lt;/span&gt;

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Cache manifest.json for performance&lt;/span&gt;
  &lt;span class="pl-ent"&gt;cache_manifest&lt;/span&gt;: &lt;span class="pl-c1"&gt;true&lt;/span&gt;

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Compile staging packs to a separate directory&lt;/span&gt;
  &lt;span class="pl-ent"&gt;public_output_path&lt;/span&gt;: &lt;span class="pl-s"&gt;packs-staging&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;or, Webpacker will use production environment as a fallback environment for loading configurations. Please note, &lt;code&gt;NODE_ENV&lt;/code&gt; can either be set to &lt;code&gt;production&lt;/code&gt;, &lt;code&gt;development&lt;/code&gt; or &lt;code&gt;test&lt;/code&gt;.
This means you don't need to create additional environment files inside &lt;code&gt;config/webpacker/*&lt;/code&gt; and instead use webpacker.yml to load different configurations using &lt;code&gt;RAILS_ENV&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;For example, the below command will compile assets in production mode but will use staging configurations from &lt;code&gt;config/webpacker.yml&lt;/code&gt; if available or use fallback production environment configuration:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;RAILS_ENV=staging bundle &lt;span class="pl-c1"&gt;exec&lt;/span&gt; rails assets:precompile&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And, this will compile in development mode and load configuration for cucumber environment
if defined in webpacker.yml or fallback to production configuration&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;RAILS_ENV=cucumber NODE_ENV=development bundle &lt;span class="pl-c1"&gt;exec&lt;/span&gt; rails assets:precompile&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Please note, binstubs compiles in development mode however rake tasks
compiles in production mode.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Compiles in development mode unless NODE_ENV is specified&lt;/span&gt;
./bin/webpack
./bin/webpack-dev-server

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; compiles in production mode by default unless NODE_ENV is specified&lt;/span&gt;
bundle &lt;span class="pl-c1"&gt;exec&lt;/span&gt; rails assets:precompile
bundle &lt;span class="pl-c1"&gt;exec&lt;/span&gt; rails webpacker:compile&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-upgrading" class="anchor" aria-hidden="true" href="#upgrading"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Upgrading&lt;/h3&gt;
&lt;p&gt;You can run following commands to upgrade Webpacker to the latest stable version. This process involves upgrading the gem and related JavaScript packages:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;bundle update webpacker
rails webpacker:binstubs
yarn upgrade @rails/webpacker --latest
yarn upgrade webpack-dev-server --latest

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Or to install the latest release (including pre-releases)&lt;/span&gt;
yarn add @rails/webpacker@next&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-yarn-integrity" class="anchor" aria-hidden="true" href="#yarn-integrity"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Yarn Integrity&lt;/h3&gt;
&lt;p&gt;By default, in development, webpacker runs a yarn integrity check to ensure that all local JavaScript packages are up-to-date. This is similar to what bundler does currently in Rails, but for JavaScript packages. If your system is out of date, then Rails will not initialize. You will be asked to upgrade your local JavaScript packages by running &lt;code&gt;yarn install&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;To turn off this option, you will need to change the default setting in &lt;code&gt;config/webpacker.yml&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-yaml"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; config/webpacker.yml&lt;/span&gt;
&lt;span class="pl-ent"&gt;development&lt;/span&gt;:
  &lt;span class="pl-s"&gt;...&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Verifies that correct packages and versions are installed by inspecting package.json, yarn.lock, and node_modules&lt;/span&gt;
  &lt;span class="pl-ent"&gt;check_yarn_integrity&lt;/span&gt;: &lt;span class="pl-c1"&gt;false&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You may also turn on this feature by adding the config option for any Rails environment in &lt;code&gt;config/webpacker.yml&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-yaml"&gt;&lt;pre&gt;  &lt;span class="pl-ent"&gt;check_yarn_integrity&lt;/span&gt;: &lt;span class="pl-c1"&gt;true&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-integrations" class="anchor" aria-hidden="true" href="#integrations"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Integrations&lt;/h2&gt;
&lt;p&gt;Webpacker ships with basic out-of-the-box integration for React, Angular, Vue and Elm.
You can see a list of available commands/tasks by running &lt;code&gt;bundle exec rails webpacker&lt;/code&gt;:&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-react" class="anchor" aria-hidden="true" href="#react"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;React&lt;/h3&gt;
&lt;p&gt;To use Webpacker with &lt;a href="https://facebook.github.io/react/" rel="nofollow"&gt;React&lt;/a&gt;, create a
new Rails 5.1+ app using &lt;code&gt;--webpack=react&lt;/code&gt; option:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Rails 5.1+&lt;/span&gt;
rails new myapp --webpack=react&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;(or run &lt;code&gt;bundle exec rails webpacker:install:react&lt;/code&gt; in an existing Rails app already
setup with Webpacker).&lt;/p&gt;
&lt;p&gt;The installer will add all relevant dependencies using Yarn, changes
to the configuration files, and an example React component to your
project in &lt;code&gt;app/javascript/packs&lt;/code&gt; so that you can experiment with React right away.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-angular-with-typescript" class="anchor" aria-hidden="true" href="#angular-with-typescript"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Angular with TypeScript&lt;/h3&gt;
&lt;p&gt;To use Webpacker with &lt;a href="https://angular.io/" rel="nofollow"&gt;Angular&lt;/a&gt;, create a
new Rails 5.1+ app using &lt;code&gt;--webpack=angular&lt;/code&gt; option:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Rails 5.1+&lt;/span&gt;
rails new myapp --webpack=angular&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;(or run &lt;code&gt;bundle exec rails webpacker:install:angular&lt;/code&gt; on a Rails app already
setup with Webpacker).&lt;/p&gt;
&lt;p&gt;The installer will add the TypeScript and Angular core libraries using Yarn alongside
a few changes to the configuration files. An example component written in
TypeScript will also be added to your project in &lt;code&gt;app/javascript&lt;/code&gt; so that
you can experiment with Angular right away.&lt;/p&gt;
&lt;p&gt;By default, Angular uses a JIT compiler for development environment. This
compiler is not compatible with restrictive CSP (Content Security
Policy) environments like Rails 5.2+. You can use Angular AOT compiler
in development with the &lt;a href="https://www.npmjs.com/package/@ngtools/webpack#usage" rel="nofollow"&gt;@ngtools/webpack&lt;/a&gt; plugin.&lt;/p&gt;
&lt;p&gt;Alternatively if you're using Rails 5.2+ you can enable &lt;code&gt;unsafe-eval&lt;/code&gt; rule for your
development environment. This can be done in the &lt;code&gt;config/initializers/content_security_policy.rb&lt;/code&gt;
with the following code:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Rails&lt;/span&gt;.application.config.content_security_policy &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;policy&lt;/span&gt;|
  &lt;span class="pl-k"&gt;if&lt;/span&gt; &lt;span class="pl-c1"&gt;Rails&lt;/span&gt;.env.development?
    policy.script_src &lt;span class="pl-c1"&gt;:self&lt;/span&gt;, &lt;span class="pl-c1"&gt;:https&lt;/span&gt;, &lt;span class="pl-c1"&gt;:unsafe_eval&lt;/span&gt;
  &lt;span class="pl-k"&gt;else&lt;/span&gt;
    policy.script_src &lt;span class="pl-c1"&gt;:self&lt;/span&gt;, &lt;span class="pl-c1"&gt;:https&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-vue" class="anchor" aria-hidden="true" href="#vue"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Vue&lt;/h3&gt;
&lt;p&gt;To use Webpacker with &lt;a href="https://vuejs.org/" rel="nofollow"&gt;Vue&lt;/a&gt;, create a
new Rails 5.1+ app using &lt;code&gt;--webpack=vue&lt;/code&gt; option:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Rails 5.1+&lt;/span&gt;
rails new myapp --webpack=vue&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;(or run &lt;code&gt;bundle exec rails webpacker:install:vue&lt;/code&gt; on a Rails app already setup with Webpacker).&lt;/p&gt;
&lt;p&gt;The installer will add Vue and its required libraries using Yarn alongside
automatically applying changes needed to the configuration files. An example component will
be added to your project in &lt;code&gt;app/javascript&lt;/code&gt; so that you can experiment with Vue right away.&lt;/p&gt;
&lt;p&gt;If you're using Rails 5.2+ you'll need to enable &lt;code&gt;unsafe-eval&lt;/code&gt; rule for your development environment.
This can be done in the &lt;code&gt;config/initializers/content_security_policy.rb&lt;/code&gt; with the following
configuration:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Rails&lt;/span&gt;.application.config.content_security_policy &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;policy&lt;/span&gt;|
  &lt;span class="pl-k"&gt;if&lt;/span&gt; &lt;span class="pl-c1"&gt;Rails&lt;/span&gt;.env.development?
    policy.script_src &lt;span class="pl-c1"&gt;:self&lt;/span&gt;, &lt;span class="pl-c1"&gt;:https&lt;/span&gt;, &lt;span class="pl-c1"&gt;:unsafe_eval&lt;/span&gt;
  &lt;span class="pl-k"&gt;else&lt;/span&gt;
    policy.script_src &lt;span class="pl-c1"&gt;:self&lt;/span&gt;, &lt;span class="pl-c1"&gt;:https&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can read more about this in the &lt;a href="https://vuejs.org/v2/guide/installation.html#CSP-environments" rel="nofollow"&gt;Vue docs&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-lazy-loading-integration" class="anchor" aria-hidden="true" href="#lazy-loading-integration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Lazy loading integration&lt;/h4&gt;
&lt;p&gt;See &lt;a href="docs/es6.md"&gt;docs/es6&lt;/a&gt; to know more about Webpack and Webpacker configuration.&lt;/p&gt;
&lt;p&gt;For instance, you can lazy load Vue JS components:&lt;/p&gt;
&lt;p&gt;Before:&lt;/p&gt;
&lt;div class="highlight highlight-source-js"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;import&lt;/span&gt; &lt;span class="pl-smi"&gt;Vue&lt;/span&gt; &lt;span class="pl-k"&gt;from&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;vue&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;import&lt;/span&gt; { &lt;span class="pl-smi"&gt;VCard&lt;/span&gt; } &lt;span class="pl-k"&gt;from&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;vuetify/lib&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-smi"&gt;Vue&lt;/span&gt;.&lt;span class="pl-en"&gt;component&lt;/span&gt;(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;VCard&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, VCard)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After:&lt;/p&gt;
&lt;div class="highlight highlight-source-js"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;import&lt;/span&gt; &lt;span class="pl-smi"&gt;Vue&lt;/span&gt; &lt;span class="pl-k"&gt;from&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;vue&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;//&lt;/span&gt; With destructuring assignment&lt;/span&gt;
&lt;span class="pl-smi"&gt;Vue&lt;/span&gt;.&lt;span class="pl-en"&gt;component&lt;/span&gt;(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;VCard&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-k"&gt;import&lt;/span&gt;(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;vuetify/lib&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).&lt;span class="pl-c1"&gt;then&lt;/span&gt;(({ VCard }) &lt;span class="pl-k"&gt;=&amp;gt;&lt;/span&gt; VCard)

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;//&lt;/span&gt; Or without destructuring assignment&lt;/span&gt;
&lt;span class="pl-smi"&gt;Vue&lt;/span&gt;.&lt;span class="pl-en"&gt;component&lt;/span&gt;(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;OtherComponent&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, () &lt;span class="pl-k"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="pl-k"&gt;import&lt;/span&gt;(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;./OtherComponent&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;))&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can use it in a Single File Component as well:&lt;/p&gt;
&lt;div class="highlight highlight-text-html-basic"&gt;&lt;pre&gt;&amp;lt;&lt;span class="pl-ent"&gt;template&lt;/span&gt;&amp;gt;
  ...
&amp;lt;/&lt;span class="pl-ent"&gt;template&lt;/span&gt;&amp;gt;

&amp;lt;&lt;span class="pl-ent"&gt;script&lt;/span&gt;&amp;gt;&lt;span class="pl-s1"&gt;&lt;/span&gt;
&lt;span class="pl-s1"&gt;&lt;span class="pl-k"&gt;export&lt;/span&gt; &lt;span class="pl-c1"&gt;default&lt;/span&gt; {&lt;/span&gt;
&lt;span class="pl-s1"&gt;  components&lt;span class="pl-k"&gt;:&lt;/span&gt; {&lt;/span&gt;
&lt;span class="pl-s1"&gt;    &lt;span class="pl-en"&gt;OtherComponent&lt;/span&gt;&lt;span class="pl-k"&gt;:&lt;/span&gt; () &lt;span class="pl-k"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="pl-k"&gt;import&lt;/span&gt;(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;./OtherComponent&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)&lt;/span&gt;
&lt;span class="pl-s1"&gt;  }&lt;/span&gt;
&lt;span class="pl-s1"&gt;}&lt;/span&gt;
&lt;span class="pl-s1"&gt;&lt;/span&gt;&amp;lt;/&lt;span class="pl-ent"&gt;script&lt;/span&gt;&amp;gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;By wrapping the import function into an arrow function, Vue will execute it only when it gets requested, loading the module in that moment.&lt;/p&gt;
&lt;h5&gt;&lt;a id="user-content-automatic-registration" class="anchor" aria-hidden="true" href="#automatic-registration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Automatic registration&lt;/h5&gt;
&lt;div class="highlight highlight-source-js"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;/**&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c"&gt; * The following block of code may be used to automatically register your&lt;/span&gt;
&lt;span class="pl-c"&gt; * Vue components. It will recursively scan this directory for the Vue&lt;/span&gt;
&lt;span class="pl-c"&gt; * components and automatically register them with their "basename".&lt;/span&gt;
&lt;span class="pl-c"&gt; *&lt;/span&gt;
&lt;span class="pl-c"&gt; * Eg. ./components/OtherComponent.vue -&amp;gt; &amp;lt;other-component&amp;gt;&amp;lt;/other-component&amp;gt;&lt;/span&gt;
&lt;span class="pl-c"&gt; * Eg. ./UI/ButtonComponent.vue -&amp;gt; &amp;lt;button-component&amp;gt;&amp;lt;/button-component&amp;gt;&lt;/span&gt;
&lt;span class="pl-c"&gt; &lt;span class="pl-c"&gt;*/&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-k"&gt;const&lt;/span&gt; &lt;span class="pl-c1"&gt;files&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-smi"&gt;require&lt;/span&gt;.&lt;span class="pl-en"&gt;context&lt;/span&gt;(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;./&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;true&lt;/span&gt;,&lt;span class="pl-sr"&gt; &lt;span class="pl-pds"&gt;/&lt;/span&gt;&lt;span class="pl-cce"&gt;\.&lt;/span&gt;vue&lt;span class="pl-k"&gt;$&lt;/span&gt;&lt;span class="pl-pds"&gt;/&lt;/span&gt;i&lt;/span&gt;)
&lt;span class="pl-smi"&gt;files&lt;/span&gt;.&lt;span class="pl-c1"&gt;keys&lt;/span&gt;().&lt;span class="pl-en"&gt;map&lt;/span&gt;(&lt;span class="pl-smi"&gt;key&lt;/span&gt; &lt;span class="pl-k"&gt;=&amp;gt;&lt;/span&gt; {
  &lt;span class="pl-k"&gt;const&lt;/span&gt; &lt;span class="pl-c1"&gt;component&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-smi"&gt;key&lt;/span&gt;.&lt;span class="pl-c1"&gt;split&lt;/span&gt;(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).&lt;span class="pl-c1"&gt;pop&lt;/span&gt;().&lt;span class="pl-c1"&gt;split&lt;/span&gt;(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;.&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)[&lt;span class="pl-c1"&gt;0&lt;/span&gt;]

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;//&lt;/span&gt; With Lazy Loading&lt;/span&gt;
  &lt;span class="pl-smi"&gt;Vue&lt;/span&gt;.&lt;span class="pl-en"&gt;component&lt;/span&gt;(component, () &lt;span class="pl-k"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="pl-k"&gt;import&lt;/span&gt;(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-s1"&gt;&lt;span class="pl-pse"&gt;${&lt;/span&gt;key&lt;span class="pl-pse"&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;))

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;//&lt;/span&gt; Or without Lazy Loading&lt;/span&gt;
  &lt;span class="pl-smi"&gt;Vue&lt;/span&gt;.&lt;span class="pl-en"&gt;component&lt;/span&gt;(component, &lt;span class="pl-en"&gt;files&lt;/span&gt;(key).&lt;span class="pl-smi"&gt;default&lt;/span&gt;)
})&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-elm" class="anchor" aria-hidden="true" href="#elm"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Elm&lt;/h3&gt;
&lt;p&gt;To use Webpacker with &lt;a href="http://elm-lang.org" rel="nofollow"&gt;Elm&lt;/a&gt;, create a
new Rails 5.1+ app using &lt;code&gt;--webpack=elm&lt;/code&gt; option:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# Rails 5.1+
rails new myapp --webpack=elm
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;(or run &lt;code&gt;bundle exec rails webpacker:install:elm&lt;/code&gt; on a Rails app already setup with Webpacker).&lt;/p&gt;
&lt;p&gt;The Elm library and its core packages will be added via Yarn and Elm.
An example &lt;code&gt;Main.elm&lt;/code&gt; app will also be added to your project in &lt;code&gt;app/javascript&lt;/code&gt;
so that you can experiment with Elm right away.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-svelte" class="anchor" aria-hidden="true" href="#svelte"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Svelte&lt;/h3&gt;
&lt;p&gt;To use Webpacker with &lt;a href="https://svelte.dev" rel="nofollow"&gt;Svelte&lt;/a&gt;, create a
new Rails 5.1+ app using &lt;code&gt;--webpack=svelte&lt;/code&gt; option:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# Rails 5.1+
rails new myapp --webpack=svelte
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;(or run &lt;code&gt;bundle exec rails webpacker:install:svelte&lt;/code&gt; on a Rails app already setup with Webpacker).&lt;/p&gt;
&lt;p&gt;Please play with the &lt;a href="https://svelte.dev/tutorial/basics" rel="nofollow"&gt;Svelte Tutorial&lt;/a&gt; or learn more about its API at &lt;a href="https://svelte.dev/docs" rel="nofollow"&gt;https://svelte.dev/docs&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-stimulus" class="anchor" aria-hidden="true" href="#stimulus"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Stimulus&lt;/h3&gt;
&lt;p&gt;To use Webpacker with &lt;a href="http://stimulusjs.org" rel="nofollow"&gt;Stimulus&lt;/a&gt;, create a
new Rails 5.1+ app using &lt;code&gt;--webpack=stimulus&lt;/code&gt; option:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# Rails 5.1+
rails new myapp --webpack=stimulus
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;(or run &lt;code&gt;bundle exec rails webpacker:install:stimulus&lt;/code&gt; on a Rails app already setup with Webpacker).&lt;/p&gt;
&lt;p&gt;Please read &lt;a href="https://stimulusjs.org/handbook/introduction" rel="nofollow"&gt;The Stimulus Handbook&lt;/a&gt; or learn more about its source code at &lt;a href="https://github.com/stimulusjs/stimulus"&gt;https://github.com/stimulusjs/stimulus&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-coffeescript" class="anchor" aria-hidden="true" href="#coffeescript"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CoffeeScript&lt;/h3&gt;
&lt;p&gt;To add &lt;a href="http://coffeescript.org/" rel="nofollow"&gt;CoffeeScript&lt;/a&gt; support,
run &lt;code&gt;bundle exec rails webpacker:install:coffee&lt;/code&gt; on a Rails app already
setup with Webpacker.&lt;/p&gt;
&lt;p&gt;An example &lt;code&gt;hello_coffee.coffee&lt;/code&gt; file will also be added to your project
in &lt;code&gt;app/javascript/packs&lt;/code&gt; so that you can experiment with CoffeeScript right away.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-erb" class="anchor" aria-hidden="true" href="#erb"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Erb&lt;/h3&gt;
&lt;p&gt;To add &lt;a href="https://apidock.com/ruby/ERB" rel="nofollow"&gt;Erb&lt;/a&gt; support in your JS templates,
run &lt;code&gt;bundle exec rails webpacker:install:erb&lt;/code&gt; on a Rails app already
setup with Webpacker.&lt;/p&gt;
&lt;p&gt;An example &lt;code&gt;hello_erb.js.erb&lt;/code&gt; file will also be added to your project
in &lt;code&gt;app/javascript/packs&lt;/code&gt; so that you can experiment with Erb-flavoured
javascript right away.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-paths" class="anchor" aria-hidden="true" href="#paths"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Paths&lt;/h2&gt;
&lt;p&gt;By default, Webpacker ships with simple conventions for where the JavaScript
app files and compiled webpack bundles will go in your Rails app.
All these options are configurable from &lt;code&gt;config/webpacker.yml&lt;/code&gt; file.&lt;/p&gt;
&lt;p&gt;The configuration for what webpack is supposed to compile by default rests
on the convention that every file in &lt;code&gt;app/javascript/packs/*&lt;/code&gt;&lt;strong&gt;(default)&lt;/strong&gt;
or whatever path you set for &lt;code&gt;source_entry_path&lt;/code&gt; in the &lt;code&gt;webpacker.yml&lt;/code&gt; configuration
is turned into their own output files (or entry points, as webpack calls it). Therefore you don't want to put anything inside &lt;code&gt;packs&lt;/code&gt; directory that you do not want to be
an entry file. As a rule of thumb, put all files you want to link in your views inside
"packs" directory and keep everything else under &lt;code&gt;app/javascript&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Suppose you want to change the source directory from &lt;code&gt;app/javascript&lt;/code&gt;
to &lt;code&gt;frontend&lt;/code&gt; and output to &lt;code&gt;assets/packs&lt;/code&gt;. This is how you would do it:&lt;/p&gt;
&lt;div class="highlight highlight-source-yaml"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; config/webpacker.yml&lt;/span&gt;
&lt;span class="pl-ent"&gt;source_path&lt;/span&gt;: &lt;span class="pl-s"&gt;frontend&lt;/span&gt;
&lt;span class="pl-ent"&gt;source_entry_path&lt;/span&gt;: &lt;span class="pl-s"&gt;packs&lt;/span&gt;
&lt;span class="pl-ent"&gt;public_output_path&lt;/span&gt;: &lt;span class="pl-s"&gt;assets/packs &lt;/span&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; outputs to =&amp;gt; public/assets/packs&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Similarly you can also control and configure &lt;code&gt;webpack-dev-server&lt;/code&gt; settings from &lt;code&gt;config/webpacker.yml&lt;/code&gt; file:&lt;/p&gt;
&lt;div class="highlight highlight-source-yaml"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; config/webpacker.yml&lt;/span&gt;
&lt;span class="pl-ent"&gt;development&lt;/span&gt;:
  &lt;span class="pl-ent"&gt;dev_server&lt;/span&gt;:
    &lt;span class="pl-ent"&gt;host&lt;/span&gt;: &lt;span class="pl-s"&gt;localhost&lt;/span&gt;
    &lt;span class="pl-ent"&gt;port&lt;/span&gt;: &lt;span class="pl-c1"&gt;3035&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you have &lt;code&gt;hmr&lt;/code&gt; turned to true, then the &lt;code&gt;stylesheet_pack_tag&lt;/code&gt; generates no output, as you will want to configure your styles to be inlined in your JavaScript for hot reloading. During production and testing, the &lt;code&gt;stylesheet_pack_tag&lt;/code&gt; will create the appropriate HTML tags.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-resolved" class="anchor" aria-hidden="true" href="#resolved"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Resolved&lt;/h3&gt;
&lt;p&gt;If you are adding Webpacker to an existing app that has most of the assets inside
&lt;code&gt;app/assets&lt;/code&gt; or inside an engine, and you want to share that
with webpack modules, you can use the &lt;code&gt;resolved_paths&lt;/code&gt;
option available in &lt;code&gt;config/webpacker.yml&lt;/code&gt;. This lets you
add additional paths that webpack should lookup when resolving modules:&lt;/p&gt;
&lt;div class="highlight highlight-source-yaml"&gt;&lt;pre&gt;&lt;span class="pl-ent"&gt;resolved_paths&lt;/span&gt;: &lt;span class="pl-s"&gt;['app/assets']&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can then import these items inside your modules like so:&lt;/p&gt;
&lt;div class="highlight highlight-source-js"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;//&lt;/span&gt; Note it's relative to parent directory i.e. app/assets&lt;/span&gt;
&lt;span class="pl-k"&gt;import&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;stylesheets/main&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;import&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;images/rails.png&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Please be careful when adding paths here otherwise it
will make the compilation slow, consider adding specific paths instead of
whole parent directory if you just need to reference one or two modules&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-watched" class="anchor" aria-hidden="true" href="#watched"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Watched&lt;/h3&gt;
&lt;p&gt;By default, the lazy compilation is cached until a file is changed under your
tracked paths. You can configure which paths are tracked
by adding new paths to &lt;code&gt;watched_paths&lt;/code&gt; array. This is much like Rails' &lt;code&gt;autoload_paths&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; config/initializers/webpacker.rb&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;or config/application.rb&lt;/span&gt;
&lt;span class="pl-c1"&gt;Webpacker&lt;/span&gt;::&lt;span class="pl-c1"&gt;Compiler&lt;/span&gt;.watched_paths &lt;span class="pl-k"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;bower_components&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-deployment" class="anchor" aria-hidden="true" href="#deployment"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deployment&lt;/h2&gt;
&lt;p&gt;Webpacker hooks up a new &lt;code&gt;webpacker:compile&lt;/code&gt; task to &lt;code&gt;assets:precompile&lt;/code&gt;, which gets run whenever you run &lt;code&gt;assets:precompile&lt;/code&gt;. If you are not using Sprockets, &lt;code&gt;webpacker:compile&lt;/code&gt; is automatically aliased to &lt;code&gt;assets:precompile&lt;/code&gt;. Similar to sprockets both rake tasks will compile packs in production mode but will use &lt;code&gt;RAILS_ENV&lt;/code&gt; to load configuration from &lt;code&gt;config/webpacker.yml&lt;/code&gt; (if available).&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-docs" class="anchor" aria-hidden="true" href="#docs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Docs&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/rails/webpacker#development"&gt;Development&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./docs/webpack.md"&gt;Webpack&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./docs/webpack-dev-server.md"&gt;Webpack-dev-server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./docs/env.md"&gt;Environment Variables&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./docs/folder-structure.md"&gt;Folder Structure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./docs/assets.md"&gt;Assets&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./docs/css.md"&gt;CSS, Sass and SCSS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./docs/es6.md"&gt;ES6&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./docs/props.md"&gt;Props&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./docs/typescript.md"&gt;Typescript&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="./docs/yarn.md"&gt;Yarn&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./docs/misc.md"&gt;Misc&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="./docs/deployment.md"&gt;Deployment&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./docs/docker.md"&gt;Docker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./docs/engines.md"&gt;Using in Rails engines&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./docs/cloud9.md"&gt;Webpacker on Cloud9&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="./docs/testing.md"&gt;Testing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./docs/troubleshooting.md"&gt;Troubleshooting&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./docs/v4-upgrade.md"&gt;v3 to v4 Upgrade Guide&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://www.codetriage.com/rails/webpacker" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/e3f66916da0c26b07be0dded51acc32697045947/68747470733a2f2f7777772e636f64657472696167652e636f6d2f7261696c732f7765627061636b65722f6261646765732f75736572732e737667" alt="Code Helpers" data-canonical-src="https://www.codetriage.com/rails/webpacker/badges/users.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;We encourage you to contribute to Webpacker! See &lt;a href="CONTRIBUTING.md"&gt;CONTRIBUTING&lt;/a&gt; for guidelines about how to proceed.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;Webpacker is released under the &lt;a href="https://opensource.org/licenses/MIT" rel="nofollow"&gt;MIT License&lt;/a&gt;.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>rails</author><guid isPermaLink="false">https://github.com/rails/webpacker</guid><pubDate>Mon, 10 Feb 2020 00:09:00 GMT</pubDate></item><item><title>jekyll/jekyll #10 in Ruby, This week</title><link>https://github.com/jekyll/jekyll</link><description>&lt;p&gt;&lt;i&gt;:globe_with_meridians: Jekyll is a blog-aware static site generator in Ruby&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="markdown" data-path="README.markdown"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-jekyll" class="anchor" aria-hidden="true" href="#jekyll"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="https://jekyllrb.com/" rel="nofollow"&gt;Jekyll&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://rubygems.org/gems/jekyll" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/8bf10267d033ee5b2abd162cd740072c5be78415/68747470733a2f2f696d672e736869656c64732e696f2f67656d2f762f6a656b796c6c2e737667" alt="Gem Version" data-canonical-src="https://img.shields.io/gem/v/jekyll.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://travis-ci.org/jekyll/jekyll" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/15c2efaea8810d0f16d2825d288ebbbb6e809993/68747470733a2f2f696d672e736869656c64732e696f2f7472617669732f6a656b796c6c2f6a656b796c6c2f6d61737465722e7376673f6c6162656c3d4c696e75782532306275696c64" alt="Linux Build Status" data-canonical-src="https://img.shields.io/travis/jekyll/jekyll/master.svg?label=Linux%20build" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://ci.appveyor.com/project/jekyll/jekyll/branch/master" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/8e6b92391c986ecf340dae28932c63cdc5f0f762/68747470733a2f2f696d672e736869656c64732e696f2f6170707665796f722f63692f6a656b796c6c2f6a656b796c6c2f6d61737465722e7376673f6c6162656c3d57696e646f77732532306275696c64" alt="Windows Build status" data-canonical-src="https://img.shields.io/appveyor/ci/jekyll/jekyll/master.svg?label=Windows%20build" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://codeclimate.com/github/jekyll/jekyll" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/8aae0e1142656d7d048cc1dd32036b95575aca49/68747470733a2f2f6170692e636f6465636c696d6174652e636f6d2f76312f6261646765732f38626130636235623137626239383438653132382f6d61696e7461696e6162696c697479" alt="Maintainability" data-canonical-src="https://api.codeclimate.com/v1/badges/8ba0cb5b17bb9848e128/maintainability" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://codeclimate.com/github/jekyll/jekyll/coverage" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/0dc5d0a8482c434942e7634595a4caf3cd19414a/68747470733a2f2f6170692e636f6465636c696d6174652e636f6d2f76312f6261646765732f38626130636235623137626239383438653132382f746573745f636f766572616765" alt="Test Coverage" data-canonical-src="https://api.codeclimate.com/v1/badges/8ba0cb5b17bb9848e128/test_coverage" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://hakiri.io/github/jekyll/jekyll/master" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/c4e676117e98cb24160b0fe0a16f29785a9bee97/68747470733a2f2f68616b6972692e696f2f6769746875622f6a656b796c6c2f6a656b796c6c2f6d61737465722e737667" alt="Security" data-canonical-src="https://hakiri.io/github/jekyll/jekyll/master.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="#backers"&gt;&lt;img src="https://camo.githubusercontent.com/c9479a3e688d28636c44f77fdc2c24157c91ecfc/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f6a656b796c6c2f6261636b6572732f62616467652e737667" alt="Backers on Open Collective" data-canonical-src="https://opencollective.com/jekyll/backers/badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="#sponsors"&gt;&lt;img src="https://camo.githubusercontent.com/12caec5a1d9df5d9922ce4dfb2646d8e394e26ac/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f6a656b796c6c2f73706f6e736f72732f62616467652e737667" alt="Sponsors on Open Collective" data-canonical-src="https://opencollective.com/jekyll/sponsors/badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Jekyll is a simple, blog-aware, static site generator perfect for personal, project, or organization sites. Think of it like a file-based CMS, without all the complexity. Jekyll takes your content, renders Markdown and Liquid templates, and spits out a complete, static website ready to be served by Apache, Nginx or another web server. Jekyll is the engine behind &lt;a href="https://pages.github.com"&gt;GitHub Pages&lt;/a&gt;, which you can use to host sites right from your GitHub repositories.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-philosophy" class="anchor" aria-hidden="true" href="#philosophy"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Philosophy&lt;/h2&gt;
&lt;p&gt;Jekyll does what you tell it to do no more, no less. It doesn't try to outsmart users by making bold assumptions, nor does it burden them with needless complexity and configuration. Put simply, Jekyll gets out of your way and allows you to concentrate on what truly matters: your content.&lt;/p&gt;
&lt;p&gt;See: &lt;a href="https://jekyllrb.com/philosophy" rel="nofollow"&gt;https://jekyllrb.com/philosophy&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-getting-started" class="anchor" aria-hidden="true" href="#getting-started"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Getting Started&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://jekyllrb.com/docs/installation/" rel="nofollow"&gt;Install&lt;/a&gt; the gem&lt;/li&gt;
&lt;li&gt;Read up about its &lt;a href="https://jekyllrb.com/docs/usage/" rel="nofollow"&gt;Usage&lt;/a&gt; and &lt;a href="https://jekyllrb.com/docs/configuration/" rel="nofollow"&gt;Configuration&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Take a gander at some existing &lt;a href="https://github.com/jekyll/jekyll/wiki/sites"&gt;Sites&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jekyll/jekyll/fork"&gt;Fork&lt;/a&gt; and &lt;a href="https://jekyllrb.com/docs/contributing/" rel="nofollow"&gt;Contribute&lt;/a&gt; your own modifications&lt;/li&gt;
&lt;li&gt;Have questions? Check out our official forum community &lt;a href="https://talk.jekyllrb.com/" rel="nofollow"&gt;Jekyll Talk&lt;/a&gt; or &lt;a href="https://botbot.me/freenode/jekyll/" rel="nofollow"&gt;&lt;code&gt;#jekyll&lt;/code&gt; on irc.freenode.net&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-diving-in" class="anchor" aria-hidden="true" href="#diving-in"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Diving In&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://import.jekyllrb.com/docs/home/" rel="nofollow"&gt;Migrate&lt;/a&gt; from your previous system&lt;/li&gt;
&lt;li&gt;Learn how &lt;a href="https://jekyllrb.com/docs/front-matter/" rel="nofollow"&gt;Front Matter&lt;/a&gt; works&lt;/li&gt;
&lt;li&gt;Put information on your site with &lt;a href="https://jekyllrb.com/docs/variables/" rel="nofollow"&gt;Variables&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Customize the &lt;a href="https://jekyllrb.com/docs/permalinks/" rel="nofollow"&gt;Permalinks&lt;/a&gt; your posts are generated with&lt;/li&gt;
&lt;li&gt;Use the built-in &lt;a href="https://jekyllrb.com/docs/templates/" rel="nofollow"&gt;Liquid Extensions&lt;/a&gt; to make your life easier&lt;/li&gt;
&lt;li&gt;Use custom &lt;a href="https://jekyllrb.com/docs/plugins/" rel="nofollow"&gt;Plugins&lt;/a&gt; to generate content specific to your site&lt;/li&gt;
&lt;li&gt;Watch &lt;a href="https://jekyllrb.com/tutorials/video-walkthroughs/" rel="nofollow"&gt;video tutorials from Giraffe Academy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-need-help" class="anchor" aria-hidden="true" href="#need-help"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Need help?&lt;/h2&gt;
&lt;p&gt;If you don't find the answer to your problem in our &lt;a href="https://jekyllrb.com/docs/" rel="nofollow"&gt;docs&lt;/a&gt;, or in the &lt;a href="https://jekyllrb.com/docs/troubleshooting/" rel="nofollow"&gt;troubleshooting section&lt;/a&gt;, ask the &lt;a href="https://jekyllrb.com/docs/community/" rel="nofollow"&gt;community&lt;/a&gt; for help.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-code-of-conduct" class="anchor" aria-hidden="true" href="#code-of-conduct"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Code of Conduct&lt;/h2&gt;
&lt;p&gt;In order to have a more open and welcoming community, Jekyll adheres to a
&lt;a href="CODE_OF_CONDUCT.markdown"&gt;code of conduct&lt;/a&gt; adapted from the Ruby on Rails code of
conduct.&lt;/p&gt;
&lt;p&gt;Please adhere to this code of conduct in any interactions you have in the
Jekyll community. It is strictly enforced on all official Jekyll
repositories, websites, and resources. If you encounter someone violating
these terms, please let one of our &lt;a href="https://jekyllrb.com/team/#core-team" rel="nofollow"&gt;core team members&lt;/a&gt; know and we will address it as soon as possible.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-credits" class="anchor" aria-hidden="true" href="#credits"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Credits&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-sponsors" class="anchor" aria-hidden="true" href="#sponsors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Sponsors&lt;/h3&gt;
&lt;p&gt;Support this project by becoming a sponsor. Your logo will show up in this README with a link to your website. &lt;a href="https://opencollective.com/jekyll#sponsor" rel="nofollow"&gt;Become a sponsor!&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://opencollective.com/jekyll/sponsor/0/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/38e7b5f1e146984d6d7f571fc41b56d51ed5b401/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f6a656b796c6c2f73706f6e736f722f302f6176617461722e737667" data-canonical-src="https://opencollective.com/jekyll/sponsor/0/avatar.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/jekyll/sponsor/1/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/e55716e47575f7814b7a922752a2c4cf3d2f0a60/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f6a656b796c6c2f73706f6e736f722f312f6176617461722e737667" data-canonical-src="https://opencollective.com/jekyll/sponsor/1/avatar.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/jekyll/sponsor/2/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/3ea68b9ab268979c3d4b1cfe7bf648344c490429/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f6a656b796c6c2f73706f6e736f722f322f6176617461722e737667" data-canonical-src="https://opencollective.com/jekyll/sponsor/2/avatar.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/jekyll/sponsor/3/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/d7cb65db9d91afff1b95ba2f91d992243ff4b2fc/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f6a656b796c6c2f73706f6e736f722f332f6176617461722e737667" data-canonical-src="https://opencollective.com/jekyll/sponsor/3/avatar.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/jekyll/sponsor/4/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/3cb59969b877c6e6fb62fc7b16d47950eb33320a/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f6a656b796c6c2f73706f6e736f722f342f6176617461722e737667" data-canonical-src="https://opencollective.com/jekyll/sponsor/4/avatar.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/jekyll/sponsor/5/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/b646a8224c86cdf32e7a7bb407f7bea996aad696/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f6a656b796c6c2f73706f6e736f722f352f6176617461722e737667" data-canonical-src="https://opencollective.com/jekyll/sponsor/5/avatar.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/jekyll/sponsor/6/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/a0723560152a0aa902fd13e2bece41ac47261233/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f6a656b796c6c2f73706f6e736f722f362f6176617461722e737667" data-canonical-src="https://opencollective.com/jekyll/sponsor/6/avatar.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/jekyll/sponsor/7/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/910d7a0a2e4b8ffb8237cd470f22170a0a18b4d9/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f6a656b796c6c2f73706f6e736f722f372f6176617461722e737667" data-canonical-src="https://opencollective.com/jekyll/sponsor/7/avatar.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/jekyll/sponsor/8/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/8831888f490083dbecdc5392a4402f425dd42f6a/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f6a656b796c6c2f73706f6e736f722f382f6176617461722e737667" data-canonical-src="https://opencollective.com/jekyll/sponsor/8/avatar.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/jekyll/sponsor/9/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/ae21e4445927eaa90ad5b84b995386ca56834c05/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f6a656b796c6c2f73706f6e736f722f392f6176617461722e737667" data-canonical-src="https://opencollective.com/jekyll/sponsor/9/avatar.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-contributors" class="anchor" aria-hidden="true" href="#contributors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributors&lt;/h3&gt;
&lt;p&gt;This project exists thanks to all the people who contribute.
&lt;a href="../../graphs/contributors"&gt;&lt;img src="https://camo.githubusercontent.com/3c4eaa7b01a6daebca75857f79411705269f039b/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f6a656b796c6c2f636f6e7472696275746f72732e7376673f77696474683d38393026627574746f6e3d66616c7365" data-canonical-src="https://opencollective.com/jekyll/contributors.svg?width=890&amp;amp;button=false" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-backers" class="anchor" aria-hidden="true" href="#backers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Backers&lt;/h3&gt;
&lt;p&gt;Thank you to all our backers! &lt;g-emoji class="g-emoji" alias="pray" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f64f.png"&gt;&lt;/g-emoji&gt; &lt;a href="https://opencollective.com/jekyll#backer" rel="nofollow"&gt;Become a backer&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://opencollective.com/jekyll#backers" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/54a2451b4e16efc0fcb95322c4805d70b907c255/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f6a656b796c6c2f6261636b6572732e7376673f77696474683d383930" data-canonical-src="https://opencollective.com/jekyll/backers.svg?width=890" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;See the &lt;a href="https://github.com/jekyll/jekyll/blob/master/LICENSE"&gt;LICENSE&lt;/a&gt; file.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>jekyll</author><guid isPermaLink="false">https://github.com/jekyll/jekyll</guid><pubDate>Mon, 10 Feb 2020 00:10:00 GMT</pubDate></item><item><title>Shopify/shopify_app #11 in Ruby, This week</title><link>https://github.com/Shopify/shopify_app</link><description>&lt;p&gt;&lt;i&gt;A Rails Engine for building Shopify Apps&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-shopify-app" class="anchor" aria-hidden="true" href="#shopify-app"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Shopify App&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://rubygems.org/gems/shopify_app" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/dadcaaa709e7956b421bbd6726521644c3acc374/68747470733a2f2f696d672e736869656c64732e696f2f67656d2f762f73686f706966795f6170702e737667" alt="Version" data-canonical-src="https://img.shields.io/gem/v/shopify_app.svg" style="max-width:100%;"&gt;&lt;/a&gt; &lt;a href="https://travis-ci.org/Shopify/shopify_app" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/891f8a785ad1a49db654a0991caea6670d572b0a/68747470733a2f2f7472617669732d63692e6f72672f53686f706966792f73686f706966795f6170702e706e67" alt="Build Status" data-canonical-src="https://travis-ci.org/Shopify/shopify_app.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Shopify Application Rails engine and generator&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-note--versions-800-through-823-contained-a-csrf-vulnerability-that-was-addressed-in-version-824-please-update-to-version-824-if-youre-using-an-old-version" class="anchor" aria-hidden="true" href="#note--versions-800-through-823-contained-a-csrf-vulnerability-that-was-addressed-in-version-824-please-update-to-version-824-if-youre-using-an-old-version"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;NOTE : Versions 8.0.0 through 8.2.3 contained a CSRF vulnerability that was addressed in version 8.2.4. Please update to version 8.2.4 if you're using an old version.&lt;/h4&gt;
&lt;h2&gt;&lt;a id="user-content-table-of-contents" class="anchor" aria-hidden="true" href="#table-of-contents"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Table of Contents&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#introduction"&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#become-a-shopify-app-developer"&gt;Become a Shopify App Developer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#installation"&gt;Installation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#generators"&gt;Generators&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#mounting-the-engine"&gt;Mounting the Engine&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#authentication"&gt;Authentication&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#webhooksmanager"&gt;WebhooksManager&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#scripttagsmanager"&gt;ScripttagsManager&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#rotateshopifytokenjob"&gt;RotateShopifyTokenJob&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#app-tunneling"&gt;App Tunneling&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#appproxyverification"&gt;AppProxyVerification&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#troubleshooting"&gt;Troubleshooting&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#testing-an-embedded-app-outside-the-shopify-admin"&gt;Testing an embedded app outside the Shopify admin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#questions-or-problems-"&gt;Questions or problems?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#rails-6-compatibility"&gt;Rails 6 Compatibility&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#upgrading-from-86-to-900"&gt;Upgrading from 8.6 to 9.0.0&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-introduction" class="anchor" aria-hidden="true" href="#introduction"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Introduction&lt;/h2&gt;
&lt;p&gt;Get started with the &lt;a href="https://help.shopify.com/en/api/getting-started" rel="nofollow"&gt;Shopify Admin API&lt;/a&gt; faster; This gem includes a Rails Engine and generators for writing Rails applications using the Shopify API. The Engine provides a SessionsController and all the required code for authenticating with a shop via Oauth (other authentication methods are not supported).&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Note: It's recommended to use this on a new Rails project, so that the generator won't overwrite/delete your files.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Learn how to create and deploy a new Shopify App to Heroku with our &lt;a href="https://github.com/Shopify/shopify_app/blob/master/docs/Quickstart.md"&gt;quickstart guide&lt;/a&gt;, or dive in in less than 5 minutes with this quickstart video:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.youtube.com/watch?v=yGxeoAHlQOg" rel="nofollow"&gt;https://www.youtube.com/watch?v=yGxeoAHlQOg&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-become-a-shopify-app-developer" class="anchor" aria-hidden="true" href="#become-a-shopify-app-developer"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Become a Shopify App Developer&lt;/h2&gt;
&lt;p&gt;To become a Shopify App Developer you'll need a &lt;a href="http://shopify.com/partners" rel="nofollow"&gt;Shopify Partner account.&lt;/a&gt; If you don't have a Shopify Partner account, head to &lt;a href="http://shopify.com/partners" rel="nofollow"&gt;http://shopify.com/partners&lt;/a&gt; to create one before you start.&lt;/p&gt;
&lt;p&gt;Once you have a Partner account, &lt;a href="https://help.shopify.com/en/api/tools/partner-dashboard/your-apps" rel="nofollow"&gt;create a new application in the Partner Dashboard&lt;/a&gt; to get an API key and other API credentials.&lt;/p&gt;
&lt;p&gt;To create an application for development set your new app's &lt;code&gt;App URL&lt;/code&gt; to the URL provided by &lt;a href="#app-tunneling"&gt;your tunnel&lt;/a&gt;, ensuring that you use &lt;code&gt;https://&lt;/code&gt;. If you are not planning to embed your app inside the Shopify admin or receive webhooks, set your redirect URL to &lt;code&gt;http://localhost:3000/&lt;/code&gt; and the &lt;code&gt;Whitelisted redirection URL(s)&lt;/code&gt; to contain &lt;code&gt;&amp;lt;App URL&amp;gt;/auth/shopify/callback&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation&lt;/h2&gt;
&lt;p&gt;To get started add &lt;code&gt;shopify_app&lt;/code&gt; to your Gemfile and run &lt;code&gt;bundle install&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Create a new rails app&lt;/span&gt;
$ rails new my_shopify_app
$ &lt;span class="pl-c1"&gt;cd&lt;/span&gt; my_shopify_app

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Add the gem shopify_app to your Gemfile&lt;/span&gt;
$ &lt;span class="pl-c1"&gt;echo&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;gem 'shopify_app'&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;&amp;gt;&amp;gt;&lt;/span&gt; Gemfile
$ bundle install&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now we are ready to run any of the &lt;a href="#generators"&gt;generators&lt;/a&gt; included with &lt;code&gt;shopify_app&lt;/code&gt;. The following section explains the generators and what you can do with them.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-rails-compatibility" class="anchor" aria-hidden="true" href="#rails-compatibility"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Rails Compatibility&lt;/h4&gt;
&lt;p&gt;The lastest version of shopify_app is compatible with Rails &lt;code&gt;&amp;gt;= 5&lt;/code&gt;. Use version &lt;code&gt;&amp;lt;= v7.2.8&lt;/code&gt; if you need to work with Rails 4.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-generators" class="anchor" aria-hidden="true" href="#generators"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Generators&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-default-generator" class="anchor" aria-hidden="true" href="#default-generator"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Default Generator&lt;/h3&gt;
&lt;p&gt;The default generator will run the &lt;code&gt;install&lt;/code&gt;, &lt;code&gt;shop&lt;/code&gt;, and &lt;code&gt;home_controller&lt;/code&gt; generators. This is the recommended way to start a new app from scratch:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ rails generate shopify_app&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After running the generator, you will need to run &lt;code&gt;rails db:migrate&lt;/code&gt; to add new tables to your database. You can start your app with &lt;code&gt;bundle exec rails server&lt;/code&gt; and install your app by visiting &lt;code&gt;http://localhost&lt;/code&gt; in your web browser.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-api-keys" class="anchor" aria-hidden="true" href="#api-keys"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;API Keys&lt;/h3&gt;
&lt;p&gt;The default and install generators have been updated to source Shopify API key and secret from an Environment (&lt;code&gt;.env&lt;/code&gt;) variables file, which you will need to create with the following format:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;SHOPIFY_API_KEY=your api key
SHOPIFY_API_SECRET=your api secret
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;These values can be found on the "App Setup" page in the &lt;a href="https://partners.shopify.com" rel="nofollow"&gt;Shopify Partners Dashboard&lt;/a&gt;. If you are checking your code into a code repository, ensure your &lt;code&gt;.gitignore&lt;/code&gt; prevents your &lt;code&gt;.env&lt;/code&gt; file from being checked into any publicly accessible code.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-install-generator" class="anchor" aria-hidden="true" href="#install-generator"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Install Generator&lt;/h3&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ rails generate shopify_app:install

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; or optionally with arguments:&lt;/span&gt;

$ rails generate shopify_app:install&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Other options include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;application_name&lt;/code&gt; - the name of your app, it can be supplied with or without double-quotes if a whitespace is present. (e.g. &lt;code&gt;--application_name Example App&lt;/code&gt; or &lt;code&gt;--application_name "Example App"&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;scope&lt;/code&gt; - the Oauth access scope required for your app, eg &lt;strong&gt;read_products, write_orders&lt;/strong&gt;. &lt;em&gt;Multiple options&lt;/em&gt; need to be delimited by a comma-space, and can be supplied with or without double-quotes
(e.g. &lt;code&gt;--scope read_products, write_orders, write_products&lt;/code&gt; or &lt;code&gt;--scope "read_products, write_orders, write_products"&lt;/code&gt;)
For more information, refer the &lt;a href="http://docs.shopify.com/api/tutorials/oauth" rel="nofollow"&gt;docs&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;embedded&lt;/code&gt; - the default is to generate an &lt;a href="http://docs.shopify.com/embedded-app-sdk" rel="nofollow"&gt;embedded app&lt;/a&gt;, if you want a legacy non-embedded app then set this to false, &lt;code&gt;--embedded false&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can update any of these settings later on easily, the arguments are simply for convenience.&lt;/p&gt;
&lt;p&gt;The generator adds ShopifyApp and the required initializers to the host Rails application.&lt;/p&gt;
&lt;p&gt;After running the &lt;code&gt;install&lt;/code&gt; generator, you can start your app with &lt;code&gt;bundle exec rails server&lt;/code&gt; and install your app by visiting localhost.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-home-controller-generator" class="anchor" aria-hidden="true" href="#home-controller-generator"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Home Controller Generator&lt;/h3&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ rails generate shopify_app:home_controller&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This generator creates an example home controller and view which fetches and displays products using the Shopify API&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-app-proxy-controller-generator" class="anchor" aria-hidden="true" href="#app-proxy-controller-generator"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;App Proxy Controller Generator&lt;/h3&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ rails generate shopify_app:app_proxy_controller&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This optional generator, not included with the default generator, creates the app proxy controller to handle proxy requests to the app from your shop storefront, modifies 'config/routes.rb' with a namespace route, and an example view which displays current shop information using the LiquidAPI&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-marketing-extension-generator" class="anchor" aria-hidden="true" href="#marketing-extension-generator"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Marketing Extension Generator&lt;/h3&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ rails generate shopify_app:add_marketing_activity_extension&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This will create a controller with the endpoints required to build a &lt;a href="https://help.shopify.com/en/api/embedded-apps/app-extensions/shopify-admin/marketing-activities" rel="nofollow"&gt;marketing activities extension&lt;/a&gt;. The extension will be generated with a base url at &lt;code&gt;/marketing_activities&lt;/code&gt;, which should also be configured in partners.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-controllers-routes-and-views" class="anchor" aria-hidden="true" href="#controllers-routes-and-views"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Controllers, Routes and Views&lt;/h3&gt;
&lt;p&gt;The last group of generators are for your convenience if you want to start overriding code included as part of the Rails engine. For example by default the engine provides a simple SessionController, if you run the &lt;code&gt;rails generate shopify_app:controllers&lt;/code&gt; generator then this code gets copied out into your app so you can start adding to it. Routes and views follow the exact same pattern.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-mounting-the-engine" class="anchor" aria-hidden="true" href="#mounting-the-engine"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Mounting the Engine&lt;/h2&gt;
&lt;p&gt;Mounting the Engine will provide the basic routes to authenticating a shop with your application. By default it will provide:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Verb&lt;/th&gt;
&lt;th&gt;Route&lt;/th&gt;
&lt;th&gt;Action&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;GET&lt;/td&gt;
&lt;td&gt;'/login'&lt;/td&gt;
&lt;td&gt;Login&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;POST&lt;/td&gt;
&lt;td&gt;'/login'&lt;/td&gt;
&lt;td&gt;Login&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;GET&lt;/td&gt;
&lt;td&gt;'/auth/shopify/callback'&lt;/td&gt;
&lt;td&gt;Authenticate Callback&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;GET&lt;/td&gt;
&lt;td&gt;'/logout'&lt;/td&gt;
&lt;td&gt;Logout&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;POST&lt;/td&gt;
&lt;td&gt;'/webhooks/:type'&lt;/td&gt;
&lt;td&gt;Webhook Callback&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;&lt;a id="user-content-nested-routes" class="anchor" aria-hidden="true" href="#nested-routes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Nested Routes&lt;/h3&gt;
&lt;p&gt;The engine may also be mounted at a nested route, for example:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;mount &lt;span class="pl-c1"&gt;ShopifyApp&lt;/span&gt;::&lt;span class="pl-c1"&gt;Engine&lt;/span&gt;, &lt;span class="pl-c1"&gt;at:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/nested&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This will create the Shopify engine routes under the specified subpath. You'll also need to make some updates to your &lt;code&gt;shopify_app.rb&lt;/code&gt; and &lt;code&gt;omniauth.rb&lt;/code&gt; initializers. First update the shopify_app initializer to include a custom &lt;code&gt;root_url&lt;/code&gt; e.g.:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;ShopifyApp&lt;/span&gt;.configure &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;config&lt;/span&gt;|
  config.root_url &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/nested&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;then update the omniauth initializer to include a custom &lt;code&gt;callback_path&lt;/code&gt; e.g.:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;provider &lt;span class="pl-c1"&gt;:shopify&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;ShopifyApp&lt;/span&gt;.configuration.api_key,
  &lt;span class="pl-c1"&gt;ShopifyApp&lt;/span&gt;.configuration.secret,
  &lt;span class="pl-c1"&gt;scope:&lt;/span&gt; &lt;span class="pl-c1"&gt;ShopifyApp&lt;/span&gt;.configuration.scope,
  &lt;span class="pl-c1"&gt;callback_path:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/nested/auth/shopify/callback&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You may also need to change your &lt;code&gt;config/routes.rb&lt;/code&gt; to render a view for &lt;code&gt;/nested&lt;/code&gt;, since this is what will be rendered in the Shopify Admin of any shops that have installed your app.  The engine itself doesn't have a view for this, so you'll need something like this:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; config/routes.rb&lt;/span&gt;
&lt;span class="pl-c1"&gt;Rails&lt;/span&gt;.application.routes.draw &lt;span class="pl-k"&gt;do&lt;/span&gt;
  root &lt;span class="pl-c1"&gt;:to&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;something_else#index&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  get &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/nested&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;to:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;home#index&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  mount &lt;span class="pl-c1"&gt;ShopifyApp&lt;/span&gt;::&lt;span class="pl-c1"&gt;Engine&lt;/span&gt;, &lt;span class="pl-c1"&gt;at:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/nested&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Finally, note that if you do this, to add your app to a store, you must navigate to &lt;code&gt;/nested&lt;/code&gt; in order to render the &lt;code&gt;Enter your shop domain to log in or install this app.&lt;/code&gt; UI.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-custom-login-url" class="anchor" aria-hidden="true" href="#custom-login-url"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Custom login URL&lt;/h3&gt;
&lt;p&gt;While you can customize the login view by creating a &lt;code&gt;/app/views/shopify_app/sessions/new.html.erb&lt;/code&gt; file, you may also want to customize the URL entirely. You can modify your &lt;code&gt;shopify_app.rb&lt;/code&gt; initializer to provide a custom &lt;code&gt;login_url&lt;/code&gt; e.g.:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;ShopifyApp&lt;/span&gt;.configure &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;config&lt;/span&gt;|
  config.login_url &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;https://my.domain.com/nested/login&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-authentication" class="anchor" aria-hidden="true" href="#authentication"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Authentication&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-shopifyappsessionrepository" class="anchor" aria-hidden="true" href="#shopifyappsessionrepository"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ShopifyApp::SessionRepository&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ShopifyApp::SessionRepository&lt;/code&gt; allows you as a developer to define how your sessions are stored and retrieved for shops. The &lt;code&gt;SessionRepository&lt;/code&gt; is configured in the &lt;code&gt;config/initializers/shopify_app.rb&lt;/code&gt; file and can be set to any object that implements &lt;code&gt;self.store(auth_session, *args)&lt;/code&gt; which stores the session and returns a unique identifier and &lt;code&gt;self.retrieve(id)&lt;/code&gt; which returns a &lt;code&gt;ShopifyAPI::Session&lt;/code&gt; for the passed id. These methods are already implemented as part of the &lt;code&gt;ShopifyApp::SessionStorage&lt;/code&gt; concern, but can be overridden for custom implementation.&lt;/p&gt;
&lt;p&gt;If you only run the install generator then by default you will have an in memory store but it &lt;strong&gt;won't work&lt;/strong&gt; on multi-server environments including Heroku. For multi-server environments, implement one of the following token-storage strategies.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-shop-based-token-storage" class="anchor" aria-hidden="true" href="#shop-based-token-storage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Shop-based token storage&lt;/h4&gt;
&lt;p&gt;Storing tokens on the store model means that any user login associated to the store will have equal access levels to whatever the original user granted the app.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ rails generate shopify_app:shop_model&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This will generate a shop model which will be the storage for the tokens necessary for authentication.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-user-based-token-storage" class="anchor" aria-hidden="true" href="#user-based-token-storage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;User-based token storage&lt;/h4&gt;
&lt;p&gt;A more granular control over level of access per user on an app might be necessary, to which the shop-based token strategy is not sufficient. Shopify supports a user-based token storage strategy where a unique token to each user can be managed.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ rails generate shopify_app:user_model&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This will generate a user model which will be the storage for the tokens necessary for authentication.&lt;/p&gt;
&lt;p&gt;The current Shopify user will be stored in the rails session at &lt;code&gt;session[:shopify_user]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;In this mode, The &lt;code&gt;self.store(auth_session, *args)&lt;/code&gt; will be invoked with a Shopify User object hash, which is then used to store the token as part of a user record, rather than a store record.&lt;/p&gt;
&lt;p&gt;This will change the type of token that Shopify returns and it will only be valid for a short time. Read more about &lt;code&gt;Online access&lt;/code&gt; &lt;a href="https://help.shopify.com/api/getting-started/authentication/oauth" rel="nofollow"&gt;here&lt;/a&gt;. Note that this means you won't be able to use this token to respond to Webhooks.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-migrating-from-shop-based-to-user-based-token-strategy" class="anchor" aria-hidden="true" href="#migrating-from-shop-based-to-user-based-token-strategy"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Migrating from shop-based to user-based token strategy&lt;/h4&gt;
&lt;p&gt;After running the generator, ensure that configuration settings are successfully changed:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; In the `omniauth.rb` initializer:&lt;/span&gt;
provider &lt;span class="pl-c1"&gt;:shopify&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;ShopifyApp&lt;/span&gt;.configuration.api_key,
  &lt;span class="pl-c1"&gt;ShopifyApp&lt;/span&gt;.configuration.secret,
  &lt;span class="pl-c1"&gt;scope:&lt;/span&gt; &lt;span class="pl-c1"&gt;ShopifyApp&lt;/span&gt;.configuration.scope,
  &lt;span class="pl-c1"&gt;per_user_permissions:&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; In the `shopify_app.rb` initializer:&lt;/span&gt;
config.session_repository &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;User&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
config.per_user_tokens &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-authenticated" class="anchor" aria-hidden="true" href="#authenticated"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Authenticated&lt;/h3&gt;
&lt;p&gt;The engine provides a &lt;code&gt;ShopifyApp::Authenticated&lt;/code&gt; concern which should be included in any controller that is intended to be behind Shopify OAuth. It adds &lt;code&gt;before_action&lt;/code&gt;s to ensure that the user is authenticated and will redirect to the Shopify login page if not. It is best practice to include this concern in a base controller inheriting from your &lt;code&gt;ApplicationController&lt;/code&gt;, from which all controllers that require Shopify authentication inherit.&lt;/p&gt;
&lt;p&gt;For backwards compatibility, the engine still provides a controller called &lt;code&gt;ShopifyApp::AuthenticatedController&lt;/code&gt; which includes the &lt;code&gt;ShopifyApp::Authenticated&lt;/code&gt; concern. Note that it inherits directly from &lt;code&gt;ActionController::Base&lt;/code&gt;, so you will not be able to share functionality between it and your application's &lt;code&gt;ApplicationController&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-afterauthenticate-job" class="anchor" aria-hidden="true" href="#afterauthenticate-job"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;AfterAuthenticate Job&lt;/h3&gt;
&lt;p&gt;If your app needs to perform specific actions after the user is authenticated successfully (i.e. every time a new session is created), ShopifyApp can queue or run a job of your choosing (note that we already provide support for automatically creating Webhooks and Scripttags). To configure the after authenticate job update your initializer as follows:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;ShopifyApp&lt;/span&gt;.configure &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;config&lt;/span&gt;|
  config.after_authenticate_job &lt;span class="pl-k"&gt;=&lt;/span&gt; { &lt;span class="pl-c1"&gt;job:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Shopify::AfterAuthenticateJob&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; }
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The job can be configured as either a class or a class name string.&lt;/p&gt;
&lt;p&gt;If you need the job to run synchronously add the &lt;code&gt;inline&lt;/code&gt; flag:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;ShopifyApp&lt;/span&gt;.configure &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;config&lt;/span&gt;|
  config.after_authenticate_job &lt;span class="pl-k"&gt;=&lt;/span&gt; { &lt;span class="pl-c1"&gt;job:&lt;/span&gt; &lt;span class="pl-c1"&gt;Shopify&lt;/span&gt;::&lt;span class="pl-c1"&gt;AfterAuthenticateJob&lt;/span&gt;, &lt;span class="pl-c1"&gt;inline:&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt; }
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We've also provided a generator which creates a skeleton job and updates the initializer for you:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;bin/rails g shopify_app:add_after_authenticate_job
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you want to perform that action only once, e.g. send a welcome email to the user when they install the app, you should make sure that this action is idempotent, meaning that it won't have an impact if run multiple times.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-webhooksmanager" class="anchor" aria-hidden="true" href="#webhooksmanager"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;WebhooksManager&lt;/h2&gt;
&lt;p&gt;ShopifyApp can manage your app's webhooks for you if you set which webhooks you require in the initializer:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;ShopifyApp&lt;/span&gt;.configure &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;config&lt;/span&gt;|
  config.webhooks &lt;span class="pl-k"&gt;=&lt;/span&gt; [
    {&lt;span class="pl-c1"&gt;topic:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;carts/update&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;address:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;https://example-app.com/webhooks/carts_update&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;}
  ]
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When the oauth callback is completed successfully ShopifyApp will queue a background job which will ensure all the specified webhooks exist for that shop. Because this runs on every oauth callback it means your app will always have the webhooks it needs even if the user uninstalls and re-installs the app.&lt;/p&gt;
&lt;p&gt;ShopifyApp also provides a WebhooksController that receives webhooks and queues a job based on the received topic. For example if you register the webhook from above then all you need to do is create a job called &lt;code&gt;CartsUpdateJob&lt;/code&gt;. The job will be queued with 2 params: &lt;code&gt;shop_domain&lt;/code&gt; and &lt;code&gt;webhook&lt;/code&gt; (which is the webhook body).&lt;/p&gt;
&lt;p&gt;If you would like to namespace your jobs you may set &lt;code&gt;webhook_jobs_namespace&lt;/code&gt; in the config. For example if your app handles webhooks from other ecommerce applications as well, and you want Shopify cart update webhooks to be processed by a job living in &lt;code&gt;jobs/shopify/webhooks/carts_update_job.rb&lt;/code&gt; rather than &lt;code&gt;jobs/carts_update_job.rb&lt;/code&gt;):&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;ShopifyApp&lt;/span&gt;.configure &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;config&lt;/span&gt;|
  config.webhook_jobs_namespace &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;shopify/webhooks&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you are only interested in particular fields, you can optionally filter the data sent by Shopify by specifying the &lt;code&gt;fields&lt;/code&gt; parameter in &lt;code&gt;config/webhooks&lt;/code&gt;. Note that you will still receive a webhook request from Shopify every time the resource is updated, but only the specified fields will be sent.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;ShopifyApp&lt;/span&gt;.configure &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;config&lt;/span&gt;|
  config.webhooks &lt;span class="pl-k"&gt;=&lt;/span&gt; [
    {&lt;span class="pl-c1"&gt;topic:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;products/update&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;address:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;https://example-app.com/webhooks/products_update&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;fields:&lt;/span&gt; [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;title&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;vendor&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;]}
  ]
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you'd rather implement your own controller then you'll want to use the WebhookVerification module to verify your webhooks, example:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;CustomWebhooksController&lt;span class="pl-e"&gt; &amp;lt; ApplicationController&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;ShopifyApp&lt;/span&gt;::&lt;span class="pl-c1"&gt;WebhookVerification&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;carts_update&lt;/span&gt;
    params.permit!
    &lt;span class="pl-c1"&gt;SomeJob&lt;/span&gt;.perform_later(&lt;span class="pl-c1"&gt;shop_domain:&lt;/span&gt; shop_domain, &lt;span class="pl-c1"&gt;webhook:&lt;/span&gt; webhook_params.to_h)
    head &lt;span class="pl-c1"&gt;:no_content&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  &lt;span class="pl-k"&gt;private&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;webhook_params&lt;/span&gt;
    params.except(&lt;span class="pl-c1"&gt;:controller&lt;/span&gt;, &lt;span class="pl-c1"&gt;:action&lt;/span&gt;, &lt;span class="pl-c1"&gt;:type&lt;/span&gt;)
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The module skips the &lt;code&gt;verify_authenticity_token&lt;/code&gt; before_action and adds an action to verify that the webhook came from Shopify. You can now add a post route to your application pointing to the controller and action to accept the webhook data from Shopify.&lt;/p&gt;
&lt;p&gt;The WebhooksManager uses ActiveJob, if ActiveJob is not configured then by default Rails will run the jobs inline. However it is highly recommended to configure a proper background processing queue like sidekiq or resque in production.&lt;/p&gt;
&lt;p&gt;ShopifyApp can create webhooks for you using the &lt;code&gt;add_webhook&lt;/code&gt; generator. This will add the new webhook to your config and create the required job class for you.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;rails g shopify_app:add_webhook -t carts/update -a https://example.com/webhooks/carts_update
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;where &lt;code&gt;-t&lt;/code&gt; is the topic and &lt;code&gt;-a&lt;/code&gt; is the address the webhook should be sent to.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-scripttagsmanager" class="anchor" aria-hidden="true" href="#scripttagsmanager"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ScripttagsManager&lt;/h2&gt;
&lt;p&gt;As with webhooks, ShopifyApp can manage your app's scripttags for you by setting which scripttags you require in the initializer:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;ShopifyApp&lt;/span&gt;.configure &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;config&lt;/span&gt;|
  config.scripttags &lt;span class="pl-k"&gt;=&lt;/span&gt; [
    {&lt;span class="pl-c1"&gt;event:&lt;/span&gt;&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;onload&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;src:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;https://my-shopifyapp.herokuapp.com/fancy.js&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;},
    {&lt;span class="pl-c1"&gt;event:&lt;/span&gt;&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;onload&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;src:&lt;/span&gt; &lt;span class="pl-c1"&gt;-&amp;gt;&lt;/span&gt;(domain) { dynamic_tag_url(domain) } }
  ]
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You also need to have write_script_tags permission in the config scope in order to add script tags automatically:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt; config.scope &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;... , write_script_tags&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Scripttags are created in the same way as the Webhooks, with a background job which will create the required scripttags.&lt;/p&gt;
&lt;p&gt;If &lt;code&gt;src&lt;/code&gt; responds to &lt;code&gt;call&lt;/code&gt; its return value will be used as the scripttag's source. It will be called on scripttag creation and deletion.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-rotateshopifytokenjob" class="anchor" aria-hidden="true" href="#rotateshopifytokenjob"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;RotateShopifyTokenJob&lt;/h2&gt;
&lt;p&gt;If your Shopify secret key is leaked, you can use the RotateShopifyTokenJob to perform &lt;a href="https://help.shopify.com/en/api/getting-started/authentication/oauth/api-credential-rotation" rel="nofollow"&gt;API Credential Rotation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Before running the job, you'll need to generate a new secret key from your Shopify Partner dashboard, and update the &lt;code&gt;/config/initializers/shopify_app.rb&lt;/code&gt; to hold your new and old secret keys:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;config.secret &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Rails&lt;/span&gt;.application.secrets.shopify_secret
config.old_secret &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Rails&lt;/span&gt;.application.secrets.old_shopify_secret&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We've provided a generator which creates the job and an example rake task:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;bin/rails g shopify_app:rotate_shopify_token_job&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The generated rake task will be found at &lt;code&gt;lib/tasks/shopify/rotate_shopify_token.rake&lt;/code&gt; and is provided strictly for example purposes. It might not work with your application out of the box without some configuration.&lt;/p&gt;
&lt;p&gt;&lt;g-emoji class="g-emoji" alias="warning" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png"&gt;&lt;/g-emoji&gt; Note: if you are updating &lt;code&gt;shopify_app&lt;/code&gt; from a version prior to 8.4.2 (and do not wish to run the default/install generator again), you will need to add &lt;a href="https://github.com/Shopify/shopify_app/blob/4f7e6cca2a472d8f7af44b938bd0fcafe4d8e88a/lib/generators/shopify_app/install/templates/shopify_provider.rb#L18"&gt;the following line&lt;/a&gt; to &lt;code&gt;config/intializers/omniauth.rb&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;strategy.options[&lt;span class="pl-c1"&gt;:old_client_secret&lt;/span&gt;] &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;ShopifyApp&lt;/span&gt;.configuration.old_secret&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-app-tunneling" class="anchor" aria-hidden="true" href="#app-tunneling"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;App Tunneling&lt;/h2&gt;
&lt;p&gt;Your local app needs to be accessible from the public Internet in order to install it on a Shopify store, to use the &lt;a href="#app-proxy-controller-generator"&gt;App Proxy Controller&lt;/a&gt; or receive Webhooks.&lt;/p&gt;
&lt;p&gt;Use a tunneling service like &lt;a href="https://ngrok.com/" rel="nofollow"&gt;ngrok&lt;/a&gt;, &lt;a href="https://forwardhq.com/" rel="nofollow"&gt;Forward&lt;/a&gt;, &lt;a href="https://beeceptor.com/" rel="nofollow"&gt;Beeceptor&lt;/a&gt;, &lt;a href="http://mockbin.org/" rel="nofollow"&gt;Mockbin&lt;/a&gt;, or &lt;a href="https://hookbin.com/" rel="nofollow"&gt;Hookbin&lt;/a&gt; to make your development environment accessible to the internet.&lt;/p&gt;
&lt;p&gt;For example with &lt;a href="https://ngrok.com/" rel="nofollow"&gt;ngrok&lt;/a&gt;, run this command to set up a tunnel proxy to Rails' default port:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;ngrok http 3000&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-appproxyverification" class="anchor" aria-hidden="true" href="#appproxyverification"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;AppProxyVerification&lt;/h2&gt;
&lt;p&gt;The engine provides a mixin for verifying incoming HTTP requests sent via an App Proxy. Any controller that &lt;code&gt;include&lt;/code&gt;s &lt;code&gt;ShopifyApp::AppProxyVerification&lt;/code&gt; will verify that each request has a valid &lt;code&gt;signature&lt;/code&gt; query parameter that is calculated using the other query parameters and the app's shared secret.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-recommended-usage" class="anchor" aria-hidden="true" href="#recommended-usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Recommended Usage&lt;/h3&gt;
&lt;p&gt;The App Proxy Controller Generator automatically adds the mixin to the generated app_proxy_controller.rb
Additional controllers for resources within the App_Proxy namespace, will need to include the mixin like so:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; app/controllers/app_proxy/reviews_controller.rb&lt;/span&gt;
&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;ReviewsController&lt;span class="pl-e"&gt; &amp;lt; ApplicationController&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;ShopifyApp&lt;/span&gt;::&lt;span class="pl-c1"&gt;AppProxyVerification&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ...&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Create your app proxy url in the &lt;a href="https://partners.shopify.com" rel="nofollow"&gt;Shopify Partners' Dashboard&lt;/a&gt;, making sure to point it to &lt;code&gt;https://your_app_website.com/app_proxy&lt;/code&gt;.
&lt;a target="_blank" rel="noopener noreferrer" href="/images/app-proxy-screenshot.png"&gt;&lt;img src="/images/app-proxy-screenshot.png" alt="Creating an App Proxy" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-app-bridge" class="anchor" aria-hidden="true" href="#app-bridge"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;App Bridge&lt;/h2&gt;
&lt;p&gt;A basic example of using &lt;a href="https://help.shopify.com/en/api/embedded-apps/app-bridge" rel="nofollow"&gt;App Bridge&lt;/a&gt; is included in the install generator. An app instance is automatically initialized in &lt;a href="https://github.com/Shopify/shopify_app/blob/master/lib/generators/shopify_app/install/templates/shopify_app.js"&gt;shopify_app.js&lt;/a&gt; and &lt;a href="https://github.com/Shopify/shopify_app/blob/master/lib/generators/shopify_app/install/templates/flash_messages.js"&gt;flash_messages.js&lt;/a&gt; converts Rails &lt;a href="https://api.rubyonrails.org/classes/ActionDispatch/Flash.html" rel="nofollow"&gt;flash messages&lt;/a&gt; to App Bridge Toast actions automatically. By default, this library is included via &lt;a href="https://github.com/Shopify/shopify_app/blob/master/lib/generators/shopify_app/install/templates/embedded_app.html.erb#L27"&gt;unpkg in the embedded_app layout&lt;/a&gt;. For more advanced uses it is recommended to &lt;a href="https://help.shopify.com/en/api/embedded-apps/app-bridge/getting-started#set-up-shopify-app-bridge-in-your-app" rel="nofollow"&gt;install App Bridge via npm or yarn&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-troubleshooting" class="anchor" aria-hidden="true" href="#troubleshooting"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Troubleshooting&lt;/h2&gt;
&lt;p&gt;see &lt;a href="https://github.com/Shopify/shopify_app/blob/master/docs/Troubleshooting.md"&gt;TROUBLESHOOTING.md&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-testing-an-embedded-app-outside-the-shopify-admin" class="anchor" aria-hidden="true" href="#testing-an-embedded-app-outside-the-shopify-admin"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Testing an embedded app outside the Shopify admin&lt;/h2&gt;
&lt;p&gt;By default, loading your embedded app will redirect to the Shopify admin, with the app view loaded in an &lt;code&gt;iframe&lt;/code&gt;. If you need to load your app outside of the Shopify admin (e.g., for performance testing), you can change &lt;code&gt;forceRedirect: true&lt;/code&gt; to &lt;code&gt;false&lt;/code&gt; in &lt;code&gt;ShopifyApp.init&lt;/code&gt; block in the &lt;code&gt;embedded_app&lt;/code&gt; view. To keep the redirect on in production but off in your &lt;code&gt;development&lt;/code&gt; and &lt;code&gt;test&lt;/code&gt; environments, you can use:&lt;/p&gt;
&lt;div class="highlight highlight-source-js"&gt;&lt;pre&gt;forceRedirect&lt;span class="pl-k"&gt;:&lt;/span&gt; &lt;span class="pl-k"&gt;&amp;lt;&lt;/span&gt;&lt;span class="pl-k"&gt;%=&lt;/span&gt; &lt;span class="pl-smi"&gt;Rails&lt;/span&gt;.&lt;span class="pl-smi"&gt;env&lt;/span&gt;.&lt;span class="pl-smi"&gt;development&lt;/span&gt;&lt;span class="pl-k"&gt;?&lt;/span&gt; &lt;span class="pl-k"&gt;||&lt;/span&gt; &lt;span class="pl-smi"&gt;Rails&lt;/span&gt;.&lt;span class="pl-smi"&gt;env&lt;/span&gt;.&lt;span class="pl-smi"&gt;test&lt;/span&gt;&lt;span class="pl-k"&gt;?&lt;/span&gt; &lt;span class="pl-k"&gt;?&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;false&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;true&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;%&lt;/span&gt;&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-questions-or-problems" class="anchor" aria-hidden="true" href="#questions-or-problems"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Questions or problems?&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://ecommerce.shopify.com/c/shopify-apis-and-technology" rel="nofollow"&gt;Ask questions!&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://help.shopify.com/api/guides" rel="nofollow"&gt;Read the docs!&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-upgrading-to-1170" class="anchor" aria-hidden="true" href="#upgrading-to-1170"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Upgrading to 11.7.0&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-session-storage-method-signature-breaking-change" class="anchor" aria-hidden="true" href="#session-storage-method-signature-breaking-change"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Session storage method signature breaking change&lt;/h3&gt;
&lt;p&gt;If you override &lt;code&gt;def self.store(auth_session)&lt;/code&gt; method in your session storage model (e.g. Shop), the method signature has changed to &lt;code&gt;def self.store(auth_session, *args)&lt;/code&gt; in order to support user-based token storage. Please update your method signature to include the second argument.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-rails-6-compatibility" class="anchor" aria-hidden="true" href="#rails-6-compatibility"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Rails 6 Compatibility&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-disable-webpacker" class="anchor" aria-hidden="true" href="#disable-webpacker"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Disable Webpacker&lt;/h3&gt;
&lt;p&gt;If you are using sprockets in rails 6 or want to generate a shopify_app without webpacker run the install task by running&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;SHOPIFY_APP_DISABLE_WEBPACKER=1 rails generate shopify_app
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and then in your ShopifyApp configuration block, add&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ShopifyApp.configure do |config|
  config.disable_webpacker = true
end
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-upgrading-from-86-to-900" class="anchor" aria-hidden="true" href="#upgrading-from-86-to-900"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Upgrading from 8.6 to 9.0.0&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-configuration-change" class="anchor" aria-hidden="true" href="#configuration-change"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Configuration change&lt;/h3&gt;
&lt;p&gt;Add an api version configuration in &lt;code&gt;config/initializers/shopify_app.rb&lt;/code&gt;
Set this to the version you want to run against by default. See &lt;a href="https://help.shopify.com/en/api/versioning" rel="nofollow"&gt;Shopify API docs&lt;/a&gt; for versions available.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;config.api_version &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;2019-04&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-session-storage-change" class="anchor" aria-hidden="true" href="#session-storage-change"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Session storage change&lt;/h3&gt;
&lt;p&gt;You will need to add an &lt;code&gt;api_version&lt;/code&gt; method to you session storage object.  The default implementation for this is.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;api_version&lt;/span&gt;
  &lt;span class="pl-c1"&gt;ShopifyApp&lt;/span&gt;.configuration.api_version
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-generated-file-change" class="anchor" aria-hidden="true" href="#generated-file-change"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Generated file change&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;embedded_app.html.erb&lt;/code&gt; the usage of &lt;code&gt;shop_session.url&lt;/code&gt; needs to be changed to &lt;code&gt;shop_session.domain&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight highlight-text-html-erb"&gt;&lt;pre&gt;&amp;lt;&lt;span class="pl-ent"&gt;script&lt;/span&gt; &lt;span class="pl-e"&gt;type&lt;/span&gt;=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;text/javascript&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&amp;gt;&lt;span class="pl-s1"&gt;&lt;/span&gt;
&lt;span class="pl-s1"&gt;  &lt;span class="pl-smi"&gt;ShopifyApp&lt;/span&gt;.&lt;span class="pl-en"&gt;init&lt;/span&gt;({&lt;/span&gt;
&lt;span class="pl-s1"&gt;    apiKey&lt;span class="pl-k"&gt;:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; &lt;span class="pl-c1"&gt;ShopifyApp&lt;/span&gt;.configuration.api_key &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,&lt;/span&gt;
&lt;span class="pl-s1"&gt;&lt;/span&gt;
&lt;span class="pl-s1"&gt;    shopOrigin&lt;span class="pl-k"&gt;:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;https://&lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt; &lt;span class="pl-smi"&gt;@shop_session&lt;/span&gt;.url &lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;if&lt;/span&gt; &lt;span class="pl-smi"&gt;@shop_session&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,&lt;/span&gt;
&lt;span class="pl-s1"&gt;&lt;/span&gt;
&lt;span class="pl-s1"&gt;    debug&lt;span class="pl-k"&gt;:&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;,&lt;/span&gt;
&lt;span class="pl-s1"&gt;    forceRedirect&lt;span class="pl-k"&gt;:&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s1"&gt;  });&lt;/span&gt;
&lt;span class="pl-s1"&gt;&lt;/span&gt;&amp;lt;/&lt;span class="pl-ent"&gt;script&lt;/span&gt;&amp;gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;is changed to&lt;/p&gt;
&lt;div class="highlight highlight-text-html-erb"&gt;&lt;pre&gt;&amp;lt;&lt;span class="pl-ent"&gt;script&lt;/span&gt; &lt;span class="pl-e"&gt;type&lt;/span&gt;=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;text/javascript&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&amp;gt;&lt;span class="pl-s1"&gt;&lt;/span&gt;
&lt;span class="pl-s1"&gt;  &lt;span class="pl-smi"&gt;ShopifyApp&lt;/span&gt;.&lt;span class="pl-en"&gt;init&lt;/span&gt;({&lt;/span&gt;
&lt;span class="pl-s1"&gt;    apiKey&lt;span class="pl-k"&gt;:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; &lt;span class="pl-c1"&gt;ShopifyApp&lt;/span&gt;.configuration.api_key &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,&lt;/span&gt;
&lt;span class="pl-s1"&gt;&lt;/span&gt;
&lt;span class="pl-s1"&gt;    shopOrigin&lt;span class="pl-k"&gt;:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-pse"&gt;&amp;lt;%=&lt;/span&gt;&lt;span class="pl-sre"&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;https://&lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt; &lt;span class="pl-smi"&gt;@shop_session&lt;/span&gt;.domain &lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;if&lt;/span&gt; &lt;span class="pl-smi"&gt;@shop_session&lt;/span&gt; &lt;/span&gt;&lt;span class="pl-pse"&gt;%&amp;gt;&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,&lt;/span&gt;
&lt;span class="pl-s1"&gt;&lt;/span&gt;
&lt;span class="pl-s1"&gt;    debug&lt;span class="pl-k"&gt;:&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;,&lt;/span&gt;
&lt;span class="pl-s1"&gt;    forceRedirect&lt;span class="pl-k"&gt;:&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s1"&gt;  });&lt;/span&gt;
&lt;span class="pl-s1"&gt;&lt;/span&gt;&amp;lt;/&lt;span class="pl-ent"&gt;script&lt;/span&gt;&amp;gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-shopifyapi-changes" class="anchor" aria-hidden="true" href="#shopifyapi-changes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ShopifyAPI changes&lt;/h3&gt;
&lt;p&gt;You will need to also follow the ShopifyAPI &lt;a href="https://github.com/Shopify/shopify_api/blob/master/README.md#-breaking-change-notice-for-version-700-"&gt;upgrade guide&lt;/a&gt; to ensure your app is ready to work with api versioning.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>Shopify</author><guid isPermaLink="false">https://github.com/Shopify/shopify_app</guid><pubDate>Mon, 10 Feb 2020 00:11:00 GMT</pubDate></item><item><title>vcr/vcr #12 in Ruby, This week</title><link>https://github.com/vcr/vcr</link><description>&lt;p&gt;&lt;i&gt;Record your test suite's HTTP interactions and replay them during future test runs for fast, deterministic, accurate tests.&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-vcr" class="anchor" aria-hidden="true" href="#vcr"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;vcr&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://travis-ci.org/vcr/vcr" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/2c39d93a9db34024e15155d136c010aefb3a5c9e/68747470733a2f2f696d672e736869656c64732e696f2f7472617669732f7663722f7663722f6d61737465722e7376673f7374796c653d666c61742d737175617265" alt="Build" data-canonical-src="https://img.shields.io/travis/vcr/vcr/master.svg?style=flat-square" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="http://github.com/vcr/vcr/releases"&gt;&lt;img src="https://camo.githubusercontent.com/a338b3ae4043eca19e8efcf7d34a6328ccf62895/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f7461672f7663722f7663722e7376673f7374796c653d666c61742d737175617265" alt="GitHub tag (latest SemVer)" data-canonical-src="https://img.shields.io/github/tag/vcr/vcr.svg?style=flat-square" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://rubygems.org/gems/vcr" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/e8bf37c41dc177fc6fa81a8318fa0e464aebbc44/68747470733a2f2f696d672e736869656c64732e696f2f67656d2f762f7663722e7376673f7374796c653d666c61742d737175617265" alt="Version" data-canonical-src="https://img.shields.io/gem/v/vcr.svg?style=flat-square" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr#backer" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/4b20231d969b3553b0110d09ea86e7816dd845ab/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b6572732f62616467652e7376673f7374796c653d666c61742d737175617265" alt="OpenCollective" data-canonical-src="https://opencollective.com/vcr/backers/badge.svg?style=flat-square" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr#sponsor" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/ff510d94d8ed33a6d3f73350373ac35fde5d0f85/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f72732f62616467652e7376673f7374796c653d666c61742d737175617265" alt="OpenCollective" data-canonical-src="https://opencollective.com/vcr/sponsors/badge.svg?style=flat-square" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Record your test suite's HTTP interactions and replay them during future test runs for fast, deterministic, accurate tests.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Help Wanted&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;We're looking for more maintainers. If you'd like to help maintain a well-used gem please spend some time reviewing pull requests, issues, or participating in discussions.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h1&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;rubygems&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;test/unit&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;vcr&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-c1"&gt;VCR&lt;/span&gt;.configure &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;config&lt;/span&gt;|
  config.cassette_library_dir &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;fixtures/vcr_cassettes&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  config.hook_into &lt;span class="pl-c1"&gt;:webmock&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;

&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;VCRTest&lt;span class="pl-e"&gt; &amp;lt; Test::Unit::TestCase&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;test_example_dot_com&lt;/span&gt;
    &lt;span class="pl-c1"&gt;VCR&lt;/span&gt;.use_cassette(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;synopsis&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt;
      response &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get_response(&lt;span class="pl-c1"&gt;URI&lt;/span&gt;(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;http://www.iana.org/domains/reserved&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;))
      assert_match &lt;span class="pl-sr"&gt;/Example domains/&lt;/span&gt;, response.body
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Run this test once, and VCR will record the HTTP request to &lt;code&gt;fixtures/vcr_cassettes/synopsis.yml&lt;/code&gt;. Run it again, and VCR will replay the response from iana.org when the HTTP request is made. This test is now fast (no real HTTP requests are made anymore), deterministic (the test will continue to pass, even if you are offline, or iana.org goes down for maintenance) and accurate (the response will contain the same headers and body you get from a real request). You can use a different cassette library directory (e.g., "test/vcr_cassettes").&lt;/p&gt;
&lt;p&gt;NOTE: To avoid storing any sensitive information in cassettes, check out &lt;a href="https://relishapp.com/vcr/vcr/v/5-0-0/docs/configuration/filter-sensitive-data" rel="nofollow"&gt;Filter Sensitive Data&lt;/a&gt; in the documentation.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Rails and Minitest:&lt;/strong&gt;
Do &lt;em&gt;not&lt;/em&gt; use 'test/fixtures' as the directory if you're using Rails and Minitest (Rails will instead transitively load any files in that directory as models).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Features&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Automatically records and replays your HTTP interactions with minimal setup/configuration code.&lt;/li&gt;
&lt;li&gt;Supports and works with the HTTP stubbing facilities of multiple libraries. Currently, the following are supported:
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/bblimke/webmock"&gt;WebMock&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/typhoeus/typhoeus"&gt;Typhoeus&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/lostisland/faraday"&gt;Faraday&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/excon/excon"&gt;Excon&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Supports multiple HTTP libraries:
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/toland/patron"&gt;Patron&lt;/a&gt; (when using WebMock)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/taf2/curb"&gt;Curb&lt;/a&gt; (when using WebMock -- only supports Curl::Easy at the moment)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/nahi/httpclient"&gt;HTTPClient&lt;/a&gt; (when using WebMock)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/igrigorik/em-http-request"&gt;em-http-request&lt;/a&gt; (when using WebMock)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.ruby-doc.org/stdlib/libdoc/net/http/rdoc/index.html" rel="nofollow"&gt;Net::HTTP&lt;/a&gt; (when using WebMock)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/typhoeus/typhoeus"&gt;Typhoeus&lt;/a&gt; (Typhoeus::Hydra, but not Typhoeus::Easy or Typhoeus::Multi)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/geemus/excon"&gt;Excon&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/lostisland/faraday"&gt;Faraday&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;And of course any library built on Net::HTTP, such as &lt;a href="https://github.com/sparklemotion/mechanize"&gt;Mechanize&lt;/a&gt;, &lt;a href="https://github.com/jnunemaker/httparty"&gt;HTTParty&lt;/a&gt; or &lt;a href="https://github.com/rest-client/rest-client"&gt;Rest Client&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Request matching is configurable based on HTTP method, URI, host, path, body and headers, or you can easily implement a custom request matcher to handle any need.&lt;/li&gt;
&lt;li&gt;The same request can receive different responses in different tests--just use different cassettes.&lt;/li&gt;
&lt;li&gt;The recorded requests and responses are stored on disk in a serialization format of your choice (currently YAML and JSON are built in, and you can easily implement your own custom serializer) and can easily be inspected and edited.&lt;/li&gt;
&lt;li&gt;Dynamic responses are supported using ERB.&lt;/li&gt;
&lt;li&gt;Optionally re-records cassettes on a configurable regular interval to keep them fresh and current.&lt;/li&gt;
&lt;li&gt;Disables all HTTP requests that you don't explicitly allow.&lt;/li&gt;
&lt;li&gt;Simple Cucumber integration is provided using tags.&lt;/li&gt;
&lt;li&gt;Includes convenient RSpec macros and integration with RSpec 2 metadata.&lt;/li&gt;
&lt;li&gt;Known to work well with many popular Ruby libraries including RSpec 1 &amp;amp; 2, Cucumber, Test::Unit, Capybara, Mechanize, Rest Client and HTTParty.&lt;/li&gt;
&lt;li&gt;Includes Rack and Faraday middleware.&lt;/li&gt;
&lt;li&gt;Supports filtering sensitive data from the response body&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The docs come in two flavors:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;a href="https://relishapp.com/vcr/vcr/docs" rel="nofollow"&gt;relish docs&lt;/a&gt; contain example-based documentation (VCR's Cucumber suite, in fact). It's a good place to look when you are first getting started with VCR, or if you want to see an example of how to use a feature.&lt;/li&gt;
&lt;li&gt;The &lt;a href="https://www.rubydoc.info/gems/vcr/frames" rel="nofollow"&gt;rubydoc.info docs&lt;/a&gt; contain API documentation. The API docs contain detailed info about all of VCR's public API.&lt;/li&gt;
&lt;li&gt;See the &lt;a href="https://github.com/vcr/vcr/blob/master/CHANGELOG.md"&gt;CHANGELOG&lt;/a&gt; doc for info about what's new and changed.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There is also a Railscast (from 2011), which will get you up and running in no-time &lt;a href="http://railscasts.com/episodes/291-testing-with-vcr" rel="nofollow"&gt;http://railscasts.com/episodes/291-testing-with-vcr&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Release Policy&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;VCR follows the principles of &lt;a href="https://semver.org/" rel="nofollow"&gt;semantic versioning&lt;/a&gt;. The &lt;a href="https://rubydoc.info/gems/vcr/frames" rel="nofollow"&gt;API documentation&lt;/a&gt; defines VCR's public API. Patch level releases contain only bug fixes. Minor releases contain backward-compatible new features. Major new releases contain backwards-incompatible changes to the public API.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Ruby Interpreter Compatibility&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;VCR has been tested on the following ruby interpreters:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MRI 1.9.3&lt;/li&gt;
&lt;li&gt;MRI 2.0.0&lt;/li&gt;
&lt;li&gt;MRI 2.1&lt;/li&gt;
&lt;li&gt;MRI 2.2&lt;/li&gt;
&lt;li&gt;MRI 2.3.0&lt;/li&gt;
&lt;li&gt;JRuby&lt;/li&gt;
&lt;li&gt;Rubinius&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note that as of VCR 3, 1.8.7 and 1.9.2 are not supported.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Development&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Source hosted on &lt;a href="https://github.com/vcr/vcr"&gt;GitHub&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Direct questions and discussions on &lt;a href="https://github.com/vcr/vcr/issues"&gt;GitHub Issues&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Report bugs/issues on &lt;a href="https://github.com/vcr/vcr/issues"&gt;GitHub Issues&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Pull requests are very welcome! Please include spec and/or feature coverage for every patch,
and create a topic branch for every separate change you make.&lt;/li&gt;
&lt;li&gt;See the &lt;a href="https://github.com/vcr/vcr/blob/master/CONTRIBUTING.md"&gt;Contributing&lt;/a&gt;
guide for instructions on running the specs and features.&lt;/li&gt;
&lt;li&gt;Code quality metrics are checked by &lt;a href="https://codeclimate.com/github/vcr/vcr" rel="nofollow"&gt;Code Climate&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Documentation is generated with &lt;a href="https://yardoc.org/" rel="nofollow"&gt;YARD&lt;/a&gt; (&lt;a href="http://cheat.errtheblog.com/s/yard" rel="nofollow"&gt;cheat sheet&lt;/a&gt;).
To generate while developing:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;yard server --reload
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Ports in Other Languages&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/sigmavirus24/betamax"&gt;Betamax&lt;/a&gt; (Python)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kevin1024/vcrpy"&gt;VCR.py&lt;/a&gt; (Python)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/thegreatape/betamax"&gt;Betamax&lt;/a&gt; (Go)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/orchestrate-io/dvr"&gt;DVR&lt;/a&gt; (Go)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/dnaeon/go-vcr"&gt;Go VCR&lt;/a&gt; (Go)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/wjlroe/betamax"&gt;Betamax&lt;/a&gt; (Clojure)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ifesdjeen/vcr-clj"&gt;vcr-clj&lt;/a&gt; (Clojure)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mleech/scotch"&gt;scotch&lt;/a&gt; (C#/.NET)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mfloryan/Betamax.Net"&gt;Betamax.NET&lt;/a&gt; (C#/.NET)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/parroty/exvcr"&gt;ExVCR&lt;/a&gt; (Elixir)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/cordawyn/havcr"&gt;HAVCR&lt;/a&gt; (Haskell)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/acoulton/mimic"&gt;Mimic&lt;/a&gt; (PHP/Kohana)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/php-vcr/php-vcr"&gt;PHP-VCR&lt;/a&gt; (PHP)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/carbonfive/nock-vcr"&gt;Nock-VCR&lt;/a&gt; (JavaScript/Node)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/linkedin/sepia"&gt;Sepia&lt;/a&gt; (JavaScript/Node)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/elcuervo/vcr.js"&gt;VCR.js&lt;/a&gt; (JavaScript)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/flickr/yakbak"&gt;yakbak&lt;/a&gt; (JavaScript/Node)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://bitbucket.org/martijnthe/nsurlconnectionvcr" rel="nofollow"&gt;NSURLConnectionVCR&lt;/a&gt; (Objective-C)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/dstnbrkr/VCRURLConnection"&gt;VCRURLConnection&lt;/a&gt; (Objective-C)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/venmo/DVR"&gt;DVR&lt;/a&gt; (Swift)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/diegoeche/vhs"&gt;VHS&lt;/a&gt; (Erlang)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/betamaxteam/betamax"&gt;Betamax&lt;/a&gt; (Java)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ucarion/http_replayer"&gt;http_replayer&lt;/a&gt; (Rust)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/airbnb/okreplay"&gt;OkReplay&lt;/a&gt; (Java/Android)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ropensci/vcr"&gt;vcr&lt;/a&gt; (R)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Related Projects&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/quidproquo/mr_video"&gt;Mr. Video&lt;/a&gt; (Rails engine for managing VCR cassettes and episodes)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Similar Libraries in Ruby&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/sandro/ephemeral_response"&gt;Ephemeral Response&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/martinbtt/net-http-spy"&gt;Net::HTTP Spy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/chrisyoung/netrecorder"&gt;NetRecorder&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/oesmith/puffing-billy"&gt;Puffing Billy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/artemave/REST-assured"&gt;REST-assured&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jsmestad/stale_fish"&gt;Stale Fish&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/trydionel/web_fixtures"&gt;WebFixtures&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-credits" class="anchor" aria-hidden="true" href="#credits"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Credits&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/aslakhellesoy"&gt;Aslak Hellesy&lt;/a&gt; for &lt;a href="https://github.com/aslakhellesoy/cucumber"&gt;Cucumber&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/bblimke"&gt;Bartosz Blimke&lt;/a&gt; for &lt;a href="https://github.com/bblimke/webmock"&gt;WebMock&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/chrisk"&gt;Chris Kampmeier&lt;/a&gt; for &lt;a href="https://github.com/chrisk/fakeweb"&gt;FakeWeb&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/chrisyoung"&gt;Chris Young&lt;/a&gt; for &lt;a href="https://github.com/chrisyoung/netrecorder"&gt;NetRecorder&lt;/a&gt;,
the inspiration for VCR.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/dbalatero"&gt;David Balatero&lt;/a&gt; and &lt;a href="https://github.com/i0rek"&gt;Hans Hasselberg&lt;/a&gt;
for help with &lt;a href="https://github.com/typhoeus/typhoeus"&gt;Typhoeus&lt;/a&gt; support.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/geemus"&gt;Wesley Beary&lt;/a&gt; for help with &lt;a href="https://github.com/geemus/excon"&gt;Excon&lt;/a&gt;
support.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Jacobkg"&gt;Jacob Green&lt;/a&gt; for help with ongoing VCR
maintenance.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mrbrdo"&gt;Jan Berdajs&lt;/a&gt; and &lt;a href="https://github.com/djberg96"&gt;Daniel Berger&lt;/a&gt;
for improvements to thread-safety.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Thanks also to the following people who have contributed patches or helpful suggestions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/aaronbrethorst"&gt;Aaron Brethorst&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/wenzowski"&gt;Alexander Wenzowski&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/austenito"&gt;Austen Ito&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/avdi"&gt;Avdi Grimm&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://github.com/bblimke"&gt;Bartosz Blimke&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/benjaminoakes"&gt;Benjamin Oakes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/benhutton"&gt;Ben Hutton&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/bradleyisotope"&gt;Bradley Isotope&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kirkconnell"&gt;Carlos Kirkconnell&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/cjolly"&gt;Chad Jolly&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/chrisle"&gt;Chris Le&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/cgunther"&gt;Chris Gunther&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/emaiax"&gt;Eduardo Maia&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/rubymaverick"&gt;Eric Allam&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ezkl"&gt;Ezekiel Templin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/closedbracket"&gt;Flaviu Simihaian&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/gordoncww"&gt;Gordon Wilson&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/i0rek"&gt;Hans Hasselberg&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Hermanverschooten"&gt;Herman Verschooten&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sigmavirus24"&gt;Ian Cordasco&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ingemar"&gt;Ingemar&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/quidproquo"&gt;Ilya Scharrenbroich&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Jacobkg"&gt;Jacob Green&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jbence"&gt;James Bence&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jayshepherd"&gt;Jay Shepherd&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Fluxx"&gt;Jeff Pollard&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/begriffs"&gt;Joe Nelson&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/JonathanTron"&gt;Jonathan Tron&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jsmestad"&gt;Justin Smestad&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kbaum"&gt;Karl Baum&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kris-luminar"&gt;Kris Luminar&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kurtfunai"&gt;Kurt Funai&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/plukevdh"&gt;Luke van der Hoeven&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/markburns"&gt;Mark Burns&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kavu"&gt;Max Riveiro&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/vrish88"&gt;Michael Lavrisha&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mdemare"&gt;Michiel de Mare&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kcdragon"&gt;Mike Dalton&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mislav"&gt;Mislav Marohni&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/nbibler"&gt;Nathaniel Bibler&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/noahd1"&gt;Noah Davis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/opsb"&gt;Oliver Searle-Barnes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/rauchy"&gt;Omer Rauchwerger&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/pacoguzman"&gt;Paco Guzmn&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jumanjiman"&gt;Paul Morgan&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/playupchris"&gt;playupchris&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ronwsmith"&gt;Ron Smith&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ryanb"&gt;Ryan Bates&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/rhburrows"&gt;Ryan Burrows&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/rmcastil"&gt;Ryan Castillo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sfsekaran"&gt;Sathya Sekaran&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ScotterC"&gt;Scott Carleton&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/shayfrendt"&gt;Shay Frendt&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/southpolesteve"&gt;Steve Faulkner&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/bendycode"&gt;Stephen Anderson&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/tlunter"&gt;Todd Lunter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/tylerhunt"&gt;Tyler Hunt&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ugisozols"&gt;Uis Ozols&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/vzvu3k6k"&gt;vzvu3k6k&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/geemus"&gt;Wesley Beary&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-backers" class="anchor" aria-hidden="true" href="#backers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Backers&lt;/h1&gt;
&lt;p&gt;Support us with a monthly donation and help us continue our activities. [&lt;a href="https://opencollective.com/vcr#backer" rel="nofollow"&gt;Become a backer&lt;/a&gt;]&lt;/p&gt;
&lt;p&gt;&lt;a href="https://opencollective.com/vcr/backer/0/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/fc8e4d8b157a18ea69f053a20c9b5c038b0e2d78/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f302f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/0/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/1/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/cb1136d6e7e0d3cafd0819428458134e60613ebc/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f312f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/1/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/2/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/c61836e7badca9e3cefdeee6c78f0ec08bd82c8f/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f322f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/2/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/3/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/dab5fd7e83b64c5072e722a1e6aae3ab9298f001/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f332f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/3/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/4/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/66811d1493afcbbc851c81972aa1a6cc692d8dc8/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f342f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/4/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/5/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/0d94e4fd0484171655f91fe10a6be61de4c6b603/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f352f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/5/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/6/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/81e5c2b8b4e8eda57ae775e36fcc77c6588357c1/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f362f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/6/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/7/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/0b924badd3356afb0e22af9e4d265c3ff97ca688/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f372f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/7/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/8/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/6b6c6c8ff85046cfdf1168d5e714570910bc3c50/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f382f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/8/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/9/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/2f6a29900260c55df0f4506b0b6eacc2ea614c43/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f392f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/9/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/10/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/c9ad8dad1791181e6a8eafaae5c643b481812519/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f31302f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/10/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/11/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/10b2126a879f411af4a851e7947df93ac6ea80fb/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f31312f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/11/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/12/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/a8da217866e62d16d1de9a70f226442253e53549/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f31322f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/12/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/13/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/0d26b97b39e68df68a3809e3049c5c413f3d9282/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f31332f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/13/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/14/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/2d5c0728501da62fe47a422df1b54282dc619315/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f31342f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/14/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/15/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/70b5f00be9700ed2148c699ad9bbdae604c38983/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f31352f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/15/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/16/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/e533517f675246f234c7afb439259ceb93cc6b5f/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f31362f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/16/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/17/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/609e6d05f7ed248da453218f7afd8941c31e53f4/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f31372f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/17/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/18/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/a570c32d4ef0be0c97e654a3f9fab31e710f2004/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f31382f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/18/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/19/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/db3ed96b7e154c53bfa9e350f71550da02c270b7/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f31392f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/19/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/20/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/49fa2f1ccc206f29898b641860c56a0d57c7a98d/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f32302f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/20/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/21/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/1874481c8dae18d987ea9417c917065ebe3d69b1/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f32312f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/21/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/22/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/87ab9035aab6a6174b11e8fb80de2d7c25d2a367/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f32322f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/22/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/23/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/7e349225977f00e3fa9d8b4986447b100274710a/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f32332f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/23/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/24/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/4c1d1ff0441f0c76d745b00499cc711bdfcb36bb/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f32342f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/24/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/25/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/282db729ee7ad20f252dff2f7023d8758afff97b/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f32352f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/25/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/26/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/eb7d52d86fab221edae45139d9e9e21c1625c7c2/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f32362f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/26/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/27/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/aa7c5b5617f18ed8f166a99980974d360429232d/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f32372f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/27/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/28/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/5a9c58ae578333c648a9572ef6c696d184aa2c93/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f32382f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/28/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/backer/29/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/6b7a3d7bc087855e45e8e1afbf35fad1e6401b30/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f6261636b65722f32392f617661746172" data-canonical-src="https://opencollective.com/vcr/backer/29/avatar" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-sponsors" class="anchor" aria-hidden="true" href="#sponsors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Sponsors&lt;/h1&gt;
&lt;p&gt;Become a sponsor and get your logo on our README on Github with a link to your site. [&lt;a href="https://opencollective.com/vcr#sponsor" rel="nofollow"&gt;Become a sponsor&lt;/a&gt;]&lt;/p&gt;
&lt;p&gt;&lt;a href="https://opencollective.com/vcr/sponsor/0/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/6aaa3f0bda59dc7cfc991822d67549106eb808fc/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f302f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/0/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/1/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/5d191dc217b1615c20587288935d9b504c0853fd/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f312f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/1/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/2/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/f4179fe2c20769e7e5b447147373f6e2833af894/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f322f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/2/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/3/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/757936e7df9b6df526276c4a7edd5db22f7b962e/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f332f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/3/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/4/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/558c019a1706126af048c9273f539c1270e18624/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f342f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/4/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/5/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/e7bb7bd8c0725b84cdbaee49f8d15490e8e84856/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f352f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/5/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/6/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/2259aee9e4beb952b46ae25b3d58030dd958b964/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f362f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/6/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/7/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/350c035d1f6cdb82b8723663ab6ceaf996ff927c/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f372f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/7/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/8/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/e4680dd5c1ec60d990fd2a3e64211399fe658587/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f382f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/8/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/9/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/99885e34e4b66bbec4c4ad94f089a97b000ddf9d/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f392f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/9/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/10/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/5f56ac985e42198da452b551e95d47cea933ca7b/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f31302f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/10/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/11/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/35d6e8219f2d438a1beaa835685dbc937966062a/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f31312f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/11/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/12/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/5277863148760f66892f31720eebf48c54b0c3dc/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f31322f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/12/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/13/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/4e4ae3b5d9fc076c0f42de393bc62d1ea58a8c8f/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f31332f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/13/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/14/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/50943b954dcb49ddd97b92aeee3166cb5bfdc766/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f31342f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/14/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/15/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/31954ce2f3b531dbe9b75e287ba6d572ffcd02ce/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f31352f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/15/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/16/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/7546a4e1fb5cf6a1e16ead8a1b5fa8e4349d3854/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f31362f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/16/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/17/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/1189ceeb1b73401f68d77d149cd12eb68d834276/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f31372f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/17/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/18/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/649cf443e5267b697840fb633b919a5ee5d6f587/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f31382f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/18/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/19/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/524a20622fc0b94a04f1b44fecfd032245d2f848/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f31392f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/19/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/20/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/6cf189ac3b8ed14c50dadbad9a9cb8d9740f2dc5/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f32302f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/20/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/21/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/bcc190976a9481d732dfc48d80d6c688a67bf708/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f32312f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/21/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/22/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/0331a3a1ba47b9a55e08a01fc647ef6956316cc4/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f32322f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/22/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/23/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/c998197e07682a6081047ecfe69dc1068f133883/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f32332f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/23/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/24/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/8009dc15d79e49e7a6c1df0392f8b308a43a8332/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f32342f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/24/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/25/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/afa5e84f90c1770beba79308cf696ba1fdc2290f/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f32352f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/25/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/26/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/c1962aacc18713ebdb23898c091b539aaca2993a/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f32362f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/26/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/27/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/618e7aaebe2c9518f60bd5cdc44d5f8a3c7c5a3d/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f32372f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/27/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/28/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/0725213b6a630853d52f65708c1dd0390b58d7b9/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f32382f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/28/avatar" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://opencollective.com/vcr/sponsor/29/website" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/31dbdd0ba0c0bcd7db927a1c7c85790e6f15aa3f/68747470733a2f2f6f70656e636f6c6c6563746976652e636f6d2f7663722f73706f6e736f722f32392f617661746172" data-canonical-src="https://opencollective.com/vcr/sponsor/29/avatar" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>vcr</author><guid isPermaLink="false">https://github.com/vcr/vcr</guid><pubDate>Mon, 10 Feb 2020 00:12:00 GMT</pubDate></item><item><title>bayandin/awesome-awesomeness #13 in Ruby, This week</title><link>https://github.com/bayandin/awesome-awesomeness</link><description>&lt;p&gt;&lt;i&gt;A curated list of awesome awesomeness&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-awesome-awesomeness" class="anchor" aria-hidden="true" href="#awesome-awesomeness"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Awesome Awesomeness&lt;/h1&gt;
&lt;p&gt;A curated list of amazingly awesome awesomeness.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Programming Languages&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/jdauphant/awesome-ansible"&gt;Ansible&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ahkscript/awesome-AutoHotkey"&gt;AutoHotkey&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/J2TeaM/awesome-AutoIt"&gt;AutoIt&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jaspergould/awesome-asm"&gt;Assembler&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://notabug.org/koz.ross/awesome-c" rel="nofollow"&gt;C&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/fffaraz/awesome-cpp"&gt;C/C++&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/onqtam/awesome-cmake"&gt;CMake&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Clojure
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/mbuczko/awesome-clojure"&gt;by @mbuczko&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/razum2um/awesome-clojure"&gt;by @razum2um&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/seancoyne/awesome-coldfusion"&gt;ColdFusion&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Common Lisp
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/CodyReichert/awesome-cl"&gt;Common Lisp Libraries&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/GustavBertram/awesome-common-lisp-learning-list"&gt;Learning Common Lisp&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/veelenga/awesome-crystal"&gt;Crystal&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/zhaopuming/awesome-d"&gt;D&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Fr0sT-Brutal/awesome-delphi"&gt;Delphi&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/h4cc/awesome-elixir"&gt;Elixir&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/isRuslan/awesome-elm"&gt;Elm&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Erlang
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/0xAX/erlang-bookmarks"&gt;by @0xAX&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/drobakowski/awesome-erlang"&gt;by @drobakowski&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/unbalancedparentheses/spawnedshelter"&gt;by @unbalancedparentheses&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/fsprojects/awesome-fsharp"&gt;F#&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/rabbiabram/awesome-fortran"&gt;Fortran&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/avelino/awesome-go"&gt;Go&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/tmrts/go-patterns"&gt;Go Patterns&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kdabir/awesome-groovy"&gt;Groovy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/krispo/awesome-haskell"&gt;Haskell&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/joaomilho/awesome-idris"&gt;Idris&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/akullpp/awesome-java"&gt;Java&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sorrycc/awesome-javascript"&gt;JavaScript&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/AngularClass/awesome-angular"&gt;Angular 2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/nmec/awesome-ember"&gt;Ember.js&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/micromata/awesome-javascript-learning"&gt;JavaScript Learning Resources&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ellerbrock/awesome-koa"&gt;Koa&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sindresorhus/awesome-nodejs"&gt;Node.js&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/bcoe/awesome-cross-platform-nodejs"&gt;Cross-platform Node.js&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/enaqx/awesome-react"&gt;React&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/flagello/awesome-sveltejs"&gt;Svelte&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/vuejs/awesome-vue"&gt;VueJS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/svaksha/Julia.jl"&gt;Julia&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/KotlinBy/awesome-kotlin"&gt;Kotlin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/bipinvaylu/awesome-kotlin-native"&gt;Kotlin/Native&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Lua
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/forhappy/awesome-lua"&gt;by @forhappy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/LewisJEllis/awesome-lua"&gt;by @lewisjellis&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ramnes/awesome-mongodb"&gt;MongoDB&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/shlomi-noach/awesome-mysql"&gt;MySQL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;.NET
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/quozd/awesome-dotnet"&gt;by @quozd&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/tallesl/net-libraries-that-make-your-life-easier"&gt;by @tallesl&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/thangchung/awesome-dotnet-core"&gt;by @thangchung&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/VPashkov/awesome-nim"&gt;Nim&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ocaml-community/awesome-ocaml"&gt;OCaml&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/hachiojipm/awesome-perl"&gt;Perl&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ziadoz/awesome-php"&gt;PHP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/dhamaniasad/awesome-postgres"&gt;Postgres&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Python
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/kirang89/pycrumbs"&gt;by @kirang89&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/svaksha/pythonidae"&gt;by @svaksha&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/trekhleb/learn-python"&gt;by @trekhleb&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/vinta/awesome-python"&gt;by @vinta&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/quobit/awesome-python-in-education"&gt;awesome-python-in-education&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/qinwf/awesome-R"&gt;R&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Ruby
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/dreikanter/ruby-bookmarks"&gt;by @dreikanter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/markets/awesome-ruby"&gt;by @markets&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Sdogruyol/awesome-ruby"&gt;by @Sdogruyol&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/rust-unofficial/awesome-rust"&gt;Rust&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/huyingjie/awesome-SAS"&gt;SAS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/lauris/awesome-scala"&gt;Scala&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/alebcay/awesome-shell"&gt;Shell&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Swift
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/matteocrippa/awesome-swift"&gt;by @matteocrippa&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/MaxChen/awesome-swift-and-tutorial-resources"&gt;by @MaxChen&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Wolg/awesome-swift"&gt;by @Wolg&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://swift.zeef.com/robin.eggenkamp" rel="nofollow"&gt;from ZEEF by @Edubits&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;TypeScript
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/brookshi/awesome-typescript-projects"&gt;by @brookshi&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/dzharii/awesome-typescript"&gt;by @dzharii&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ellerbrock/awesome-typescript"&gt;by @ellerbrock&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;General&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/phanan/htaccess"&gt;.htaccess&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Accessibility
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/a11yproject/a11yproject.com"&gt;by @a11yproject&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/brunopulis/awesome-a11y"&gt;by @brunopulis&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/lorabv/awesome-agile"&gt;Agile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/algolia/awesome-algolia"&gt;Agolia&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/tayllan/awesome-algorithms"&gt;Algorithms&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/enjalot/algovis"&gt;Algorithms Visualisation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/okulbilisim/awesome-big-o"&gt;Big O Notation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/donnemartin/awesome-aws"&gt;Amazon Web Services&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/onurakpolat/awesome-analytics"&gt;Analytics&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/JStumpp/awesome-android"&gt;Android&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/pedronveloso/awesome-android-release-notes"&gt;Android Release Notes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ashishb/android-security-awesome"&gt;Android Security&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/wasabeef/awesome-android-ui"&gt;Android UI&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/HenryHoggard/awesome-arm-exploitation"&gt;ARM Exploitation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/simskij/awesome-software-architecture"&gt;Software Architecture&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Lembed/Awesome-arduino"&gt;Arduino&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/owainlewis/awesome-artificial-intelligence"&gt;Artificial intelligence&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;API
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/Kikobeats/awesome-api"&gt;by @Kikobeats&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/toddmotto/public-apis"&gt;by @toddmotto&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/joeljfischer/awesome-apple"&gt;Apple&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/iCHAIT/awesome-macOS"&gt;OS X&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ashishb/osx-and-ios-security-awesome"&gt;OS X and iOS Security&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/beaconinside/awesome-beacon"&gt;Beacons&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Big data
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/onurakpolat/awesome-bigdata"&gt;by @onurakpolat&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/zenkay/bigdata-ecosystem"&gt;by @zenkay&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/youngwookim/awesome-hadoop"&gt;Hadoop&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/AdrienTorris/awesome-blazor"&gt;Blazor&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Blockchain
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/0xtokens/awesome-blockchain"&gt;by @0xtokens&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/imbaniac/awesome-blockchain"&gt;by @imbaniac&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/coderplex/awesome-blockchain"&gt;by @coderplex&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/hitripod/awesome-blockchain"&gt;by @hitripod&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/iNiKe/awesome-blockchain"&gt;by @iNiKe&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/igorbarinov/awesome-blockchain"&gt;by @igorbarinov&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/istinspring/awesome-blockchain"&gt;by @istinspring&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/openblockchains/awesome-blockchains"&gt;by @openblockchains&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kennethreitz/awesome-coins"&gt;by @kennethreitz&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/holographicio/awesome-token-sale"&gt;awesome-token-sale&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Bitcoin
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/btcbrdev/awesome-btcdev"&gt;by @btcbrdev&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/igorbarinov/awesome-bitcoin"&gt;by @igorbarinov&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/alexk111/awesome-bitcoin-payment-processors"&gt;Bitcoin Payment Processors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Ethereum
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/vinsgo/awesome-ethereum"&gt;by @vinsgo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/pirapira/awesome-ethereum-virtual-machine"&gt;awesome-ethereum-virtual-machine&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Tom2718/Awesome-Ethereum"&gt;by @Tom2718&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/vhpoet/awesome-ripple"&gt;Ripple&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/melvin0008/awesome-projects-boilerplates"&gt;Boilerplates&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Books
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/EbookFoundation/free-programming-books"&gt;Free Programming Books&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ligurio/free-software-testing-books"&gt;Free Software Testing Books&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/hackerkid/Mind-Expanding-Books"&gt;Mind Expanding Books&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/therebelrobot/awesome-bootstrap"&gt;Bootstrap&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ZYSzys/awesome-captcha"&gt;Captcha&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mauriciovieira/awesome-challenges"&gt;Challenges&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/rishirdua/awesome-code-formatters"&gt;Code Formatters&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/benedekrozemberczki/awesome-community-detection"&gt;Community Detection&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/lnishan/awesome-competitive-programming"&gt;Competitive Programming&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jbhuang0604/awesome-computer-vision"&gt;Computer Vision&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/RichardLitt/awesome-conferences"&gt;Conferences&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ciandcd/awesome-ciandcd"&gt;Continuous Delivery&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mortenjust/awesome-conversational/"&gt;Conversational UI&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/busterc/awesome-cordova"&gt;Cordova&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/prakhar1989/awesome-courses"&gt;Courses&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/shime/creative-commons-media"&gt;Creative Commons Media&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Cryptography
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/MaciejCzyzewski/retter"&gt;by @MaciejCzyzewski&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sobolevn/awesome-cryptography"&gt;by @sobolevn&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/coinpride/CryptoList"&gt;by @coinpride&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sotayamashita/awesome-css"&gt;CSS&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/troxler/awesome-css-frameworks"&gt;CSS Frameworks&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/bulutyazilim/awesome-datascience"&gt;Data Science&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;Data Science with Python
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/r0f1/datascience"&gt;by @r0f1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/krzjoa/awesome-python-data-science"&gt;by @krzjoa&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/fasouto/awesome-dataviz"&gt;Data Visualization&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/numetriclabz/awesome-db"&gt;Database&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/dahlia/awesome-sqlalchemy"&gt;SQLAlchemy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Datasets
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/caesar0301/awesome-public-datasets"&gt;by @caesar0301&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/leomaurodesenv/game-datasets"&gt;by @leomaurodesenv&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Deep Learning
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/ChristosChristofidis/awesome-deep-learning"&gt;by @ChristosChristofidis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/guillaume-chevalier/awesome-deep-learning-resources"&gt;by @guillaume-chevalier&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/tigerneil/awesome-deep-rl"&gt;by @tigerneil&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/nerox8664/awesome-computer-vision-models"&gt;by @nerox8664&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/benedekrozemberczki/awesome-decision-tree-papers"&gt;Decision Tree Papers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/DovAmir/awesome-design-patterns"&gt;Design Patterns&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/LisaDziuba/Awesome-Design-Tools"&gt;Design Tools&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jondot/awesome-devenv"&gt;Dev Env&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/joubertredrat/awesome-devops"&gt;DevOps&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/wsvincent/awesome-django"&gt;Django&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/veggiemonk/awesome-docker"&gt;Docker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/PharkMillups/beautiful-docs"&gt;Documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/webpro/awesome-dotfiles"&gt;Dotfiles&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sindresorhus/awesome-electron"&gt;Electron&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/emacs-tw/awesome-emacs"&gt;Emacs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/HussainAther/awesome-ethics"&gt;Ethics&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kdeldycke/awesome-falsehood"&gt;Falsehood&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/andrewda/awesome-frc"&gt;FIRST Robotics Competition&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/lborgav/awesome-fluidapp"&gt;FluidApp Resources&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Solido/awesome-flutter"&gt;Flutter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/brabadu/awesome-fonts"&gt;Fonts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/benedekrozemberczki/awesome-fraud-detection-papers"&gt;Fraud Detection Papers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ripienaar/free-for-dev"&gt;Free Services&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Frontend
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/dypsilon/frontend-dev-bookmarks"&gt;by @dypsilon&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/moklick/frontend-stuff"&gt;by @moklick&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ellisonleao/magictools"&gt;Game Development&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/leereilly/games"&gt;Games&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;GIF
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/Kikobeats/awesome-gif"&gt;by @Kikobeats&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/vsouza/awesome-gists"&gt;Gists&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/dictcp/awesome-git"&gt;Git&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Kikobeats/awesome-github"&gt;GitHub&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/stefanbuck/awesome-browser-extensions-for-github"&gt;Browser extensions for GitHub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/AntBranch/awesome-github"&gt;GitHub - Chinese&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/benedekrozemberczki/awesome-gradient-boosting-papers"&gt;Gradient Boosting Papers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/benedekrozemberczki/awesome-graph-classification"&gt;Graph Classification&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/chentsulin/awesome-graphql"&gt;GraphQL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/btomashvili/awesome-growth-hacking"&gt;Growth Hacking&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Guides
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/narkoz/guides"&gt;by @narkoz&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/RichardLitt/awesome-styleguides"&gt;by @RichardLitt&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/carpedm20/awesome-hacking"&gt;Hacking&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/diegocard/awesome-html5"&gt;HTML5&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/paralax/awesome-honeypots"&gt;Honeypots&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/bnb/awesome-hyper"&gt;Hyper&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/meirwah/awesome-incident-response"&gt;Incident Response&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/heyalexej/awesome-images"&gt;Images&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/oskar-j/awesome-image-coloring"&gt;Image coloring&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/HQarroum/awesome-iot"&gt;Internet of Things (IOT)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/vsouza/awesome-ios"&gt;iOS&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/v-braun/awesome-cocoa"&gt;Cocoa Controls&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/dkhamsing/open-source-ios-apps"&gt;Open Source Apps&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/cjwirth/awesome-ios-ui"&gt;UI&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/burningtree/awesome-json"&gt;JSON&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/markusschanta/awesome-jupyter"&gt;Jupyter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/deephacks/awesome-jvm"&gt;JVM&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/monksy/awesome-kafka"&gt;Kafka&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ahmdrefat/awesome-koans"&gt;Koans&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/chiraggude/awesome-laravel"&gt;Laravel&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/LappleApple/awesome-leading-and-managing"&gt;Leadership and Management&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/adius/awesome-lego"&gt;Lego&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Friz-zy/awesome-linux-containers"&gt;Linux Containers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/itech001/awesome-linux-resources"&gt;Linux resources&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Lists
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/bayandin/awesome-awesomeness"&gt;by @bayandin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jnv/lists"&gt;by @jnv&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sindresorhus/awesome"&gt;by @sindresorhus&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;[Mac]
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/xyNNN/awesome-mac"&gt;by @xyNNN&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/justin-j/awesome-mac-apps"&gt;by @justin-j&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/josephmisiti/awesome-machine-learning"&gt;Machine Learning&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/rshipp/awesome-malware-analysis"&gt;Malware Analysis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sachin1092/awesome-material"&gt;Material Design&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mikecroucher/awesome-MATLAB"&gt;Matlab&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/dreamingechoes/awesome-mental-health"&gt;Mental Health&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/carlosperate/awesome-microbit"&gt;micro:bit&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/alec-c4/awesome-mobile"&gt;Mobile marketing and development&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/myshov/awesome-mobile-web-development"&gt;Mobile Web Development&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/crazy-canux/awesome-monitoring"&gt;Monitoring&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/roaldnefs/awesome-prometheus"&gt;Prometheus&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/samber/awesome-prometheus-alerts"&gt;Prometheus alerting rules&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/lucasmaiaesilva/awesome-motion-design-web"&gt;Motion Design for Web&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/fcambus/nginx-resources"&gt;Nginx&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Newsletters
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/vredniy/awesome-newsletters"&gt;by @vredniy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/webpro/awesome-newsletters"&gt;by @webpro&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mpron/awesome-newsletters"&gt;by @mpron&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/aviaryan/awesome-no-login-web-apps"&gt;No Login Web Apps&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/silky/awesome-open-science"&gt;Open Science&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ibaaj/awesome-OpenSourcePhotography"&gt;Open Source Photography&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/papers-we-love/papers-we-love"&gt;Papers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Ghosh/awesome-podcasts"&gt;Podcasts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/HussainAther/awesome-philosophy"&gt;Philosophy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/pditommaso/awesome-pipeline"&gt;Pipelines&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/hugo53/awesome-ProductManager"&gt;Product Manager&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Protocols
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/amir-arad/awesome-osc"&gt;OSC&lt;/a&gt; (open sound control)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/coreb1t/awesome-pentest-cheat-sheets"&gt;Pentest Cheat Sheets&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sindresorhus/quick-look-plugins"&gt;Quick Look Plugins&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kjw0612/awesome-random-forest"&gt;Random-Forest&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Raspberry Pi
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/blackout314/awesome-raspberry-pi"&gt;by @blackout314&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/thibmaek/awesome-raspberry-pi"&gt;by @thibmaek&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jondot/awesome-react-native"&gt;React Native&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/matiassingers/awesome-readme"&gt;README&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/aloisdg/awesome-regex"&gt;Regex&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/lukasz-madon/awesome-remote-job"&gt;Remote Job&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/hugo53/awesome-RemoteWork"&gt;Remote Work&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/marmelab/awesome-rest"&gt;REST&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Kiloreux/awesome-robotics"&gt;Robotics&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kjw0612/awesome-rnn"&gt;RNN&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/binhnguyennus/awesome-scalability"&gt;Scalability&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sindresorhus/awesome-scifi"&gt;Science Fiction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Search Engine Optimization (SEO)
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/marcobiedermann/search-engine-optimization"&gt;by @marcobiedermann&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sneg55/curatedseotools"&gt;by @sneg55&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/teles/awesome-seo"&gt;by @teles&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sbilly/awesome-security"&gt;Security&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Kickball/awesome-selfhosted"&gt;Selfhosted&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/anaibol/awesome-serverless"&gt;Serverless&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/puresec/awesome-serverless-security/"&gt;Serverless Security&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/lawrencegripper/awesome-servicefabric"&gt;Service Fabric&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mmcgrana/services-engineering"&gt;Services Engineering&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/adius/awesome-sheet-music"&gt;Sheet Music&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/matiassingers/awesome-slack"&gt;Slack&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/hwclass/awesome-sound"&gt;Sound&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/elburz/awesome-space"&gt;Space&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/Hunter-Github/awesome-space-books"&gt;Books and manuals&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/edobashira/speech-language-processing"&gt;Speech and Natural Language Processing&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/arbox/nlp-with-ruby"&gt;NLP with Ruby&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/yoloseem/awesome-sphinxdoc"&gt;Sphinx Documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/KrishMunot/awesome-startup"&gt;Startup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mre/awesome-static-analysis/"&gt;Static Analysis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/RichardLitt/awesome-styleguides"&gt;Styleguides&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/dreikanter/sublime-bookmarks"&gt;Sublime Text&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/willianjusten/awesome-svg"&gt;SVG&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/gurre/awesome-swedish-opensource"&gt;Swedish&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kahun/awesome-sysadmin"&gt;Sysadmin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/merchedhq/awesome-tailwindcss"&gt;Tailwind CSS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/JanVanRyswyck/awesome-talks"&gt;Talks&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/hzoo/awesome-gametalks"&gt;Gaming&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ebertti/awesome-telegram"&gt;Telegram&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/k4m4/terminals-are-sexy"&gt;Terminals Are Sexy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/atinfo/awesome-test-automation"&gt;Test Automation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/TheJambo/awesome-testing"&gt;Testing&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/aliesbelik/awesome-jmeter"&gt;JMeter&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/cjbarber/ToolsOfTheTrade"&gt;Tools&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Twilio-org/awesome-twilio"&gt;Twilio&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/RyanNielson/awesome-unity"&gt;Unity&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kevinwuhoo/ui-styleguides"&gt;UI Styleguide&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/anubhavsrivastava/awesome-ui-component-library"&gt;UI Components for Styleguide&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sirredbeard/Awesome-UNIX"&gt;UNIX&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/iJackUA/awesome-vagrant"&gt;Vagrant&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Vim
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/akrawchyk/awesome-vim"&gt;by @akrawchyk&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/matteocrippa/awesome-vim"&gt;by @matteocrippa&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/vinjn/awesome-vulkan"&gt;Vulkan&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/davidsonfellipe/awesome-wpo"&gt;Web Performance Optimization&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mateusortiz/webcomponents-the-right-way"&gt;WebComponents&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/miziomon/awesome-wordpress"&gt;Wordpress&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/therebelrobot/awesome-workshopper"&gt;Workshops&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/benoitjadinon/awesome-xamarin"&gt;Xamarin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;XMPP
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/shantanu-deshmukh/awesome-ejabberd"&gt;Ejabberd&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Jolg42/awesome-typography"&gt;Typography&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://creativecommons.org/licenses/by/4.0/" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/bbab3b8136849892a5b19334bc01d2472f797680/687474703a2f2f692e6372656174697665636f6d6d6f6e732e6f72672f6c2f62792f342e302f38387833312e706e67" alt="Creative Commons License" data-canonical-src="http://i.creativecommons.org/l/by/4.0/88x31.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This work is licensed under a &lt;a href="http://creativecommons.org/licenses/by/4.0/" rel="nofollow"&gt;Creative Commons Attribution 4.0 International License&lt;/a&gt;.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>bayandin</author><guid isPermaLink="false">https://github.com/bayandin/awesome-awesomeness</guid><pubDate>Mon, 10 Feb 2020 00:13:00 GMT</pubDate></item><item><title>activeadmin/activeadmin #14 in Ruby, This week</title><link>https://github.com/activeadmin/activeadmin</link><description>&lt;p&gt;&lt;i&gt;The administration framework for Ruby on Rails applications.&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-active-admin" class="anchor" aria-hidden="true" href="#active-admin"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Active Admin&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://activeadmin.info" rel="nofollow"&gt;Active Admin&lt;/a&gt; is a Ruby on Rails framework for
creating elegant backends for website administration.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://rubygems.org/gems/activeadmin" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/ad35f2c28d7e9eb88633b5d17166b21da3144e75/687474703a2f2f696d672e736869656c64732e696f2f67656d2f762f61637469766561646d696e2e737667" alt="Version         " data-canonical-src="http://img.shields.io/gem/v/activeadmin.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://circleci.com/gh/activeadmin/activeadmin/tree/master" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/96b373c993698c047588237d8f180f4ced2df921/68747470733a2f2f636972636c6563692e636f6d2f67682f61637469766561646d696e2f61637469766561646d696e2f747265652f6d61737465722e7376673f7374796c653d737667" alt="Circle CI       " data-canonical-src="https://circleci.com/gh/activeadmin/activeadmin/tree/master.svg?style=svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://codeclimate.com/github/activeadmin/activeadmin/test_coverage" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/67914fb57687e02914ee491edf0e28f673ec0e28/68747470733a2f2f6170692e636f6465636c696d6174652e636f6d2f76312f6261646765732f37373965343037643232626163666631393733332f746573745f636f766572616765" alt="Coverage        " data-canonical-src="https://api.codeclimate.com/v1/badges/779e407d22bacff19733/test_coverage" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://tidelift.com/subscription/pkg/rubygems-activeadmin?utm_source=rubygems-activeadmin&amp;amp;utm_medium=readme" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/3e86d7310a6e74469bf85dbcc47a3b3a0b4adc07/68747470733a2f2f746964656c6966742e636f6d2f6261646765732f6769746875622f61637469766561646d696e2f61637469766561646d696e" alt="Tidelift        " data-canonical-src="https://tidelift.com/badges/github/activeadmin/activeadmin" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="http://inch-ci.org/github/activeadmin/activeadmin" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/5eace2b820b0aeee1eeb4a59a737ae6214a4ecbd/687474703a2f2f696e63682d63692e6f72672f6769746875622f61637469766561646d696e2f61637469766561646d696e2e7376673f6272616e63683d6d6173746572" alt="Inch CI         " data-canonical-src="http://inch-ci.org/github/activeadmin/activeadmin.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-goals" class="anchor" aria-hidden="true" href="#goals"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Goals&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Enable developers to quickly create good-looking administration interfaces.&lt;/li&gt;
&lt;li&gt;Build a DSL for developers and an interface for businesses.&lt;/li&gt;
&lt;li&gt;Ensure that developers can easily customize every nook and cranny.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-getting-started" class="anchor" aria-hidden="true" href="#getting-started"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Getting started&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Check out &lt;a href="http://activeadmin.info/0-installation.html" rel="nofollow"&gt;the docs&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Try the &lt;a href="http://demo.activeadmin.info/admin" rel="nofollow"&gt;live demo&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;The &lt;a href="https://github.com/activeadmin/activeadmin/wiki"&gt;wiki&lt;/a&gt; includes links to tutorials, articles and sample projects.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-for-enterprise" class="anchor" aria-hidden="true" href="#for-enterprise"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;For enterprise&lt;/h2&gt;
&lt;p&gt;Active Admin for enterprise is available via the Tidelift subscription. &lt;a href="https://tidelift.com/subscription/pkg/rubygems-activeadmin?utm_source=rubygems-activeadmin&amp;amp;utm_medium=referral&amp;amp;utm_campaign=github&amp;amp;utm_content=enterprise" rel="nofollow"&gt;Learn
More&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-need-help" class="anchor" aria-hidden="true" href="#need-help"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Need help?&lt;/h2&gt;
&lt;p&gt;Please use &lt;a href="http://stackoverflow.com/questions/tagged/activeadmin" rel="nofollow"&gt;StackOverflow&lt;/a&gt; for help requests and how-to questions.&lt;/p&gt;
&lt;p&gt;Please open GitHub issues for bugs and enhancements only, not general help requests.
Please search previous issues (and Google and StackOverflow) before creating a new issue.&lt;/p&gt;
&lt;p&gt;Google Groups, IRC #activeadmin and Gitter are not actively monitored.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-want-to-contribute" class="anchor" aria-hidden="true" href="#want-to-contribute"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Want to contribute?&lt;/h2&gt;
&lt;p&gt;If you want to contribute through code or documentation, the &lt;a href="https://github.com/activeadmin/activeadmin/blob/master/CONTRIBUTING.md"&gt;Contributing
guide is the best place to start&lt;/a&gt;. If you have questions, feel free
to ask.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-want-to-support-us" class="anchor" aria-hidden="true" href="#want-to-support-us"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Want to support us?&lt;/h2&gt;
&lt;p&gt;If you want to support us financially, you can &lt;a href="https://tidelift.com/subscription/pkg/rubygems-activeadmin?utm_source=rubygems-activeadmin&amp;amp;utm_medium=referral&amp;amp;utm_campaign=github&amp;amp;utm_content=support" rel="nofollow"&gt;help fund the project
through a Tidelift subscription&lt;/a&gt;. By buying a Tidelift subscription
you make sure your whole dependency stack is properly maintained, while also
getting a comprehensive view of outdated dependencies, new releases, security
alerts, and licensing compatibility issues.&lt;/p&gt;
&lt;p&gt;You can also support us with a weekly tip via &lt;a href="https://liberapay.com/Active-Admin/donate" rel="nofollow"&gt;Liberapay&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Finally, we have an &lt;a href="https://opencollective.com/activeadmin" rel="nofollow"&gt;Open Collective&lt;/a&gt; where you can become a backer or
sponsor for the project, and also submit expenses to it.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-dependencies" class="anchor" aria-hidden="true" href="#dependencies"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Dependencies&lt;/h2&gt;
&lt;p&gt;We try not to reinvent the wheel, so Active Admin is built with other open source projects:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Tool&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="https://github.com/activeadmin/arbre"&gt;Arbre&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Ruby -&amp;gt; HTML, just like that.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="https://github.com/plataformatec/devise"&gt;Devise&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Powerful, extensible user authentication&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="https://github.com/justinfrench/formtastic"&gt;Formtastic&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;A Rails form builder plugin with semantically rich and accessible markup&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="https://github.com/activeadmin/inherited_resources"&gt;Inherited Resources&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Simplifies controllers with pre-built RESTful controller actions&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="https://github.com/kaminari/kaminari"&gt;Kaminari&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Elegant pagination for any sort of collection&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="https://github.com/activerecord-hackery/ransack"&gt;Ransack&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;Provides a simple search API to query your data&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-security-contact-information" class="anchor" aria-hidden="true" href="#security-contact-information"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Security contact information&lt;/h2&gt;
&lt;p&gt;Please use the Tidelift security contact to &lt;a href="https://tidelift.com/security" rel="nofollow"&gt;report a security vulnerability&lt;/a&gt;.
Tidelift will coordinate the fix and disclosure.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-acknowledgements" class="anchor" aria-hidden="true" href="#acknowledgements"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Acknowledgements&lt;/h2&gt;
&lt;p&gt;Thanks to &lt;a href="https://github.com/gregbell"&gt;Greg Bell&lt;/a&gt; for creating and sharing this project with the open source community.&lt;/p&gt;
&lt;p&gt;Thanks to &lt;a href="https://github.com/activeadmin/activeadmin/graphs/contributors"&gt;all the people that ever contributed through code&lt;/a&gt; or
other means such as bug reports, issue triaging, feature suggestions, code
snippet tips, Slack discussions and so on.&lt;/p&gt;
&lt;p&gt;Thanks to &lt;a href="https://tidelift.com/subscription/pkg/rubygems-activeadmin?utm_source=rubygems-activeadmin&amp;amp;utm_medium=readme" rel="nofollow"&gt;Tidelift&lt;/a&gt; and all our Tidelift subscribers.&lt;/p&gt;
&lt;p&gt;Thanks to &lt;a href="https://opencollective.com/activeadmin#contributors" rel="nofollow"&gt;Open Collective&lt;/a&gt; and all our Open Collective contributors.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>activeadmin</author><guid isPermaLink="false">https://github.com/activeadmin/activeadmin</guid><pubDate>Mon, 10 Feb 2020 00:14:00 GMT</pubDate></item><item><title>ruby-concurrency/concurrent-ruby #15 in Ruby, This week</title><link>https://github.com/ruby-concurrency/concurrent-ruby</link><description>&lt;p&gt;&lt;i&gt;Modern concurrency tools including agents, futures, promises, thread pools, supervisors, and more. Inspired by Erlang, Clojure, Scala, Go, Java, JavaScript, and classic concurrency patterns.&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-concurrent-ruby" class="anchor" aria-hidden="true" href="#concurrent-ruby"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Concurrent Ruby&lt;/h1&gt;
&lt;p&gt;&lt;a href="http://badge.fury.io/rb/concurrent-ruby" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/df5eeebaf7b86cd3d7858ae46a5e379d2a0a380b/68747470733a2f2f62616467652e667572792e696f2f72622f636f6e63757272656e742d727562792e737667" alt="Gem Version" data-canonical-src="https://badge.fury.io/rb/concurrent-ruby.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://travis-ci.org/ruby-concurrency/concurrent-ruby" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/38253007338288944e016f24354e648899b873aa/68747470733a2f2f7472617669732d63692e6f72672f727562792d636f6e63757272656e63792f636f6e63757272656e742d727562792e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/ruby-concurrency/concurrent-ruby.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://ci.appveyor.com/project/rubyconcurrency/concurrent-ruby" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/2bad1710098e4747588727fb2474c4efe8381cb0/68747470733a2f2f63692e6170707665796f722e636f6d2f6170692f70726f6a656374732f7374617475732f69713861626f797575336574616434773f7376673d74727565" alt="Build status" data-canonical-src="https://ci.appveyor.com/api/projects/status/iq8aboyuu3etad4w?svg=true" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="http://opensource.org/licenses/MIT" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/6a40b4913be1852a0fe4a896c5912412202f9169/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d4d49542d677265656e2e737667" alt="License" data-canonical-src="https://img.shields.io/badge/license-MIT-green.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://gitter.im/ruby-concurrency/concurrent-ruby" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/149a3d8343978d976361bbc5333f90f3634d9a37/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f49524325323028676974746572292d6465767325323025323625323075736572732d627269676874677265656e2e737667" alt="Gitter chat" data-canonical-src="https://img.shields.io/badge/IRC%20(gitter)-devs%20%26%20users-brightgreen.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Modern concurrency tools for Ruby. Inspired by
&lt;a href="http://www.erlang.org/doc/reference_manual/processes.html" rel="nofollow"&gt;Erlang&lt;/a&gt;,
&lt;a href="http://clojure.org/concurrent_programming" rel="nofollow"&gt;Clojure&lt;/a&gt;,
&lt;a href="http://akka.io/" rel="nofollow"&gt;Scala&lt;/a&gt;,
&lt;a href="http://www.haskell.org/haskellwiki/Applications_and_libraries/Concurrency_and_parallelism#Concurrent_Haskell" rel="nofollow"&gt;Haskell&lt;/a&gt;,
&lt;a href="http://blogs.msdn.com/b/dsyme/archive/2010/02/15/async-and-parallel-design-patterns-in-f-part-3-agents.aspx" rel="nofollow"&gt;F#&lt;/a&gt;,
&lt;a href="http://msdn.microsoft.com/en-us/library/vstudio/hh191443.aspx" rel="nofollow"&gt;C#&lt;/a&gt;,
&lt;a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/package-summary.html" rel="nofollow"&gt;Java&lt;/a&gt;,
and classic concurrency patterns.&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://raw.githubusercontent.com/ruby-concurrency/concurrent-ruby/master/docs-source/logo/concurrent-ruby-logo-300x300.png"&gt;&lt;img src="https://raw.githubusercontent.com/ruby-concurrency/concurrent-ruby/master/docs-source/logo/concurrent-ruby-logo-300x300.png" align="right" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The design goals of this gem are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Be an 'unopinionated' toolbox that provides useful utilities without debating which is better
or why&lt;/li&gt;
&lt;li&gt;Remain free of external gem dependencies&lt;/li&gt;
&lt;li&gt;Stay true to the spirit of the languages providing inspiration&lt;/li&gt;
&lt;li&gt;But implement in a way that makes sense for Ruby&lt;/li&gt;
&lt;li&gt;Keep the semantics as idiomatic Ruby as possible&lt;/li&gt;
&lt;li&gt;Support features that make sense in Ruby&lt;/li&gt;
&lt;li&gt;Exclude features that don't make sense in Ruby&lt;/li&gt;
&lt;li&gt;Be small, lean, and loosely coupled&lt;/li&gt;
&lt;li&gt;Thread-safety&lt;/li&gt;
&lt;li&gt;Backward compatibility&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;This gem depends on
&lt;a href="https://github.com/ruby-concurrency/concurrent-ruby/graphs/contributors"&gt;contributions&lt;/a&gt; and we
appreciate your help. Would you like to contribute? Great! Have a look at
&lt;a href="https://github.com/ruby-concurrency/concurrent-ruby/issues?q=is%3Aissue+is%3Aopen+label%3Alooking-for-contributor"&gt;issues with &lt;code&gt;looking-for-contributor&lt;/code&gt; label&lt;/a&gt;.&lt;/strong&gt; And if you pick something up let us know on the issue.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-thread-safety" class="anchor" aria-hidden="true" href="#thread-safety"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Thread Safety&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Concurrent Ruby makes one of the strongest thread safety guarantees of any Ruby concurrency
library, providing consistent behavior and guarantees on all four of the main Ruby interpreters
(MRI/CRuby, JRuby, Rubinius, TruffleRuby).&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Every abstraction in this library is thread safe. Specific thread safety guarantees are documented
with each abstraction.&lt;/p&gt;
&lt;p&gt;It is critical to remember, however, that Ruby is a language of mutable references. &lt;em&gt;No&lt;/em&gt;
concurrency library for Ruby can ever prevent the user from making thread safety mistakes (such as
sharing a mutable object between threads and modifying it on both threads) or from creating
deadlocks through incorrect use of locks. All the library can do is provide safe abstractions which
encourage safe practices. Concurrent Ruby provides more safe concurrency abstractions than any
other Ruby library, many of which support the mantra of
&lt;a href="https://blog.golang.org/share-memory-by-communicating" rel="nofollow"&gt;"Do not communicate by sharing memory; instead, share memory by communicating"&lt;/a&gt;.
Concurrent Ruby is also the only Ruby library which provides a full suite of thread safe and
immutable variable types and data structures.&lt;/p&gt;
&lt;p&gt;We've also initiated discussion to document &lt;a href="docs-source/synchronization.md"&gt;memory model&lt;/a&gt; of Ruby which
would provide consistent behaviour and guarantees on all four of the main Ruby interpreters
(MRI/CRuby, JRuby, Rubinius, TruffleRuby).&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-features--documentation" class="anchor" aria-hidden="true" href="#features--documentation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Features &amp;amp; Documentation&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;The primary site for documentation is the automatically generated
&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/index.html" rel="nofollow"&gt;API documentation&lt;/a&gt; which is up to
date with latest release.&lt;/strong&gt; This readme matches the master so may contain new stuff not yet
released.&lt;/p&gt;
&lt;p&gt;We also have a &lt;a href="https://gitter.im/ruby-concurrency/concurrent-ruby" rel="nofollow"&gt;IRC (gitter)&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-versioning" class="anchor" aria-hidden="true" href="#versioning"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Versioning&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;concurrent-ruby&lt;/code&gt; uses &lt;a href="http://semver.org/" rel="nofollow"&gt;Semantic Versioning&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;concurrent-ruby-ext&lt;/code&gt; has always same version as &lt;code&gt;concurrent-ruby&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;concurrent-ruby-edge&lt;/code&gt; will always be 0.y.z therefore following
&lt;a href="http://semver.org/#spec-item-4" rel="nofollow"&gt;point 4&lt;/a&gt; applies &lt;em&gt;"Major version zero
(0.y.z) is for initial development. Anything may change at any time. The
public API should not be considered stable."&lt;/em&gt; However we additionally use
following rules:
&lt;ul&gt;
&lt;li&gt;Minor version increment means incompatible changes were made&lt;/li&gt;
&lt;li&gt;Patch version increment means only compatible changes were made&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-general-purpose-concurrency-abstractions" class="anchor" aria-hidden="true" href="#general-purpose-concurrency-abstractions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;General-purpose Concurrency Abstractions&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Async.html" rel="nofollow"&gt;Async&lt;/a&gt;:
A mixin module that provides simple asynchronous behavior to a class. Loosely based on Erlang's
&lt;a href="http://www.erlang.org/doc/man/gen_server.html" rel="nofollow"&gt;gen_server&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/ScheduledTask.html" rel="nofollow"&gt;ScheduledTask&lt;/a&gt;:
Like a Future scheduled for a specific future time.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/TimerTask.html" rel="nofollow"&gt;TimerTask&lt;/a&gt;:
A Thread that periodically wakes up to perform work at regular intervals.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Promises.html" rel="nofollow"&gt;Promises&lt;/a&gt;:
Unified implementation of futures and promises which combines features of previous &lt;code&gt;Future&lt;/code&gt;,
&lt;code&gt;Promise&lt;/code&gt;, &lt;code&gt;IVar&lt;/code&gt;, &lt;code&gt;Event&lt;/code&gt;, &lt;code&gt;dataflow&lt;/code&gt;, &lt;code&gt;Delay&lt;/code&gt;, and (partially) &lt;code&gt;TimerTask&lt;/code&gt; into a single
framework. It extensively uses the new synchronization layer to make all the features
&lt;strong&gt;non-blocking&lt;/strong&gt; and &lt;strong&gt;lock-free&lt;/strong&gt;, with the exception of obviously blocking operations like
&lt;code&gt;#wait&lt;/code&gt;, &lt;code&gt;#value&lt;/code&gt;. It also offers better performance.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-thread-safe-value-objects-structures-and-collections" class="anchor" aria-hidden="true" href="#thread-safe-value-objects-structures-and-collections"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Thread-safe Value Objects, Structures, and Collections&lt;/h4&gt;
&lt;p&gt;Collection classes that were originally part of the (deprecated) &lt;code&gt;thread_safe&lt;/code&gt; gem:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Array.html" rel="nofollow"&gt;Array&lt;/a&gt; A thread-safe
subclass of Ruby's standard &lt;a href="http://ruby-doc.org/core-2.2.0/Array.html" rel="nofollow"&gt;Array&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Hash.html" rel="nofollow"&gt;Hash&lt;/a&gt; A thread-safe
subclass of Ruby's standard &lt;a href="http://ruby-doc.org/core-2.2.0/Hash.html" rel="nofollow"&gt;Hash&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Set.html" rel="nofollow"&gt;Set&lt;/a&gt; A thread-safe
subclass of Ruby's standard &lt;a href="http://ruby-doc.org/stdlib-2.4.0/libdoc/set/rdoc/Set.html" rel="nofollow"&gt;Set&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Map.html" rel="nofollow"&gt;Map&lt;/a&gt; A hash-like object
that should have much better performance characteristics, especially under high concurrency,
than &lt;code&gt;Concurrent::Hash&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Tuple.html" rel="nofollow"&gt;Tuple&lt;/a&gt; A fixed size
array with volatile (synchronized, thread safe) getters/setters.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Value objects inspired by other languages:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Maybe.html" rel="nofollow"&gt;Maybe&lt;/a&gt; A thread-safe,
immutable object representing an optional value, based on
&lt;a href="https://hackage.haskell.org/package/base-4.2.0.1/docs/Data-Maybe.html" rel="nofollow"&gt;Haskell Data.Maybe&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Structure classes derived from Ruby's &lt;a href="http://ruby-doc.org/core-2.2.0/Struct.html" rel="nofollow"&gt;Struct&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/ImmutableStruct.html" rel="nofollow"&gt;ImmutableStruct&lt;/a&gt;
Immutable struct where values are set at construction and cannot be changed later.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/MutableStruct.html" rel="nofollow"&gt;MutableStruct&lt;/a&gt;
Synchronized, mutable struct where values can be safely changed at any time.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/SettableStruct.html" rel="nofollow"&gt;SettableStruct&lt;/a&gt;
Synchronized, write-once struct where values can be set at most once, either at construction
or any time thereafter.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Thread-safe variables:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Agent.html" rel="nofollow"&gt;Agent&lt;/a&gt;: A way to
manage shared, mutable, &lt;em&gt;asynchronous&lt;/em&gt;, independent state. Based on Clojure's
&lt;a href="http://clojure.org/agents" rel="nofollow"&gt;Agent&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Atom.html" rel="nofollow"&gt;Atom&lt;/a&gt;: A way to manage
shared, mutable, &lt;em&gt;synchronous&lt;/em&gt;, independent state. Based on Clojure's
&lt;a href="http://clojure.org/atoms" rel="nofollow"&gt;Atom&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/AtomicBoolean.html" rel="nofollow"&gt;AtomicBoolean&lt;/a&gt;
A boolean value that can be updated atomically.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/AtomicFixnum.html" rel="nofollow"&gt;AtomicFixnum&lt;/a&gt;
A numeric value that can be updated atomically.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/AtomicReference.html" rel="nofollow"&gt;AtomicReference&lt;/a&gt;
An object reference that may be updated atomically.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Exchanger.html" rel="nofollow"&gt;Exchanger&lt;/a&gt;
A synchronization point at which threads can pair and swap elements within pairs. Based on
Java's &lt;a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Exchanger.html" rel="nofollow"&gt;Exchanger&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/MVar.html" rel="nofollow"&gt;MVar&lt;/a&gt; A synchronized
single element container. Based on Haskell's
&lt;a href="https://hackage.haskell.org/package/base-4.8.1.0/docs/Control-Concurrent-MVar.html" rel="nofollow"&gt;MVar&lt;/a&gt; and
Scala's &lt;a href="http://docs.typelevel.org/api/scalaz/nightly/index.html#scalaz.concurrent.MVar$" rel="nofollow"&gt;MVar&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/ThreadLocalVar.html" rel="nofollow"&gt;ThreadLocalVar&lt;/a&gt;
A variable where the value is different for each thread.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/TVar.html" rel="nofollow"&gt;TVar&lt;/a&gt; A transactional
variable implementing software transactional memory (STM). Based on Clojure's
&lt;a href="http://clojure.org/refs" rel="nofollow"&gt;Ref&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-java-inspired-threadpools-and-other-executors" class="anchor" aria-hidden="true" href="#java-inspired-threadpools-and-other-executors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Java-inspired ThreadPools and Other Executors&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;See the &lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/file.thread_pools.html" rel="nofollow"&gt;thread pool&lt;/a&gt;
overview, which also contains a list of other Executors available.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-thread-synchronization-classes-and-algorithms" class="anchor" aria-hidden="true" href="#thread-synchronization-classes-and-algorithms"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Thread Synchronization Classes and Algorithms&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/CountDownLatch.html" rel="nofollow"&gt;CountDownLatch&lt;/a&gt;
A synchronization object that allows one thread to wait on multiple other threads.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/CyclicBarrier.html" rel="nofollow"&gt;CyclicBarrier&lt;/a&gt;
A synchronization aid that allows a set of threads to all wait for each other to reach a common barrier point.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Event.html" rel="nofollow"&gt;Event&lt;/a&gt; Old school
kernel-style event.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/ReadWriteLock.html" rel="nofollow"&gt;ReadWriteLock&lt;/a&gt;
A lock that supports multiple readers but only one writer.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/ReentrantReadWriteLock.html" rel="nofollow"&gt;ReentrantReadWriteLock&lt;/a&gt;
A read/write lock with reentrant and upgrade features.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Semaphore.html" rel="nofollow"&gt;Semaphore&lt;/a&gt;
A counting-based locking mechanism that uses permits.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/AtomicMarkableReference.html" rel="nofollow"&gt;AtomicMarkableReference&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-deprecated" class="anchor" aria-hidden="true" href="#deprecated"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deprecated&lt;/h4&gt;
&lt;p&gt;Deprecated features are still available and bugs are being fixed, but new features will not be added.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;del&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Future.html" rel="nofollow"&gt;Future&lt;/a&gt;:
An asynchronous operation that produces a value.&lt;/del&gt; Replaced by
&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Promises.html" rel="nofollow"&gt;Promises&lt;/a&gt;.
&lt;ul&gt;
&lt;li&gt;&lt;del&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent.html#dataflow-class_method" rel="nofollow"&gt;.dataflow&lt;/a&gt;:
Built on Futures, Dataflow allows you to create a task that will be scheduled when all of
its data dependencies are available.&lt;/del&gt; Replaced by
&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Promises.html" rel="nofollow"&gt;Promises&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;del&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Promise.html" rel="nofollow"&gt;Promise&lt;/a&gt;: Similar
to Futures, with more features.&lt;/del&gt; Replaced by
&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Promises.html" rel="nofollow"&gt;Promises&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;del&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Delay.html" rel="nofollow"&gt;Delay&lt;/a&gt; Lazy evaluation
of a block yielding an immutable result. Based on Clojure's
&lt;a href="https://clojuredocs.org/clojure.core/delay" rel="nofollow"&gt;delay&lt;/a&gt;.&lt;/del&gt; Replaced by
&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Promises.html" rel="nofollow"&gt;Promises&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;del&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/IVar.html" rel="nofollow"&gt;IVar&lt;/a&gt; Similar to a
"future" but can be manually assigned once, after which it becomes immutable.&lt;/del&gt; Replaced by
&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Promises.html" rel="nofollow"&gt;Promises&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-edge-features" class="anchor" aria-hidden="true" href="#edge-features"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Edge Features&lt;/h3&gt;
&lt;p&gt;These are available in the &lt;code&gt;concurrent-ruby-edge&lt;/code&gt; companion gem.&lt;/p&gt;
&lt;p&gt;These features are under active development and may change frequently. They are expected not to
keep backward compatibility (there may also lack tests and documentation). Semantic versions will
be obeyed though. Features developed in &lt;code&gt;concurrent-ruby-edge&lt;/code&gt; are expected to move to
&lt;code&gt;concurrent-ruby&lt;/code&gt; when final.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Actor.html" rel="nofollow"&gt;Actor&lt;/a&gt;: Implements
the Actor Model, where concurrent actors exchange messages.
&lt;em&gt;Status: Partial documentation and tests; depends on new future/promise framework; stability is good.&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Channel.html" rel="nofollow"&gt;Channel&lt;/a&gt;:
Communicating Sequential Processes (&lt;a href="https://en.wikipedia.org/wiki/Communicating_sequential_processes" rel="nofollow"&gt;CSP&lt;/a&gt;).
Functionally equivalent to Go &lt;a href="https://tour.golang.org/concurrency/2" rel="nofollow"&gt;channels&lt;/a&gt; with additional
inspiration from Clojure &lt;a href="https://clojure.github.io/core.async/" rel="nofollow"&gt;core.async&lt;/a&gt;.
&lt;em&gt;Status: Partial documentation and tests.&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/LazyRegister.html" rel="nofollow"&gt;LazyRegister&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Edge/LockFreeLinkedSet.html" rel="nofollow"&gt;LockFreeLinkedSet&lt;/a&gt;
&lt;em&gt;Status: will be moved to core soon.&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/LockFreeStack.html" rel="nofollow"&gt;LockFreeStack&lt;/a&gt;
&lt;em&gt;Status: missing documentation and tests.&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Promises/Channel.html" rel="nofollow"&gt;Promises::Channel&lt;/a&gt;
A first in first out channel that accepts messages with push family of methods and returns
messages with pop family of methods.
Pop and push operations can be represented as futures, see &lt;code&gt;#pop_op&lt;/code&gt; and &lt;code&gt;#push_op&lt;/code&gt;.
The capacity of the channel can be limited to support back pressure, use capacity option in &lt;code&gt;#initialize&lt;/code&gt;.
&lt;code&gt;#pop&lt;/code&gt; method blocks ans &lt;code&gt;#pop_op&lt;/code&gt; returns pending future if there is no message in the channel.
If the capacity is limited the &lt;code&gt;#push&lt;/code&gt; method blocks and &lt;code&gt;#push_op&lt;/code&gt; returns pending future.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Cancellation.html" rel="nofollow"&gt;Cancellation&lt;/a&gt;
The Cancellation abstraction provides cooperative cancellation.&lt;/p&gt;
&lt;p&gt;The standard methods &lt;code&gt;Thread#raise&lt;/code&gt; of &lt;code&gt;Thread#kill&lt;/code&gt; available in Ruby
are very dangerous (see linked the blog posts bellow).
Therefore concurrent-ruby provides an alternative.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://jvns.ca/blog/2015/11/27/why-rubys-timeout-is-dangerous-and-thread-dot-raise-is-terrifying/" rel="nofollow"&gt;https://jvns.ca/blog/2015/11/27/why-rubys-timeout-is-dangerous-and-thread-dot-raise-is-terrifying/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.mikeperham.com/2015/05/08/timeout-rubys-most-dangerous-api/" rel="nofollow"&gt;http://www.mikeperham.com/2015/05/08/timeout-rubys-most-dangerous-api/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://blog.headius.com/2008/02/rubys-threadraise-threadkill-timeoutrb.html" rel="nofollow"&gt;http://blog.headius.com/2008/02/rubys-threadraise-threadkill-timeoutrb.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It provides an object which represents a task which can be executed,
the task has to get the reference to the object and periodically cooperatively check that it is not cancelled.
Good practices to make tasks cancellable:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;check cancellation every cycle of a loop which does significant work,&lt;/li&gt;
&lt;li&gt;do all blocking actions in a loop with a timeout then on timeout check cancellation
and if ok block again with the timeout&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/Throttle.html" rel="nofollow"&gt;Throttle&lt;/a&gt;
A tool managing concurrency level of tasks.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/ErlangActor.html" rel="nofollow"&gt;ErlangActor&lt;/a&gt;
Actor implementation which precisely matches Erlang actor behaviour.
Requires at least Ruby 2.1 otherwise it's not loaded.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://ruby-concurrency.github.io/concurrent-ruby/master/Concurrent/WrappingExecutor.html" rel="nofollow"&gt;WrappingExecutor&lt;/a&gt;
A delegating executor which modifies each task before the task is given to
the target executor it delegates to.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-supported-ruby-versions" class="anchor" aria-hidden="true" href="#supported-ruby-versions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Supported Ruby versions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;MRI 2.0 and above&lt;/li&gt;
&lt;li&gt;JRuby 9000&lt;/li&gt;
&lt;li&gt;TruffleRuby are supported.&lt;/li&gt;
&lt;li&gt;Any Ruby interpreter that is compliant with Ruby 2.0 or newer.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Actually we still support mri 1.9.3 and jruby 1.7.27 but we are looking at ways how to drop the support.
Java 8 is preferred for JRuby but every Java version on which JRuby 9000 runs is supported.&lt;/p&gt;
&lt;p&gt;The legacy support for Rubinius is kept but it is no longer maintained, if you would like to help
please respond to &lt;a href="https://github.com/ruby-concurrency/concurrent-ruby/issues/739"&gt;#739&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h2&gt;
&lt;p&gt;Everything within this gem can be loaded simply by requiring it:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;concurrent&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Requiring only specific abstractions from Concurrent Ruby is not yet supported.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;To use the tools in the Edge gem it must be required separately:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;concurrent-edge&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If the library does not behave as expected, &lt;code&gt;Concurrent.use_stdlib_logger(Logger::DEBUG)&lt;/code&gt; could
help to reveal the problem.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation&lt;/h2&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;gem install concurrent-ruby&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;or add the following line to Gemfile:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;gem &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;concurrent-ruby&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;require:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;concurrent&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and run &lt;code&gt;bundle install&lt;/code&gt; from your shell.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-edge-gem-installation" class="anchor" aria-hidden="true" href="#edge-gem-installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Edge Gem Installation&lt;/h3&gt;
&lt;p&gt;The Edge gem must be installed separately from the core gem:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;gem install concurrent-ruby-edge&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;or add the following line to Gemfile:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;gem &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;concurrent-ruby-edge&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;require:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;concurrent-edge&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and run &lt;code&gt;bundle install&lt;/code&gt; from your shell.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-c-extensions-for-mri" class="anchor" aria-hidden="true" href="#c-extensions-for-mri"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;C Extensions for MRI&lt;/h3&gt;
&lt;p&gt;Potential performance improvements may be achieved under MRI by installing optional C extensions.
To minimise installation errors the C extensions are available in the &lt;code&gt;concurrent-ruby-ext&lt;/code&gt;
extension gem. &lt;code&gt;concurrent-ruby&lt;/code&gt; and &lt;code&gt;concurrent-ruby-ext&lt;/code&gt; are always released together with same
version. Simply install the extension gem too:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;gem install concurrent&lt;span class="pl-k"&gt;-&lt;/span&gt;ruby&lt;span class="pl-k"&gt;-&lt;/span&gt;ext&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;or add the following line to Gemfile:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;gem &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;concurrent-ruby-ext&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and run &lt;code&gt;bundle install&lt;/code&gt; from your shell.&lt;/p&gt;
&lt;p&gt;In code it is only necessary to&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;concurrent&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;concurrent-ruby&lt;/code&gt; gem will automatically detect the presence of the &lt;code&gt;concurrent-ruby-ext&lt;/code&gt; gem
and load the appropriate C extensions.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-note-for-gem-developers" class="anchor" aria-hidden="true" href="#note-for-gem-developers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Note For gem developers&lt;/h4&gt;
&lt;p&gt;No gems should depend on &lt;code&gt;concurrent-ruby-ext&lt;/code&gt;. Doing so will force C extensions on your users. The
best practice is to depend on &lt;code&gt;concurrent-ruby&lt;/code&gt; and let users to decide if they want C extensions.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-maintainers" class="anchor" aria-hidden="true" href="#maintainers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Maintainers&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/pitr-ch"&gt;Petr Chalupa&lt;/a&gt; (lead maintainer, point-of-contact)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jdantonio"&gt;Jerry D'Antonio&lt;/a&gt; (creator)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/chrisseaton"&gt;Chris Seaton&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-special-thanks-to" class="anchor" aria-hidden="true" href="#special-thanks-to"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Special Thanks to&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/bdurand"&gt;Brian Durand&lt;/a&gt; for the &lt;code&gt;ref&lt;/code&gt; gem&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/headius"&gt;Charles Oliver Nutter&lt;/a&gt; for the &lt;code&gt;atomic&lt;/code&gt; and &lt;code&gt;thread_safe&lt;/code&gt; gems&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/thedarkone"&gt;thedarkone&lt;/a&gt; for the &lt;code&gt;thread_safe&lt;/code&gt; gem&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;and to the past maintainers&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/mighe"&gt;Michele Della Torre&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/obrok"&gt;Pawe Obrok&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/lucasallan"&gt;Lucas Allan&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;and to &lt;a href="https://www.ruby.or.jp/en/" rel="nofollow"&gt;Ruby Association&lt;/a&gt; for sponsoring a project
&lt;a href="https://www.ruby.or.jp/en/news/20181106" rel="nofollow"&gt;"Enhancing Rubys concurrency tooling"&lt;/a&gt; in 2018.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license-and-copyright" class="anchor" aria-hidden="true" href="#license-and-copyright"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License and Copyright&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Concurrent Ruby&lt;/em&gt; is free software released under the
&lt;a href="http://www.opensource.org/licenses/MIT" rel="nofollow"&gt;MIT License&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The &lt;em&gt;Concurrent Ruby&lt;/em&gt; &lt;a href="https://raw.githubusercontent.com/ruby-concurrency/concurrent-ruby/master/docs-source/logo/concurrent-ruby-logo-300x300.png" rel="nofollow"&gt;logo&lt;/a&gt; was
designed by &lt;a href="https://twitter.com/zombyboy" rel="nofollow"&gt;David Jones&lt;/a&gt;. It is Copyright  2014
&lt;a href="https://twitter.com/jerrydantonio" rel="nofollow"&gt;Jerry D'Antonio&lt;/a&gt;. All Rights Reserved.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>ruby-concurrency</author><guid isPermaLink="false">https://github.com/ruby-concurrency/concurrent-ruby</guid><pubDate>Mon, 10 Feb 2020 00:15:00 GMT</pubDate></item><item><title>awesome-print/awesome_print #16 in Ruby, This week</title><link>https://github.com/awesome-print/awesome_print</link><description>&lt;p&gt;&lt;i&gt;Pretty print your Ruby objects with style -- in full color and with proper indentation&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h2&gt;&lt;a id="user-content-awesome-print" class="anchor" aria-hidden="true" href="#awesome-print"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Awesome Print&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://rubygems.org/gems/awesome_print" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/8e757d528f72e168f36e5a768516ca3667d57086/68747470733a2f2f696d672e736869656c64732e696f2f67656d2f762f617765736f6d655f7072696e742e7376673f7374796c653d666c6174" alt="RubyGems" data-canonical-src="https://img.shields.io/gem/v/awesome_print.svg?style=flat" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="http://travis-ci.org/awesome-print/awesome_print" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/9fcc4a3a40eefa29f14eb64d8d2122a5e0d9b9cb/68747470733a2f2f696d672e736869656c64732e696f2f7472617669732f617765736f6d652d7072696e742f617765736f6d655f7072696e742f6d61737465722e7376673f7374796c653d666c6174" alt="Travis CI" data-canonical-src="https://img.shields.io/travis/awesome-print/awesome_print/master.svg?style=flat" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://codeclimate.com/github/awesome-print/awesome_print" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/54c1c18abaf96115e15e124304f98896073c40f6/687474703a2f2f696d672e736869656c64732e696f2f636f6465636c696d6174652f6769746875622f617765736f6d652d7072696e742f617765736f6d655f7072696e742e7376673f7374796c653d666c6174" alt="Code Climate" data-canonical-src="http://img.shields.io/codeclimate/github/awesome-print/awesome_print.svg?style=flat" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://codeclimate.com/github/awesome-print/awesome_print" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/213af4f22cc5a86cb5fb4ffd897a2e7d8cfd1620/68747470733a2f2f636f6465636c696d6174652e636f6d2f6769746875622f617765736f6d652d7072696e742f617765736f6d655f7072696e742f6261646765732f636f7665726167652e737667" alt="Code Climate Coverage" data-canonical-src="https://codeclimate.com/github/awesome-print/awesome_print/badges/coverage.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="http://rubygems.org/gems/awesome_print" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/b054659e1577e8b4c4212550376dbe628b3ef44d/687474703a2f2f696d672e736869656c64732e696f2f67656d2f64742f617765736f6d655f7072696e742e7376673f7374796c653d666c6174" alt="RubyGems" data-canonical-src="http://img.shields.io/gem/dt/awesome_print.svg?style=flat" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://gitter.im/awesome-print/awesome_print?utm_source=badge&amp;amp;utm_medium=badge&amp;amp;utm_campaign=pr-badge&amp;amp;utm_content=badge" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667" alt="Gitter" data-canonical-src="https://badges.gitter.im/Join%20Chat.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Awesome Print is a Ruby library that pretty prints Ruby objects in full color
exposing their internal structure with proper indentation. Rails ActiveRecord
objects and usage within Rails templates are supported via included mixins.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NOTE&lt;/strong&gt;: awesome_print v1.2.0 is the last release supporting Ruby versions
prior to v1.9.3 and Rails versions prior to v3.0. The upcoming awesome_print
v2.0 will &lt;em&gt;require&lt;/em&gt; Ruby v1.9.3 or later and Rails v3.0 or later.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;# Installing as Ruby gem
$ gem install awesome_print

# Cloning the repository
$ git clone git://github.com/awesome-print/awesome_print.git
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;awesome_print&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
ap object, options &lt;span class="pl-k"&gt;=&lt;/span&gt; {}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Default options:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;indent:&lt;/span&gt;        &lt;span class="pl-c1"&gt;4&lt;/span&gt;,      &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Number of spaces for indenting.&lt;/span&gt;
&lt;span class="pl-c1"&gt;index:&lt;/span&gt;         &lt;span class="pl-c1"&gt;true&lt;/span&gt;,   &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Display array indices.&lt;/span&gt;
&lt;span class="pl-c1"&gt;html:&lt;/span&gt;          &lt;span class="pl-c1"&gt;false&lt;/span&gt;,  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Use ANSI color codes rather than HTML.&lt;/span&gt;
&lt;span class="pl-c1"&gt;multiline:&lt;/span&gt;     &lt;span class="pl-c1"&gt;true&lt;/span&gt;,   &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Display in multiple lines.&lt;/span&gt;
&lt;span class="pl-c1"&gt;plain:&lt;/span&gt;         &lt;span class="pl-c1"&gt;false&lt;/span&gt;,  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Use colors.&lt;/span&gt;
&lt;span class="pl-c1"&gt;raw:&lt;/span&gt;           &lt;span class="pl-c1"&gt;false&lt;/span&gt;,  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Do not recursively format instance variables.&lt;/span&gt;
&lt;span class="pl-c1"&gt;sort_keys:&lt;/span&gt;     &lt;span class="pl-c1"&gt;false&lt;/span&gt;,  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Do not sort hash keys.&lt;/span&gt;
&lt;span class="pl-c1"&gt;sort_vars:&lt;/span&gt;     &lt;span class="pl-c1"&gt;true&lt;/span&gt;,   &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Sort instance variables.&lt;/span&gt;
&lt;span class="pl-c1"&gt;limit:&lt;/span&gt;         &lt;span class="pl-c1"&gt;false&lt;/span&gt;,  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Limit arrays &amp;amp; hashes. Accepts bool or int.&lt;/span&gt;
&lt;span class="pl-c1"&gt;ruby19_syntax:&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;,  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Use Ruby 1.9 hash syntax in output.&lt;/span&gt;
&lt;span class="pl-c1"&gt;class_name:&lt;/span&gt;    &lt;span class="pl-c1"&gt;:class&lt;/span&gt;, &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Method called to report the instance class name. (e.g. :to_s)&lt;/span&gt;
&lt;span class="pl-c1"&gt;object_id:&lt;/span&gt;     &lt;span class="pl-c1"&gt;true&lt;/span&gt;,   &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Show object id.&lt;/span&gt;
&lt;span class="pl-c1"&gt;color:&lt;/span&gt; {
  &lt;span class="pl-c1"&gt;args:&lt;/span&gt;       &lt;span class="pl-c1"&gt;:pale&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;array:&lt;/span&gt;      &lt;span class="pl-c1"&gt;:white&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;bigdecimal:&lt;/span&gt; &lt;span class="pl-c1"&gt;:blue&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;class:&lt;/span&gt;      &lt;span class="pl-c1"&gt;:yellow&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;date:&lt;/span&gt;       &lt;span class="pl-c1"&gt;:greenish&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;falseclass:&lt;/span&gt; &lt;span class="pl-c1"&gt;:red&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;integer:&lt;/span&gt;    &lt;span class="pl-c1"&gt;:blue&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;float:&lt;/span&gt;      &lt;span class="pl-c1"&gt;:blue&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;hash:&lt;/span&gt;       &lt;span class="pl-c1"&gt;:pale&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;keyword:&lt;/span&gt;    &lt;span class="pl-c1"&gt;:cyan&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;method:&lt;/span&gt;     &lt;span class="pl-c1"&gt;:purpleish&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;nilclass:&lt;/span&gt;   &lt;span class="pl-c1"&gt;:red&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;rational:&lt;/span&gt;   &lt;span class="pl-c1"&gt;:blue&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;string:&lt;/span&gt;     &lt;span class="pl-c1"&gt;:yellowish&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;struct:&lt;/span&gt;     &lt;span class="pl-c1"&gt;:pale&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;symbol:&lt;/span&gt;     &lt;span class="pl-c1"&gt;:cyanish&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;time:&lt;/span&gt;       &lt;span class="pl-c1"&gt;:greenish&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;trueclass:&lt;/span&gt;  &lt;span class="pl-c1"&gt;:green&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;variable:&lt;/span&gt;   &lt;span class="pl-c1"&gt;:cyanish&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Supported color names:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;:gray&lt;/span&gt;, &lt;span class="pl-c1"&gt;:red&lt;/span&gt;, &lt;span class="pl-c1"&gt;:green&lt;/span&gt;, &lt;span class="pl-c1"&gt;:yellow&lt;/span&gt;, &lt;span class="pl-c1"&gt;:blue&lt;/span&gt;, &lt;span class="pl-c1"&gt;:purple&lt;/span&gt;, &lt;span class="pl-c1"&gt;:cyan&lt;/span&gt;, &lt;span class="pl-c1"&gt;:white&lt;/span&gt;
&lt;span class="pl-c1"&gt;:black&lt;/span&gt;, &lt;span class="pl-c1"&gt;:redish&lt;/span&gt;, &lt;span class="pl-c1"&gt;:greenish&lt;/span&gt;, &lt;span class="pl-c1"&gt;:yellowish&lt;/span&gt;, &lt;span class="pl-c1"&gt;:blueish&lt;/span&gt;, &lt;span class="pl-c1"&gt;:purpleish&lt;/span&gt;, &lt;span class="pl-c1"&gt;:cyanish&lt;/span&gt;, &lt;span class="pl-c1"&gt;:pale&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Use &lt;code&gt;Object#ai&lt;/code&gt; to return an ASCII encoded string:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;irb&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;awesome print&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;.ai
=&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\e&lt;/span&gt;[0;33m&lt;span class="pl-cce"&gt;\"&lt;/span&gt;awesome print&lt;span class="pl-cce"&gt;\"\e&lt;/span&gt;[0m&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-examples" class="anchor" aria-hidden="true" href="#examples"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Examples&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;$ cat &lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;.rb
&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;awesome_print&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
data &lt;span class="pl-k"&gt;=&lt;/span&gt; [ &lt;span class="pl-c1"&gt;false&lt;/span&gt;, &lt;span class="pl-c1"&gt;42&lt;/span&gt;, &lt;span class="pl-s"&gt;%w(forty two)&lt;/span&gt;, { &lt;span class="pl-c1"&gt;:now&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;Time&lt;/span&gt;.now, &lt;span class="pl-c1"&gt;:class&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;Time&lt;/span&gt;.now.class, &lt;span class="pl-c1"&gt;:distance&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;42e42&lt;/span&gt; } ]
ap data
&lt;span class="pl-k"&gt;^&lt;/span&gt;&lt;span class="pl-c1"&gt;D&lt;/span&gt;
$ ruby &lt;span class="pl-c1"&gt;1&lt;/span&gt;.rb
[
    [&lt;span class="pl-c1"&gt;0&lt;/span&gt;] &lt;span class="pl-c1"&gt;false&lt;/span&gt;,
    [&lt;span class="pl-c1"&gt;1&lt;/span&gt;] &lt;span class="pl-c1"&gt;42&lt;/span&gt;,
    [&lt;span class="pl-c1"&gt;2&lt;/span&gt;] [
        [&lt;span class="pl-c1"&gt;0&lt;/span&gt;] &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;forty&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
        [&lt;span class="pl-c1"&gt;1&lt;/span&gt;] &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;two&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
    ],
    [&lt;span class="pl-c1"&gt;3&lt;/span&gt;] {
           &lt;span class="pl-c1"&gt;:class&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;Time&lt;/span&gt; &lt;span class="pl-k"&gt;&amp;lt;&lt;/span&gt; &lt;span class="pl-c1"&gt;Object&lt;/span&gt;,
             &lt;span class="pl-c1"&gt;:now&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;Fri&lt;/span&gt; &lt;span class="pl-c1"&gt;Apr&lt;/span&gt; &lt;span class="pl-c1"&gt;02&lt;/span&gt; &lt;span class="pl-c1"&gt;19&lt;/span&gt;:&lt;span class="pl-c1"&gt;55&lt;/span&gt;:&lt;span class="pl-c1"&gt;53&lt;/span&gt; &lt;span class="pl-k"&gt;-&lt;/span&gt;&lt;span class="pl-c1"&gt;0700&lt;/span&gt; &lt;span class="pl-c1"&gt;2010&lt;/span&gt;,
        &lt;span class="pl-c1"&gt;:distance&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;4.2e+43&lt;/span&gt;
    }
]

$ cat &lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt;.rb
&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;awesome_print&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
data &lt;span class="pl-k"&gt;=&lt;/span&gt; { &lt;span class="pl-c1"&gt;:now&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;Time&lt;/span&gt;.now, &lt;span class="pl-c1"&gt;:class&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;Time&lt;/span&gt;.now.class, &lt;span class="pl-c1"&gt;:distance&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;42e42&lt;/span&gt; }
ap data, &lt;span class="pl-c1"&gt;:indent&lt;/span&gt; =&amp;gt; &lt;span class="pl-k"&gt;-&lt;/span&gt;&lt;span class="pl-c1"&gt;2&lt;/span&gt;  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; &amp;lt;-- Left align hash keys.&lt;/span&gt;
&lt;span class="pl-k"&gt;^&lt;/span&gt;&lt;span class="pl-c1"&gt;D&lt;/span&gt;
$ ruby &lt;span class="pl-c1"&gt;2&lt;/span&gt;.rb
{
  &lt;span class="pl-c1"&gt;:class&lt;/span&gt;    =&amp;gt; &lt;span class="pl-c1"&gt;Time&lt;/span&gt; &lt;span class="pl-k"&gt;&amp;lt;&lt;/span&gt; &lt;span class="pl-c1"&gt;Object&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;:now&lt;/span&gt;      =&amp;gt; &lt;span class="pl-c1"&gt;Fri&lt;/span&gt; &lt;span class="pl-c1"&gt;Apr&lt;/span&gt; &lt;span class="pl-c1"&gt;02&lt;/span&gt; &lt;span class="pl-c1"&gt;19&lt;/span&gt;:&lt;span class="pl-c1"&gt;55&lt;/span&gt;:&lt;span class="pl-c1"&gt;53&lt;/span&gt; &lt;span class="pl-k"&gt;-&lt;/span&gt;&lt;span class="pl-c1"&gt;0700&lt;/span&gt; &lt;span class="pl-c1"&gt;2010&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;:distance&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;4.2e+43&lt;/span&gt;
}

$ cat &lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; &lt;span class="pl-c1"&gt;3&lt;/span&gt;.rb
&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;awesome_print&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
data &lt;span class="pl-k"&gt;=&lt;/span&gt; [ &lt;span class="pl-c1"&gt;false&lt;/span&gt;, &lt;span class="pl-c1"&gt;42&lt;/span&gt;, &lt;span class="pl-s"&gt;%w(forty two)&lt;/span&gt; ]
data &lt;span class="pl-k"&gt;&amp;lt;&amp;lt;&lt;/span&gt; data  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; &amp;lt;-- Nested array.&lt;/span&gt;
ap data, &lt;span class="pl-c1"&gt;:multiline&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;
&lt;span class="pl-k"&gt;^&lt;/span&gt;&lt;span class="pl-c1"&gt;D&lt;/span&gt;
$ ruby &lt;span class="pl-c1"&gt;3&lt;/span&gt;.rb
[ &lt;span class="pl-c1"&gt;false&lt;/span&gt;, &lt;span class="pl-c1"&gt;42&lt;/span&gt;, [ &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;forty&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;two&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; ], [...] ]

$ cat &lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; &lt;span class="pl-c1"&gt;4&lt;/span&gt;.rb
&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;awesome_print&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Hello&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;self.world&lt;/span&gt;(&lt;span class="pl-smi"&gt;x&lt;/span&gt;, &lt;span class="pl-smi"&gt;y&lt;/span&gt;, &lt;span class="pl-smi"&gt;z&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;nil&lt;/span&gt;, &lt;span class="pl-k"&gt;&amp;amp;&lt;/span&gt;&lt;span class="pl-smi"&gt;blk&lt;/span&gt;)
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;
ap &lt;span class="pl-c1"&gt;Hello&lt;/span&gt;.methods &lt;span class="pl-k"&gt;-&lt;/span&gt; &lt;span class="pl-c1"&gt;Class&lt;/span&gt;.methods
&lt;span class="pl-k"&gt;^&lt;/span&gt;&lt;span class="pl-c1"&gt;D&lt;/span&gt;
$ ruby &lt;span class="pl-c1"&gt;4&lt;/span&gt;.rb
[
    [&lt;span class="pl-c1"&gt;0&lt;/span&gt;] world(x, y, &lt;span class="pl-k"&gt;*&lt;/span&gt;z, &lt;span class="pl-k"&gt;&amp;amp;&lt;/span&gt;blk) &lt;span class="pl-c1"&gt;Hello&lt;/span&gt;
]

$ cat &lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; &lt;span class="pl-c1"&gt;5&lt;/span&gt;.rb
&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;awesome_print&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
ap (&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;.methods &lt;span class="pl-k"&gt;-&lt;/span&gt; &lt;span class="pl-c1"&gt;Object&lt;/span&gt;.methods).grep(&lt;span class="pl-sr"&gt;/!/&lt;/span&gt;)
&lt;span class="pl-k"&gt;^&lt;/span&gt;&lt;span class="pl-c1"&gt;D&lt;/span&gt;
$ ruby &lt;span class="pl-c1"&gt;5&lt;/span&gt;.rb
[
    [ &lt;span class="pl-c1"&gt;0&lt;/span&gt;] capitalize!()           &lt;span class="pl-c1"&gt;String&lt;/span&gt;
    [ &lt;span class="pl-c1"&gt;1&lt;/span&gt;]      chomp!(&lt;span class="pl-k"&gt;*&lt;/span&gt;arg1)      &lt;span class="pl-c1"&gt;String&lt;/span&gt;
    [ &lt;span class="pl-c1"&gt;2&lt;/span&gt;]       chop!()           &lt;span class="pl-c1"&gt;String&lt;/span&gt;
    [ &lt;span class="pl-c1"&gt;3&lt;/span&gt;]     delete!(&lt;span class="pl-k"&gt;*&lt;/span&gt;arg1)      &lt;span class="pl-c1"&gt;String&lt;/span&gt;
    [ &lt;span class="pl-c1"&gt;4&lt;/span&gt;]   downcase!()           &lt;span class="pl-c1"&gt;String&lt;/span&gt;
    [ &lt;span class="pl-c1"&gt;5&lt;/span&gt;]     encode!(&lt;span class="pl-k"&gt;*&lt;/span&gt;arg1)      &lt;span class="pl-c1"&gt;String&lt;/span&gt;
    [ &lt;span class="pl-c1"&gt;6&lt;/span&gt;]       gsub!(&lt;span class="pl-k"&gt;*&lt;/span&gt;arg1)      &lt;span class="pl-c1"&gt;String&lt;/span&gt;
    [ &lt;span class="pl-c1"&gt;7&lt;/span&gt;]     lstrip!()           &lt;span class="pl-c1"&gt;String&lt;/span&gt;
    [ &lt;span class="pl-c1"&gt;8&lt;/span&gt;]       next!()           &lt;span class="pl-c1"&gt;String&lt;/span&gt;
    [ &lt;span class="pl-c1"&gt;9&lt;/span&gt;]    reverse!()           &lt;span class="pl-c1"&gt;String&lt;/span&gt;
    [&lt;span class="pl-c1"&gt;10&lt;/span&gt;]     rstrip!()           &lt;span class="pl-c1"&gt;String&lt;/span&gt;
    [&lt;span class="pl-c1"&gt;11&lt;/span&gt;]      slice!(&lt;span class="pl-k"&gt;*&lt;/span&gt;arg1)      &lt;span class="pl-c1"&gt;String&lt;/span&gt;
    [&lt;span class="pl-c1"&gt;12&lt;/span&gt;]    squeeze!(&lt;span class="pl-k"&gt;*&lt;/span&gt;arg1)      &lt;span class="pl-c1"&gt;String&lt;/span&gt;
    [&lt;span class="pl-c1"&gt;13&lt;/span&gt;]      strip!()           &lt;span class="pl-c1"&gt;String&lt;/span&gt;
    [&lt;span class="pl-c1"&gt;14&lt;/span&gt;]        sub!(&lt;span class="pl-k"&gt;*&lt;/span&gt;arg1)      &lt;span class="pl-c1"&gt;String&lt;/span&gt;
    [&lt;span class="pl-c1"&gt;15&lt;/span&gt;]       succ!()           &lt;span class="pl-c1"&gt;String&lt;/span&gt;
    [&lt;span class="pl-c1"&gt;16&lt;/span&gt;]   swapcase!()           &lt;span class="pl-c1"&gt;String&lt;/span&gt;
    [&lt;span class="pl-c1"&gt;17&lt;/span&gt;]         tr!(arg1, arg2) &lt;span class="pl-c1"&gt;String&lt;/span&gt;
    [&lt;span class="pl-c1"&gt;18&lt;/span&gt;]       tr_s!(arg1, arg2) &lt;span class="pl-c1"&gt;String&lt;/span&gt;
    [&lt;span class="pl-c1"&gt;19&lt;/span&gt;]     upcase!()           &lt;span class="pl-c1"&gt;String&lt;/span&gt;
]

$ cat &lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; &lt;span class="pl-c1"&gt;6&lt;/span&gt;.rb
&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;awesome_print&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
ap &lt;span class="pl-c1"&gt;42&lt;/span&gt; &lt;span class="pl-k"&gt;==&lt;/span&gt; ap(&lt;span class="pl-c1"&gt;42&lt;/span&gt;)
&lt;span class="pl-k"&gt;^&lt;/span&gt;&lt;span class="pl-c1"&gt;D&lt;/span&gt;
$ ruby &lt;span class="pl-c1"&gt;6&lt;/span&gt;.rb
&lt;span class="pl-c1"&gt;42&lt;/span&gt;
&lt;span class="pl-c1"&gt;true&lt;/span&gt;
$ cat &lt;span class="pl-c1"&gt;7&lt;/span&gt;.rb
&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;awesome_print&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
some_array &lt;span class="pl-k"&gt;=&lt;/span&gt; (&lt;span class="pl-c1"&gt;1&lt;/span&gt;..&lt;span class="pl-c1"&gt;1000&lt;/span&gt;).to_a
ap some_array, &lt;span class="pl-c1"&gt;:limit&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
&lt;span class="pl-k"&gt;^&lt;/span&gt;&lt;span class="pl-c1"&gt;D&lt;/span&gt;
$ ruby &lt;span class="pl-c1"&gt;7&lt;/span&gt;.rb
[
    [  &lt;span class="pl-c1"&gt;0&lt;/span&gt;] &lt;span class="pl-c1"&gt;1&lt;/span&gt;,
    [  &lt;span class="pl-c1"&gt;1&lt;/span&gt;] &lt;span class="pl-c1"&gt;2&lt;/span&gt;,
    [  &lt;span class="pl-c1"&gt;2&lt;/span&gt;] &lt;span class="pl-c1"&gt;3&lt;/span&gt;,
    [  &lt;span class="pl-c1"&gt;3&lt;/span&gt;] .. [&lt;span class="pl-c1"&gt;996&lt;/span&gt;],
    [&lt;span class="pl-c1"&gt;997&lt;/span&gt;] &lt;span class="pl-c1"&gt;998&lt;/span&gt;,
    [&lt;span class="pl-c1"&gt;998&lt;/span&gt;] &lt;span class="pl-c1"&gt;999&lt;/span&gt;,
    [&lt;span class="pl-c1"&gt;999&lt;/span&gt;] &lt;span class="pl-c1"&gt;1000&lt;/span&gt;
]

$ cat &lt;span class="pl-c1"&gt;8&lt;/span&gt;.rb
&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;awesome_print&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
some_array &lt;span class="pl-k"&gt;=&lt;/span&gt; (&lt;span class="pl-c1"&gt;1&lt;/span&gt;..&lt;span class="pl-c1"&gt;1000&lt;/span&gt;).to_a
ap some_array, &lt;span class="pl-c1"&gt;:limit&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;5&lt;/span&gt;
&lt;span class="pl-k"&gt;^&lt;/span&gt;&lt;span class="pl-c1"&gt;D&lt;/span&gt;
$ ruby &lt;span class="pl-c1"&gt;8&lt;/span&gt;.rb
[
    [  &lt;span class="pl-c1"&gt;0&lt;/span&gt;] &lt;span class="pl-c1"&gt;1&lt;/span&gt;,
    [  &lt;span class="pl-c1"&gt;1&lt;/span&gt;] &lt;span class="pl-c1"&gt;2&lt;/span&gt;,
    [  &lt;span class="pl-c1"&gt;2&lt;/span&gt;] .. [&lt;span class="pl-c1"&gt;997&lt;/span&gt;],
    [&lt;span class="pl-c1"&gt;998&lt;/span&gt;] &lt;span class="pl-c1"&gt;999&lt;/span&gt;,
    [&lt;span class="pl-c1"&gt;999&lt;/span&gt;] &lt;span class="pl-c1"&gt;1000&lt;/span&gt;
]&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-example-rails-console" class="anchor" aria-hidden="true" href="#example-rails-console"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example (Rails console)&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;$ rails console
rails&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; &lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;awesome_print&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
rails&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; ap &lt;span class="pl-c1"&gt;Account&lt;/span&gt;.limit(&lt;span class="pl-c1"&gt;2&lt;/span&gt;).all
[
    [&lt;span class="pl-c1"&gt;0&lt;/span&gt;] &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;&amp;lt;Account:0x1033220b8&amp;gt; {&lt;/span&gt;
                     &lt;span class="pl-c1"&gt;:id&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;,
                &lt;span class="pl-c1"&gt;:user_id&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;5&lt;/span&gt;,
            &lt;span class="pl-c1"&gt;:assigned_to&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;7&lt;/span&gt;,
                   &lt;span class="pl-c1"&gt;:name&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Hayes-DuBuque&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
                 &lt;span class="pl-c1"&gt;:access&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Public&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
                &lt;span class="pl-c1"&gt;:website&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://www.hayesdubuque.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
        &lt;span class="pl-c1"&gt;:toll_free_phone&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;1-800-932-6571&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
                  &lt;span class="pl-c1"&gt;:phone&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;(111)549-5002&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
                    &lt;span class="pl-c1"&gt;:fax&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;(349)415-2266&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
             &lt;span class="pl-c1"&gt;:deleted_at&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;nil&lt;/span&gt;,
             &lt;span class="pl-c1"&gt;:created_at&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;Sat&lt;/span&gt;, &lt;span class="pl-c1"&gt;06&lt;/span&gt; &lt;span class="pl-c1"&gt;Mar&lt;/span&gt; &lt;span class="pl-c1"&gt;2010&lt;/span&gt; &lt;span class="pl-c1"&gt;09&lt;/span&gt;:&lt;span class="pl-c1"&gt;46&lt;/span&gt;:&lt;span class="pl-c1"&gt;10&lt;/span&gt; &lt;span class="pl-c1"&gt;UTC&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt;&lt;span class="pl-c1"&gt;00&lt;/span&gt;:&lt;span class="pl-c1"&gt;00&lt;/span&gt;,
             &lt;span class="pl-c1"&gt;:updated_at&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;Sat&lt;/span&gt;, &lt;span class="pl-c1"&gt;06&lt;/span&gt; &lt;span class="pl-c1"&gt;Mar&lt;/span&gt; &lt;span class="pl-c1"&gt;2010&lt;/span&gt; &lt;span class="pl-c1"&gt;16&lt;/span&gt;:&lt;span class="pl-c1"&gt;33&lt;/span&gt;:&lt;span class="pl-c1"&gt;10&lt;/span&gt; &lt;span class="pl-c1"&gt;UTC&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt;&lt;span class="pl-c1"&gt;00&lt;/span&gt;:&lt;span class="pl-c1"&gt;00&lt;/span&gt;,
                  &lt;span class="pl-c1"&gt;:email&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;info@hayesdubuque.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
        &lt;span class="pl-c1"&gt;:background_info&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;nil&lt;/span&gt;
    },
    [&lt;span class="pl-c1"&gt;1&lt;/span&gt;] &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;&amp;lt;Account:0x103321ff0&amp;gt; {&lt;/span&gt;
                     &lt;span class="pl-c1"&gt;:id&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt;,
                &lt;span class="pl-c1"&gt;:user_id&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;4&lt;/span&gt;,
            &lt;span class="pl-c1"&gt;:assigned_to&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;4&lt;/span&gt;,
                   &lt;span class="pl-c1"&gt;:name&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Ziemann-Streich&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
                 &lt;span class="pl-c1"&gt;:access&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Public&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
                &lt;span class="pl-c1"&gt;:website&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://www.ziemannstreich.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
        &lt;span class="pl-c1"&gt;:toll_free_phone&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;1-800-871-0619&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
                  &lt;span class="pl-c1"&gt;:phone&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;(042)056-1534&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
                    &lt;span class="pl-c1"&gt;:fax&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;(106)017-8792&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
             &lt;span class="pl-c1"&gt;:deleted_at&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;nil&lt;/span&gt;,
             &lt;span class="pl-c1"&gt;:created_at&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;Tue&lt;/span&gt;, &lt;span class="pl-c1"&gt;09&lt;/span&gt; &lt;span class="pl-c1"&gt;Feb&lt;/span&gt; &lt;span class="pl-c1"&gt;2010&lt;/span&gt; &lt;span class="pl-c1"&gt;13&lt;/span&gt;:&lt;span class="pl-c1"&gt;32&lt;/span&gt;:&lt;span class="pl-c1"&gt;10&lt;/span&gt; &lt;span class="pl-c1"&gt;UTC&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt;&lt;span class="pl-c1"&gt;00&lt;/span&gt;:&lt;span class="pl-c1"&gt;00&lt;/span&gt;,
             &lt;span class="pl-c1"&gt;:updated_at&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;Tue&lt;/span&gt;, &lt;span class="pl-c1"&gt;09&lt;/span&gt; &lt;span class="pl-c1"&gt;Feb&lt;/span&gt; &lt;span class="pl-c1"&gt;2010&lt;/span&gt; &lt;span class="pl-c1"&gt;20&lt;/span&gt;:&lt;span class="pl-c1"&gt;05&lt;/span&gt;:&lt;span class="pl-c1"&gt;01&lt;/span&gt; &lt;span class="pl-c1"&gt;UTC&lt;/span&gt; &lt;span class="pl-k"&gt;+&lt;/span&gt;&lt;span class="pl-c1"&gt;00&lt;/span&gt;:&lt;span class="pl-c1"&gt;00&lt;/span&gt;,
                  &lt;span class="pl-c1"&gt;:email&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;info@ziemannstreich.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
        &lt;span class="pl-c1"&gt;:background_info&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;nil&lt;/span&gt;
    }
]
rails&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; ap &lt;span class="pl-c1"&gt;Account&lt;/span&gt;
&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Account&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Base&lt;/span&gt;&lt;/span&gt; {
                 &lt;span class="pl-c1"&gt;:id&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;:integer&lt;/span&gt;,
            &lt;span class="pl-c1"&gt;:user_id&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;:integer&lt;/span&gt;,
        &lt;span class="pl-c1"&gt;:assigned_to&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;:integer&lt;/span&gt;,
               &lt;span class="pl-c1"&gt;:name&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;:string&lt;/span&gt;,
             &lt;span class="pl-c1"&gt;:access&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;:string&lt;/span&gt;,
            &lt;span class="pl-c1"&gt;:website&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;:string&lt;/span&gt;,
    &lt;span class="pl-c1"&gt;:toll_free_phone&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;:string&lt;/span&gt;,
              &lt;span class="pl-c1"&gt;:phone&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;:string&lt;/span&gt;,
                &lt;span class="pl-c1"&gt;:fax&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;:string&lt;/span&gt;,
         &lt;span class="pl-c1"&gt;:deleted_at&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;:datetime&lt;/span&gt;,
         &lt;span class="pl-c1"&gt;:created_at&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;:datetime&lt;/span&gt;,
         &lt;span class="pl-c1"&gt;:updated_at&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;:datetime&lt;/span&gt;,
              &lt;span class="pl-c1"&gt;:email&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;:string&lt;/span&gt;,
    &lt;span class="pl-c1"&gt;:background_info&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;:string&lt;/span&gt;
}
rails&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-irb-integration" class="anchor" aria-hidden="true" href="#irb-integration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;IRB integration&lt;/h3&gt;
&lt;p&gt;To use awesome_print as default formatter in irb and Rails console add the following
code to your ~/.irbrc file:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;awesome_print&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;AwesomePrint&lt;/span&gt;.irb!&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-pry-integration" class="anchor" aria-hidden="true" href="#pry-integration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;PRY integration&lt;/h3&gt;
&lt;p&gt;If you miss awesome_print's way of formatting output, here's how you can use it in place
of the formatting which comes with pry. Add the following code to your ~/.pryrc:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;awesome_print&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;AwesomePrint&lt;/span&gt;.pry!&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-logger-convenience-method" class="anchor" aria-hidden="true" href="#logger-convenience-method"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Logger Convenience Method&lt;/h3&gt;
&lt;p&gt;awesome_print adds the 'ap' method to the Logger and ActiveSupport::BufferedLogger classes
letting you call:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;logger.ap object
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;By default, this logs at the :debug level. You can override that globally with:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;:log_level =&amp;gt; :info
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in the custom defaults (see below). You can also override on a per call basis with:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;logger.ap object, :warn
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-actionview-convenience-method" class="anchor" aria-hidden="true" href="#actionview-convenience-method"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ActionView Convenience Method&lt;/h3&gt;
&lt;p&gt;awesome_print adds the 'ap' method to the ActionView::Base class making it available
within Rails templates. For example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;%= ap @accounts.first %&amp;gt;   # ERB
!= ap @accounts.first       # HAML
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;With other web frameworks (ex: in Sinatra templates) you can explicitly request HTML
formatting:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;%= ap @accounts.first, :html =&amp;gt; true %&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-string-convenience-methods" class="anchor" aria-hidden="true" href="#string-convenience-methods"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;String Convenience Methods&lt;/h3&gt;
&lt;p&gt;Use methods such as &lt;code&gt;.red&lt;/code&gt; to set string color:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;irb&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; &lt;span class="pl-c1"&gt;puts&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;red text&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;.red
red text &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; (it's red)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-setting-custom-defaults" class="anchor" aria-hidden="true" href="#setting-custom-defaults"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setting Custom Defaults&lt;/h3&gt;
&lt;p&gt;You can set your own default options by creating &lt;code&gt;.aprc&lt;/code&gt; file in your home
directory. Within that file assign your  defaults to &lt;code&gt;AwesomePrint.defaults&lt;/code&gt;.
For example:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ~/.aprc file.&lt;/span&gt;
&lt;span class="pl-c1"&gt;AwesomePrint&lt;/span&gt;.defaults &lt;span class="pl-k"&gt;=&lt;/span&gt; {
  &lt;span class="pl-c1"&gt;:indent&lt;/span&gt; =&amp;gt; &lt;span class="pl-k"&gt;-&lt;/span&gt;&lt;span class="pl-c1"&gt;2&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;:color&lt;/span&gt; =&amp;gt; {
    &lt;span class="pl-c1"&gt;:hash&lt;/span&gt;  =&amp;gt; &lt;span class="pl-c1"&gt;:pale&lt;/span&gt;,
    &lt;span class="pl-c1"&gt;:class&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;:white&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-versioning" class="anchor" aria-hidden="true" href="#versioning"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Versioning&lt;/h2&gt;
&lt;p&gt;AwesomePrint follows the &lt;a href="http://semver.org/" rel="nofollow"&gt;Semantic Versioning&lt;/a&gt; standard.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing&lt;/h3&gt;
&lt;p&gt;See &lt;a href="CONTRIBUTING.md"&gt;CONTRIBUTING.md&lt;/a&gt; for information.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h3&gt;
&lt;p&gt;Copyright (c) 2010-2016 Michael Dvorkin and contributors&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.dvorkin.net" rel="nofollow"&gt;http://www.dvorkin.net&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;%w(mike dvorkin.net) * "@" || "twitter.com/mid"&lt;/p&gt;
&lt;p&gt;Released under the MIT license. See LICENSE file for details.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>awesome-print</author><guid isPermaLink="false">https://github.com/awesome-print/awesome_print</guid><pubDate>Mon, 10 Feb 2020 00:16:00 GMT</pubDate></item><item><title>samaaron/sonic-pi #17 in Ruby, This week</title><link>https://github.com/samaaron/sonic-pi</link><description>&lt;p&gt;&lt;i&gt;The Live Coding Music Synth for Everyone&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;pre&gt;&lt;code&gt;                                       
                                       
                                        
                                      
                              
                                   
                                    
                                   
                                 
                                 
                                      
                                      

             _____             __        ____  __
            / ___/____  ____  /_/____   / __ \/_/
            \__ \/ __ \/ __ \/ / ___/  / /_/ / /
           ___/ / /_/ / / / / / /__   / ____/ /
          /____/\____/_/ /_/_/\___/  /_/   /_/
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-the-live-coding-music-synth-for-everyone" class="anchor" aria-hidden="true" href="#the-live-coding-music-synth-for-everyone"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The Live Coding Music Synth for Everyone.&lt;/h2&gt;
&lt;p&gt;Sonic Pi is a &lt;em&gt;new kind of musical instrument&lt;/em&gt;. Instead of strumming
strings or whacking things with sticks - you write code - &lt;strong&gt;live&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Sonic Pi has been designed with the aim to find a harmonious balance
between three core principles:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Simple&lt;/strong&gt; enough for the 10 year old within you&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Joyful&lt;/strong&gt; enough for you to lose yourself through play&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Powerful&lt;/strong&gt; enough for your own expressions&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Sonic Pi is a complete open source programming environment originally
designed to explore and &lt;em&gt;teach programming concepts&lt;/em&gt; within schools through
the process of creating &lt;em&gt;new sounds&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;In addition to being an engaging education resource it has evolved into
an &lt;em&gt;extremely powerful&lt;/em&gt; and performance-ready &lt;em&gt;live coding instrument&lt;/em&gt; suitable
for professional artists and DJs.&lt;/p&gt;
&lt;p&gt;Whilst Education is a core focus it now sits at the intersection
between three core domains:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Art&lt;/strong&gt; - providing the means to express yourself and ask new questions of music and notation&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Technology&lt;/strong&gt; - exploring questions related to liveness, time and concurrency in programming languages&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Education&lt;/strong&gt;  - demonstrating that open play rather than rigid structures increases motivation and engagement in the classroom&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Again, finding a balance working to the best benefits of all these
domains is the objective.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Info &amp;amp; Latest Releases: &lt;a href="https://sonic-pi.net" rel="nofollow"&gt;https://sonic-pi.net&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Source: &lt;a href="https://github.com/samaaron/sonic-pi"&gt;https://github.com/samaaron/sonic-pi&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Computing Education Resources for Schools: &lt;a href="https://www.raspberrypi.org/learning/sonic-pi-lessons/" rel="nofollow"&gt;https://www.raspberrypi.org/learning/sonic-pi-lessons/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Music Education Toolkit for Schools: &lt;a href="https://sonic-pi.mehackit.org" rel="nofollow"&gt;https://sonic-pi.mehackit.org&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-contributors" class="anchor" aria-hidden="true" href="#contributors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributors&lt;/h2&gt;
&lt;p&gt;Sonic Pi has been developed with support from many individuals and organisations. Please see the &lt;a href="https://github.com/samaaron/sonic-pi/blob/master/CONTRIBUTORS.md"&gt;CONTRIBUTORS.md&lt;/a&gt; file for a more complete list.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-translations" class="anchor" aria-hidden="true" href="#translations"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Translations&lt;/h2&gt;
&lt;p&gt;Sonic Pi's application and built in tutorial have been translated into several languages thanks to the awesome work of several &lt;a href="CONTRIBUTORS.md#translation"&gt;volunteer translators&lt;/a&gt;:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="right"&gt;Status&lt;/th&gt;
&lt;th align="left"&gt;Language&lt;/th&gt;
&lt;th align="center"&gt;Application&lt;/th&gt;
&lt;th align="center"&gt;Tutorial&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="right"&gt;&lt;a href="https://hosted.weblate.org/engage/sonic-pi/" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/7eaa7bcfffb51b7b4d63a0438cba48d27ccf3958/68747470733a2f2f686f737465642e7765626c6174652e6f72672f776964676574732f736f6e69632d70692f64612f7376672d62616467652e737667" alt="Translation Status of Sonic Pi: da" data-canonical-src="https://hosted.weblate.org/widgets/sonic-pi/da/svg-badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td align="left"&gt;Danish&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="red_circle" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f534.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="right"&gt;&lt;a href="https://hosted.weblate.org/engage/sonic-pi/" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/9ac54a1febf3b605062c8236173c8b01e72b8c90/68747470733a2f2f686f737465642e7765626c6174652e6f72672f776964676574732f736f6e69632d70692f6e6c2f7376672d62616467652e737667" alt="Translation Status of Sonic Pi: nl" data-canonical-src="https://hosted.weblate.org/widgets/sonic-pi/nl/svg-badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td align="left"&gt;Dutch&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="right"&gt;&lt;a href="https://hosted.weblate.org/engage/sonic-pi/" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/6ca4eced43bc73f849d437e026cde423a11bcb97/68747470733a2f2f686f737465642e7765626c6174652e6f72672f776964676574732f736f6e69632d70692f66692f7376672d62616467652e737667" alt="Translation Status of Sonic Pi: fi" data-canonical-src="https://hosted.weblate.org/widgets/sonic-pi/fi/svg-badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td align="left"&gt;Finnish&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="red_circle" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f534.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="right"&gt;&lt;a href="https://hosted.weblate.org/engage/sonic-pi/" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/b0a1a0bef0132914208278f97eca8b1596598c8a/68747470733a2f2f686f737465642e7765626c6174652e6f72672f776964676574732f736f6e69632d70692f66722f7376672d62616467652e737667" alt="Translation Status of Sonic Pi: fr" data-canonical-src="https://hosted.weblate.org/widgets/sonic-pi/fr/svg-badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td align="left"&gt;French&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="right"&gt;&lt;a href="https://hosted.weblate.org/engage/sonic-pi/" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/c7be17a362a597e363a297e80390692aaf69d7c5/68747470733a2f2f686f737465642e7765626c6174652e6f72672f776964676574732f736f6e69632d70692f64652f7376672d62616467652e737667" alt="Translation Status of Sonic Pi: de" data-canonical-src="https://hosted.weblate.org/widgets/sonic-pi/de/svg-badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td align="left"&gt;German&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="right"&gt;&lt;a href="https://hosted.weblate.org/engage/sonic-pi/" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/fe5746a40cfef02a956f84ee54093fee9d840908/68747470733a2f2f686f737465642e7765626c6174652e6f72672f776964676574732f736f6e69632d70692f68752f7376672d62616467652e737667" alt="Translation Status of Sonic Pi: hu" data-canonical-src="https://hosted.weblate.org/widgets/sonic-pi/hu/svg-badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td align="left"&gt;Hungarian&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="red_circle" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f534.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="right"&gt;&lt;a href="https://hosted.weblate.org/engage/sonic-pi/" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/ddf7c5589600466f7c25692f8329e645a0beec92/68747470733a2f2f686f737465642e7765626c6174652e6f72672f776964676574732f736f6e69632d70692f69732f7376672d62616467652e737667" alt="Translation Status of Sonic Pi: is" data-canonical-src="https://hosted.weblate.org/widgets/sonic-pi/is/svg-badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td align="left"&gt;Icelandic&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="red_circle" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f534.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="right"&gt;&lt;a href="https://hosted.weblate.org/engage/sonic-pi/" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/8f20f5c560f4504780865056508bc2b3d5c65146/68747470733a2f2f686f737465642e7765626c6174652e6f72672f776964676574732f736f6e69632d70692f69742f7376672d62616467652e737667" alt="Translation Status of Sonic Pi: it" data-canonical-src="https://hosted.weblate.org/widgets/sonic-pi/it/svg-badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td align="left"&gt;Italian&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="right"&gt;&lt;a href="https://hosted.weblate.org/engage/sonic-pi/" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/a27212f98089d78996ab068787daaefeafd66c6e/68747470733a2f2f686f737465642e7765626c6174652e6f72672f776964676574732f736f6e69632d70692f6a612f7376672d62616467652e737667" alt="Translation Status of Sonic Pi: ja" data-canonical-src="https://hosted.weblate.org/widgets/sonic-pi/ja/svg-badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td align="left"&gt;Japanese&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="right"&gt;&lt;a href="https://hosted.weblate.org/engage/sonic-pi/" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/02ec8f1fc57a275422cbccc4f38fb7d4f99e86e2/68747470733a2f2f686f737465642e7765626c6174652e6f72672f776964676574732f736f6e69632d70692f6e622f7376672d62616467652e737667" alt="Translation Status of Sonic Pi: nb" data-canonical-src="https://hosted.weblate.org/widgets/sonic-pi/nb/svg-badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td align="left"&gt;Norwegian Bokml&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="right"&gt;&lt;a href="https://hosted.weblate.org/engage/sonic-pi/" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/bdb9a213e54b93f8400d6be46b4cb8b6800eb8df/68747470733a2f2f686f737465642e7765626c6174652e6f72672f776964676574732f736f6e69632d70692f706c2f7376672d62616467652e737667" alt="Translation Status of Sonic Pi: pl" data-canonical-src="https://hosted.weblate.org/widgets/sonic-pi/pl/svg-badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td align="left"&gt;Polish&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="right"&gt;&lt;a href="https://hosted.weblate.org/engage/sonic-pi/" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/e9e4ad2da0dcc2e2c0b05aa0c2ee0b46e3793394/68747470733a2f2f686f737465642e7765626c6174652e6f72672f776964676574732f736f6e69632d70692f70742f7376672d62616467652e737667" alt="Translation Status of Sonic Pi: pt" data-canonical-src="https://hosted.weblate.org/widgets/sonic-pi/pt/svg-badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td align="left"&gt;Portuguese&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="red_circle" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f534.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="right"&gt;&lt;a href="https://hosted.weblate.org/engage/sonic-pi/" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/4fc621377c3ad74542007a72d31e873d354ded6b/68747470733a2f2f686f737465642e7765626c6174652e6f72672f776964676574732f736f6e69632d70692f726f2f7376672d62616467652e737667" alt="Translation Status of Sonic Pi: ro" data-canonical-src="https://hosted.weblate.org/widgets/sonic-pi/ro/svg-badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td align="left"&gt;Romanian&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="right"&gt;&lt;a href="https://hosted.weblate.org/engage/sonic-pi/" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/fc83d26161911d96135fa4d404f0bcbd82dd0330/68747470733a2f2f686f737465642e7765626c6174652e6f72672f776964676574732f736f6e69632d70692f72752f7376672d62616467652e737667" alt="Translation Status of Sonic Pi: ru" data-canonical-src="https://hosted.weblate.org/widgets/sonic-pi/ru/svg-badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td align="left"&gt;Russian&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="right"&gt;&lt;a href="https://hosted.weblate.org/engage/sonic-pi/" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/99a930330b712af6ec06b721fe27e3b0027e32a6/68747470733a2f2f686f737465642e7765626c6174652e6f72672f776964676574732f736f6e69632d70692f7a685f48616e732f7376672d62616467652e737667" alt="Translation Status of Sonic Pi: zh_Hans" data-canonical-src="https://hosted.weblate.org/widgets/sonic-pi/zh_Hans/svg-badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td align="left"&gt;Simplified Chinese&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="red_circle" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f534.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="right"&gt;&lt;a href="https://hosted.weblate.org/engage/sonic-pi/" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/3d23a1d53dc50b10486a3075d57a3ca4db9f6e7d/68747470733a2f2f686f737465642e7765626c6174652e6f72672f776964676574732f736f6e69632d70692f65732f7376672d62616467652e737667" alt="Translation Status of Sonic Pi: es" data-canonical-src="https://hosted.weblate.org/widgets/sonic-pi/es/svg-badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td align="left"&gt;Spanish&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;g-emoji class="g-emoji" alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png"&gt;&lt;/g-emoji&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Would you like to contribute a translation too? If so, please take a look at our &lt;a href="https://github.com/samaaron/sonic-pi/blob/master/TRANSLATION.md"&gt;translation docs&lt;/a&gt; to get started.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-information-for-developers" class="anchor" aria-hidden="true" href="#information-for-developers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Information for developers&lt;/h2&gt;
&lt;p&gt;Sonic Pi is under active development, and welcomes new contributors:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="HOW-TO-CONTRIBUTE.md"&gt;How to contribute&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="CHANGELOG.md"&gt;Change log&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="COMMUNITY.md"&gt;Community&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="CONTRIBUTORS.md"&gt;Contributors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="INSTALL.md"&gt;Installation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="LICENSE.md"&gt;License&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="TESTING.md"&gt;Testing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="TRANSLATION.md"&gt;Translation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="https://hosted.weblate.org/engage/sonic-pi/" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/3f039f33d12fab0b99c7f9b3fb49fe18b5abef5b/68747470733a2f2f686f737465642e7765626c6174652e6f72672f776964676574732f736f6e69632d70692f2d2f7376672d62616467652e737667" alt="Weblate" data-canonical-src="https://hosted.weblate.org/widgets/sonic-pi/-/svg-badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;br&gt;
&lt;a href="https://travis-ci.org/samaaron/sonic-pi" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/02b638cc4e9fb42b520d84feb63d2a6862e8834e/68747470733a2f2f7472617669732d63692e6f72672f73616d6161726f6e2f736f6e69632d70692e7376673f6272616e63683d6d6173746572" alt="Travis CI" data-canonical-src="https://travis-ci.org/samaaron/sonic-pi.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;br&gt;
&lt;a href="https://gitter.im/samaaron/sonic-pi?utm_source=badge&amp;amp;utm_medium=badge&amp;amp;utm_campaign=pr-badge&amp;amp;utm_content=badge" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667" alt="Gitter" data-canonical-src="https://badges.gitter.im/Join%20Chat.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>samaaron</author><guid isPermaLink="false">https://github.com/samaaron/sonic-pi</guid><pubDate>Mon, 10 Feb 2020 00:17:00 GMT</pubDate></item><item><title>ankane/strong_migrations #18 in Ruby, This week</title><link>https://github.com/ankane/strong_migrations</link><description>&lt;p&gt;&lt;i&gt;Catch unsafe migrations in development&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-strong-migrations" class="anchor" aria-hidden="true" href="#strong-migrations"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Strong Migrations&lt;/h1&gt;
&lt;p&gt;Catch unsafe migrations in development&lt;/p&gt;
&lt;p&gt;Supports for PostgreSQL, MySQL, and MariaDB&lt;/p&gt;
&lt;p&gt;&lt;g-emoji class="g-emoji" alias="tangerine" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f34a.png"&gt;&lt;/g-emoji&gt; Battle-tested at &lt;a href="https://www.instacart.com/opensource" rel="nofollow"&gt;Instacart&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://travis-ci.org/ankane/strong_migrations" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/50b932efe0ecd7bc92e5289f885393b4c9e1ae1b/68747470733a2f2f7472617669732d63692e6f72672f616e6b616e652f7374726f6e675f6d6967726174696f6e732e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/ankane/strong_migrations.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation&lt;/h2&gt;
&lt;p&gt;Add this line to your applications Gemfile:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;gem &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;strong_migrations&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-how-it-works" class="anchor" aria-hidden="true" href="#how-it-works"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How It Works&lt;/h2&gt;
&lt;p&gt;Strong Migrations detects potentially dangerous operations in migrations, prevents them from running by default, and provides instructions on safer ways to do what you want.&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/fca6bf62c62bf157b040d9c4d1ceb89853e5a721/68747470733a2f2f616e6b616e652e6f72672f696d616765732f7374726f6e672d6d6967726174696f6e732e706e67"&gt;&lt;img src="https://camo.githubusercontent.com/fca6bf62c62bf157b040d9c4d1ceb89853e5a721/68747470733a2f2f616e6b616e652e6f72672f696d616765732f7374726f6e672d6d6967726174696f6e732e706e67" alt="Screenshot" data-canonical-src="https://ankane.org/images/strong-migrations.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-dangerous-operations" class="anchor" aria-hidden="true" href="#dangerous-operations"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Dangerous Operations&lt;/h2&gt;
&lt;p&gt;The following operations can cause downtime or errors:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#removing-a-column"&gt;[+]&lt;/a&gt; removing a column&lt;/li&gt;
&lt;li&gt;&lt;a href="#adding-a-column-with-a-default-value"&gt;[+]&lt;/a&gt; adding a column with a default value&lt;/li&gt;
&lt;li&gt;&lt;a href="#backfilling-data"&gt;[+]&lt;/a&gt; backfilling data&lt;/li&gt;
&lt;li&gt;&lt;a href="#adding-an-index"&gt;[+]&lt;/a&gt; adding an index non-concurrently&lt;/li&gt;
&lt;li&gt;&lt;a href="#adding-a-reference"&gt;[+]&lt;/a&gt; adding a reference&lt;/li&gt;
&lt;li&gt;&lt;a href="#adding-a-foreign-key"&gt;[+]&lt;/a&gt; adding a foreign key&lt;/li&gt;
&lt;li&gt;&lt;a href="#renaming-or-changing-the-type-of-a-column"&gt;[+]&lt;/a&gt; changing the type of a column&lt;/li&gt;
&lt;li&gt;&lt;a href="#renaming-or-changing-the-type-of-a-column"&gt;[+]&lt;/a&gt; renaming a column&lt;/li&gt;
&lt;li&gt;&lt;a href="#renaming-a-table"&gt;[+]&lt;/a&gt; renaming a table&lt;/li&gt;
&lt;li&gt;&lt;a href="#creating-a-table-with-the-force-option"&gt;[+]&lt;/a&gt; creating a table with the &lt;code&gt;force&lt;/code&gt; option&lt;/li&gt;
&lt;li&gt;&lt;a href="#setting-not-null-on-an-existing-column"&gt;[+]&lt;/a&gt; setting &lt;code&gt;NOT NULL&lt;/code&gt; on an existing column&lt;/li&gt;
&lt;li&gt;&lt;a href="#adding-a-json-column"&gt;[+]&lt;/a&gt; adding a &lt;code&gt;json&lt;/code&gt; column&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Optional checks:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#removing-an-index"&gt;[+]&lt;/a&gt; removing an index non-concurrently&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Best practices:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#keeping-non-unique-indexes-to-three-columns-or-less"&gt;[+]&lt;/a&gt; keeping non-unique indexes to three columns or less&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-the-zero-downtime-way" class="anchor" aria-hidden="true" href="#the-zero-downtime-way"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The Zero Downtime Way&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-removing-a-column" class="anchor" aria-hidden="true" href="#removing-a-column"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Removing a column&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-bad" class="anchor" aria-hidden="true" href="#bad"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bad&lt;/h4&gt;
&lt;p&gt;ActiveRecord caches database columns at runtime, so if you drop a column, it can cause exceptions until your app reboots.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;RemoveSomeColumnFromUsers&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    remove_column &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:some_column&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-good" class="anchor" aria-hidden="true" href="#good"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Good&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;Tell ActiveRecord to ignore the column from its cache&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;User&lt;span class="pl-e"&gt; &amp;lt; ApplicationRecord&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-c1"&gt;self&lt;/span&gt;.ignored_columns &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;some_column&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;]
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start="2"&gt;
&lt;li&gt;Deploy code&lt;/li&gt;
&lt;li&gt;Write a migration to remove the column (wrap in &lt;code&gt;safety_assured&lt;/code&gt; block)&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;RemoveSomeColumnFromUsers&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    safety_assured { remove_column &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:some_column&lt;/span&gt; }
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start="4"&gt;
&lt;li&gt;Deploy and run migration&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;&lt;a id="user-content-adding-a-column-with-a-default-value" class="anchor" aria-hidden="true" href="#adding-a-column-with-a-default-value"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Adding a column with a default value&lt;/h3&gt;
&lt;p&gt;Note: This operation is safe in Postgres 11+, MySQL 8.0.12+, and MariaDB 10.3.2+&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-bad-1" class="anchor" aria-hidden="true" href="#bad-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bad&lt;/h4&gt;
&lt;p&gt;Adding a column with a default value to an existing table causes the entire table to be rewritten.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;AddSomeColumnToUsers&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    add_column &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:some_column&lt;/span&gt;, &lt;span class="pl-c1"&gt;:text&lt;/span&gt;, &lt;span class="pl-c1"&gt;default:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;default_value&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-good-1" class="anchor" aria-hidden="true" href="#good-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Good&lt;/h4&gt;
&lt;p&gt;Instead, add the column without a default value, then change the default.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;AddSomeColumnToUsers&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;up&lt;/span&gt;
    add_column &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:some_column&lt;/span&gt;, &lt;span class="pl-c1"&gt;:text&lt;/span&gt;
    change_column_default &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:some_column&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;default_value&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;down&lt;/span&gt;
    remove_column &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:some_column&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;See the next section for how to backfill.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-backfilling-data" class="anchor" aria-hidden="true" href="#backfilling-data"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Backfilling data&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-bad-2" class="anchor" aria-hidden="true" href="#bad-2"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bad&lt;/h4&gt;
&lt;p&gt;Backfilling in the same transaction that alters a table locks the table for the &lt;a href="https://wework.github.io/data/2015/11/05/add-columns-with-default-values-to-large-tables-in-rails-postgres/" rel="nofollow"&gt;duration of the backfill&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;AddSomeColumnToUsers&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    add_column &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:some_column&lt;/span&gt;, &lt;span class="pl-c1"&gt;:text&lt;/span&gt;
    &lt;span class="pl-c1"&gt;User&lt;/span&gt;.update_all &lt;span class="pl-c1"&gt;some_column:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;default_value&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Also, running a single query to update data can cause issues for large tables.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-good-2" class="anchor" aria-hidden="true" href="#good-2"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Good&lt;/h4&gt;
&lt;p&gt;There are three keys to backfilling safely: batching, throttling, and running it outside a transaction. Use the Rails console or a separate migration with &lt;code&gt;disable_ddl_transaction!&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;BackfillSomeColumn&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  disable_ddl_transaction!

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;up&lt;/span&gt;
    &lt;span class="pl-c1"&gt;User&lt;/span&gt;.unscoped.in_batches &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;relation&lt;/span&gt;|
      relation.update_all &lt;span class="pl-c1"&gt;some_column:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;default_value&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      &lt;span class="pl-c1"&gt;sleep&lt;/span&gt;(&lt;span class="pl-c1"&gt;0.01&lt;/span&gt;) &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; throttle&lt;/span&gt;
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-adding-an-index" class="anchor" aria-hidden="true" href="#adding-an-index"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Adding an index&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-bad-3" class="anchor" aria-hidden="true" href="#bad-3"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bad&lt;/h4&gt;
&lt;p&gt;In Postgres, adding an index non-concurrently locks the table.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;AddSomeIndexToUsers&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    add_index &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:some_column&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-good-3" class="anchor" aria-hidden="true" href="#good-3"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Good&lt;/h4&gt;
&lt;p&gt;Add indexes concurrently.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;AddSomeIndexToUsers&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  disable_ddl_transaction!

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    add_index &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:some_column&lt;/span&gt;, &lt;span class="pl-c1"&gt;algorithm:&lt;/span&gt; &lt;span class="pl-c1"&gt;:concurrently&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you forget &lt;code&gt;disable_ddl_transaction!&lt;/code&gt;, the migration will fail. Also, note that indexes on new tables (those created in the same migration) dont require this.&lt;/p&gt;
&lt;p&gt;With &lt;a href="https://github.com/ankane/gindex"&gt;gindex&lt;/a&gt;, you can generate an index migration instantly with:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;rails g index table column&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-adding-a-reference" class="anchor" aria-hidden="true" href="#adding-a-reference"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Adding a reference&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-bad-4" class="anchor" aria-hidden="true" href="#bad-4"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bad&lt;/h4&gt;
&lt;p&gt;Rails adds an index non-concurrently to references by default, which is problematic for Postgres.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;AddReferenceToUsers&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    add_reference &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:city&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-good-4" class="anchor" aria-hidden="true" href="#good-4"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Good&lt;/h4&gt;
&lt;p&gt;Make sure the index is added concurrently.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;AddReferenceToUsers&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  disable_ddl_transaction!

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    add_reference &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:city&lt;/span&gt;, &lt;span class="pl-c1"&gt;index:&lt;/span&gt; {&lt;span class="pl-c1"&gt;algorithm:&lt;/span&gt; &lt;span class="pl-c1"&gt;:concurrently&lt;/span&gt;}
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-adding-a-foreign-key" class="anchor" aria-hidden="true" href="#adding-a-foreign-key"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Adding a foreign key&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-bad-5" class="anchor" aria-hidden="true" href="#bad-5"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bad&lt;/h4&gt;
&lt;p&gt;In Postgres, new foreign keys are validated by default, which acquires a &lt;code&gt;ShareRowExclusiveLock&lt;/code&gt; that can be &lt;a href="https://travisofthenorth.com/blog/2017/2/2/postgres-adding-foreign-keys-with-zero-downtime" rel="nofollow"&gt;expensive on large tables&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;AddForeignKeyOnUsers&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    add_foreign_key &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:orders&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-good-5" class="anchor" aria-hidden="true" href="#good-5"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Good&lt;/h4&gt;
&lt;p&gt;Instead, validate it in a separate migration with a more agreeable &lt;code&gt;RowShareLock&lt;/code&gt;. This approach is documented by Postgres to have &lt;a href="https://www.postgresql.org/docs/current/sql-altertable.html" rel="nofollow"&gt;the least impact on other work&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;For Rails 5.2+, use:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;AddForeignKeyOnUsers&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    add_foreign_key &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:orders&lt;/span&gt;, &lt;span class="pl-c1"&gt;validate:&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then validate it in a separate migration.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;ValidateForeignKeyOnUsers&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    validate_foreign_key &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:orders&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For Rails &amp;lt; 5.2, use:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;AddForeignKeyOnUsers&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;5.1&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    safety_assured &lt;span class="pl-k"&gt;do&lt;/span&gt;
      execute &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;ALTER TABLE "users" ADD CONSTRAINT "fk_rails_c1e9b98e31" FOREIGN KEY ("order_id") REFERENCES "orders" ("id") NOT VALID&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then validate it in a separate migration.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;ValidateForeignKeyOnUsers&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;5.1&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    safety_assured &lt;span class="pl-k"&gt;do&lt;/span&gt;
      execute &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;ALTER TABLE "users" VALIDATE CONSTRAINT "fk_rails_c1e9b98e31"&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-renaming-or-changing-the-type-of-a-column" class="anchor" aria-hidden="true" href="#renaming-or-changing-the-type-of-a-column"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Renaming or changing the type of a column&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-bad-6" class="anchor" aria-hidden="true" href="#bad-6"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bad&lt;/h4&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;RenameSomeColumn&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    rename_column &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:some_column&lt;/span&gt;, &lt;span class="pl-c1"&gt;:new_name&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;ChangeSomeColumnType&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    change_column &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:some_column&lt;/span&gt;, &lt;span class="pl-c1"&gt;:new_type&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;One exception is changing a &lt;code&gt;varchar&lt;/code&gt; column to &lt;code&gt;text&lt;/code&gt;, which is safe in Postgres.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-good-6" class="anchor" aria-hidden="true" href="#good-6"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Good&lt;/h4&gt;
&lt;p&gt;A safer approach is to:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Create a new column&lt;/li&gt;
&lt;li&gt;Write to both columns&lt;/li&gt;
&lt;li&gt;Backfill data from the old column to the new column&lt;/li&gt;
&lt;li&gt;Move reads from the old column to the new column&lt;/li&gt;
&lt;li&gt;Stop writing to the old column&lt;/li&gt;
&lt;li&gt;Drop the old column&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;&lt;a id="user-content-renaming-a-table" class="anchor" aria-hidden="true" href="#renaming-a-table"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Renaming a table&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-bad-7" class="anchor" aria-hidden="true" href="#bad-7"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bad&lt;/h4&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;RenameUsersToCustomers&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    rename_table &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:customers&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-good-7" class="anchor" aria-hidden="true" href="#good-7"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Good&lt;/h4&gt;
&lt;p&gt;A safer approach is to:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Create a new table&lt;/li&gt;
&lt;li&gt;Write to both tables&lt;/li&gt;
&lt;li&gt;Backfill data from the old table to new table&lt;/li&gt;
&lt;li&gt;Move reads from the old table to the new table&lt;/li&gt;
&lt;li&gt;Stop writing to the old table&lt;/li&gt;
&lt;li&gt;Drop the old table&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;&lt;a id="user-content-creating-a-table-with-the-force-option" class="anchor" aria-hidden="true" href="#creating-a-table-with-the-force-option"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Creating a table with the force option&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-bad-8" class="anchor" aria-hidden="true" href="#bad-8"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bad&lt;/h4&gt;
&lt;p&gt;The &lt;code&gt;force&lt;/code&gt; option can drop an existing table.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;CreateUsers&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    create_table &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;force:&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;t&lt;/span&gt;|
      &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ...&lt;/span&gt;
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-good-8" class="anchor" aria-hidden="true" href="#good-8"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Good&lt;/h4&gt;
&lt;p&gt;Create tables without the &lt;code&gt;force&lt;/code&gt; option.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;CreateUsers&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    create_table &lt;span class="pl-c1"&gt;:users&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;t&lt;/span&gt;|
      &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ...&lt;/span&gt;
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-setting-not-null-on-an-existing-column" class="anchor" aria-hidden="true" href="#setting-not-null-on-an-existing-column"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setting &lt;code&gt;NOT NULL&lt;/code&gt; on an existing column&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-bad-9" class="anchor" aria-hidden="true" href="#bad-9"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bad&lt;/h4&gt;
&lt;p&gt;In Postgres, setting &lt;code&gt;NOT NULL&lt;/code&gt; on an existing column requires an &lt;code&gt;AccessExclusiveLock&lt;/code&gt;, which is expensive on large tables.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;SetSomeColumnNotNull&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    change_column_null &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:some_column&lt;/span&gt;, &lt;span class="pl-c1"&gt;false&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-good-9" class="anchor" aria-hidden="true" href="#good-9"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Good&lt;/h4&gt;
&lt;p&gt;Instead, add a constraint:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;SetSomeColumnNotNull&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    safety_assured &lt;span class="pl-k"&gt;do&lt;/span&gt;
      execute &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;ALTER TABLE "users" ADD CONSTRAINT "users_some_column_null" CHECK ("some_column" IS NOT NULL) NOT VALID&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then validate it in a separate migration.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;ValidateSomeColumnNotNull&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    safety_assured &lt;span class="pl-k"&gt;do&lt;/span&gt;
      execute &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;ALTER TABLE "users" VALIDATE CONSTRAINT "users_some_column_null"&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note: This is not 100% the same as &lt;code&gt;NOT NULL&lt;/code&gt; column constraint. Heres a &lt;a href="https://medium.com/doctolib/adding-a-not-null-constraint-on-pg-faster-with-minimal-locking-38b2c00c4d1c" rel="nofollow"&gt;good explanation&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-using-change_column_null-with-a-default-value" class="anchor" aria-hidden="true" href="#using-change_column_null-with-a-default-value"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using change_column_null with a default value&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-bad-10" class="anchor" aria-hidden="true" href="#bad-10"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bad&lt;/h4&gt;
&lt;p&gt;This generates a single &lt;code&gt;UPDATE&lt;/code&gt; statement to set the default value.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;ChangeSomeColumnNull&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    change_column_null &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:some_column&lt;/span&gt;, &lt;span class="pl-c1"&gt;false&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;default_value&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-good-10" class="anchor" aria-hidden="true" href="#good-10"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Good&lt;/h4&gt;
&lt;p&gt;Backfill the column &lt;a href="#backfilling-data"&gt;safely&lt;/a&gt;. Then use:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;ChangeSomeColumnNull&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    change_column_null &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:some_column&lt;/span&gt;, &lt;span class="pl-c1"&gt;false&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note: In Postgres, &lt;code&gt;change_column_null&lt;/code&gt; is still &lt;a href="#setting-not-null-on-an-existing-column"&gt;not safe&lt;/a&gt; with this method.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-adding-a-json-column" class="anchor" aria-hidden="true" href="#adding-a-json-column"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Adding a json column&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-bad-11" class="anchor" aria-hidden="true" href="#bad-11"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bad&lt;/h4&gt;
&lt;p&gt;In Postgres, theres no equality operator for the &lt;code&gt;json&lt;/code&gt; column type, which can cause errors for existing &lt;code&gt;SELECT DISTINCT&lt;/code&gt; queries.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;AddPropertiesToUsers&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    add_column &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:properties&lt;/span&gt;, &lt;span class="pl-c1"&gt;:json&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-good-11" class="anchor" aria-hidden="true" href="#good-11"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Good&lt;/h4&gt;
&lt;p&gt;Use &lt;code&gt;jsonb&lt;/code&gt; instead.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;AddPropertiesToUsers&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    add_column &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:properties&lt;/span&gt;, &lt;span class="pl-c1"&gt;:jsonb&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-optional-checks" class="anchor" aria-hidden="true" href="#optional-checks"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Optional Checks&lt;/h2&gt;
&lt;p&gt;Some operations rarely cause issues in practice, but can be checked if desired. Enable checks with:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;StrongMigrations&lt;/span&gt;.enable_check(&lt;span class="pl-c1"&gt;:remove_index&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To start a check only after a specific migration, use:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;StrongMigrations&lt;/span&gt;.enable_check(&lt;span class="pl-c1"&gt;:remove_index&lt;/span&gt;, &lt;span class="pl-c1"&gt;start_after:&lt;/span&gt; &lt;span class="pl-c1"&gt;20170101000000&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-removing-an-index" class="anchor" aria-hidden="true" href="#removing-an-index"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Removing an index&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-bad-12" class="anchor" aria-hidden="true" href="#bad-12"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bad&lt;/h4&gt;
&lt;p&gt;In Postgres, removing an index non-concurrently locks the table for a brief period.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;RemoveSomeIndexFromUsers&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    remove_index &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:some_column&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-good-12" class="anchor" aria-hidden="true" href="#good-12"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Good&lt;/h4&gt;
&lt;p&gt;Remove indexes concurrently.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;RemoveSomeIndexFromUsers&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  disable_ddl_transaction!

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    remove_index &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;column:&lt;/span&gt; &lt;span class="pl-c1"&gt;:some_column&lt;/span&gt;, &lt;span class="pl-c1"&gt;algorithm:&lt;/span&gt; &lt;span class="pl-c1"&gt;:concurrently&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-best-practices" class="anchor" aria-hidden="true" href="#best-practices"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Best Practices&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-keeping-non-unique-indexes-to-three-columns-or-less" class="anchor" aria-hidden="true" href="#keeping-non-unique-indexes-to-three-columns-or-less"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Keeping non-unique indexes to three columns or less&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-bad-13" class="anchor" aria-hidden="true" href="#bad-13"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bad&lt;/h4&gt;
&lt;p&gt;Adding a non-unique index with more than three columns rarely improves performance.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;AddSomeIndexToUsers&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    add_index &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, [&lt;span class="pl-c1"&gt;:a&lt;/span&gt;, &lt;span class="pl-c1"&gt;:b&lt;/span&gt;, &lt;span class="pl-c1"&gt;:c&lt;/span&gt;, &lt;span class="pl-c1"&gt;:d&lt;/span&gt;]
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-good-13" class="anchor" aria-hidden="true" href="#good-13"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Good&lt;/h4&gt;
&lt;p&gt;Instead, start an index with columns that narrow down the results the most.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;AddSomeIndexToUsers&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    add_index &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, [&lt;span class="pl-c1"&gt;:b&lt;/span&gt;, &lt;span class="pl-c1"&gt;:d&lt;/span&gt;]
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For Postgres, be sure to add them concurrently.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-assuring-safety" class="anchor" aria-hidden="true" href="#assuring-safety"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Assuring Safety&lt;/h2&gt;
&lt;p&gt;To mark a step in the migration as safe, despite using a method that might otherwise be dangerous, wrap it in a &lt;code&gt;safety_assured&lt;/code&gt; block.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MySafeMigration&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;[&lt;span class="pl-c1"&gt;6.0&lt;/span&gt;]
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;change&lt;/span&gt;
    safety_assured { remove_column &lt;span class="pl-c1"&gt;:users&lt;/span&gt;, &lt;span class="pl-c1"&gt;:some_column&lt;/span&gt; }
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Certain methods like &lt;code&gt;execute&lt;/code&gt; and &lt;code&gt;change_table&lt;/code&gt; cannot be inspected and are prevented from running by default. Make sure what youre doing is really safe and use this pattern.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-custom-checks" class="anchor" aria-hidden="true" href="#custom-checks"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Custom Checks&lt;/h2&gt;
&lt;p&gt;Add your own custom checks with:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;StrongMigrations&lt;/span&gt;.add_check &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;method&lt;/span&gt;, &lt;span class="pl-smi"&gt;args&lt;/span&gt;|
  &lt;span class="pl-k"&gt;if&lt;/span&gt; method &lt;span class="pl-k"&gt;==&lt;/span&gt; &lt;span class="pl-c1"&gt;:add_index&lt;/span&gt; &lt;span class="pl-k"&gt;&amp;amp;&amp;amp;&lt;/span&gt; args[&lt;span class="pl-c1"&gt;0&lt;/span&gt;].to_s &lt;span class="pl-k"&gt;==&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;users&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
    stop! &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;No more indexes on the users table&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Use the &lt;code&gt;stop!&lt;/code&gt; method to stop migrations.&lt;/p&gt;
&lt;p&gt;Note: Since &lt;code&gt;remove_column&lt;/code&gt; always requires a &lt;code&gt;safety_assured&lt;/code&gt; block, its not possible to add a custom check for &lt;code&gt;remove_column&lt;/code&gt; operations.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-disable-checks" class="anchor" aria-hidden="true" href="#disable-checks"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Disable Checks&lt;/h2&gt;
&lt;p&gt;Disable specific checks with:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;StrongMigrations&lt;/span&gt;.disable_check(&lt;span class="pl-c1"&gt;:add_index&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Check the &lt;a href="https://github.com/ankane/strong_migrations/blob/master/lib/strong_migrations.rb"&gt;source code&lt;/a&gt; for the list of keys.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-existing-migrations" class="anchor" aria-hidden="true" href="#existing-migrations"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Existing Migrations&lt;/h2&gt;
&lt;p&gt;To mark migrations as safe that were created before installing this gem, create an initializer with:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;StrongMigrations&lt;/span&gt;.start_after &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;20170101000000&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Use the version from your latest migration.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-dangerous-tasks" class="anchor" aria-hidden="true" href="#dangerous-tasks"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Dangerous Tasks&lt;/h2&gt;
&lt;p&gt;For safety, dangerous database tasks are disabled in production - &lt;code&gt;db:drop&lt;/code&gt;, &lt;code&gt;db:reset&lt;/code&gt;, &lt;code&gt;db:schema:load&lt;/code&gt;, and &lt;code&gt;db:structure:load&lt;/code&gt;. To get around this, use:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;SAFETY_ASSURED=1 rails db:drop&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-faster-migrations" class="anchor" aria-hidden="true" href="#faster-migrations"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Faster Migrations&lt;/h2&gt;
&lt;p&gt;Only dump the schema when adding a new migration. If you use Git, create an initializer with:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;ActiveRecord&lt;/span&gt;::&lt;span class="pl-c1"&gt;Base&lt;/span&gt;.dump_schema_after_migration &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Rails&lt;/span&gt;.env.development? &lt;span class="pl-k"&gt;&amp;amp;&amp;amp;&lt;/span&gt;
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;git status db/migrate/ --porcelain&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;.present?&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-schema-sanity" class="anchor" aria-hidden="true" href="#schema-sanity"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Schema Sanity&lt;/h2&gt;
&lt;p&gt;Columns can flip order in &lt;code&gt;db/schema.rb&lt;/code&gt; when you have multiple developers. One way to prevent this is to &lt;a href="https://www.pgrs.net/2008/03/12/alphabetize-schema-rb-columns/" rel="nofollow"&gt;alphabetize them&lt;/a&gt;. Add to the end of your &lt;code&gt;Rakefile&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;task &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;db:schema:dump&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;strong_migrations:alphabetize_columns&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-custom-messages" class="anchor" aria-hidden="true" href="#custom-messages"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Custom Messages&lt;/h2&gt;
&lt;p&gt;To customize specific messages, create an initializer with:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;StrongMigrations&lt;/span&gt;.error_messages[&lt;span class="pl-c1"&gt;:add_column_default&lt;/span&gt;] &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Your custom instructions&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Check the &lt;a href="https://github.com/ankane/strong_migrations/blob/master/lib/strong_migrations.rb"&gt;source code&lt;/a&gt; for the list of keys.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-analyze-tables" class="anchor" aria-hidden="true" href="#analyze-tables"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Analyze Tables&lt;/h2&gt;
&lt;p&gt;Analyze tables automatically (to update planner statistics) after an index is added. Create an initializer with:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;StrongMigrations&lt;/span&gt;.auto_analyze &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-target-version" class="anchor" aria-hidden="true" href="#target-version"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Target Version&lt;/h2&gt;
&lt;p&gt;If your development database version is different from production, you can specify the production version so the right checks are run in development.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;StrongMigrations&lt;/span&gt;.target_postgresql_version &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;10&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;StrongMigrations&lt;/span&gt;.target_mysql_version &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;8.0.12&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;StrongMigrations&lt;/span&gt;.target_mariadb_version &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;10.3.2&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For safety, this option only affects development and test environments. In other environments, the actual server version is always used.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-timeouts" class="anchor" aria-hidden="true" href="#timeouts"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Timeouts&lt;/h2&gt;
&lt;p&gt;Its a good idea to set a long statement timeout and a short lock timeout for migrations. This way, migrations can run for a while, and if a migration cant acquire a lock in a timely manner, other statements wont be stuck behind it.&lt;/p&gt;
&lt;p&gt;You can use:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;StrongMigrations&lt;/span&gt;.statement_timeout &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;.hour
&lt;span class="pl-c1"&gt;StrongMigrations&lt;/span&gt;.lock_timeout &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;10&lt;/span&gt;.seconds&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or set the timeouts directly on the database user that runs migrations. For Postgres, use:&lt;/p&gt;
&lt;div class="highlight highlight-source-sql"&gt;&lt;pre&gt;ALTER ROLE myuser &lt;span class="pl-k"&gt;SET&lt;/span&gt; statement_timeout &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;1h&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;;
ALTER ROLE myuser &lt;span class="pl-k"&gt;SET&lt;/span&gt; lock_timeout &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;10s&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note: If you use PgBouncer in transaction mode, you must set timeouts on the database user.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-permissions" class="anchor" aria-hidden="true" href="#permissions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Permissions&lt;/h2&gt;
&lt;p&gt;We recommend using a &lt;a href="https://ankane.org/postgres-users" rel="nofollow"&gt;separate database user&lt;/a&gt; for migrations when possible so you dont need to grant your app user permission to alter tables.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-additional-reading" class="anchor" aria-hidden="true" href="#additional-reading"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Additional Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://pedro.herokuapp.com/past/2011/7/13/rails_migrations_with_no_downtime/" rel="nofollow"&gt;Rails Migrations with No Downtime&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://medium.com/braintree-product-technology/postgresql-at-scale-database-schema-changes-without-downtime-20d3749ed680" rel="nofollow"&gt;PostgreSQL at Scale: Database Schema Changes Without Downtime&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-credits" class="anchor" aria-hidden="true" href="#credits"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Credits&lt;/h2&gt;
&lt;p&gt;Thanks to Bob Remeika and David Waller for the &lt;a href="https://github.com/foobarfighter/safe-migrations"&gt;original code&lt;/a&gt; and &lt;a href="https://github.com/LendingHome/zero_downtime_migrations"&gt;Sean Huber&lt;/a&gt; for the bad/good readme format.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing&lt;/h2&gt;
&lt;p&gt;Everyone is encouraged to help improve this project. Here are a few ways you can help:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/ankane/strong_migrations/issues"&gt;Report bugs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Fix bugs and &lt;a href="https://github.com/ankane/strong_migrations/pulls"&gt;submit pull requests&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Write, clarify, or fix documentation&lt;/li&gt;
&lt;li&gt;Suggest or add new features&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To get started with development:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;git clone https://github.com/ankane/strong_migrations.git
&lt;span class="pl-c1"&gt;cd&lt;/span&gt; strong_migrations
bundle install
bundle &lt;span class="pl-c1"&gt;exec&lt;/span&gt; rake &lt;span class="pl-c1"&gt;test&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>ankane</author><guid isPermaLink="false">https://github.com/ankane/strong_migrations</guid><pubDate>Mon, 10 Feb 2020 00:18:00 GMT</pubDate></item><item><title>paper-trail-gem/paper_trail #19 in Ruby, This week</title><link>https://github.com/paper-trail-gem/paper_trail</link><description>&lt;p&gt;&lt;i&gt;Track changes to your rails models&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-papertrail" class="anchor" aria-hidden="true" href="#papertrail"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;PaperTrail&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://travis-ci.org/paper-trail-gem/paper_trail" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/c92be881922d195ed8672cd0a9b62a6477594081/68747470733a2f2f6170692e7472617669732d63692e6f72672f70617065722d747261696c2d67656d2f70617065725f747261696c2e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://api.travis-ci.org/paper-trail-gem/paper_trail.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://rubygems.org/gems/paper_trail" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/1fe062d8d1ebfc30d29d83969d1b7719de2f2319/68747470733a2f2f62616467652e667572792e696f2f72622f70617065725f747261696c2e737667" alt="Gem Version" data-canonical-src="https://badge.fury.io/rb/paper_trail.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://dependabot.com/compatibility-score.html?dependency-name=paper_trail&amp;amp;package-manager=bundler&amp;amp;version-scheme=semver" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/c30ec1333f5c2df35821d91cb2d075be3a2afb37/68747470733a2f2f6170692e646570656e6461626f742e636f6d2f6261646765732f636f6d7061746962696c6974795f73636f72653f646570656e64656e63792d6e616d653d70617065725f747261696c267061636b6167652d6d616e616765723d62756e646c65722676657273696f6e2d736368656d653d73656d766572" alt="SemVer" data-canonical-src="https://api.dependabot.com/badges/compatibility_score?dependency-name=paper_trail&amp;amp;package-manager=bundler&amp;amp;version-scheme=semver" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Track changes to your models, for auditing or versioning. See how a model looked
at any stage in its lifecycle, revert it to any version, or restore it after it
has been destroyed.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-looking-for-new-maintainers" class="anchor" aria-hidden="true" href="#looking-for-new-maintainers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Looking for new maintainers&lt;/h2&gt;
&lt;p&gt;We're looking to add new maintainers! Please &lt;a href="https://github.com/paper-trail-gem/paper_trail/blob/master/.github/CONTRIBUTING.md"&gt;email us&lt;/a&gt;
if you're interested.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-documentation" class="anchor" aria-hidden="true" href="#documentation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Documentation&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Version&lt;/th&gt;
&lt;th&gt;Documentation&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Unreleased&lt;/td&gt;
&lt;td&gt;&lt;a href="https://github.com/paper-trail-gem/paper_trail/blob/master/README.md"&gt;https://github.com/paper-trail-gem/paper_trail/blob/master/README.md&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;10.3.1&lt;/td&gt;
&lt;td&gt;&lt;a href="https://github.com/paper-trail-gem/paper_trail/blob/v10.3.1/README.md"&gt;https://github.com/paper-trail-gem/paper_trail/blob/v10.3.1/README.md&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;9.2.0&lt;/td&gt;
&lt;td&gt;&lt;a href="https://github.com/paper-trail-gem/paper_trail/blob/v9.2.0/README.md"&gt;https://github.com/paper-trail-gem/paper_trail/blob/v9.2.0/README.md&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;8.1.2&lt;/td&gt;
&lt;td&gt;&lt;a href="https://github.com/paper-trail-gem/paper_trail/blob/v8.1.2/README.md"&gt;https://github.com/paper-trail-gem/paper_trail/blob/v8.1.2/README.md&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;7.1.3&lt;/td&gt;
&lt;td&gt;&lt;a href="https://github.com/paper-trail-gem/paper_trail/blob/v7.1.3/README.md"&gt;https://github.com/paper-trail-gem/paper_trail/blob/v7.1.3/README.md&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6.0.2&lt;/td&gt;
&lt;td&gt;&lt;a href="https://github.com/paper-trail-gem/paper_trail/blob/v6.0.2/README.md"&gt;https://github.com/paper-trail-gem/paper_trail/blob/v6.0.2/README.md&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5.2.3&lt;/td&gt;
&lt;td&gt;&lt;a href="https://github.com/paper-trail-gem/paper_trail/blob/v5.2.3/README.md"&gt;https://github.com/paper-trail-gem/paper_trail/blob/v5.2.3/README.md&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4.2.0&lt;/td&gt;
&lt;td&gt;&lt;a href="https://github.com/paper-trail-gem/paper_trail/blob/v4.2.0/README.md"&gt;https://github.com/paper-trail-gem/paper_trail/blob/v4.2.0/README.md&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3.0.9&lt;/td&gt;
&lt;td&gt;&lt;a href="https://github.com/paper-trail-gem/paper_trail/blob/v3.0.9/README.md"&gt;https://github.com/paper-trail-gem/paper_trail/blob/v3.0.9/README.md&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2.7.2&lt;/td&gt;
&lt;td&gt;&lt;a href="https://github.com/paper-trail-gem/paper_trail/blob/v2.7.2/README.md"&gt;https://github.com/paper-trail-gem/paper_trail/blob/v2.7.2/README.md&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1.6.5&lt;/td&gt;
&lt;td&gt;&lt;a href="https://github.com/paper-trail-gem/paper_trail/blob/v1.6.5/README.md"&gt;https://github.com/paper-trail-gem/paper_trail/blob/v1.6.5/README.md&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-table-of-contents" class="anchor" aria-hidden="true" href="#table-of-contents"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Table of Contents&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="#1-introduction"&gt;1. Introduction&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#1a-compatibility"&gt;1.a. Compatibility&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#1b-installation"&gt;1.b. Installation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#1c-basic-usage"&gt;1.c. Basic Usage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#1d-api-summary"&gt;1.d. API Summary&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#1e-configuration"&gt;1.e. Configuration&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#2-limiting-what-is-versioned-and-when"&gt;2. Limiting What is Versioned, and When&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#2a-choosing-lifecycle-events-to-monitor"&gt;2.a. Choosing Lifecycle Events To Monitor&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#2b-choosing-when-to-save-new-versions"&gt;2.b. Choosing When To Save New Versions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#2c-choosing-attributes-to-monitor"&gt;2.c. Choosing Attributes To Monitor&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#2d-turning-papertrail-off"&gt;2.d. Turning PaperTrail Off&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#2e-limiting-the-number-of-versions-created"&gt;2.e. Limiting the Number of Versions Created&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#3-working-with-versions"&gt;3. Working With Versions&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#3a-reverting-and-undeleting-a-model"&gt;3.a. Reverting And Undeleting A Model&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#3b-navigating-versions"&gt;3.b. Navigating Versions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#3c-diffing-versions"&gt;3.c. Diffing Versions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#3d-deleting-old-versions"&gt;3.d. Deleting Old Versions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#4-saving-more-information-about-versions"&gt;4. Saving More Information About Versions&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#4a-finding-out-who-was-responsible-for-a-change"&gt;4.a. Finding Out Who Was Responsible For A Change&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#4b-associations"&gt;4.b. Associations&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#4c-storing-metadata"&gt;4.c. Storing Metadata&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#5-activerecord"&gt;5. ActiveRecord&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#5a-single-table-inheritance-sti"&gt;5.a. Single Table Inheritance (STI)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#5b-configuring-the-versions-association"&gt;5.b. Configuring the &lt;code&gt;versions&lt;/code&gt; Association&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#5c-generators"&gt;5.c. Generators&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#5d-protected-attributes"&gt;5.d. Protected Attributes&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#6-extensibility"&gt;6. Extensibility&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#6a-custom-version-classes"&gt;6.a. Custom Version Classes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#6b-custom-serializer"&gt;6.b. Custom Serializer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#6c-custom-object-changes"&gt;6.c. Custom Object Changes&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#7-testing"&gt;7. Testing&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#7a-minitest"&gt;7.a. Minitest&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#7b-rspec"&gt;7.b. RSpec&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#7c-cucumber"&gt;7.c. Cucumber&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#7d-spork"&gt;7.d. Spork&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#7e-zeus-or-spring"&gt;7.e. Zeus or Spring&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#8-papertrail-plugins"&gt;8. PaperTrail Plugins&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#9-integration-with-other-libraries"&gt;9. Integration with Other Libraries&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#10-related-libraries-and-ports"&gt;10. Related Libraries and Ports&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#articles"&gt;Articles&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#problems"&gt;Problems&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#contributors"&gt;Contributors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#contributing"&gt;Contributing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#inspirations"&gt;Inspirations&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#intellectual-property"&gt;Intellectual Property&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;&lt;a id="user-content-1-introduction" class="anchor" aria-hidden="true" href="#1-introduction"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. Introduction&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-1a-compatibility" class="anchor" aria-hidden="true" href="#1a-compatibility"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1.a. Compatibility&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;paper_trail&lt;/th&gt;
&lt;th&gt;branch&lt;/th&gt;
&lt;th&gt;ruby&lt;/th&gt;
&lt;th&gt;activerecord&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;unreleased&lt;/td&gt;
&lt;td&gt;master&lt;/td&gt;
&lt;td&gt;&amp;gt;= 2.3.0&lt;/td&gt;
&lt;td&gt;&amp;gt;= 4.2, &amp;lt; 6.1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;10-stable&lt;/td&gt;
&lt;td&gt;&amp;gt;= 2.3.0&lt;/td&gt;
&lt;td&gt;&amp;gt;= 4.2, &amp;lt; 6.1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;9-stable&lt;/td&gt;
&lt;td&gt;&amp;gt;= 2.3.0&lt;/td&gt;
&lt;td&gt;&amp;gt;= 4.2, &amp;lt; 5.3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;8-stable&lt;/td&gt;
&lt;td&gt;&amp;gt;= 2.2.0&lt;/td&gt;
&lt;td&gt;&amp;gt;= 4.2, &amp;lt; 5.2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;7-stable&lt;/td&gt;
&lt;td&gt;&amp;gt;= 2.1.0&lt;/td&gt;
&lt;td&gt;&amp;gt;= 4.0, &amp;lt; 5.2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;6-stable&lt;/td&gt;
&lt;td&gt;&amp;gt;= 1.9.3&lt;/td&gt;
&lt;td&gt;&amp;gt;= 4.0, &amp;lt; 5.2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;5-stable&lt;/td&gt;
&lt;td&gt;&amp;gt;= 1.9.3&lt;/td&gt;
&lt;td&gt;&amp;gt;= 3.0, &amp;lt; 5.1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;4-stable&lt;/td&gt;
&lt;td&gt;&amp;gt;= 1.8.7&lt;/td&gt;
&lt;td&gt;&amp;gt;= 3.0, &amp;lt; 5.1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;3.0-stable&lt;/td&gt;
&lt;td&gt;&amp;gt;= 1.8.7&lt;/td&gt;
&lt;td&gt;&amp;gt;= 3.0, &amp;lt; 5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;2.7-stable&lt;/td&gt;
&lt;td&gt;&amp;gt;= 1.8.7&lt;/td&gt;
&lt;td&gt;&amp;gt;= 3.0, &amp;lt; 4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;rails2&lt;/td&gt;
&lt;td&gt;&amp;gt;= 1.8.7&lt;/td&gt;
&lt;td&gt;&amp;gt;= 2.3, &amp;lt; 3&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Experts: to install incompatible versions of activerecord, see
&lt;code&gt;paper_trail/compatibility.rb&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-1b-installation" class="anchor" aria-hidden="true" href="#1b-installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1.b. Installation&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Add PaperTrail to your &lt;code&gt;Gemfile&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;gem 'paper_trail'&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add a &lt;code&gt;versions&lt;/code&gt; table to your database:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;bundle exec rails generate paper_trail:install [--with-changes]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For more information on this generator, see &lt;a href="#5c-generators"&gt;section 5.c.
Generators&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;If using &lt;a href="https://github.com/sferik/rails_admin"&gt;rails_admin&lt;/a&gt;, you must enable the
experimental &lt;a href="#4b-associations"&gt;Associations&lt;/a&gt; feature.&lt;/p&gt;
&lt;p&gt;If you're getting "Could not find generator 'paper_trail:install'" errors from
recent Ruby/Rails versions, try running &lt;code&gt;spring stop&lt;/code&gt;
(see &lt;a href="https://github.com/paper-trail-gem/paper_trail/issues/459"&gt;this thread&lt;/a&gt; for more details).&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;bundle exec rake db:migrate
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add &lt;code&gt;has_paper_trail&lt;/code&gt; to the models you want to track.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Widget&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Base&lt;/span&gt;&lt;/span&gt;
  has_paper_trail
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If your controllers have a &lt;code&gt;current_user&lt;/code&gt; method, you can easily &lt;a href="#4a-finding-out-who-was-responsible-for-a-change"&gt;track who
is responsible for changes&lt;/a&gt;
by adding a controller callback.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;ApplicationController&lt;/span&gt;
  before_action &lt;span class="pl-c1"&gt;:set_paper_trail_whodunnit&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;&lt;a id="user-content-1c-basic-usage" class="anchor" aria-hidden="true" href="#1c-basic-usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1.c. Basic Usage&lt;/h3&gt;
&lt;p&gt;Your models now have a &lt;code&gt;versions&lt;/code&gt; method which returns the "paper trail" of
changes to your model.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;widget &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Widget&lt;/span&gt;.find &lt;span class="pl-c1"&gt;42&lt;/span&gt;
widget.versions
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; [&amp;lt;PaperTrail::Version&amp;gt;, &amp;lt;PaperTrail::Version&amp;gt;, ...]&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once you have a version, you can find out what happened:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;v &lt;span class="pl-k"&gt;=&lt;/span&gt; widget.versions.last
v.event &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 'update', 'create', 'destroy'. See also: Custom Event Names&lt;/span&gt;
v.created_at
v.whodunnit &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ID of `current_user`. Requires `set_paper_trail_whodunnit` callback.&lt;/span&gt;
widget &lt;span class="pl-k"&gt;=&lt;/span&gt; v.reify &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; The widget as it was before the update (nil for a create event)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;PaperTrail stores the pre-change version of the model, unlike some other
auditing/versioning plugins, so you can retrieve the original version.  This is
useful when you start keeping a paper trail for models that already have records
in the database.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;widget &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Widget&lt;/span&gt;.find &lt;span class="pl-c1"&gt;153&lt;/span&gt;
widget.name                                 &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 'Doobly'&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Add has_paper_trail to Widget model.&lt;/span&gt;

widget.versions                             &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; []&lt;/span&gt;
widget.update &lt;span class="pl-c1"&gt;name:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Wotsit&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
widget.versions.last.reify.name             &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 'Doobly'&lt;/span&gt;
widget.versions.last.event                  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 'update'&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This also means that PaperTrail does not waste space storing a version of the
object as it currently stands.  The &lt;code&gt;versions&lt;/code&gt; method gives you previous
versions; to get the current one just call a finder on your &lt;code&gt;Widget&lt;/code&gt; model as
usual.&lt;/p&gt;
&lt;p&gt;Here's a helpful table showing what PaperTrail stores:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;em&gt;Event&lt;/em&gt;&lt;/th&gt;
&lt;th&gt;&lt;em&gt;create&lt;/em&gt;&lt;/th&gt;
&lt;th&gt;&lt;em&gt;update&lt;/em&gt;&lt;/th&gt;
&lt;th&gt;&lt;em&gt;destroy&lt;/em&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;Model Before&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;nil&lt;/td&gt;
&lt;td&gt;widget&lt;/td&gt;
&lt;td&gt;widget&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;Model After&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;widget&lt;/td&gt;
&lt;td&gt;widget&lt;/td&gt;
&lt;td&gt;nil&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;PaperTrail stores the values in the Model Before row.  Most other
auditing/versioning plugins store the After row.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-1d-api-summary" class="anchor" aria-hidden="true" href="#1d-api-summary"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1.d. API Summary&lt;/h3&gt;
&lt;p&gt;An introductory sample of common features.&lt;/p&gt;
&lt;p&gt;When you declare &lt;code&gt;has_paper_trail&lt;/code&gt; in your model, you get these methods:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Widget&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Base&lt;/span&gt;&lt;/span&gt;
  has_paper_trail
&lt;span class="pl-k"&gt;end&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Returns this widget's versions.  You can customise the name of the&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; association, but overriding this method is not supported.&lt;/span&gt;
widget.versions

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Return the version this widget was reified from, or nil if it is live.&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; You can customise the name of the method.&lt;/span&gt;
widget.version

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Returns true if this widget is the current, live one; or false if it is from&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; a previous version.&lt;/span&gt;
widget.paper_trail.live?

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Returns who put the widget into its current state.&lt;/span&gt;
widget.paper_trail.originator

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Returns the widget (not a version) as it looked at the given timestamp.&lt;/span&gt;
widget.paper_trail.version_at(timestamp)

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Returns the widget (not a version) as it was most recently.&lt;/span&gt;
widget.paper_trail.previous_version

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Returns the widget (not a version) as it became next.&lt;/span&gt;
widget.paper_trail.next_version&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And a &lt;code&gt;PaperTrail::Version&lt;/code&gt; instance (which is just an ordinary ActiveRecord
instance, with all the usual methods) has methods such as:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Returns the item restored from this version.&lt;/span&gt;
version.reify(options &lt;span class="pl-k"&gt;=&lt;/span&gt; {})

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Return a new item from this version&lt;/span&gt;
version.reify(&lt;span class="pl-c1"&gt;dup:&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;)

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Returns who put the item into the state stored in this version.&lt;/span&gt;
version.paper_trail_originator

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Returns who changed the item from the state it had in this version.&lt;/span&gt;
version.terminator
version.whodunnit
version.version_author

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Returns the next version.&lt;/span&gt;
version.next

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Returns the previous version.&lt;/span&gt;
version.previous

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Returns the index of this version in all the versions.&lt;/span&gt;
version.index

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Returns the event that caused this version (create|update|destroy).&lt;/span&gt;
version.event&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is just a sample of common features. Keep reading for more.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-1e-configuration" class="anchor" aria-hidden="true" href="#1e-configuration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1.e. Configuration&lt;/h3&gt;
&lt;p&gt;Many aspects of PaperTrail are configurable for individual models; typically
this is achieved by passing options to the &lt;code&gt;has_paper_trail&lt;/code&gt; method within
a given model.&lt;/p&gt;
&lt;p&gt;Some aspects of PaperTrail are configured globally for all models. These
settings are assigned directly on the &lt;code&gt;PaperTrail.config&lt;/code&gt; object.
A common place to put these settings is in a Rails initializer file
such as &lt;code&gt;config/initializers/paper_trail.rb&lt;/code&gt; or in an environment-specific
configuration file such as &lt;code&gt;config/environments/test.rb&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-1e1-global" class="anchor" aria-hidden="true" href="#1e1-global"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1.e.1 Global&lt;/h4&gt;
&lt;p&gt;Global configuration options affect all threads.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;association_reify_error_behaviour&lt;/li&gt;
&lt;li&gt;enabled&lt;/li&gt;
&lt;li&gt;has_paper_trail_defaults&lt;/li&gt;
&lt;li&gt;object_changes_adapter&lt;/li&gt;
&lt;li&gt;serializer&lt;/li&gt;
&lt;li&gt;version_limit&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Syntax example: (options described in detail later)&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; config/initializers/paper_trail.rb&lt;/span&gt;
&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.config.enabled &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.config.has_paper_trail_defaults &lt;span class="pl-k"&gt;=&lt;/span&gt; {
  &lt;span class="pl-c1"&gt;on:&lt;/span&gt; &lt;span class="pl-c1"&gt;%i[create update destroy]&lt;/span&gt;
}
&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.config.version_limit &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;3&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;These options are intended to be set only once, during app initialization (eg.
in &lt;code&gt;config/initializers&lt;/code&gt;). It is unsafe to change them while the app is running.
In contrast, &lt;code&gt;PaperTrail.request&lt;/code&gt; has various options that only apply to a
single HTTP request and thus are safe to use while the app is running.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-2-limiting-what-is-versioned-and-when" class="anchor" aria-hidden="true" href="#2-limiting-what-is-versioned-and-when"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. Limiting What is Versioned, and When&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-2a-choosing-lifecycle-events-to-monitor" class="anchor" aria-hidden="true" href="#2a-choosing-lifecycle-events-to-monitor"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2.a. Choosing Lifecycle Events To Monitor&lt;/h3&gt;
&lt;p&gt;You can choose which events to track with the &lt;code&gt;on&lt;/code&gt; option.  For example, if
you only want to track &lt;code&gt;update&lt;/code&gt; events:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Article&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Base&lt;/span&gt;&lt;/span&gt;
  has_paper_trail &lt;span class="pl-c1"&gt;on:&lt;/span&gt; [&lt;span class="pl-c1"&gt;:update&lt;/span&gt;]
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;has_paper_trail&lt;/code&gt; installs &lt;a href="http://guides.rubyonrails.org/active_record_callbacks.html" rel="nofollow"&gt;callbacks&lt;/a&gt; for the specified lifecycle events.&lt;/p&gt;
&lt;p&gt;There are four potential callbacks, and the default is to install all four, ie.
&lt;code&gt;on: [:create, :destroy, :touch, :update]&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-the-versionsevent-column" class="anchor" aria-hidden="true" href="#the-versionsevent-column"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The &lt;code&gt;versions.event&lt;/code&gt; Column&lt;/h4&gt;
&lt;p&gt;Your &lt;code&gt;versions&lt;/code&gt; table has an &lt;code&gt;event&lt;/code&gt; column with three possible values:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;em&gt;event&lt;/em&gt;&lt;/th&gt;
&lt;th&gt;&lt;em&gt;callback&lt;/em&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;create&lt;/td&gt;
&lt;td&gt;create&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;destroy&lt;/td&gt;
&lt;td&gt;destroy&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;update&lt;/td&gt;
&lt;td&gt;touch, update&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;You may also have the &lt;code&gt;PaperTrail::Version&lt;/code&gt; model save a custom string in its
&lt;code&gt;event&lt;/code&gt; field instead of the typical &lt;code&gt;create&lt;/code&gt;, &lt;code&gt;update&lt;/code&gt;, &lt;code&gt;destroy&lt;/code&gt;. PaperTrail
adds an &lt;code&gt;attr_accessor&lt;/code&gt; to your model named &lt;code&gt;paper_trail_event&lt;/code&gt;, and will insert
it, if present, in the &lt;code&gt;event&lt;/code&gt; column.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;a &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Article&lt;/span&gt;.create
a.versions.size                           &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 1&lt;/span&gt;
a.versions.last.event                     &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 'create'&lt;/span&gt;
a.paper_trail_event &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;update title&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
a.update &lt;span class="pl-c1"&gt;title:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;My Title&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
a.versions.size                           &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 2&lt;/span&gt;
a.versions.last.event                     &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 'update title'&lt;/span&gt;
a.paper_trail_event &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;nil&lt;/span&gt;
a.update &lt;span class="pl-c1"&gt;title:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Alternate&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
a.versions.size                           &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 3&lt;/span&gt;
a.versions.last.event                     &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 'update'&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-controlling-the-order-of-ar-callbacks" class="anchor" aria-hidden="true" href="#controlling-the-order-of-ar-callbacks"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Controlling the Order of AR Callbacks&lt;/h4&gt;
&lt;p&gt;If there are other callbacks in your model, their order relative to those
installed by &lt;code&gt;has_paper_trail&lt;/code&gt; may matter. If you need to control
their order, use the &lt;code&gt;paper_trail_on_*&lt;/code&gt; methods.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Article&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Base&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Include PaperTrail, but do not install any callbacks. Passing the&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; empty array to `:on` omits callbacks.&lt;/span&gt;
  has_paper_trail &lt;span class="pl-c1"&gt;on:&lt;/span&gt; []

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Add callbacks in the order you need.&lt;/span&gt;
  paper_trail.on_destroy    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; add destroy callback&lt;/span&gt;
  paper_trail.on_update     &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; etc.&lt;/span&gt;
  paper_trail.on_create
  paper_trail.on_touch
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;paper_trail.on_destroy&lt;/code&gt; method can be further configured to happen
&lt;code&gt;:before&lt;/code&gt; or &lt;code&gt;:after&lt;/code&gt; the destroy event. In PaperTrail 4, the default is
&lt;code&gt;:after&lt;/code&gt;. In PaperTrail 5, the default will be &lt;code&gt;:before&lt;/code&gt;, to support
ActiveRecord 5. (see &lt;a href="https://github.com/paper-trail-gem/paper_trail/pull/683"&gt;https://github.com/paper-trail-gem/paper_trail/pull/683&lt;/a&gt;)&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-2b-choosing-when-to-save-new-versions" class="anchor" aria-hidden="true" href="#2b-choosing-when-to-save-new-versions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2.b. Choosing When To Save New Versions&lt;/h3&gt;
&lt;p&gt;You can choose the conditions when to add new versions with the &lt;code&gt;if&lt;/code&gt; and
&lt;code&gt;unless&lt;/code&gt; options. For example, to save versions only for US non-draft
translations:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Translation&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Base&lt;/span&gt;&lt;/span&gt;
  has_paper_trail &lt;span class="pl-c1"&gt;if:&lt;/span&gt;     &lt;span class="pl-c1"&gt;Proc&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt; { |&lt;span class="pl-smi"&gt;t&lt;/span&gt;| t.language_code &lt;span class="pl-k"&gt;==&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;US&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; },
                  &lt;span class="pl-c1"&gt;unless:&lt;/span&gt; &lt;span class="pl-c1"&gt;Proc&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt; { |&lt;span class="pl-smi"&gt;t&lt;/span&gt;| t.type &lt;span class="pl-k"&gt;==&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;DRAFT&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;       }
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-choosing-based-on-changed-attributes" class="anchor" aria-hidden="true" href="#choosing-based-on-changed-attributes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Choosing Based on Changed Attributes&lt;/h4&gt;
&lt;p&gt;Starting with PaperTrail 4.0, versions are saved during an after-callback. If
you decide whether to save a new version based on changed attributes,
use attribute_name_was instead of attribute_name.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-saving-a-new-version-manually" class="anchor" aria-hidden="true" href="#saving-a-new-version-manually"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Saving a New Version Manually&lt;/h4&gt;
&lt;p&gt;You may want to save a new version regardless of options like &lt;code&gt;:on&lt;/code&gt;, &lt;code&gt;:if&lt;/code&gt;, or
&lt;code&gt;:unless&lt;/code&gt;. Or, in rare situations, you may want to save a new version even if
the record has not changed.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;my_model.paper_trail.save_with_version&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-2c-choosing-attributes-to-monitor" class="anchor" aria-hidden="true" href="#2c-choosing-attributes-to-monitor"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2.c. Choosing Attributes To Monitor&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-ignore" class="anchor" aria-hidden="true" href="#ignore"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ignore&lt;/h4&gt;
&lt;p&gt;You can &lt;code&gt;ignore&lt;/code&gt; changes to certain attributes:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Article&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Base&lt;/span&gt;&lt;/span&gt;
  has_paper_trail &lt;span class="pl-c1"&gt;ignore:&lt;/span&gt; [&lt;span class="pl-c1"&gt;:title&lt;/span&gt;, &lt;span class="pl-c1"&gt;:rating&lt;/span&gt;]
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Changes to just the &lt;code&gt;title&lt;/code&gt; or &lt;code&gt;rating&lt;/code&gt; will not create a version record.
Changes to other attributes will create a version record.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;a &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Article&lt;/span&gt;.create
a.versions.length                         &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 1&lt;/span&gt;
a.update &lt;span class="pl-c1"&gt;title:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;My Title&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;rating:&lt;/span&gt; &lt;span class="pl-c1"&gt;3&lt;/span&gt;
a.versions.length                         &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 1&lt;/span&gt;
a.update &lt;span class="pl-c1"&gt;title:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Greeting&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;content:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Hello&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
a.versions.length                         &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 2&lt;/span&gt;
a.paper_trail.previous_version.title      &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 'My Title'&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-only" class="anchor" aria-hidden="true" href="#only"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Only&lt;/h4&gt;
&lt;p&gt;Or, you can specify a list of the &lt;code&gt;only&lt;/code&gt; attributes you care about:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Article&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Base&lt;/span&gt;&lt;/span&gt;
  has_paper_trail &lt;span class="pl-c1"&gt;only:&lt;/span&gt; [&lt;span class="pl-c1"&gt;:title&lt;/span&gt;]
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Only changes to the &lt;code&gt;title&lt;/code&gt; will create a version record.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;a &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Article&lt;/span&gt;.create
a.versions.length                         &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 1&lt;/span&gt;
a.update &lt;span class="pl-c1"&gt;title:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;My Title&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
a.versions.length                         &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 2&lt;/span&gt;
a.update &lt;span class="pl-c1"&gt;content:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Hello&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
a.versions.length                         &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 2&lt;/span&gt;
a.paper_trail.previous_version.content    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; nil&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;:ignore&lt;/code&gt; and &lt;code&gt;:only&lt;/code&gt; options can also accept &lt;code&gt;Hash&lt;/code&gt; arguments.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Article&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Base&lt;/span&gt;&lt;/span&gt;
  has_paper_trail &lt;span class="pl-c1"&gt;only:&lt;/span&gt; { &lt;span class="pl-c1"&gt;title:&lt;/span&gt; &lt;span class="pl-c1"&gt;Proc&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt; { |&lt;span class="pl-smi"&gt;obj&lt;/span&gt;| &lt;span class="pl-k"&gt;!&lt;/span&gt;obj.title.blank? } }
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If the &lt;code&gt;title&lt;/code&gt; is not blank, then only changes to the &lt;code&gt;title&lt;/code&gt;
will create a version record.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;a &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Article&lt;/span&gt;.create
a.versions.length                         &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 1&lt;/span&gt;
a.update &lt;span class="pl-c1"&gt;content:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Hello&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
a.versions.length                         &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 2&lt;/span&gt;
a.update &lt;span class="pl-c1"&gt;title:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Title One&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
a.versions.length                         &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 3&lt;/span&gt;
a.update &lt;span class="pl-c1"&gt;content:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Hai&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
a.versions.length                         &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 3&lt;/span&gt;
a.paper_trail.previous_version.content    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; "Hello"&lt;/span&gt;
a.update &lt;span class="pl-c1"&gt;title:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Title Two&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
a.versions.length                         &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 4&lt;/span&gt;
a.paper_trail.previous_version.content    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; "Hai"&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Configuring both &lt;code&gt;:ignore&lt;/code&gt; and &lt;code&gt;:only&lt;/code&gt; is not recommended, but it should work as
expected. Passing both &lt;code&gt;:ignore&lt;/code&gt; and &lt;code&gt;:only&lt;/code&gt; options will result in the
article being saved if a changed attribute is included in &lt;code&gt;:only&lt;/code&gt; but not in
&lt;code&gt;:ignore&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-skip" class="anchor" aria-hidden="true" href="#skip"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Skip&lt;/h4&gt;
&lt;p&gt;You can skip attributes completely with the &lt;code&gt;:skip&lt;/code&gt; option.  As with &lt;code&gt;:ignore&lt;/code&gt;,
updates to these attributes will not create a version record.  In addition, if a
version record is created for some other reason, these attributes will not be
persisted.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Article&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Base&lt;/span&gt;&lt;/span&gt;
  has_paper_trail &lt;span class="pl-c1"&gt;skip:&lt;/span&gt; [&lt;span class="pl-c1"&gt;:file_upload&lt;/span&gt;]
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-2d-turning-papertrail-off" class="anchor" aria-hidden="true" href="#2d-turning-papertrail-off"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2.d. Turning PaperTrail Off&lt;/h3&gt;
&lt;p&gt;PaperTrail is on by default, but sometimes you don't want to record versions.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-per-process" class="anchor" aria-hidden="true" href="#per-process"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Per Process&lt;/h4&gt;
&lt;p&gt;Turn PaperTrail off for &lt;strong&gt;all threads&lt;/strong&gt; in a &lt;code&gt;ruby&lt;/code&gt; process.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.enabled &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Do not use this in production&lt;/strong&gt; unless you have a good understanding of
threads vs. processes.&lt;/p&gt;
&lt;p&gt;A legitimate use case is to speed up tests. See &lt;a href="#7-testing"&gt;Testing&lt;/a&gt; below.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-per-http-request" class="anchor" aria-hidden="true" href="#per-http-request"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Per HTTP Request&lt;/h4&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.request(&lt;span class="pl-c1"&gt;enabled:&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; no versions created&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;or,&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.request.enabled &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; no versions created&lt;/span&gt;
&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.request.enabled &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-per-class" class="anchor" aria-hidden="true" href="#per-class"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Per Class&lt;/h4&gt;
&lt;p&gt;In the rare case that you need to disable versioning for one model while
keeping versioning enabled for other models, use:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.request.disable_model(&lt;span class="pl-c1"&gt;Banana&lt;/span&gt;)
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; changes to Banana model do not create versions,&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; but eg. changes to Kiwi model do.&lt;/span&gt;
&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.request.enable_model(&lt;span class="pl-c1"&gt;Banana&lt;/span&gt;)
&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.request.enabled_for_model?(&lt;span class="pl-c1"&gt;Banana&lt;/span&gt;) &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; =&amp;gt; true&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This setting, as with all &lt;code&gt;PaperTrail.request&lt;/code&gt; settings, affects only the
current request, not all threads.&lt;/p&gt;
&lt;p&gt;For this rare use case, there is no convenient way to pass a block.&lt;/p&gt;
&lt;h5&gt;&lt;a id="user-content-in-a-rails-controller-callback-not-recommended" class="anchor" aria-hidden="true" href="#in-a-rails-controller-callback-not-recommended"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;In a Rails Controller Callback (Not Recommended)&lt;/h5&gt;
&lt;p&gt;PaperTrail installs a callback in your rails controllers. The installed
callback will call &lt;code&gt;paper_trail_enabled_for_controller&lt;/code&gt;, which you can
override.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;ApplicationController&lt;span class="pl-e"&gt; &amp;lt; ActionController::Base&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;paper_trail_enabled_for_controller&lt;/span&gt;
    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Don't omit `super` without a good reason.&lt;/span&gt;
    &lt;span class="pl-k"&gt;super&lt;/span&gt; &lt;span class="pl-k"&gt;&amp;amp;&amp;amp;&lt;/span&gt; request.user_agent &lt;span class="pl-k"&gt;!=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Disable User-Agent&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Because you are unable to control the order of callback execution, this
technique is not recommended, but is preserved for backwards compatibility.&lt;/p&gt;
&lt;p&gt;It would be better to install your own callback and use
&lt;code&gt;PaperTrail.request.enabled=&lt;/code&gt; as you see fit.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-per-method-removed" class="anchor" aria-hidden="true" href="#per-method-removed"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Per Method (Removed)&lt;/h4&gt;
&lt;p&gt;The &lt;code&gt;widget.paper_trail.without_versioning&lt;/code&gt; method was removed in v10, without
an exact replacement. To disable versioning, use the &lt;a href="#per-class"&gt;Per Class&lt;/a&gt; or
&lt;a href="#per-http-request"&gt;Per HTTP Request&lt;/a&gt; methods.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-2e-limiting-the-number-of-versions-created" class="anchor" aria-hidden="true" href="#2e-limiting-the-number-of-versions-created"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2.e. Limiting the Number of Versions Created&lt;/h3&gt;
&lt;p&gt;Configure &lt;code&gt;version_limit&lt;/code&gt; to cap the number of versions saved per record. This
does not apply to &lt;code&gt;create&lt;/code&gt; events.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Limit: 4 versions per record (3 most recent, plus a `create` event)&lt;/span&gt;
&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.config.version_limit &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;3&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Remove the limit&lt;/span&gt;
&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.config.version_limit &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;nil&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-2e1-per-model-limit" class="anchor" aria-hidden="true" href="#2e1-per-model-limit"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2.e.1 Per-model limit&lt;/h4&gt;
&lt;p&gt;Models can override the global &lt;code&gt;PaperTrail.config.version_limit&lt;/code&gt; setting.&lt;/p&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# initializer
PaperTrail.config.version_limit = 10

# At most 10 versions
has_paper_trail

# At most 3 versions (2 updates, 1 create). Overrides global version_limit.
has_paper_trail limit: 2

# Infinite versions
has_paper_trail limit: nil
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To use a per-model limit, your &lt;code&gt;versions&lt;/code&gt; table must have an
&lt;code&gt;item_subtype&lt;/code&gt; column. See &lt;a href="https://github.com/paper-trail-gem/paper_trail#4b1-the-optional-item_subtype-column"&gt;Section
4.b.1&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-3-working-with-versions" class="anchor" aria-hidden="true" href="#3-working-with-versions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. Working With Versions&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-3a-reverting-and-undeleting-a-model" class="anchor" aria-hidden="true" href="#3a-reverting-and-undeleting-a-model"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3.a. Reverting And Undeleting A Model&lt;/h3&gt;
&lt;p&gt;PaperTrail makes reverting to a previous version easy:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;widget &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Widget&lt;/span&gt;.find &lt;span class="pl-c1"&gt;42&lt;/span&gt;
widget.update &lt;span class="pl-c1"&gt;name:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Blah blah&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Time passes....&lt;/span&gt;
widget &lt;span class="pl-k"&gt;=&lt;/span&gt; widget.paper_trail.previous_version  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; the widget as it was before the update&lt;/span&gt;
widget.save                                   &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; reverted&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Alternatively you can find the version at a given time:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;widget &lt;span class="pl-k"&gt;=&lt;/span&gt; widget.paper_trail.version_at(&lt;span class="pl-c1"&gt;1&lt;/span&gt;.day.ago)  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; the widget as it was one day ago&lt;/span&gt;
widget.save                                        &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; reverted&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note &lt;code&gt;version_at&lt;/code&gt; gives you the object, not a version, so you don't need to call
&lt;code&gt;reify&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Undeleting is just as simple:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;widget &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Widget&lt;/span&gt;.find(&lt;span class="pl-c1"&gt;42&lt;/span&gt;)
widget.destroy
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Time passes....&lt;/span&gt;
widget &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Widget&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(&lt;span class="pl-c1"&gt;id:&lt;/span&gt;&lt;span class="pl-c1"&gt;42&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; creating a new object with the same id, re-establishes the link&lt;/span&gt;
versions &lt;span class="pl-k"&gt;=&lt;/span&gt; widget.versions    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; versions ordered by versions.created_at, ascending&lt;/span&gt;
widget &lt;span class="pl-k"&gt;=&lt;/span&gt; versions.last.reify  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; the widget as it was before destruction&lt;/span&gt;
widget.save                   &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; the widget lives!&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You could even use PaperTrail to implement an undo system; &lt;a href="http://railscasts.com/episodes/255-undo-with-paper-trail" rel="nofollow"&gt;Ryan Bates has!&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If your model uses &lt;a href="http://api.rubyonrails.org/classes/ActiveRecord/Locking/Optimistic.html" rel="nofollow"&gt;optimistic locking&lt;/a&gt; don't forget to &lt;a href="https://github.com/paper-trail-gem/paper_trail/issues/163"&gt;increment your
&lt;code&gt;lock_version&lt;/code&gt;&lt;/a&gt; before saving or you'll get a &lt;code&gt;StaleObjectError&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-3b-navigating-versions" class="anchor" aria-hidden="true" href="#3b-navigating-versions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3.b. Navigating Versions&lt;/h3&gt;
&lt;p&gt;You can call &lt;code&gt;previous_version&lt;/code&gt; and &lt;code&gt;next_version&lt;/code&gt; on an item to get it as it
was/became.  Note that these methods reify the item for you.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;live_widget &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Widget&lt;/span&gt;.find &lt;span class="pl-c1"&gt;42&lt;/span&gt;
live_widget.versions.length                       &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 4, for example&lt;/span&gt;
widget &lt;span class="pl-k"&gt;=&lt;/span&gt; live_widget.paper_trail.previous_version &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; =&amp;gt; widget == live_widget.versions.last.reify&lt;/span&gt;
widget &lt;span class="pl-k"&gt;=&lt;/span&gt; widget.paper_trail.previous_version      &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; =&amp;gt; widget == live_widget.versions[-2].reify&lt;/span&gt;
widget &lt;span class="pl-k"&gt;=&lt;/span&gt; widget.paper_trail.next_version          &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; =&amp;gt; widget == live_widget.versions.last.reify&lt;/span&gt;
widget.paper_trail.next_version                   &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; live_widget&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If instead you have a particular &lt;code&gt;version&lt;/code&gt; of an item you can navigate to the
previous and next versions.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;widget &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Widget&lt;/span&gt;.find &lt;span class="pl-c1"&gt;42&lt;/span&gt;
version &lt;span class="pl-k"&gt;=&lt;/span&gt; widget.versions[&lt;span class="pl-k"&gt;-&lt;/span&gt;&lt;span class="pl-c1"&gt;2&lt;/span&gt;]    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; assuming widget has several versions&lt;/span&gt;
previous_version &lt;span class="pl-k"&gt;=&lt;/span&gt; version.previous
next_version &lt;span class="pl-k"&gt;=&lt;/span&gt; version.next&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can find out which of an item's versions yours is:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;current_version_number &lt;span class="pl-k"&gt;=&lt;/span&gt; version.index    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 0-based&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you got an item by reifying one of its versions, you can navigate back to the
version it came from:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;latest_version &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Widget&lt;/span&gt;.find(&lt;span class="pl-c1"&gt;42&lt;/span&gt;).versions.last
widget &lt;span class="pl-k"&gt;=&lt;/span&gt; latest_version.reify
widget.version &lt;span class="pl-k"&gt;==&lt;/span&gt; latest_version    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; true&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can find out whether a model instance is the current, live one -- or whether
it came instead from a previous version -- with &lt;code&gt;live?&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;widget &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Widget&lt;/span&gt;.find &lt;span class="pl-c1"&gt;42&lt;/span&gt;
widget.live?                        &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; true&lt;/span&gt;
widget &lt;span class="pl-k"&gt;=&lt;/span&gt; widget.paper_trail.previous_version
widget.live?                        &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; false&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And you can perform &lt;code&gt;WHERE&lt;/code&gt; queries for object versions based on attributes:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Find versions that meet these criteria.&lt;/span&gt;
&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;::&lt;span class="pl-c1"&gt;Version&lt;/span&gt;.where_object(&lt;span class="pl-c1"&gt;content:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Hello&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;title:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Article&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Find versions before and after attribute `atr` had value `v`:&lt;/span&gt;
&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;::&lt;span class="pl-c1"&gt;Version&lt;/span&gt;.where_object_changes(&lt;span class="pl-c1"&gt;atr:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;v&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Using &lt;code&gt;where_object_changes&lt;/code&gt; to read YAML from a text column was deprecated in
8.1.0, and will now raise an error.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-3c-diffing-versions" class="anchor" aria-hidden="true" href="#3c-diffing-versions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3.c. Diffing Versions&lt;/h3&gt;
&lt;p&gt;There are two scenarios: diffing adjacent versions and diffing non-adjacent
versions.&lt;/p&gt;
&lt;p&gt;The best way to diff adjacent versions is to get PaperTrail to do it for you.
If you add an &lt;code&gt;object_changes&lt;/code&gt; text column to your &lt;code&gt;versions&lt;/code&gt; table, either at
installation time with the &lt;code&gt;rails generate paper_trail:install --with-changes&lt;/code&gt;
option or manually, PaperTrail will store the &lt;code&gt;changes&lt;/code&gt; diff (excluding any
attributes PaperTrail is ignoring) in each &lt;code&gt;update&lt;/code&gt; version.  You can use the
&lt;code&gt;version.changeset&lt;/code&gt; method to retrieve it.  For example:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;widget &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Widget&lt;/span&gt;.create &lt;span class="pl-c1"&gt;name:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Bob&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
widget.versions.last.changeset
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; {&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;   "name"=&amp;gt;[nil, "Bob"],&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;   "created_at"=&amp;gt;[nil, 2015-08-10 04:10:40 UTC],&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;   "updated_at"=&amp;gt;[nil, 2015-08-10 04:10:40 UTC],&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;   "id"=&amp;gt;[nil, 1]&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; }&lt;/span&gt;
widget.update &lt;span class="pl-c1"&gt;name:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Robert&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
widget.versions.last.changeset
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; {&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;   "name"=&amp;gt;["Bob", "Robert"],&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;   "updated_at"=&amp;gt;[2015-08-10 04:13:19 UTC, 2015-08-10 04:13:19 UTC]&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; }&lt;/span&gt;
widget.destroy
widget.versions.last.changeset
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; {}&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;object_changes&lt;/code&gt; are only stored for creation and updates, not when an
object is destroyed.&lt;/p&gt;
&lt;p&gt;Please be aware that PaperTrail doesn't use diffs internally.  When I designed
PaperTrail I wanted simplicity and robustness so I decided to make each version
of an object self-contained.  A version stores all of its object's data, not a
diff from the previous version.  This means you can delete any version without
affecting any other.&lt;/p&gt;
&lt;p&gt;To diff non-adjacent versions you'll have to write your own code.  These
libraries may help:&lt;/p&gt;
&lt;p&gt;For diffing two strings:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://github.com/myobie/htmldiff"&gt;htmldiff&lt;/a&gt;: expects but doesn't require HTML input and produces HTML
output.  Works very well but slows down significantly on large (e.g. 5,000
word) inputs.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://github.com/pvande/differ"&gt;differ&lt;/a&gt;: expects plain text input and produces plain
text/coloured/HTML/any output.  Can do character-wise, word-wise, line-wise,
or arbitrary-boundary-string-wise diffs.  Works very well on non-HTML input.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/halostatue/diff-lcs"&gt;diff-lcs&lt;/a&gt;: old-school, line-wise diffs.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For diffing two ActiveRecord objects:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://github.com/jeremyw/paper_trail/blob/master/lib/paper_trail/has_paper_trail.rb#L151-156"&gt;Jeremy Weiskotten's PaperTrail fork&lt;/a&gt;: uses ActiveSupport's diff to return
an array of hashes of the changes.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://github.com/tim/activerecord-diff"&gt;activerecord-diff&lt;/a&gt;: rather like ActiveRecord::Dirty but also allows you
to specify which columns to compare.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-3d-deleting-old-versions" class="anchor" aria-hidden="true" href="#3d-deleting-old-versions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3.d. Deleting Old Versions&lt;/h3&gt;
&lt;p&gt;Over time your &lt;code&gt;versions&lt;/code&gt; table will grow to an unwieldy size.  Because each
version is self-contained (see the Diffing section above for more) you can
simply delete any records you don't want any more.  For example:&lt;/p&gt;
&lt;div class="highlight highlight-source-sql"&gt;&lt;pre&gt;sql&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; &lt;span class="pl-k"&gt;delete&lt;/span&gt; &lt;span class="pl-k"&gt;from&lt;/span&gt; versions &lt;span class="pl-k"&gt;where&lt;/span&gt; created_at &lt;span class="pl-k"&gt;&amp;lt;&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;2010-06-01&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;;&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;::&lt;span class="pl-c1"&gt;Version&lt;/span&gt;.where(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;created_at &amp;lt; ?&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;1&lt;/span&gt;.day.ago).delete_all&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-4-saving-more-information-about-versions" class="anchor" aria-hidden="true" href="#4-saving-more-information-about-versions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4. Saving More Information About Versions&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-4a-finding-out-who-was-responsible-for-a-change" class="anchor" aria-hidden="true" href="#4a-finding-out-who-was-responsible-for-a-change"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4.a. Finding Out Who Was Responsible For A Change&lt;/h3&gt;
&lt;p&gt;Set &lt;code&gt;PaperTrail.request.whodunnit=&lt;/code&gt;, and that value will be stored in the
version's &lt;code&gt;whodunnit&lt;/code&gt; column.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.request.whodunnit &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Andy Stewart&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
widget.update &lt;span class="pl-c1"&gt;name:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Wibble&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
widget.versions.last.whodunnit &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Andy Stewart&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-setting-whodunnit-to-a-proc" class="anchor" aria-hidden="true" href="#setting-whodunnit-to-a-proc"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setting &lt;code&gt;whodunnit&lt;/code&gt; to a &lt;code&gt;Proc&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;whodunnit=&lt;/code&gt; also accepts a &lt;code&gt;Proc&lt;/code&gt;, in the rare case that lazy evaluation is
required.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.request.whodunnit &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;proc&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
  &lt;span class="pl-c1"&gt;caller&lt;/span&gt;.find { |&lt;span class="pl-smi"&gt;c&lt;/span&gt;| c.starts_with? &lt;span class="pl-c1"&gt;Rails&lt;/span&gt;.root.to_s }
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Because lazy evaluation can be hard to troubleshoot, this is not
recommended for common use.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-setting-whodunnit-temporarily" class="anchor" aria-hidden="true" href="#setting-whodunnit-temporarily"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setting &lt;code&gt;whodunnit&lt;/code&gt; Temporarily&lt;/h4&gt;
&lt;p&gt;To set whodunnit temporarily, for the duration of a block, use
&lt;code&gt;PaperTrail.request&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.request(&lt;span class="pl-c1"&gt;whodunnit:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Dorian Mari&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt;
  widget.update &lt;span class="pl-c1"&gt;name:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Wibble&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-setting-whodunnit-with-a-controller-callback" class="anchor" aria-hidden="true" href="#setting-whodunnit-with-a-controller-callback"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setting &lt;code&gt;whodunnit&lt;/code&gt; with a controller callback&lt;/h4&gt;
&lt;p&gt;If your controller has a &lt;code&gt;current_user&lt;/code&gt; method, PaperTrail provides a
callback that will assign &lt;code&gt;current_user.id&lt;/code&gt; to &lt;code&gt;whodunnit&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;ApplicationController&lt;/span&gt;
  before_action &lt;span class="pl-c1"&gt;:set_paper_trail_whodunnit&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You may want &lt;code&gt;set_paper_trail_whodunnit&lt;/code&gt; to call a different method to find out
who is responsible. To do so, override the &lt;code&gt;user_for_paper_trail&lt;/code&gt; method in
your controller like this:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;ApplicationController&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;user_for_paper_trail&lt;/span&gt;
    logged_in? &lt;span class="pl-k"&gt;?&lt;/span&gt; current_member.id : &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Public user&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; or whatever&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;See also: &lt;a href="https://github.com/paper-trail-gem/paper_trail/wiki/Setting-whodunnit-in-the-rails-console"&gt;Setting whodunnit in the rails console&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-terminator-and-originator" class="anchor" aria-hidden="true" href="#terminator-and-originator"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Terminator and Originator&lt;/h4&gt;
&lt;p&gt;A version's &lt;code&gt;whodunnit&lt;/code&gt; column tells us who changed the object, causing the
&lt;code&gt;version&lt;/code&gt; to be stored.  Because a version stores the object as it looked before
the change (see the table above), &lt;code&gt;whodunnit&lt;/code&gt; tells us who &lt;em&gt;stopped&lt;/em&gt; the object
looking like this -- not who made it look like this.  Hence &lt;code&gt;whodunnit&lt;/code&gt; is
aliased as &lt;code&gt;terminator&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;To find out who made a version's object look that way, use
&lt;code&gt;version.paper_trail_originator&lt;/code&gt;.  And to find out who made a "live" object look
like it does, call &lt;code&gt;paper_trail_originator&lt;/code&gt; on the object.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;widget &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Widget&lt;/span&gt;.find &lt;span class="pl-c1"&gt;153&lt;/span&gt;                    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; assume widget has 0 versions&lt;/span&gt;
&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.request.whodunnit &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Alice&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
widget.update &lt;span class="pl-c1"&gt;name:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Yankee&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
widget.paper_trail.originator               &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 'Alice'&lt;/span&gt;
&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.request.whodunnit &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Bob&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
widget.update &lt;span class="pl-c1"&gt;name:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Zulu&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
widget.paper_trail.originator               &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 'Bob'&lt;/span&gt;
first_version, last_version &lt;span class="pl-k"&gt;=&lt;/span&gt; widget.versions.first, widget.versions.last
first_version.whodunnit                     &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 'Alice'&lt;/span&gt;
first_version.paper_trail_originator        &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; nil&lt;/span&gt;
first_version.terminator                    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 'Alice'&lt;/span&gt;
last_version.whodunnit                      &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 'Bob'&lt;/span&gt;
last_version.paper_trail_originator         &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 'Alice'&lt;/span&gt;
last_version.terminator                     &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 'Bob'&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-storing-an-activerecord-globalid-in-whodunnit" class="anchor" aria-hidden="true" href="#storing-an-activerecord-globalid-in-whodunnit"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Storing an ActiveRecord globalid in whodunnit&lt;/h4&gt;
&lt;p&gt;If you would like &lt;code&gt;whodunnit&lt;/code&gt; to return an &lt;code&gt;ActiveRecord&lt;/code&gt; object instead of a
string, please try the &lt;a href="https://github.com/ankit1910/paper_trail-globalid"&gt;paper_trail-globalid&lt;/a&gt; gem.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-4b-associations" class="anchor" aria-hidden="true" href="#4b-associations"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4.b. Associations&lt;/h3&gt;
&lt;p&gt;To track and reify associations, use &lt;a href="https://github.com/westonganger/paper_trail-association_tracking"&gt;paper_trail-association_tracking&lt;/a&gt; (PT-AT).&lt;/p&gt;
&lt;p&gt;From 2014 to 2018, association tracking was an experimental feature, but many
issues were discovered. To attract new volunteers to address these issues, PT-AT
was extracted (see &lt;a href="https://github.com/paper-trail-gem/paper_trail/issues/1070"&gt;https://github.com/paper-trail-gem/paper_trail/issues/1070&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Even though it had always been an experimental feature, we didn't want the
extraction of PT-AT to be a breaking change, so great care was taken to remove
it slowly.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In PT 9, PT-AT was kept as a runtime dependency.&lt;/li&gt;
&lt;li&gt;In PT 10, it became a development dependency (If you use it you must add it to
your own &lt;code&gt;Gemfile&lt;/code&gt;) and we kept running all of its tests.&lt;/li&gt;
&lt;li&gt;In PT 11, it will no longer be a development dependency, and it is responsible
for its own tests.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-4b1-the-optional-item_subtype-column" class="anchor" aria-hidden="true" href="#4b1-the-optional-item_subtype-column"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4.b.1 The optional &lt;code&gt;item_subtype&lt;/code&gt; column&lt;/h4&gt;
&lt;p&gt;As of PT 10, users may add an &lt;code&gt;item_subtype&lt;/code&gt; column to their &lt;code&gt;versions&lt;/code&gt; table.
When storing versions for STI models, rails stores the base class in &lt;code&gt;item_type&lt;/code&gt;
(that's just how polymorphic associations like &lt;code&gt;item&lt;/code&gt; work) In addition, PT will
now store the subclass in &lt;code&gt;item_subtype&lt;/code&gt;. If this column is present PT-AT will
use it to fix a rare issue with reification of STI subclasses.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;add_column &lt;span class="pl-c1"&gt;:versions&lt;/span&gt;, &lt;span class="pl-c1"&gt;:item_subtype&lt;/span&gt;, &lt;span class="pl-c1"&gt;:string&lt;/span&gt;, &lt;span class="pl-c1"&gt;null:&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So, if you use PT-AT and STI, the addition of this column is recommended.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/paper-trail-gem/paper_trail/issues/594"&gt;https://github.com/paper-trail-gem/paper_trail/issues/594&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/paper-trail-gem/paper_trail/pull/1143"&gt;https://github.com/paper-trail-gem/paper_trail/pull/1143&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/westonganger/paper_trail-association_tracking/pull/5"&gt;https://github.com/westonganger/paper_trail-association_tracking/pull/5&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-4c-storing-metadata" class="anchor" aria-hidden="true" href="#4c-storing-metadata"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4.c. Storing Metadata&lt;/h3&gt;
&lt;p&gt;You can add your own custom columns to your &lt;code&gt;versions&lt;/code&gt; table. Values can be
given using &lt;strong&gt;Model Metadata&lt;/strong&gt; or &lt;strong&gt;Controller Metadata&lt;/strong&gt;.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-model-metadata" class="anchor" aria-hidden="true" href="#model-metadata"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Model Metadata&lt;/h4&gt;
&lt;p&gt;You can specify metadata in the model using &lt;code&gt;has_paper_trail(meta:)&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Article&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Base&lt;/span&gt;&lt;/span&gt;
  belongs_to &lt;span class="pl-c1"&gt;:author&lt;/span&gt;
  has_paper_trail(
    &lt;span class="pl-c1"&gt;meta:&lt;/span&gt; {
      &lt;span class="pl-c1"&gt;author_id:&lt;/span&gt; &lt;span class="pl-c1"&gt;:author_id&lt;/span&gt;, &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; model attribute&lt;/span&gt;
      &lt;span class="pl-c1"&gt;word_count:&lt;/span&gt; &lt;span class="pl-c1"&gt;:count_words&lt;/span&gt;, &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; arbitrary model method&lt;/span&gt;
      &lt;span class="pl-c1"&gt;answer:&lt;/span&gt; &lt;span class="pl-c1"&gt;42&lt;/span&gt;, &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; scalar value&lt;/span&gt;
      &lt;span class="pl-c1"&gt;editor:&lt;/span&gt; &lt;span class="pl-c1"&gt;proc&lt;/span&gt; { |&lt;span class="pl-smi"&gt;article&lt;/span&gt;| article.editor.full_name } &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; a Proc&lt;/span&gt;
    }
  )
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;count_words&lt;/span&gt;
    &lt;span class="pl-c1"&gt;153&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-metadata-from-controllers" class="anchor" aria-hidden="true" href="#metadata-from-controllers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Metadata from Controllers&lt;/h4&gt;
&lt;p&gt;You can also store any information you like from your controller.  Override
the &lt;code&gt;info_for_paper_trail&lt;/code&gt; method in your controller to return a hash whose keys
correspond to columns in your &lt;code&gt;versions&lt;/code&gt; table.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;ApplicationController&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;info_for_paper_trail&lt;/span&gt;
    { &lt;span class="pl-c1"&gt;ip:&lt;/span&gt; request.remote_ip, &lt;span class="pl-c1"&gt;user_agent:&lt;/span&gt; request.user_agent }
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-advantages-of-metadata" class="anchor" aria-hidden="true" href="#advantages-of-metadata"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Advantages of Metadata&lt;/h4&gt;
&lt;p&gt;Why would you do this?  In this example, &lt;code&gt;author_id&lt;/code&gt; is an attribute of
&lt;code&gt;Article&lt;/code&gt; and PaperTrail will store it anyway in a serialized form in the
&lt;code&gt;object&lt;/code&gt; column of the &lt;code&gt;version&lt;/code&gt; record.  But let's say you wanted to pull out
all versions for a particular author; without the metadata you would have to
deserialize (reify) each &lt;code&gt;version&lt;/code&gt; object to see if belonged to the author in
question.  Clearly this is inefficient.  Using the metadata you can find just
those versions you want:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;::&lt;span class="pl-c1"&gt;Version&lt;/span&gt;.where(&lt;span class="pl-c1"&gt;author_id:&lt;/span&gt; author_id)&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-metadata-can-override-papertrail-columns" class="anchor" aria-hidden="true" href="#metadata-can-override-papertrail-columns"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Metadata can Override PaperTrail Columns&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;Experts only&lt;/strong&gt;. Metadata will override the normal values that PT would have
inserted into its own columns.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;em&gt;PT Column&lt;/em&gt;&lt;/th&gt;
&lt;th&gt;&lt;em&gt;How bad of an idea?&lt;/em&gt;&lt;/th&gt;
&lt;th&gt;&lt;em&gt;Alternative&lt;/em&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;item_type&lt;/td&gt;
&lt;td&gt;terrible idea&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;item_id&lt;/td&gt;
&lt;td&gt;terrible idea&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;event&lt;/td&gt;
&lt;td&gt;meh&lt;/td&gt;
&lt;td&gt;paper_trail_event&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;whodunnit&lt;/td&gt;
&lt;td&gt;meh&lt;/td&gt;
&lt;td&gt;PaperTrail.request.whodunnit=&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;object&lt;/td&gt;
&lt;td&gt;a little dangerous&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;object_changes&lt;/td&gt;
&lt;td&gt;a little dangerous&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-5-activerecord" class="anchor" aria-hidden="true" href="#5-activerecord"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;5. ActiveRecord&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-5a-single-table-inheritance-sti" class="anchor" aria-hidden="true" href="#5a-single-table-inheritance-sti"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;5.a. Single Table Inheritance (STI)&lt;/h3&gt;
&lt;p&gt;PaperTrail supports &lt;a href="http://api.rubyonrails.org/classes/ActiveRecord/Base.html#class-ActiveRecord::Base-label-Single+table+inheritance" rel="nofollow"&gt;Single Table Inheritance&lt;/a&gt;, and even supports an
un-versioned base model, as of &lt;code&gt;23ffbdc7e1&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Fruit&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Base&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; un-versioned base model&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Banana&lt;span class="pl-e"&gt; &amp;lt; Fruit&lt;/span&gt;&lt;/span&gt;
  has_paper_trail
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, there is a known issue when reifying &lt;a href="#associations"&gt;associations&lt;/a&gt;,
see &lt;a href="https://github.com/paper-trail-gem/paper_trail/issues/594"&gt;https://github.com/paper-trail-gem/paper_trail/issues/594&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-5b-configuring-the-versions-association" class="anchor" aria-hidden="true" href="#5b-configuring-the-versions-association"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;5.b. Configuring the &lt;code&gt;versions&lt;/code&gt; Association&lt;/h3&gt;
&lt;p&gt;You may configure the name of the &lt;code&gt;versions&lt;/code&gt; association by passing a different
name (default is &lt;code&gt;:versions&lt;/code&gt;) in the &lt;code&gt;versions:&lt;/code&gt; options hash:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Post&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Base&lt;/span&gt;&lt;/span&gt;
  has_paper_trail &lt;span class="pl-c1"&gt;versions:&lt;/span&gt; {
    &lt;span class="pl-c1"&gt;name:&lt;/span&gt; &lt;span class="pl-c1"&gt;:drafts&lt;/span&gt;
  }
&lt;span class="pl-k"&gt;end&lt;/span&gt;

&lt;span class="pl-c1"&gt;Post&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;.versions &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; =&amp;gt; NoMethodError&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You may pass a
&lt;a href="https://api.rubyonrails.org/classes/ActiveRecord/Associations/ClassMethods.html#method-i-has_many-label-Scopes" rel="nofollow"&gt;scope&lt;/a&gt;
to the &lt;code&gt;versions&lt;/code&gt; association with the &lt;code&gt;scope:&lt;/code&gt; option:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Post&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Base&lt;/span&gt;&lt;/span&gt;
  has_paper_trail &lt;span class="pl-c1"&gt;versions:&lt;/span&gt; {
    &lt;span class="pl-c1"&gt;scope:&lt;/span&gt; &lt;span class="pl-c1"&gt;-&amp;gt;&lt;/span&gt; { order(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;id desc&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) }
  }

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Equivalent to:&lt;/span&gt;
  has_many &lt;span class="pl-c1"&gt;:versions&lt;/span&gt;,
    &lt;span class="pl-c1"&gt;-&amp;gt;&lt;/span&gt; { order(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;id desc&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) },
    &lt;span class="pl-c1"&gt;class_name:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;PaperTrail::Version&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;,
    &lt;span class="pl-c1"&gt;as:&lt;/span&gt; &lt;span class="pl-c1"&gt;:item&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Any other &lt;a href="https://api.rubyonrails.org/classes/ActiveRecord/Associations/ClassMethods.html#method-i-has_many-label-Options" rel="nofollow"&gt;options supported by
&lt;code&gt;has_many&lt;/code&gt;&lt;/a&gt;
can be passed along to the &lt;code&gt;has_many&lt;/code&gt; macro via the &lt;code&gt;versions:&lt;/code&gt; options hash.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Post&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Base&lt;/span&gt;&lt;/span&gt;
  has_paper_trail &lt;span class="pl-c1"&gt;versions:&lt;/span&gt; {
    &lt;span class="pl-c1"&gt;extend:&lt;/span&gt; &lt;span class="pl-c1"&gt;VersionsExtensions&lt;/span&gt;,
    &lt;span class="pl-c1"&gt;autosave:&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;
  }
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Overriding (instead of configuring) the &lt;code&gt;versions&lt;/code&gt; method is not supported.
Overriding associations is not recommended in general.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-5c-generators" class="anchor" aria-hidden="true" href="#5c-generators"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;5.c. Generators&lt;/h3&gt;
&lt;p&gt;PaperTrail has one generator, &lt;code&gt;paper_trail:install&lt;/code&gt;. It writes, but does not
run, a migration file.
The migration adds (at least) the &lt;code&gt;versions&lt;/code&gt; table. The
most up-to-date documentation for this generator can be found by running &lt;code&gt;rails generate paper_trail:install --help&lt;/code&gt;, but a copy is included here for
convenience.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Usage:
  rails generate paper_trail:install [options]

Options:
  [--with-changes], [--no-with-changes]            # Store changeset (diff) with each version

Runtime options:
  -f, [--force]                    # Overwrite files that already exist
  -p, [--pretend], [--no-pretend]  # Run but do not make any changes
  -q, [--quiet], [--no-quiet]      # Suppress status output
  -s, [--skip], [--no-skip]        # Skip files that already exist

Generates (but does not run) a migration to add a versions table.
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-5d-protected-attributes" class="anchor" aria-hidden="true" href="#5d-protected-attributes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;5.d. Protected Attributes&lt;/h3&gt;
&lt;p&gt;As of version 6, PT no longer supports rails 3 or the &lt;a href="https://github.com/rails/protected_attributes"&gt;protected_attributes&lt;/a&gt;
gem. If you are still using them, you may use PT 5 or lower. We recommend
upgrading to &lt;a href="https://github.com/rails/strong_parameters"&gt;strong_parameters&lt;/a&gt; as soon as possible.&lt;/p&gt;
&lt;p&gt;If you must use &lt;a href="https://github.com/rails/protected_attributes"&gt;protected_attributes&lt;/a&gt; for now, and want to use PT &amp;gt; 5, you
can reopen &lt;code&gt;PaperTrail::Version&lt;/code&gt; and add the following &lt;code&gt;attr_accessible&lt;/code&gt; fields:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; app/models/paper_trail/version.rb&lt;/span&gt;
&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-en"&gt;PaperTrail&lt;/span&gt;
  &lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Version&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Base&lt;/span&gt;&lt;/span&gt;
    &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;::&lt;span class="pl-c1"&gt;VersionConcern&lt;/span&gt;
    attr_accessible &lt;span class="pl-c1"&gt;:item_type&lt;/span&gt;, &lt;span class="pl-c1"&gt;:item_id&lt;/span&gt;, &lt;span class="pl-c1"&gt;:event&lt;/span&gt;, &lt;span class="pl-c1"&gt;:whodunnit&lt;/span&gt;, &lt;span class="pl-c1"&gt;:object&lt;/span&gt;, &lt;span class="pl-c1"&gt;:object_changes&lt;/span&gt;, &lt;span class="pl-c1"&gt;:created_at&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This &lt;em&gt;unsupported workaround&lt;/em&gt; has been tested with protected_attributes 1.0.9 /
rails 4.2.8 / paper_trail 7.0.3.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-6-extensibility" class="anchor" aria-hidden="true" href="#6-extensibility"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;6. Extensibility&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-6a-custom-version-classes" class="anchor" aria-hidden="true" href="#6a-custom-version-classes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;6.a. Custom Version Classes&lt;/h3&gt;
&lt;p&gt;You can specify custom version subclasses with the &lt;code&gt;:class_name&lt;/code&gt; option:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;PostVersion&lt;span class="pl-e"&gt; &amp;lt; PaperTrail::Version&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; custom behaviour, e.g:&lt;/span&gt;
  &lt;span class="pl-c1"&gt;self&lt;/span&gt;.table_name &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;:post_versions&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;

&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Post&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Base&lt;/span&gt;&lt;/span&gt;
  has_paper_trail &lt;span class="pl-c1"&gt;versions:&lt;/span&gt; {
    &lt;span class="pl-c1"&gt;class_name:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;PostVersion&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  }
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Unlike ActiveRecord's &lt;code&gt;class_name&lt;/code&gt;, you'll have to supply the complete module
path to the class (e.g. &lt;code&gt;Foo::BarVersion&lt;/code&gt; if your class is inside the module
&lt;code&gt;Foo&lt;/code&gt;).&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-advantages" class="anchor" aria-hidden="true" href="#advantages"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Advantages&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;For models which have a lot of versions, storing each model's versions in a
separate table can improve the performance of certain database queries.&lt;/li&gt;
&lt;li&gt;Store different version &lt;a href="#4c-storing-metadata"&gt;metadata&lt;/a&gt; for different models.&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;&lt;a id="user-content-configuration" class="anchor" aria-hidden="true" href="#configuration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Configuration&lt;/h4&gt;
&lt;p&gt;If you are using Postgres, you should also define the sequence that your custom
version class will use:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;PostVersion&lt;span class="pl-e"&gt; &amp;lt; PaperTrail::Version&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-c1"&gt;self&lt;/span&gt;.table_name &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;:post_versions&lt;/span&gt;
  &lt;span class="pl-c1"&gt;self&lt;/span&gt;.sequence_name &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;:post_versions_id_seq&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you only use custom version classes and don't have a &lt;code&gt;versions&lt;/code&gt; table, you
must let ActiveRecord know that the &lt;code&gt;PaperTrail::Version&lt;/code&gt; class is an
&lt;code&gt;abstract_class&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; app/models/paper_trail/version.rb&lt;/span&gt;
&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-en"&gt;PaperTrail&lt;/span&gt;
  &lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Version&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Base&lt;/span&gt;&lt;/span&gt;
    &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;::&lt;span class="pl-c1"&gt;VersionConcern&lt;/span&gt;
    &lt;span class="pl-c1"&gt;self&lt;/span&gt;.abstract_class &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can also specify custom names for the versions and version associations.
This is useful if you already have &lt;code&gt;versions&lt;/code&gt; or/and &lt;code&gt;version&lt;/code&gt; methods on your
model.  For example:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Post&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Base&lt;/span&gt;&lt;/span&gt;
  has_paper_trail &lt;span class="pl-c1"&gt;versions:&lt;/span&gt; { &lt;span class="pl-c1"&gt;name:&lt;/span&gt; &lt;span class="pl-c1"&gt;:paper_trail_versions&lt;/span&gt; },
                  &lt;span class="pl-c1"&gt;version:&lt;/span&gt;          &lt;span class="pl-c1"&gt;:paper_trail_version&lt;/span&gt;

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Existing versions method.  We don't want to clash.&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;versions&lt;/span&gt;
    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ...&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Existing version method.  We don't want to clash.&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;version&lt;/span&gt;
    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ...&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-6b-custom-serializer" class="anchor" aria-hidden="true" href="#6b-custom-serializer"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;6.b. Custom Serializer&lt;/h3&gt;
&lt;p&gt;By default, PaperTrail stores your changes as a &lt;code&gt;YAML&lt;/code&gt; dump. You can override
this with the serializer config option:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.serializer &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;MyCustomSerializer&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A valid serializer is a &lt;code&gt;module&lt;/code&gt; (or &lt;code&gt;class&lt;/code&gt;) that defines a &lt;code&gt;load&lt;/code&gt; and &lt;code&gt;dump&lt;/code&gt;
method.  These serializers are included in the gem for your convenience:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/paper-trail-gem/paper_trail/blob/master/lib/paper_trail/serializers/yaml.rb"&gt;PaperTrail::Serializers::YAML&lt;/a&gt; - Default&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/paper-trail-gem/paper_trail/blob/master/lib/paper_trail/serializers/json.rb"&gt;PaperTrail::Serializers::JSON&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-postgresql-json-column-type-support" class="anchor" aria-hidden="true" href="#postgresql-json-column-type-support"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;PostgreSQL JSON column type support&lt;/h4&gt;
&lt;p&gt;If you use PostgreSQL, and would like to store your &lt;code&gt;object&lt;/code&gt; (and/or
&lt;code&gt;object_changes&lt;/code&gt;) data in a column of &lt;a href="http://www.postgresql.org/docs/9.4/static/datatype-json.html" rel="nofollow"&gt;type &lt;code&gt;json&lt;/code&gt; or type &lt;code&gt;jsonb&lt;/code&gt;&lt;/a&gt;, specify
&lt;code&gt;json&lt;/code&gt; instead of &lt;code&gt;text&lt;/code&gt; for these columns in your migration:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;create_table &lt;span class="pl-c1"&gt;:versions&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;t&lt;/span&gt;|
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ...&lt;/span&gt;
  t.json &lt;span class="pl-c1"&gt;:object&lt;/span&gt;          &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Full object changes&lt;/span&gt;
  t.json &lt;span class="pl-c1"&gt;:object_changes&lt;/span&gt;  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Optional column-level changes&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ...&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you use the PostgreSQL &lt;code&gt;json&lt;/code&gt; or &lt;code&gt;jsonb&lt;/code&gt; column type, you do not need
to specify a &lt;code&gt;PaperTrail.serializer&lt;/code&gt;.&lt;/p&gt;
&lt;h5&gt;&lt;a id="user-content-convert-existing-yaml-data-to-json" class="anchor" aria-hidden="true" href="#convert-existing-yaml-data-to-json"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Convert existing YAML data to JSON&lt;/h5&gt;
&lt;p&gt;If you've been using PaperTrail for a while with the default YAML serializer
and you want to switch to JSON or JSONB, you're in a bit of a bind because
there's no automatic way to migrate your data. The first (slow) option is to
loop over every record and parse it in Ruby, then write to a temporary column:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;add_column &lt;span class="pl-c1"&gt;:versions&lt;/span&gt;, &lt;span class="pl-c1"&gt;:new_object&lt;/span&gt;, &lt;span class="pl-c1"&gt;:jsonb&lt;/span&gt; &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; or :json&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; add_column :versions, :new_object_changes, :jsonb # or :json&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; PaperTrail::Version.reset_column_information # needed for rails &amp;lt; 6&lt;/span&gt;

&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;::&lt;span class="pl-c1"&gt;Version&lt;/span&gt;.where.not(&lt;span class="pl-c1"&gt;object:&lt;/span&gt; &lt;span class="pl-c1"&gt;nil&lt;/span&gt;).find_each &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;version&lt;/span&gt;|
  version.update_column(&lt;span class="pl-c1"&gt;:new_object&lt;/span&gt;, &lt;span class="pl-c1"&gt;YAML&lt;/span&gt;.&lt;span class="pl-c1"&gt;load&lt;/span&gt;(version.object))

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; if version.object_changes&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;   version.update_column(&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;     :new_object_changes,&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;     YAML.load(version.object_changes)&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;   )&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;

remove_column &lt;span class="pl-c1"&gt;:versions&lt;/span&gt;, &lt;span class="pl-c1"&gt;:object&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; remove_column :versions, :object_changes&lt;/span&gt;
rename_column &lt;span class="pl-c1"&gt;:versions&lt;/span&gt;, &lt;span class="pl-c1"&gt;:new_object&lt;/span&gt;, &lt;span class="pl-c1"&gt;:object&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; rename_column :versions, :new_object_changes, :object_changes&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This technique can be very slow if you have a lot of data. Though slow, it is
safe in databases where transactions are protected against DDL, such as
Postgres. In databases without such protection, such as MySQL, a table lock may
be necessary.&lt;/p&gt;
&lt;p&gt;If the above technique is too slow for your needs, and you're okay doing without
PaperTrail data temporarily, you can create the new column without converting
the data.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;rename_column &lt;span class="pl-c1"&gt;:versions&lt;/span&gt;, &lt;span class="pl-c1"&gt;:object&lt;/span&gt;, &lt;span class="pl-c1"&gt;:old_object&lt;/span&gt;
add_column &lt;span class="pl-c1"&gt;:versions&lt;/span&gt;, &lt;span class="pl-c1"&gt;:object&lt;/span&gt;, &lt;span class="pl-c1"&gt;:jsonb&lt;/span&gt; &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; or :json&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After that migration, your historical data still exists as YAML, and new data
will be stored as JSON. Next, convert records from YAML to JSON using a
background script.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;::&lt;span class="pl-c1"&gt;Version&lt;/span&gt;.where.not(&lt;span class="pl-c1"&gt;old_object:&lt;/span&gt; &lt;span class="pl-c1"&gt;nil&lt;/span&gt;).find_each &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;version&lt;/span&gt;|
  version.update_columns &lt;span class="pl-c1"&gt;old_object:&lt;/span&gt; &lt;span class="pl-c1"&gt;nil&lt;/span&gt;, &lt;span class="pl-c1"&gt;object:&lt;/span&gt; &lt;span class="pl-c1"&gt;YAML&lt;/span&gt;.&lt;span class="pl-c1"&gt;load&lt;/span&gt;(version.old_object)
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Finally, in another migration, remove the old column.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;remove_column &lt;span class="pl-c1"&gt;:versions&lt;/span&gt;, &lt;span class="pl-c1"&gt;:old_object&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you use the optional &lt;code&gt;object_changes&lt;/code&gt; column, don't forget to convert it
also, using the same technique.&lt;/p&gt;
&lt;h5&gt;&lt;a id="user-content-convert-a-column-from-text-to-json" class="anchor" aria-hidden="true" href="#convert-a-column-from-text-to-json"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Convert a Column from Text to JSON&lt;/h5&gt;
&lt;p&gt;If your &lt;code&gt;object&lt;/code&gt; column already contains JSON data, and you want to change its
data type to &lt;code&gt;json&lt;/code&gt; or &lt;code&gt;jsonb&lt;/code&gt;, you can use the following &lt;a href="http://www.postgresql.org/docs/9.4/interactive/ddl.html" rel="nofollow"&gt;DDL&lt;/a&gt;. Of course,
if your &lt;code&gt;object&lt;/code&gt; column contains YAML, you must first convert the data to JSON
(see above) before you can change the column type.&lt;/p&gt;
&lt;p&gt;Using SQL:&lt;/p&gt;
&lt;div class="highlight highlight-source-sql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;alter&lt;/span&gt; &lt;span class="pl-k"&gt;table&lt;/span&gt; versions
alter column object type jsonb
using object::jsonb;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Using ActiveRecord:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;ConvertVersionsObjectToJson&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Migration&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;up&lt;/span&gt;
    change_column &lt;span class="pl-c1"&gt;:versions&lt;/span&gt;, &lt;span class="pl-c1"&gt;:object&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;jsonb USING object::jsonb&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;down&lt;/span&gt;
    change_column &lt;span class="pl-c1"&gt;:versions&lt;/span&gt;, &lt;span class="pl-c1"&gt;:object&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;text USING object::text&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-6c-custom-object-changes" class="anchor" aria-hidden="true" href="#6c-custom-object-changes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;6.c. Custom Object Changes&lt;/h3&gt;
&lt;p&gt;To fully control the contents of their &lt;code&gt;object_changes&lt;/code&gt; column, expert users
can write an adapter.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.config.object_changes_adapter &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;MyObjectChangesAdapter&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;

&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyObjectChangesAdapter&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; &lt;span class="pl-c"&gt;@&lt;/span&gt;&lt;span class="pl-c"&gt;param&lt;/span&gt;&lt;span class="pl-c"&gt; &lt;span class="pl-c"&gt;changes&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-c"&gt; Hash&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; &lt;span class="pl-c"&gt;@&lt;/span&gt;&lt;span class="pl-c"&gt;return&lt;/span&gt;&lt;span class="pl-c"&gt; Hash&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;diff&lt;/span&gt;(&lt;span class="pl-smi"&gt;changes&lt;/span&gt;)
    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ...&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You should only use this feature if you are comfortable reading PT's source to
see exactly how the adapter is used. For example, see how &lt;code&gt;diff&lt;/code&gt; is used by
reading &lt;code&gt;::PaperTrail::Events::Base#recordable_object_changes&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;An adapter can implement any or all of the following methods:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;diff: Returns the changeset in the desired format given the changeset in the original format&lt;/li&gt;
&lt;li&gt;load_changeset: Returns the changeset for a given version object&lt;/li&gt;
&lt;li&gt;where_object_changes: Returns the records resulting from the given hash of attributes.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Depending on what your adapter does, you may have to implement all three.&lt;/p&gt;
&lt;p&gt;For an example of a complete and useful adapter, see
&lt;a href="https://github.com/hashwin/paper_trail-hashdiff"&gt;paper_trail-hashdiff&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-6d-excluding-the-object-column" class="anchor" aria-hidden="true" href="#6d-excluding-the-object-column"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;6.d. Excluding the Object Column&lt;/h3&gt;
&lt;p&gt;The &lt;code&gt;object&lt;/code&gt; column ends up storing a lot of duplicate data if you have models that have many columns,
and that are updated many times. You can save ~50% of storage space by removing the column from the
versions table. It's important to note that this will disable &lt;code&gt;reify&lt;/code&gt; and &lt;code&gt;where_object&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-7-testing" class="anchor" aria-hidden="true" href="#7-testing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;7. Testing&lt;/h2&gt;
&lt;p&gt;You may want to turn PaperTrail off to speed up your tests.  See &lt;a href="#2d-turning-papertrail-off"&gt;Turning
PaperTrail Off&lt;/a&gt; above.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-7a-minitest" class="anchor" aria-hidden="true" href="#7a-minitest"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;7.a. Minitest&lt;/h3&gt;
&lt;p&gt;First, disable PT for the entire &lt;code&gt;ruby&lt;/code&gt; process.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; in config/environments/test.rb&lt;/span&gt;
config.after_initialize &lt;span class="pl-k"&gt;do&lt;/span&gt;
  &lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.enabled &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then, to enable PT for specific tests, you can add a &lt;code&gt;with_versioning&lt;/code&gt; test
helper method.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; in test/test_helper.rb&lt;/span&gt;
&lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;with_versioning&lt;/span&gt;
  was_enabled &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.enabled?
  was_enabled_for_request &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.request.enabled?
  &lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.enabled &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
  &lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.request.enabled &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
  &lt;span class="pl-k"&gt;begin&lt;/span&gt;
    &lt;span class="pl-k"&gt;yield&lt;/span&gt;
  &lt;span class="pl-k"&gt;ensure&lt;/span&gt;
    &lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.enabled &lt;span class="pl-k"&gt;=&lt;/span&gt; was_enabled
    &lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;.request.enabled &lt;span class="pl-k"&gt;=&lt;/span&gt; was_enabled_for_request
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then, use the helper in your tests.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;test&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;something that needs versioning&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
  with_versioning &lt;span class="pl-k"&gt;do&lt;/span&gt;
    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; your test&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-7b-rspec" class="anchor" aria-hidden="true" href="#7b-rspec"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;7.b. RSpec&lt;/h3&gt;
&lt;p&gt;PaperTrail provides a helper, &lt;code&gt;paper_trail/frameworks/rspec.rb&lt;/code&gt;, that works with
&lt;a href="https://github.com/rspec/rspec"&gt;RSpec&lt;/a&gt; to make it easier to control when &lt;code&gt;PaperTrail&lt;/code&gt; is enabled during
testing.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; spec/rails_helper.rb&lt;/span&gt;
&lt;span class="pl-c1"&gt;ENV&lt;/span&gt;[&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;RAILS_ENV&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;] &lt;span class="pl-k"&gt;||=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;test&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;spec_helper&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-c1"&gt;File&lt;/span&gt;.expand_path(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;../../config/environment&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;__FILE__&lt;/span&gt;)
&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;rspec/rails&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ...&lt;/span&gt;
&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;paper_trail/frameworks/rspec&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;With the helper loaded, PaperTrail will be turned off for all tests by
default. To enable PaperTrail for a test you can either wrap the
test in a &lt;code&gt;with_versioning&lt;/code&gt; block, or pass in &lt;code&gt;versioning: true&lt;/code&gt; option to a
spec block.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;describe &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;RSpec test group&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
  it &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;by default, PaperTrail will be turned off&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
    expect(&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;).to_not be_enabled
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  with_versioning &lt;span class="pl-k"&gt;do&lt;/span&gt;
    it &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;within a `with_versioning` block it will be turned on&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
      expect(&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;).to be_enabled
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  it &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;can be turned on at the `it` or `describe` level&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;versioning:&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
    expect(&lt;span class="pl-c1"&gt;PaperTrail&lt;/span&gt;).to be_enabled
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The helper will also reset &lt;code&gt;whodunnit&lt;/code&gt; to &lt;code&gt;nil&lt;/code&gt; before each
test to help prevent data spillover between tests. If you are using PaperTrail
with Rails, the helper will automatically set the
&lt;code&gt;PaperTrail.request.controller_info&lt;/code&gt; value to &lt;code&gt;{}&lt;/code&gt; as well, again, to help
prevent data spillover between tests.&lt;/p&gt;
&lt;p&gt;There is also a &lt;code&gt;be_versioned&lt;/code&gt; matcher provided by PaperTrail's RSpec helper
which can be leveraged like so:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Widget&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Base&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;

describe &lt;span class="pl-c1"&gt;Widget&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
  it &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;is not versioned by default&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
    is_expected.to_not be_versioned
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  describe &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;add versioning to the `Widget` class&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
    before(&lt;span class="pl-c1"&gt;:all&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt;
      &lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;Widget&lt;span class="pl-e"&gt; &amp;lt; ActiveRecord::Base&lt;/span&gt;&lt;/span&gt;
        has_paper_trail
      &lt;span class="pl-k"&gt;end&lt;/span&gt;
    &lt;span class="pl-k"&gt;end&lt;/span&gt;

    it &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;enables paper trail&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
      is_expected.to be_versioned
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-matchers" class="anchor" aria-hidden="true" href="#matchers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Matchers&lt;/h4&gt;
&lt;p&gt;The &lt;code&gt;have_a_version_with&lt;/code&gt; matcher makes assertions about versions using
&lt;code&gt;where_object&lt;/code&gt;, based on the &lt;code&gt;object&lt;/code&gt; column.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;describe &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;`have_a_version_with` matcher&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
  it &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;is possible to do assertions on version attributes&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
    widget.update!(&lt;span class="pl-c1"&gt;name:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Leonard&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;an_integer:&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;)
    widget.update!(&lt;span class="pl-c1"&gt;name:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Tom&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
    widget.update!(&lt;span class="pl-c1"&gt;name:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Bob&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
    expect(widget).to have_a_version_with &lt;span class="pl-c1"&gt;name:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Leonard&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;an_integer:&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;
    expect(widget).to have_a_version_with &lt;span class="pl-c1"&gt;an_integer:&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;
    expect(widget).to have_a_version_with &lt;span class="pl-c1"&gt;name:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Tom&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;have_a_version_with_changes&lt;/code&gt; matcher makes assertions about versions using
&lt;code&gt;where_object_changes&lt;/code&gt;, based on the optional
&lt;a href="#3c-diffing-versions"&gt;&lt;code&gt;object_changes&lt;/code&gt; column&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;describe &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;`have_a_version_with_changes` matcher&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
  it &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;is possible to do assertions on version changes&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
    widget.update!(&lt;span class="pl-c1"&gt;name:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Leonard&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;an_integer:&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;)
    widget.update!(&lt;span class="pl-c1"&gt;name:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Tom&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
    widget.update!(&lt;span class="pl-c1"&gt;name:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Bob&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
    expect(widget).to have_a_version_with_changes &lt;span class="pl-c1"&gt;name:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Leonard&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;an_integer:&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt;
    expect(widget).to have_a_version_with_changes &lt;span class="pl-c1"&gt;an_integer:&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt;
    expect(widget).to have_a_version_with_changes &lt;span class="pl-c1"&gt;name:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Bob&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For more examples of the RSpec matchers, see the
&lt;a href="https://github.com/paper-trail-gem/paper_trail/blob/master/spec/models/widget_spec.rb"&gt;Widget spec&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-7c-cucumber" class="anchor" aria-hidden="true" href="#7c-cucumber"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;7.c. Cucumber&lt;/h3&gt;
&lt;p&gt;PaperTrail provides a helper for &lt;a href="http://cukes.info" rel="nofollow"&gt;Cucumber&lt;/a&gt; that works similar to the RSpec
helper. If you want to use the helper, you will need to require in your cucumber
helper like so:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; features/support/env.rb&lt;/span&gt;

&lt;span class="pl-c1"&gt;ENV&lt;/span&gt;[&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;RAILS_ENV&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;] &lt;span class="pl-k"&gt;||=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;cucumber&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-c1"&gt;File&lt;/span&gt;.expand_path(&lt;span class="pl-c1"&gt;File&lt;/span&gt;.dirname(&lt;span class="pl-c1"&gt;__FILE__&lt;/span&gt;) &lt;span class="pl-k"&gt;+&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/../../config/environment&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ...&lt;/span&gt;
&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;paper_trail/frameworks/cucumber&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When the helper is loaded, PaperTrail will be turned off for all scenarios by a
&lt;code&gt;before&lt;/code&gt; hook added by the helper by default. When you want to enable PaperTrail
for a scenario, you can wrap code in a &lt;code&gt;with_versioning&lt;/code&gt; block in a step, like
so:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Given&lt;/span&gt; &lt;span class="pl-sr"&gt;/I want versioning on my model/&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
  with_versioning &lt;span class="pl-k"&gt;do&lt;/span&gt;
    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; PaperTrail will be turned on for all code inside of this block&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The helper will also reset the &lt;code&gt;whodunnit&lt;/code&gt; value to &lt;code&gt;nil&lt;/code&gt; before each
test to help prevent data spillover between tests. If you are using PaperTrail
with Rails, the helper will automatically set the
&lt;code&gt;PaperTrail.request.controller_info&lt;/code&gt; value to &lt;code&gt;{}&lt;/code&gt; as well, again, to help
prevent data spillover between tests.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-7d-spork" class="anchor" aria-hidden="true" href="#7d-spork"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;7.d. Spork&lt;/h3&gt;
&lt;p&gt;If you want to use the &lt;code&gt;RSpec&lt;/code&gt; or &lt;code&gt;Cucumber&lt;/code&gt; helpers with &lt;a href="https://github.com/sporkrb/spork"&gt;Spork&lt;/a&gt;, you will
need to manually require the helper(s) in your &lt;code&gt;prefork&lt;/code&gt; block on your test
helper, like so:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; spec/rails_helper.rb&lt;/span&gt;

&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;spork&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-c1"&gt;Spork&lt;/span&gt;.prefork &lt;span class="pl-k"&gt;do&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; This file is copied to spec/ when you run 'rails generate rspec:install'&lt;/span&gt;
  &lt;span class="pl-c1"&gt;ENV&lt;/span&gt;[&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;RAILS_ENV&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;] &lt;span class="pl-k"&gt;||=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;test&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;spec_helper&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-c1"&gt;File&lt;/span&gt;.expand_path(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;../../config/environment&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;__FILE__&lt;/span&gt;)
  &lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;rspec/rails&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;paper_trail/frameworks/rspec&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;paper_trail/frameworks/cucumber&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ...&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-7e-zeus-or-spring" class="anchor" aria-hidden="true" href="#7e-zeus-or-spring"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;7.e. Zeus or Spring&lt;/h3&gt;
&lt;p&gt;If you want to use the &lt;code&gt;RSpec&lt;/code&gt; or &lt;code&gt;Cucumber&lt;/code&gt; helpers with &lt;a href="https://github.com/burke/zeus"&gt;Zeus&lt;/a&gt; or
&lt;a href="https://github.com/rails/spring"&gt;Spring&lt;/a&gt;, you will need to manually require the helper(s) in your test
helper, like so:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; spec/rails_helper.rb&lt;/span&gt;

&lt;span class="pl-c1"&gt;ENV&lt;/span&gt;[&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;RAILS_ENV&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;] &lt;span class="pl-k"&gt;||=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;test&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;spec_helper&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-c1"&gt;File&lt;/span&gt;.expand_path(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;../../config/environment&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;__FILE__&lt;/span&gt;)
&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;rspec/rails&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;paper_trail/frameworks/rspec&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-8-papertrail-plugins" class="anchor" aria-hidden="true" href="#8-papertrail-plugins"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;8. PaperTrail Plugins&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/westonganger/paper_trail-association_tracking"&gt;paper_trail-association_tracking&lt;/a&gt; - track and reify associations&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ankit1910/paper_trail-globalid"&gt;paper_trail-globalid&lt;/a&gt; - enhances whodunnit by adding an &lt;code&gt;actor&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-9-integration-with-other-libraries" class="anchor" aria-hidden="true" href="#9-integration-with-other-libraries"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;9. Integration with Other Libraries&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/activeadmin/activeadmin/wiki/Auditing-via-paper_trail-%28change-history%29"&gt;ActiveAdmin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/fusion94/paper_trail_manager"&gt;paper_trail_manager&lt;/a&gt; - Browse, subscribe, view and revert changes to
records with rails and paper_trail&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/rikkipitt/rails_admin_history_rollback"&gt;rails_admin_history_rollback&lt;/a&gt; - History rollback for rails_admin with PT&lt;/li&gt;
&lt;li&gt;Sinatra - &lt;a href="https://github.com/jaredbeck/paper_trail-sinatra"&gt;paper_trail-sinatra&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/globalize/globalize"&gt;globalize&lt;/a&gt; - &lt;a href="https://github.com/globalize/globalize-versioning"&gt;globalize-versioning&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/solidusio-contrib/solidus_papertrail"&gt;solidus_papertrail&lt;/a&gt; - PT integration for Solidus
method to instances of PaperTrail::Version that returns the ActiveRecord
object who was responsible for change&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-10-related-libraries-and-ports" class="anchor" aria-hidden="true" href="#10-related-libraries-and-ports"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;10. Related Libraries and Ports&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/izelnakri/paper_trail"&gt;izelnakri/paper_trail&lt;/a&gt; - An Ecto library, inspired by PT.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/nielsgl/sequelize-paper-trail"&gt;sequelize-paper-trail&lt;/a&gt; - A JS library, inspired by PT. A sequelize
plugin for tracking revision history of model instances.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-articles" class="anchor" aria-hidden="true" href="#articles"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Articles&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://samurails.com/gems/papertrail/" rel="nofollow"&gt;Jutsu #8 - Version your RoR models with PaperTrail&lt;/a&gt;,
&lt;a href="http://samurails.com/about-me/" rel="nofollow"&gt;Thibault&lt;/a&gt;, 29th September 2014&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.sitepoint.com/versioning-papertrail" rel="nofollow"&gt;Versioning with PaperTrail&lt;/a&gt;,
&lt;a href="http://www.sitepoint.com/author/ibodrov" rel="nofollow"&gt;Ilya Bodrov&lt;/a&gt;, 10th April 2014&lt;/li&gt;
&lt;li&gt;&lt;a href="http://web.archive.org/web/20141120233916/http://rubyrailsexpert.com/?p=36" rel="nofollow"&gt;Using PaperTrail to track stack traces&lt;/a&gt;,
T James Corcoran's blog, 1st October 2013.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://railscasts.com/episodes/255-undo-with-paper-trail" rel="nofollow"&gt;RailsCast #255 - Undo with PaperTrail&lt;/a&gt;,
28th February 2011.&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.linux-mag.com/id/7528" rel="nofollow"&gt;Keep a Paper Trail with PaperTrail&lt;/a&gt;,
Linux Magazine, 16th September 2009.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-problems" class="anchor" aria-hidden="true" href="#problems"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Problems&lt;/h2&gt;
&lt;p&gt;Please use GitHub's &lt;a href="https://github.com/paper-trail-gem/paper_trail/issues"&gt;issue tracker&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-contributors" class="anchor" aria-hidden="true" href="#contributors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributors&lt;/h2&gt;
&lt;p&gt;Created by Andy Stewart in 2010, maintained since 2012 by Ben Atkins, since 2015
by Jared Beck, with contributions by over 150 people.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/paper-trail-gem/paper_trail/graphs/contributors"&gt;https://github.com/paper-trail-gem/paper_trail/graphs/contributors&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing&lt;/h2&gt;
&lt;p&gt;See our &lt;a href="https://github.com/paper-trail-gem/paper_trail/blob/master/.github/CONTRIBUTING.md"&gt;contribution guidelines&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-inspirations" class="anchor" aria-hidden="true" href="#inspirations"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Inspirations&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/jerome/simply_versioned"&gt;Simply Versioned&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/collectiveidea/audited"&gt;Acts As Audited&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-intellectual-property" class="anchor" aria-hidden="true" href="#intellectual-property"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Intellectual Property&lt;/h2&gt;
&lt;p&gt;Copyright (c) 2011 Andy Stewart (&lt;a href="mailto:boss@airbladesoftware.com"&gt;boss@airbladesoftware.com&lt;/a&gt;).
Released under the MIT licence.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>paper-trail-gem</author><guid isPermaLink="false">https://github.com/paper-trail-gem/paper_trail</guid><pubDate>Mon, 10 Feb 2020 00:19:00 GMT</pubDate></item><item><title>fluent/fluentd-kubernetes-daemonset #20 in Ruby, This week</title><link>https://github.com/fluent/fluentd-kubernetes-daemonset</link><description>&lt;p&gt;&lt;i&gt;Fluentd daemonset for Kubernetes and it Docker image&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-fluentd-daemonset-for-kubernetes" class="anchor" aria-hidden="true" href="#fluentd-daemonset-for-kubernetes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Fluentd Daemonset for Kubernetes&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/fluent/fluentd-kubernetes-daemonset" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/c9eed2edf4b4b413727788e624a46d9b1b1c9194/68747470733a2f2f696d672e736869656c64732e696f2f646f636b65722f73746172732f666c75656e742f666c75656e74642d6b756265726e657465732d6461656d6f6e7365742e737667" alt="Docker Stars" data-canonical-src="https://img.shields.io/docker/stars/fluent/fluentd-kubernetes-daemonset.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://hub.docker.com/r/fluent/fluentd-kubernetes-daemonset" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/dec39f90596d617100b741718b81c30aa80642c7/68747470733a2f2f696d672e736869656c64732e696f2f646f636b65722f70756c6c732f666c75656e742f666c75656e74642d6b756265726e657465732d6461656d6f6e7365742e737667" alt="Docker Pulls" data-canonical-src="https://img.shields.io/docker/pulls/fluent/fluentd-kubernetes-daemonset.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://hub.docker.com/r/fluent/fluentd-kubernetes-daemonset" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/e7f976e4fb8c2524172bf98f9197463f0db0ada0/68747470733a2f2f696d672e736869656c64732e696f2f696d6167656c61796572732f696d6167652d73697a652f666c75656e742f666c75656e74642d6b756265726e657465732d6461656d6f6e7365742f6c61746573742e737667" alt="ImageLayers Size" data-canonical-src="https://img.shields.io/imagelayers/image-size/fluent/fluentd-kubernetes-daemonset/latest.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://hub.docker.com/r/fluent/fluentd-kubernetes-daemonset" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/7a942e7e891f9d81e27a192d57f4f5127ae195cb/68747470733a2f2f696d672e736869656c64732e696f2f696d6167656c61796572732f6c61796572732f666c75656e742f666c75656e74642d6b756265726e657465732d6461656d6f6e7365742f6c61746573742e737667" alt="ImageLayers Layers" data-canonical-src="https://img.shields.io/imagelayers/layers/fluent/fluentd-kubernetes-daemonset/latest.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-supported-tags-and-respective-dockerfile-links" class="anchor" aria-hidden="true" href="#supported-tags-and-respective-dockerfile-links"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Supported tags and respective &lt;code&gt;Dockerfile&lt;/code&gt; links&lt;/h2&gt;
&lt;p&gt;See also dockerhub tags page: &lt;a href="https://hub.docker.com/r/fluent/fluentd-kubernetes-daemonset/tags" rel="nofollow"&gt;https://hub.docker.com/r/fluent/fluentd-kubernetes-daemonset/tags&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-debian" class="anchor" aria-hidden="true" href="#debian"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Debian&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-current-stable" class="anchor" aria-hidden="true" href="#current-stable"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Current stable&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;v1.8.1-debian-elasticsearch7-1.2,v1.8-debian-elasticsearch7-1,v1-debian-elasticsearch&lt;/code&gt; &lt;a href="docker-image/v1.8/debian-elasticsearch7/Dockerfile"&gt;docker-image/v1.8/debian-elasticsearch7/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v1.8.1-debian-elasticsearch6-1.1,v1.8-debian-elasticsearch6-1&lt;/code&gt; &lt;a href="docker-image/v1.8/debian-elasticsearch6/Dockerfile"&gt;docker-image/v1.8/debian-elasticsearch6/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v1.8.1-debian-loggly-1.0,v1.8-debian-loggly-1&lt;/code&gt; &lt;a href="docker-image/v1.8/debian-loggly/Dockerfile"&gt;docker-image/v1.8/debian-loggly/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v1.8.1-debian-logentries-1.0,v1.8-debian-logentries-1&lt;/code&gt; &lt;a href="docker-image/v1.8/debian-logentries/Dockerfile"&gt;docker-image/v1.8/debian-logentries/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v1.8.1-debian-cloudwatch-1.1,v1.8-debian-cloudwatch-1&lt;/code&gt; &lt;a href="docker-image/v1.8/debian-cloudwatch/Dockerfile"&gt;docker-image/v1.8/debian-cloudwatch/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v1.8.1-debian-stackdriver-1.0,v1.8-debian-stackdriver-1&lt;/code&gt; &lt;a href="docker-image/v1.8/debian-stackdriver/Dockerfile"&gt;docker-image/v1.8/debian-stackdriver/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v1.8.1-debian-s3-1.0,v1.8-debian-s3-1&lt;/code&gt; &lt;a href="docker-image/v1.8/debian-s3/Dockerfile"&gt;docker-image/v1.8/debian-s3/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v1.8.1-debian-syslog-1.0,v1.8-debian-syslog-1&lt;/code&gt; &lt;a href="docker-image/v1.8/debian-syslog/Dockerfile"&gt;docker-image/v1.8/debian-syslog/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v1.8.1-debian-forward-1.0,v1.8-debian-forward-1&lt;/code&gt; &lt;a href="docker-image/v1.8/debian-forward/Dockerfile"&gt;docker-image/v1.8/debian-forward/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v1.8.1-debian-gcs-1.0,v1.8-debian-gcs-1&lt;/code&gt; &lt;a href="docker-image/v1.8/debian-gcs/Dockerfile"&gt;docker-image/v1.8/debian-gcs/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v1.8.1-debian-graylog-1.0,v1.8-debian-graylog-1&lt;/code&gt; &lt;a href="docker-image/v1.8/debian-graylog/Dockerfile"&gt;docker-image/v1.8/debian-graylog/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v1.8.1-debian-papertrail-1.0,v1.8-debian-papertrail-1&lt;/code&gt; &lt;a href="docker-image/v1.8/debian-papertrail/Dockerfile"&gt;docker-image/v1.8/debian-papertrail/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v1.8.1-debian-logzio-1.0,v1.8-debian-logzio-1&lt;/code&gt; &lt;a href="docker-image/v1.8/debian-logzio/Dockerfile"&gt;docker-image/v1.8/debian-logzio/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v1.8.1-debian-kafka-2.0,v1.8-debian-kafka-2&lt;/code&gt; &lt;a href="docker-image/v1.8/debian-kafka/Dockerfile"&gt;docker-image/v1.8/debian-kafka/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v1.8.1-debian-kinesis-1.0,v1.8-debian-kinesis-1&lt;/code&gt; &lt;a href="docker-image/v1.8/debian-kinesis/Dockerfile"&gt;docker-image/v1.8/debian-kinesis/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can also use &lt;code&gt;v1-debian-PLUGIN&lt;/code&gt; tag to refer latest v1 image, e.g. &lt;code&gt;v1-debian-elasticsearch&lt;/code&gt;. On production, strict tag is better to avoid unexpected update.&lt;/p&gt;
&lt;p&gt;See dockerhub's tags page for older tags.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-old-stable" class="anchor" aria-hidden="true" href="#old-stable"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Old stable&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;v0.12-debian-elasticsearch&lt;/code&gt; &lt;a href="docker-image/v0.12/debian-elasticsearch/Dockerfile"&gt;docker-image/v0.12/debian-elasticsearch/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-debian-loggly&lt;/code&gt; &lt;a href="docker-image/v0.12/debian-loggly/Dockerfile"&gt;docker-image/v0.12/debian-loggly/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-debian-logentries&lt;/code&gt; &lt;a href="docker-image/v0.12/debian-logentries/Dockerfile"&gt;docker-image/v0.12/debian-logentries/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-debian-cloudwatch&lt;/code&gt; &lt;a href="docker-image/v0.12/debian-cloudwatch/Dockerfile"&gt;docker-image/v0.12/debian-cloudwatch/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-debian-stackdriver&lt;/code&gt; &lt;a href="docker-image/v0.12/debian-stackdriver/Dockerfile"&gt;docker-image/v0.12/debian-stackdriver/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-debian-s3&lt;/code&gt; &lt;a href="docker-image/v0.12/debian-s3/Dockerfile"&gt;docker-image/v0.12/debian-s3/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-debian-gcs&lt;/code&gt; &lt;a href="docker-image/v0.12/debian-gcs/Dockerfile"&gt;docker-image/v0.12/debian-gcs/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-debian-papertrail&lt;/code&gt; &lt;a href="docker-image/v0.12/debian-papertrail/Dockerfile"&gt;docker-image/v0.12/debian-papertrail/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-debian-syslog&lt;/code&gt; &lt;a href="docker-image/v0.12/debian-syslog/Dockerfile"&gt;docker-image/v0.12/debian-syslog/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-debian-graylog&lt;/code&gt; &lt;a href="docker-image/v0.12/debian-graylog/Dockerfile"&gt;docker-image/v0.12/debian-graylog/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-debian-logzio&lt;/code&gt; &lt;a href="docker-image/v0.12/debian-logzio/Dockerfile"&gt;docker-image/v0.12/debian-logzio/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-debian-kafka&lt;/code&gt; &lt;a href="docker-image/v0.12/debian-kafka/Dockerfile"&gt;docker-image/v0.12/debian-kafka/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-debian-splunkhec&lt;/code&gt; &lt;a href="docker-image/v0.12/debian-splunkhec/Dockerfile"&gt;docker-image/v0.12/debian-splunkhec/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-debian-kinesis&lt;/code&gt; &lt;a href="docker-image/v0.12/debian-kinesis/Dockerfile"&gt;docker-image/v0.12/debian-kinesis/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-alpine-linux-this-is-deprecated-use-debian-images-instead" class="anchor" aria-hidden="true" href="#alpine-linux-this-is-deprecated-use-debian-images-instead"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Alpine Linux (This is deprecated. Use Debian images instead)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;v0.12-alpine-elasticsearch&lt;/code&gt; &lt;a href="docker-image/v0.12/alpine-elasticsearch/Dockerfile"&gt;docker-image/v0.12/alpine-elasticsearch/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-alpine-loggly&lt;/code&gt; &lt;a href="docker-image/v0.12/alpine-loggly/Dockerfile"&gt;docker-image/v0.12/alpine-loggly/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-alpine-logentries&lt;/code&gt; &lt;a href="docker-image/v0.12/alpine-logentries/Dockerfile"&gt;docker-image/v0.12/alpine-logentries/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-alpine-cloudwatch&lt;/code&gt; &lt;a href="docker-image/v0.12/alpine-cloudwatch/Dockerfile"&gt;docker-image/v0.12/alpine-cloudwatch/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-alpine-stackdriver&lt;/code&gt; &lt;a href="docker-image/v0.12/alpine-stackdriver/Dockerfile"&gt;docker-image/v0.12/alpine-stackdriver/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-alpine-s3&lt;/code&gt; &lt;a href="docker-image/v0.12/alpine-s3/Dockerfile"&gt;docker-image/v0.12/alpine-s3/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-alpine-gcs&lt;/code&gt; &lt;a href="docker-image/v0.12/alpine-gcs/Dockerfile"&gt;docker-image/v0.12/alpine-gcs/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-alpine-papertrail&lt;/code&gt; &lt;a href="docker-image/v0.12/alpine-papertrail/Dockerfile"&gt;docker-image/v0.12/alpine-papertrail/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-alpine-syslog&lt;/code&gt; &lt;a href="docker-image/v0.12/alpine-syslog/Dockerfile"&gt;docker-image/v0.12/alpine-syslog/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-alpine-graylog&lt;/code&gt; &lt;a href="docker-image/v0.12/alpine-graylog/Dockerfile"&gt;docker-image/v0.12/alpine-graylog/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-alpine-logzio&lt;/code&gt; &lt;a href="docker-image/v0.12/alpine-logzio/Dockerfile"&gt;docker-image/v0.12/alpine-logzio/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-alpine-kafka&lt;/code&gt; &lt;a href="docker-image/v0.12/alpine-kafka/Dockerfile"&gt;docker-image/v0.12/alpine-kafka/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-alpine-kinesis&lt;/code&gt; &lt;a href="docker-image/v0.12/alpine-kinesis/Dockerfile"&gt;docker-image/v0.12/alpine-kinesis/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;v0.12-alpine-splunkhec&lt;/code&gt; &lt;a href="docker-image/v0.12/alpine-splunkhec/Dockerfile"&gt;docker-image/v0.12/alpine-splunkhec/Dockerfile&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-what-is-fluentd" class="anchor" aria-hidden="true" href="#what-is-fluentd"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What is Fluentd?&lt;/h2&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/8a9cd0603c693423a5029c4817ee8c8f29e4c78b/687474703a2f2f7777772e666c75656e74642e6f72672f6173736574732f696d672f6d697363656c6c616e792f666c75656e74642d6c6f676f2e706e67"&gt;&lt;img src="https://camo.githubusercontent.com/8a9cd0603c693423a5029c4817ee8c8f29e4c78b/687474703a2f2f7777772e666c75656e74642e6f72672f6173736574732f696d672f6d697363656c6c616e792f666c75656e74642d6c6f676f2e706e67" alt="Fluentd Logo" data-canonical-src="http://www.fluentd.org/assets/img/miscellany/fluentd-logo.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Fluentd is an open source data collector, which lets you unify the data
collection and consumption for a better use and understanding of data.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href="http://www.fluentd.org/" rel="nofollow"&gt;www.fluentd.org&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;&lt;a id="user-content-image-versions" class="anchor" aria-hidden="true" href="#image-versions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Image versions&lt;/h2&gt;
&lt;p&gt;Fluentd versioning is as follows:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Series&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;v1.x&lt;/td&gt;
&lt;td&gt;current stable&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;v0.12&lt;/td&gt;
&lt;td&gt;Old stable, no longer updated&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-settings" class="anchor" aria-hidden="true" href="#settings"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Settings&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-default-image-version" class="anchor" aria-hidden="true" href="#default-image-version"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Default image version&lt;/h3&gt;
&lt;p&gt;Default YAML uses latest v1 images like &lt;code&gt;fluent/fluentd-kubernetes-daemonset:v1-debian-kafka&lt;/code&gt;. If you want to avoid unexpected image update, specify exact version for &lt;code&gt;image&lt;/code&gt; like &lt;code&gt;fluent/fluentd-kubernetes-daemonset:v1.7.0-debian-kafka-1.1&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-run-as-root" class="anchor" aria-hidden="true" href="#run-as-root"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Run as root&lt;/h3&gt;
&lt;p&gt;This is for v0.12 images.&lt;/p&gt;
&lt;p&gt;In Kubernetes and default setting, fluentd needs root permission to read logs in &lt;code&gt;/var/log&lt;/code&gt; and write &lt;code&gt;pos_file&lt;/code&gt; to &lt;code&gt;/var/log&lt;/code&gt;.
To avoid permission error, you need to set &lt;code&gt;FLUENT_UID&lt;/code&gt; environment variable to &lt;code&gt;0&lt;/code&gt; in your Kubernetes configuration.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-use-your-configuration" class="anchor" aria-hidden="true" href="#use-your-configuration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Use your configuration&lt;/h3&gt;
&lt;p&gt;These images have default configuration and support some environment variables for parameters
but it sometimes doesn't fit your case. If you want to use your configuration, use ConfigMap feature.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-disable-systemd-input" class="anchor" aria-hidden="true" href="#disable-systemd-input"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Disable systemd input&lt;/h3&gt;
&lt;p&gt;If you don't setup systemd in the container, fluentd shows following messages by default configuration.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[warn]: #0 [in_systemd_bootkube] Systemd::JournalError: No such file or directory retrying in 1s
[warn]: #0 [in_systemd_kubelet] Systemd::JournalError: No such file or directory retrying in 1s
[warn]: #0 [in_systemd_docker] Systemd::JournalError: No such file or directory retrying in 1s
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can suppress these messages by setting &lt;code&gt;disable&lt;/code&gt; to &lt;code&gt;FLUENTD_SYSTEMD_CONF&lt;/code&gt; environment variable in your kubernetes configuration.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-disable-prometheus-input-plugins" class="anchor" aria-hidden="true" href="#disable-prometheus-input-plugins"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Disable prometheus input plugins&lt;/h3&gt;
&lt;p&gt;By default, latest images launch &lt;code&gt;prometheus&lt;/code&gt; plugins to monitor fluentd.
You can disable prometheus input plugin by setting &lt;code&gt;disable&lt;/code&gt; to &lt;code&gt;FLUENTD_PROMETHEUS_CONF&lt;/code&gt; environment variable in your kubernetes configuration.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-disable-sed-execution-on-elasticsearch-image" class="anchor" aria-hidden="true" href="#disable-sed-execution-on-elasticsearch-image"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Disable sed execution on elasticsearch image&lt;/h3&gt;
&lt;p&gt;By historical reason, elasaticsearch image executes &lt;code&gt;sed&lt;/code&gt; command during startup phase when &lt;code&gt;FLUENT_ELASTICSEARCH_USER&lt;/code&gt; or &lt;code&gt;FLUENT_ELASTICSEARCH_PASSWORD&lt;/code&gt; is specified. This sometimes causes a problem with read only mount.
To avoid this problem, set "true" to &lt;code&gt;FLUENT_ELASTICSEARCH_SED_DISABLE&lt;/code&gt; environment variable in your kubernetes configuration.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-running-on-openshift" class="anchor" aria-hidden="true" href="#running-on-openshift"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Running on OpenShift&lt;/h3&gt;
&lt;p&gt;This daemonset setting mounts &lt;code&gt;/var/log&lt;/code&gt; as service account &lt;code&gt;fluentd&lt;/code&gt; so you need to run containers as privileged container.
Here is command example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;oc project kube-system
oc create -f https://raw.githubusercontent.com/fluent/fluentd-kubernetes-daemonset/master/fluentd-daemonset-elasticsearch-rbac.yaml
oc adm policy add-scc-to-user privileged -z fluentd
oc patch ds fluentd -p "spec:
  template:
    spec:
      containers:
      - name: fluentd
        securityContext:
          privileged: true"
oc delete pod -l k8s-app = fluentd-logging
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is from &lt;a href="https://nekop.hatenablog.com/entry/2018/04/20/170257" rel="nofollow"&gt;nekop's japanese article&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-note" class="anchor" aria-hidden="true" href="#note"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Note&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-kafka-image-doesnt-support-zookeeper-parameters" class="anchor" aria-hidden="true" href="#kafka-image-doesnt-support-zookeeper-parameters"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;kafka image doesn't support zookeeper parameters&lt;/h3&gt;
&lt;p&gt;zookeeper gem doesn't work on Debian 10, so kafka image doesn't include zookeeper gem.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-maintainers" class="anchor" aria-hidden="true" href="#maintainers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Maintainers&lt;/h2&gt;
&lt;p&gt;Some images are contributed by users. If you have a problem/question for following images, ask it to contributors.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;cloudwatch : @so0k&lt;/li&gt;
&lt;li&gt;papertrail : @alexouzounis&lt;/li&gt;
&lt;li&gt;kafka : @erhudy&lt;/li&gt;
&lt;li&gt;graylog : @rtnpro&lt;/li&gt;
&lt;li&gt;gcs : @andor-pierdelacabeza&lt;/li&gt;
&lt;li&gt;Amazon Kinesis : @shiftky&lt;/li&gt;
&lt;li&gt;logz.io : @SaMnCo / @jamielennox&lt;/li&gt;
&lt;li&gt;splunkhec: @FutureSharks&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-references" class="anchor" aria-hidden="true" href="#references"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;References&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://docs.fluentd.org/container-deployment/kubernetes" rel="nofollow"&gt;Kubernetes Logging with Fluentd&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-issues" class="anchor" aria-hidden="true" href="#issues"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Issues&lt;/h2&gt;
&lt;p&gt;We can't notice comments in the DockerHub so don't use them for reporting
issues or asking question.&lt;/p&gt;
&lt;p&gt;If you have any problems with or questions about this image, please contact us
through a &lt;a href="https://github.com/fluent/fluentd-kubernetes-daemonset/issues"&gt;GitHub issue&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-pull-request" class="anchor" aria-hidden="true" href="#pull-request"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Pull Request&lt;/h2&gt;
&lt;p&gt;Update &lt;code&gt;templates&lt;/code&gt; files instead of &lt;code&gt;docker-image&lt;/code&gt; files.
&lt;code&gt;docker-image&lt;/code&gt; files are automatically generated from &lt;code&gt;templates&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Note: This file is generated from &lt;a href="templates/README.md.erb"&gt;templates/README.md.erb&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>fluent</author><guid isPermaLink="false">https://github.com/fluent/fluentd-kubernetes-daemonset</guid><pubDate>Mon, 10 Feb 2020 00:20:00 GMT</pubDate></item><item><title>bblimke/webmock #21 in Ruby, This week</title><link>https://github.com/bblimke/webmock</link><description>&lt;p&gt;&lt;i&gt;Library for stubbing and setting expectations on HTTP requests in Ruby.&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-webmock" class="anchor" aria-hidden="true" href="#webmock"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;WebMock&lt;/h1&gt;
&lt;p&gt;&lt;a href="http://badge.fury.io/rb/webmock" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/8978939f1ad74af40536084173963e69ed126265/68747470733a2f2f62616467652e667572792e696f2f72622f7765626d6f636b2e737667" alt="Gem Version" data-canonical-src="https://badge.fury.io/rb/webmock.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="http://travis-ci.org/bblimke/webmock" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/6632bc051aefcbc9c142ad00d63fcf9f2f39bc2e/68747470733a2f2f7365637572652e7472617669732d63692e6f72672f62626c696d6b652f7765626d6f636b2e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://secure.travis-ci.org/bblimke/webmock.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://codeclimate.com/github/bblimke/webmock" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/d7d120b918167371d169b9199ac8439378eb9ad6/68747470733a2f2f636f6465636c696d6174652e636f6d2f6769746875622f62626c696d6b652f7765626d6f636b2f6261646765732f6770612e737667" alt="Code Climate" data-canonical-src="https://codeclimate.com/github/bblimke/webmock/badges/gpa.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://github.com/markets/awesome-ruby"&gt;&lt;img src="https://camo.githubusercontent.com/974d19bae442ae2c1657753f39651ade6bef3411/68747470733a2f2f617765736f6d652e72652f6d656e74696f6e65642d62616467652e737667" alt="Mentioned in Awesome Ruby" data-canonical-src="https://awesome.re/mentioned-badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="http://inch-ci.org/github/bblimke/webmock" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/ec47d1811267686a5b5b7c071429e8aae9b75a13/687474703a2f2f696e63682d63692e6f72672f6769746875622f62626c696d6b652f7765626d6f636b2e7376673f6272616e63683d6d6173746572" alt="Inline docs" data-canonical-src="http://inch-ci.org/github/bblimke/webmock.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://dependabot.com/compatibility-score.html?dependency-name=webmock&amp;amp;package-manager=bundler&amp;amp;version-scheme=semver" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/389f92cad1a9bcc8bfcafad786c98e94862042b7/68747470733a2f2f6170692e646570656e6461626f742e636f6d2f6261646765732f636f6d7061746962696c6974795f73636f72653f646570656e64656e63792d6e616d653d7765626d6f636b267061636b6167652d6d616e616765723d62756e646c65722676657273696f6e2d736368656d653d73656d766572" alt="SemVer" data-canonical-src="https://api.dependabot.com/badges/compatibility_score?dependency-name=webmock&amp;amp;package-manager=bundler&amp;amp;version-scheme=semver" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Library for stubbing and setting expectations on HTTP requests in Ruby.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-features" class="anchor" aria-hidden="true" href="#features"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Features&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Stubbing HTTP requests at low http client lib level (no need to change tests when you change HTTP library)&lt;/li&gt;
&lt;li&gt;Setting and verifying expectations on HTTP requests&lt;/li&gt;
&lt;li&gt;Matching requests based on method, URI, headers and body&lt;/li&gt;
&lt;li&gt;Smart matching of the same URIs in different representations (also encoded and non encoded forms)&lt;/li&gt;
&lt;li&gt;Smart matching of the same headers in different representations.&lt;/li&gt;
&lt;li&gt;Support for Test::Unit&lt;/li&gt;
&lt;li&gt;Support for RSpec&lt;/li&gt;
&lt;li&gt;Support for MiniTest&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-supported-http-libraries" class="anchor" aria-hidden="true" href="#supported-http-libraries"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Supported HTTP libraries&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Net::HTTP and libraries based on Net::HTTP (i.e RightHttpConnection, REST Client, HTTParty)&lt;/li&gt;
&lt;li&gt;HTTPClient&lt;/li&gt;
&lt;li&gt;Patron&lt;/li&gt;
&lt;li&gt;EM-HTTP-Request&lt;/li&gt;
&lt;li&gt;Curb (currently only Curb::Easy)&lt;/li&gt;
&lt;li&gt;Typhoeus (currently only Typhoeus::Hydra)&lt;/li&gt;
&lt;li&gt;Excon&lt;/li&gt;
&lt;li&gt;HTTP Gem&lt;/li&gt;
&lt;li&gt;Manticore&lt;/li&gt;
&lt;li&gt;Async::HTTP::Client&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-supported-ruby-interpreters" class="anchor" aria-hidden="true" href="#supported-ruby-interpreters"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Supported Ruby Interpreters&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;MRI 2.2&lt;/li&gt;
&lt;li&gt;MRI 2.3&lt;/li&gt;
&lt;li&gt;MRI 2.4&lt;/li&gt;
&lt;li&gt;MRI 2.5&lt;/li&gt;
&lt;li&gt;MRI 2.6&lt;/li&gt;
&lt;li&gt;MRI 2.7&lt;/li&gt;
&lt;li&gt;JRuby&lt;/li&gt;
&lt;li&gt;Rubinius&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;gem install webmock
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-or-to-install-the-latest-development-version-from-github-master" class="anchor" aria-hidden="true" href="#or-to-install-the-latest-development-version-from-github-master"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;or to install the latest development version from github master&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;git clone http://github.com/bblimke/webmock.git
cd webmock
rake install
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-upgrading-from-v1x-to-v2x" class="anchor" aria-hidden="true" href="#upgrading-from-v1x-to-v2x"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Upgrading from v1.x to v2.x&lt;/h2&gt;
&lt;p&gt;WebMock 2.x has changed somewhat since version 1.x. Changes are listed in &lt;a href="CHANGELOG.md"&gt;CHANGELOG.md&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-testunit" class="anchor" aria-hidden="true" href="#testunit"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Test::Unit&lt;/h3&gt;
&lt;p&gt;Add the following code to &lt;code&gt;test/test_helper.rb&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;webmock/test_unit&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-rspec" class="anchor" aria-hidden="true" href="#rspec"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;RSpec&lt;/h3&gt;
&lt;p&gt;Add the following code to &lt;code&gt;spec/spec_helper&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;webmock/rspec&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-minitest" class="anchor" aria-hidden="true" href="#minitest"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;MiniTest&lt;/h3&gt;
&lt;p&gt;Add the following code to &lt;code&gt;test/test_helper&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;webmock/minitest&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-cucumber" class="anchor" aria-hidden="true" href="#cucumber"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Cucumber&lt;/h3&gt;
&lt;p&gt;Create a file &lt;code&gt;features/support/webmock.rb&lt;/code&gt; with the following contents:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;webmock/cucumber&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-outside-a-test-framework" class="anchor" aria-hidden="true" href="#outside-a-test-framework"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Outside a test framework&lt;/h3&gt;
&lt;p&gt;You can also use WebMock outside a test framework:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;webmock&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;::&lt;span class="pl-c1"&gt;API&lt;/span&gt;

&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;.enable!&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-examples" class="anchor" aria-hidden="true" href="#examples"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Examples&lt;/h2&gt;
&lt;h2&gt;&lt;a id="user-content-stubbing" class="anchor" aria-hidden="true" href="#stubbing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Stubbing&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-stubbed-request-based-on-uri-only-and-with-the-default-response" class="anchor" aria-hidden="true" href="#stubbed-request-based-on-uri-only-and-with-the-default-response"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Stubbed request based on uri only and with the default response&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:any&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)

&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-stubbing-requests-based-on-method-uri-body-and-headers" class="anchor" aria-hidden="true" href="#stubbing-requests-based-on-method-uri-body-and-headers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Stubbing requests based on method, uri, body and headers&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:post&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).
  with(&lt;span class="pl-c1"&gt;body:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;abc&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;headers:&lt;/span&gt; { &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Content-Length&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;3&lt;/span&gt; })

uri &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;URI&lt;/span&gt;.parse(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://www.example.com/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)
req &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;::&lt;span class="pl-c1"&gt;Post&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(uri.path)
req[&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Content-Length&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;] &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;3&lt;/span&gt;

res &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.start(uri.host, uri.port) &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;http&lt;/span&gt;|
  http.request(req, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;abc&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)
&lt;span class="pl-k"&gt;end&lt;/span&gt;    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-matching-request-body-and-headers-against-regular-expressions" class="anchor" aria-hidden="true" href="#matching-request-body-and-headers-against-regular-expressions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Matching request body and headers against regular expressions&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:post&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).
  with(&lt;span class="pl-c1"&gt;body:&lt;/span&gt; &lt;span class="pl-sr"&gt;/world$/&lt;/span&gt;, &lt;span class="pl-c1"&gt;headers:&lt;/span&gt; {&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Content-Type&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; =&amp;gt; &lt;span class="pl-sr"&gt;/image&lt;span class="pl-cce"&gt;\/&lt;/span&gt;.+/&lt;/span&gt;}).
  to_return(&lt;span class="pl-c1"&gt;body:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;abc&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)

uri &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;URI&lt;/span&gt;.parse(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;http://www.example.com/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
req &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;::&lt;span class="pl-c1"&gt;Post&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(uri.path)
req[&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Content-Type&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;] &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;image/png&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;

res &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.start(uri.host, uri.port) &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;http&lt;/span&gt;|
  http.request(req, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;hello world&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
&lt;span class="pl-k"&gt;end&lt;/span&gt;    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-matching-request-body-against-a-hash-body-can-be-url-encoded-json-or-xml" class="anchor" aria-hidden="true" href="#matching-request-body-against-a-hash-body-can-be-url-encoded-json-or-xml"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Matching request body against a hash. Body can be URL-Encoded, JSON or XML.&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:post&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).
  with(&lt;span class="pl-c1"&gt;body:&lt;/span&gt; {&lt;span class="pl-c1"&gt;data:&lt;/span&gt; {&lt;span class="pl-c1"&gt;a:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;1&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;b:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;five&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;}})

&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.post(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;data[a]=1&amp;amp;data[b]=five&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;content_type:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;application/x-www-form-urlencoded&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;

&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.post(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;{"data":{"a":"1","b":"five"}}&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;content_type:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;application/json&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;

&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.post(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;&amp;lt;data a="1" b="five" /&amp;gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;content_type:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;application/xml&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-matching-request-body-against-partial-hash" class="anchor" aria-hidden="true" href="#matching-request-body-against-partial-hash"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Matching request body against partial hash.&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:post&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).
  with(&lt;span class="pl-c1"&gt;body:&lt;/span&gt; hash_including({&lt;span class="pl-c1"&gt;data:&lt;/span&gt; {&lt;span class="pl-c1"&gt;a:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;1&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;b:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;five&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;}}))

&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.post(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;data[a]=1&amp;amp;data[b]=five&amp;amp;x=1&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
&lt;span class="pl-c1"&gt;:content_type&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;application/x-www-form-urlencoded&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-matching-custom-request-headers" class="anchor" aria-hidden="true" href="#matching-custom-request-headers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Matching custom request headers&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:any&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).
  with(&lt;span class="pl-c1"&gt;headers:&lt;/span&gt;{ &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Header-Name&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Header-Value&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; })

uri &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;URI&lt;/span&gt;.parse(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;http://www.example.com/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
req &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;::&lt;span class="pl-c1"&gt;Post&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(uri.path)
req[&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Header-Name&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;] &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Header-Value&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;

res &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.start(uri.host, uri.port) &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;http&lt;/span&gt;|
  http.request(req, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;abc&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
&lt;span class="pl-k"&gt;end&lt;/span&gt;    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-matching-multiple-headers-with-the-same-name" class="anchor" aria-hidden="true" href="#matching-multiple-headers-with-the-same-name"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Matching multiple headers with the same name&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).
  with(&lt;span class="pl-c1"&gt;headers:&lt;/span&gt; {&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Accept&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; =&amp;gt; [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;image/jpeg&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;image/png&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;] })

req &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;::&lt;span class="pl-c1"&gt;Get&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)
req[&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Accept&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;] &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;image/png&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;]
req.add_field(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Accept&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;image/jpeg&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.start(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) {|&lt;span class="pl-smi"&gt;http&lt;/span&gt;| http.request(req) }    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-matching-requests-against-provided-block" class="anchor" aria-hidden="true" href="#matching-requests-against-provided-block"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Matching requests against provided block&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:post&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).with { |&lt;span class="pl-smi"&gt;request&lt;/span&gt;| request.body &lt;span class="pl-k"&gt;==&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;abc&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; }
&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.post(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;abc&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-request-with-basic-authentication-header" class="anchor" aria-hidden="true" href="#request-with-basic-authentication-header"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Request with basic authentication header&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).with(&lt;span class="pl-c1"&gt;basic_auth:&lt;/span&gt; [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;user&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;pass&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;])
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; or&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; stub_request(:get, "www.example.com").&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;   with(headers: {'Authorization' =&amp;gt; "Basic #{ Base64.strict_encode64('user:pass').chomp}"})&lt;/span&gt;

&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.start(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;http&lt;/span&gt;|
  req &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;::&lt;span class="pl-c1"&gt;Get&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
  req.basic_auth &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;user&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;pass&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  http.request(req)
&lt;span class="pl-k"&gt;end&lt;/span&gt;    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5&gt;&lt;a id="user-content-important-since-version-200-webmock-does-not-match-credentials-provided-in-authorization-header-and-credentials-provided-in-the-userinfo-of-a-url-ie-stub_requestget-userpasswwwexamplecom-does-not-match-a-request-with-credentials-provided-in-the-authorization-header" class="anchor" aria-hidden="true" href="#important-since-version-200-webmock-does-not-match-credentials-provided-in-authorization-header-and-credentials-provided-in-the-userinfo-of-a-url-ie-stub_requestget-userpasswwwexamplecom-does-not-match-a-request-with-credentials-provided-in-the-authorization-header"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Important! Since version 2.0.0, WebMock does not match credentials provided in Authorization header and credentials provided in the userinfo of a url. I.e. &lt;code&gt;stub_request(:get, "user:pass@www.example.com")&lt;/code&gt; does not match a request with credentials provided in the Authorization header.&lt;/h5&gt;
&lt;h3&gt;&lt;a id="user-content-request-with-basic-authentication-in-the-url" class="anchor" aria-hidden="true" href="#request-with-basic-authentication-in-the-url"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Request with basic authentication in the url&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;user:pass@www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)

&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;user:pass@www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-matching-uris-using-regular-expressions" class="anchor" aria-hidden="true" href="#matching-uris-using-regular-expressions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Matching uris using regular expressions&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:any&lt;/span&gt;, &lt;span class="pl-sr"&gt;/example/&lt;/span&gt;)

&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-matching-uris-using-rfc-6570---basic-example" class="anchor" aria-hidden="true" href="#matching-uris-using-rfc-6570---basic-example"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Matching uris using RFC 6570 - Basic Example&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;uri_template &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Addressable&lt;/span&gt;::&lt;span class="pl-c1"&gt;Template&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com/{id}/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
stub_request(&lt;span class="pl-c1"&gt;:any&lt;/span&gt;, uri_template)

&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/webmock/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-matching-uris-using-rfc-6570---advanced-example" class="anchor" aria-hidden="true" href="#matching-uris-using-rfc-6570---advanced-example"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Matching uris using RFC 6570 - Advanced Example&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;uri_template &lt;span class="pl-k"&gt;=&lt;/span&gt;
  &lt;span class="pl-c1"&gt;Addressable&lt;/span&gt;::&lt;span class="pl-c1"&gt;Template&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com/thing/{id}.json{?x,y,z}{&amp;amp;other*}&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
stub_request(&lt;span class="pl-c1"&gt;:any&lt;/span&gt;, uri_template)

&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;,
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/thing/5.json?x=1&amp;amp;y=2&amp;amp;z=3&amp;amp;anyParam=4&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-matching-query-params-using-hash" class="anchor" aria-hidden="true" href="#matching-query-params-using-hash"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Matching query params using hash&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).with(&lt;span class="pl-c1"&gt;query:&lt;/span&gt; {&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;a&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; =&amp;gt; [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;b&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;c&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;]})

&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://www.example.com/?a[]=b&amp;amp;a[]=c&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-matching-partial-query-params-using-hash" class="anchor" aria-hidden="true" href="#matching-partial-query-params-using-hash"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Matching partial query params using hash&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).
  with(&lt;span class="pl-c1"&gt;query:&lt;/span&gt; hash_including({&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;a&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; =&amp;gt; [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;b&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;c&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;]}))

&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://www.example.com/?a[]=b&amp;amp;a[]=c&amp;amp;x=1&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-matching-partial-query-params-using-hash_excluding" class="anchor" aria-hidden="true" href="#matching-partial-query-params-using-hash_excluding"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Matching partial query params using hash_excluding&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).
  with(&lt;span class="pl-c1"&gt;query:&lt;/span&gt; hash_excluding({&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;a&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;b&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;}))

&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://www.example.com/?a=b&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Failure&lt;/span&gt;
&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://www.example.com/?a=c&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-stubbing-with-custom-response" class="anchor" aria-hidden="true" href="#stubbing-with-custom-response"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Stubbing with custom response&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:any&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).
  to_return(&lt;span class="pl-c1"&gt;body:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;abc&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;status:&lt;/span&gt; &lt;span class="pl-c1"&gt;200&lt;/span&gt;,
    &lt;span class="pl-c1"&gt;headers:&lt;/span&gt; { &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Content-Length&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;3&lt;/span&gt; })

&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; "abc"&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-response-with-body-specified-as-io-object" class="anchor" aria-hidden="true" href="#response-with-body-specified-as-io-object"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Response with body specified as IO object&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;File&lt;/span&gt;.&lt;span class="pl-c1"&gt;open&lt;/span&gt;(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/tmp/response_body.txt&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;w&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;) { |&lt;span class="pl-smi"&gt;f&lt;/span&gt;| f.&lt;span class="pl-c1"&gt;puts&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;abc&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; }

stub_request(&lt;span class="pl-c1"&gt;:any&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).
  to_return(&lt;span class="pl-c1"&gt;body:&lt;/span&gt; &lt;span class="pl-c1"&gt;File&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/tmp/response_body.txt&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;), &lt;span class="pl-c1"&gt;status:&lt;/span&gt; &lt;span class="pl-c1"&gt;200&lt;/span&gt;)

&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; "abc\n"&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-response-with-custom-status-message" class="anchor" aria-hidden="true" href="#response-with-custom-status-message"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Response with custom status message&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:any&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).
  to_return(&lt;span class="pl-c1"&gt;status:&lt;/span&gt; [&lt;span class="pl-c1"&gt;500&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Internal Server Error&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;])

req &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;::&lt;span class="pl-c1"&gt;Get&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)
&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.start(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) { |&lt;span class="pl-smi"&gt;http&lt;/span&gt;| http.request(req) }.
  message    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; "Internal Server Error"&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-replaying-raw-responses-recorded-with-curl--is" class="anchor" aria-hidden="true" href="#replaying-raw-responses-recorded-with-curl--is"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Replaying raw responses recorded with &lt;code&gt;curl -is&lt;/code&gt;&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;curl -is www.example.com &amp;gt; /tmp/example_curl_-is_output.txt
&lt;/code&gt;&lt;/pre&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;raw_response_file &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;File&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/tmp/example_curl_-is_output.txt&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;from file&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).to_return(raw_response_file)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;or string&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).to_return(raw_response_file.read)&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-responses-dynamically-evaluated-from-block" class="anchor" aria-hidden="true" href="#responses-dynamically-evaluated-from-block"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Responses dynamically evaluated from block&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:any&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.net&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).
  to_return { |&lt;span class="pl-smi"&gt;request&lt;/span&gt;| {&lt;span class="pl-c1"&gt;body:&lt;/span&gt; request.body} }

&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.post(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.net&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;abc&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; "abc\n"&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-responses-dynamically-evaluated-from-lambda" class="anchor" aria-hidden="true" href="#responses-dynamically-evaluated-from-lambda"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Responses dynamically evaluated from lambda&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:any&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.net&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).
  to_return(&lt;span class="pl-c1"&gt;lambda&lt;/span&gt; { |&lt;span class="pl-smi"&gt;request&lt;/span&gt;| {&lt;span class="pl-c1"&gt;body:&lt;/span&gt; request.body} })

&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.post(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.net&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;abc&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; "abc\n"&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-dynamically-evaluated-raw-responses-recorded-with-curl--is" class="anchor" aria-hidden="true" href="#dynamically-evaluated-raw-responses-recorded-with-curl--is"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Dynamically evaluated raw responses recorded with &lt;code&gt;curl -is&lt;/code&gt;&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;`curl -is www.example.com &amp;gt; /tmp/www.example.com.txt`
&lt;/code&gt;&lt;/pre&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).
  to_return(&lt;span class="pl-c1"&gt;lambda&lt;/span&gt; { |&lt;span class="pl-smi"&gt;request&lt;/span&gt;| &lt;span class="pl-c1"&gt;File&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/tmp/&lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt;request.uri.host.to_s&lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt;.txt&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) })&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-responses-with-dynamically-evaluated-parts" class="anchor" aria-hidden="true" href="#responses-with-dynamically-evaluated-parts"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Responses with dynamically evaluated parts&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:any&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.net&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).
  to_return(&lt;span class="pl-c1"&gt;body:&lt;/span&gt; &lt;span class="pl-c1"&gt;lambda&lt;/span&gt; { |&lt;span class="pl-smi"&gt;request&lt;/span&gt;| request.body })

&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.post(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.net&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;abc&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; "abc\n"&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-rack-responses" class="anchor" aria-hidden="true" href="#rack-responses"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Rack responses&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyRackApp&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;self.call&lt;/span&gt;(&lt;span class="pl-smi"&gt;env&lt;/span&gt;)
    [&lt;span class="pl-c1"&gt;200&lt;/span&gt;, {}, [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Hello&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;]]
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;

stub_request(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).to_rack(&lt;span class="pl-c1"&gt;MyRackApp&lt;/span&gt;)

&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.post(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; "Hello"&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-raising-errors" class="anchor" aria-hidden="true" href="#raising-errors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Raising errors&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-exception-declared-by-class" class="anchor" aria-hidden="true" href="#exception-declared-by-class"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Exception declared by class&lt;/h4&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:any&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.net&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).to_raise(&lt;span class="pl-c1"&gt;StandardError&lt;/span&gt;)

&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.post(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.net&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;abc&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; StandardError&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-or-by-exception-instance" class="anchor" aria-hidden="true" href="#or-by-exception-instance"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;or by exception instance&lt;/h4&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:any&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.net&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).to_raise(&lt;span class="pl-c1"&gt;StandardError&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;some error&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;))&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-or-by-string" class="anchor" aria-hidden="true" href="#or-by-string"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;or by string&lt;/h4&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:any&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.net&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).to_raise(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;some error&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-raising-timeout-errors" class="anchor" aria-hidden="true" href="#raising-timeout-errors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Raising timeout errors&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:any&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.net&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).to_timeout

&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.post(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.net&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;abc&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; RestClient::RequestTimeout&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-multiple-responses-for-repeated-requests" class="anchor" aria-hidden="true" href="#multiple-responses-for-repeated-requests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Multiple responses for repeated requests&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).
  to_return({&lt;span class="pl-c1"&gt;body:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;abc&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;}, {&lt;span class="pl-c1"&gt;body:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;def&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;})
&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; "abc\n"&lt;/span&gt;
&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; "def\n"&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;after all responses are used the last response will be returned infinitely&lt;/span&gt;

&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; "def\n"&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-multiple-responses-using-chained-to_return-to_raise-or-to_timeout-declarations" class="anchor" aria-hidden="true" href="#multiple-responses-using-chained-to_return-to_raise-or-to_timeout-declarations"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Multiple responses using chained &lt;code&gt;to_return()&lt;/code&gt;, &lt;code&gt;to_raise()&lt;/code&gt; or &lt;code&gt;to_timeout&lt;/code&gt; declarations&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).
  to_return({&lt;span class="pl-c1"&gt;body:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;abc&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;}).then.  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;then() is just a syntactic sugar&lt;/span&gt;
  to_return({&lt;span class="pl-c1"&gt;body:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;def&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;}).then.
  to_raise(&lt;span class="pl-c1"&gt;MyException&lt;/span&gt;)

&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; "abc\n"&lt;/span&gt;
&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; "def\n"&lt;/span&gt;
&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; MyException raised&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-specifying-number-of-times-given-response-should-be-returned" class="anchor" aria-hidden="true" href="#specifying-number-of-times-given-response-should-be-returned"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Specifying number of times given response should be returned&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).
  to_return({&lt;span class="pl-c1"&gt;body:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;abc&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;}).times(&lt;span class="pl-c1"&gt;2&lt;/span&gt;).then.
  to_return({&lt;span class="pl-c1"&gt;body:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;def&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;})

&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; "abc\n"&lt;/span&gt;
&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; "abc\n"&lt;/span&gt;
&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; "def\n"&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-removing-unused-stubs" class="anchor" aria-hidden="true" href="#removing-unused-stubs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Removing unused stubs&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_get &lt;span class="pl-k"&gt;=&lt;/span&gt; stub_request(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)
remove_request_stub(stub_get)&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-real-requests-to-network-can-be-allowed-or-disabled" class="anchor" aria-hidden="true" href="#real-requests-to-network-can-be-allowed-or-disabled"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Real requests to network can be allowed or disabled&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;.allow_net_connect!

stub_request(&lt;span class="pl-c1"&gt;:any&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).to_return(&lt;span class="pl-c1"&gt;body:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;abc&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)

&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; "abc"&lt;/span&gt;

&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.something.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; /.+Something.+/&lt;/span&gt;

&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;.disable_net_connect!

&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.something.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Failure&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-external-requests-can-be-disabled-while-allowing-localhost" class="anchor" aria-hidden="true" href="#external-requests-can-be-disabled-while-allowing-localhost"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;External requests can be disabled while allowing localhost&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;.disable_net_connect!(&lt;span class="pl-c1"&gt;allow_localhost:&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;)

&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.something.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Failure&lt;/span&gt;

&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;localhost:9887&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Allowed. Perhaps to Selenium?&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-external-requests-can-be-disabled-while-allowing-specific-requests" class="anchor" aria-hidden="true" href="#external-requests-can-be-disabled-while-allowing-specific-requests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;External requests can be disabled while allowing specific requests&lt;/h3&gt;
&lt;p&gt;Allowed requests can be specified in a number of ways.&lt;/p&gt;
&lt;p&gt;With a &lt;code&gt;String&lt;/code&gt; specifying a host name:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;.disable_net_connect!(&lt;span class="pl-c1"&gt;allow:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.org&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)

&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.something.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Failure&lt;/span&gt;
&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.org&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)      &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Allowed&lt;/span&gt;
&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.org:8080&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Allowed&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;With a &lt;code&gt;String&lt;/code&gt; specifying a host name and a port:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;.disable_net_connect!(&lt;span class="pl-c1"&gt;allow:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.org:8080&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)

&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.something.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Failure&lt;/span&gt;
&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.org&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)      &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Failure&lt;/span&gt;
&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.org:8080&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Allowed&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;With a &lt;code&gt;Regexp&lt;/code&gt; matching the URI:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;.disable_net_connect!(&lt;span class="pl-c1"&gt;allow:&lt;/span&gt; &lt;span class="pl-sr"&gt;%r{ample.org/foo}&lt;/span&gt;)

&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.org&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/foo/bar&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Allowed&lt;/span&gt;
&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;sample.org&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/foo&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)          &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Allowed&lt;/span&gt;
&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;sample.org&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/bar&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)          &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Failure&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;With an object that responds to &lt;code&gt;#call&lt;/code&gt;, receiving a &lt;code&gt;URI&lt;/code&gt; object and returning a boolean:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;blacklist &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;google.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;facebook.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;apple.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;]
allowed_sites &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;lambda&lt;/span&gt;{|&lt;span class="pl-smi"&gt;uri&lt;/span&gt;|
  blacklist.none?{|&lt;span class="pl-smi"&gt;site&lt;/span&gt;| uri.host.include?(site) }
}
&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;.disable_net_connect!(&lt;span class="pl-c1"&gt;allow:&lt;/span&gt; allowed_sites)

&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.org&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Allowed&lt;/span&gt;
&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.facebook.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Failure&lt;/span&gt;
&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;apple.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)        &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Failure&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;With an &lt;code&gt;Array&lt;/code&gt; of any of the above:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;.disable_net_connect!(&lt;span class="pl-c1"&gt;allow:&lt;/span&gt; [
  &lt;span class="pl-c1"&gt;lambda&lt;/span&gt;{|&lt;span class="pl-smi"&gt;uri&lt;/span&gt;| uri.host.length &lt;span class="pl-k"&gt;%&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt; &lt;span class="pl-k"&gt;==&lt;/span&gt; &lt;span class="pl-c1"&gt;0&lt;/span&gt; },
  &lt;span class="pl-sr"&gt;/ample.org/&lt;/span&gt;,
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;bbc.co.uk&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;,
])

&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.org&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Allowed&lt;/span&gt;
&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;bbc.co.uk&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)       &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Allowed&lt;/span&gt;
&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;bbc.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)         &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Allowed&lt;/span&gt;
&lt;span class="pl-c1"&gt;RestClient&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.bbc.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)     &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Failure&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-connecting-on-nethttpstart" class="anchor" aria-hidden="true" href="#connecting-on-nethttpstart"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Connecting on Net::HTTP.start&lt;/h2&gt;
&lt;p&gt;HTTP protocol has 3 steps: connect, request and response (or 4 with close). Most Ruby HTTP client libraries
treat connect as a part of request step, with the exception of &lt;code&gt;Net::HTTP&lt;/code&gt; which
allows opening connection to the server separately to the request, by using &lt;code&gt;Net::HTTP.start&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;WebMock API was also designed with connect being part of request step, and it only allows stubbing
requests, not connections. When &lt;code&gt;Net::HTTP.start&lt;/code&gt; is called, WebMock doesn't know yet whether
a request is stubbed or not. WebMock by default delays a connection until the request is invoked,
so when there is no request, &lt;code&gt;Net::HTTP.start&lt;/code&gt; doesn't do anything.
&lt;strong&gt;This means that WebMock breaks the Net::HTTP behaviour by default!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;To workaround this issue, WebMock offers &lt;code&gt;:net_http_connect_on_start&lt;/code&gt; option,
which can be passed to &lt;code&gt;WebMock.allow_net_connect!&lt;/code&gt; and &lt;code&gt;WebMock.disable_net_connect!&lt;/code&gt; methods, i.e.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;.allow_net_connect!(&lt;span class="pl-c1"&gt;net_http_connect_on_start:&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This forces WebMock Net::HTTP adapter to always connect on &lt;code&gt;Net::HTTP.start&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-setting-expectations" class="anchor" aria-hidden="true" href="#setting-expectations"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setting Expectations&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-setting-expectations-in-testunit" class="anchor" aria-hidden="true" href="#setting-expectations-in-testunit"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setting expectations in Test::Unit&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;webmock/test_unit&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;

stub_request(&lt;span class="pl-c1"&gt;:any&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)

uri &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;URI&lt;/span&gt;.parse(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;http://www.example.com/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
req &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;::&lt;span class="pl-c1"&gt;Post&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(uri.path)
req[&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Content-Length&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;] &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;3&lt;/span&gt;

res &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.start(uri.host, uri.port) &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;http&lt;/span&gt;|
  http.request(req, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;abc&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
&lt;span class="pl-k"&gt;end&lt;/span&gt;

assert_requested &lt;span class="pl-c1"&gt;:post&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;headers:&lt;/span&gt; {&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Content-Length&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;3&lt;/span&gt;}, &lt;span class="pl-c1"&gt;body:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;abc&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;times:&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;

assert_not_requested &lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://www.something.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;

assert_requested(&lt;span class="pl-c1"&gt;:post&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
  &lt;span class="pl-c1"&gt;times:&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;) { |&lt;span class="pl-smi"&gt;req&lt;/span&gt;| req.body &lt;span class="pl-k"&gt;==&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;abc&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; }&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-expecting-real-not-stubbed-requests" class="anchor" aria-hidden="true" href="#expecting-real-not-stubbed-requests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Expecting real (not stubbed) requests&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;.allow_net_connect!

&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;

assert_requested &lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-setting-expectations-in-testunit-on-the-stub" class="anchor" aria-hidden="true" href="#setting-expectations-in-testunit-on-the-stub"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setting expectations in Test::Unit on the stub&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_get &lt;span class="pl-k"&gt;=&lt;/span&gt; stub_request(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)
stub_post &lt;span class="pl-k"&gt;=&lt;/span&gt; stub_request(&lt;span class="pl-c1"&gt;:post&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)

&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)

assert_requested(stub_get)
assert_not_requested(stub_post)&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-setting-expectations-in-rspec-on-webmock-module" class="anchor" aria-hidden="true" href="#setting-expectations-in-rspec-on-webmock-module"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setting expectations in RSpec on &lt;code&gt;WebMock&lt;/code&gt; module&lt;/h3&gt;
&lt;p&gt;This style is borrowed from &lt;a href="http://github.com/pat/fakeweb-matcher"&gt;fakeweb-matcher&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;webmock/rspec&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;

expect(&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;).to have_requested(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).
  with(&lt;span class="pl-c1"&gt;body:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;abc&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;headers:&lt;/span&gt; {&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Content-Length&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;3&lt;/span&gt;}).twice

expect(&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;).not_to have_requested(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.something.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)

expect(&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;).to have_requested(&lt;span class="pl-c1"&gt;:post&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).
  with { |&lt;span class="pl-smi"&gt;req&lt;/span&gt;| req.body &lt;span class="pl-k"&gt;==&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;abc&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; }
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Note that the block with `do ... end` instead of curly brackets won't work!&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Why? See this comment https://github.com/bblimke/webmock/issues/174#issuecomment-34908908&lt;/span&gt;

expect(&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;).to have_requested(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).
  with(&lt;span class="pl-c1"&gt;query:&lt;/span&gt; {&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;a&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; =&amp;gt; [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;b&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;c&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;]})

expect(&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;).to have_requested(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).
  with(&lt;span class="pl-c1"&gt;query:&lt;/span&gt; hash_including({&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;a&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; =&amp;gt; [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;b&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;c&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;]}))

expect(&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;).to have_requested(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).
  with(&lt;span class="pl-c1"&gt;body:&lt;/span&gt; {&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;a&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; =&amp;gt; [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;b&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;c&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;]},
    &lt;span class="pl-c1"&gt;headers:&lt;/span&gt; {&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Content-Type&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;application/json&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;})&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-setting-expectations-in-rspec-with-a_request" class="anchor" aria-hidden="true" href="#setting-expectations-in-rspec-with-a_request"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setting expectations in RSpec with &lt;code&gt;a_request&lt;/code&gt;&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;expect(a_request(&lt;span class="pl-c1"&gt;:post&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).
  with(&lt;span class="pl-c1"&gt;body:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;abc&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;headers:&lt;/span&gt; {&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Content-Length&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;3&lt;/span&gt;})).
  to have_been_made.once

expect(a_request(&lt;span class="pl-c1"&gt;:post&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.something.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)).to have_been_made.times(&lt;span class="pl-c1"&gt;3&lt;/span&gt;)

expect(a_request(&lt;span class="pl-c1"&gt;:post&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.something.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)).to have_been_made.at_least_once

expect(a_request(&lt;span class="pl-c1"&gt;:post&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.something.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)).
  to have_been_made.at_least_times(&lt;span class="pl-c1"&gt;3&lt;/span&gt;)

expect(a_request(&lt;span class="pl-c1"&gt;:post&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.something.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)).to have_been_made.at_most_twice

expect(a_request(&lt;span class="pl-c1"&gt;:post&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.something.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)).to have_been_made.at_most_times(&lt;span class="pl-c1"&gt;3&lt;/span&gt;)

expect(a_request(&lt;span class="pl-c1"&gt;:any&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)).not_to have_been_made

expect(a_request(&lt;span class="pl-c1"&gt;:post&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).with { |&lt;span class="pl-smi"&gt;req&lt;/span&gt;| req.body &lt;span class="pl-k"&gt;==&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;abc&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; }).
  to have_been_made

expect(a_request(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).with(&lt;span class="pl-c1"&gt;query:&lt;/span&gt; {&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;a&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; =&amp;gt; [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;b&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;c&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;]})).
  to have_been_made

expect(a_request(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).
  with(&lt;span class="pl-c1"&gt;query:&lt;/span&gt; hash_including({&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;a&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; =&amp;gt; [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;b&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;c&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;]}))).to have_been_made

expect(a_request(&lt;span class="pl-c1"&gt;:post&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).
  with(&lt;span class="pl-c1"&gt;body:&lt;/span&gt; {&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;a&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; =&amp;gt; [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;b&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;c&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;]},
    &lt;span class="pl-c1"&gt;headers:&lt;/span&gt; {&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Content-Type&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;application/json&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;})).to have_been_made&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-setting-expectations-in-rspec-on-the-stub" class="anchor" aria-hidden="true" href="#setting-expectations-in-rspec-on-the-stub"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setting expectations in RSpec on the stub&lt;/h3&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub &lt;span class="pl-k"&gt;=&lt;/span&gt; stub_request(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ... make requests ...&lt;/span&gt;
expect(stub).to have_been_requested&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-clearing-stubs-and-request-history" class="anchor" aria-hidden="true" href="#clearing-stubs-and-request-history"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Clearing stubs and request history&lt;/h2&gt;
&lt;p&gt;If you want to reset all current stubs and history of requests use &lt;code&gt;WebMock.reset!&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:any&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)

&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;

&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;.reset!

&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Failure&lt;/span&gt;

assert_not_requested &lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ===&amp;gt; Success&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-clearing-request-counters" class="anchor" aria-hidden="true" href="#clearing-request-counters"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Clearing request counters&lt;/h2&gt;
&lt;p&gt;If you want to reset &lt;strong&gt;only&lt;/strong&gt; the counters of the executed requests use &lt;code&gt;WebMock.reset_executed_requests!&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub  &lt;span class="pl-k"&gt;=&lt;/span&gt; stub_request(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)
stub2 &lt;span class="pl-k"&gt;=&lt;/span&gt; stub_request(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example2.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)

&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)

&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example2.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)

expect(stub).to have_been_requested.times(&lt;span class="pl-c1"&gt;2&lt;/span&gt;)
expect(stub2).to have_been_requested.times(&lt;span class="pl-c1"&gt;1&lt;/span&gt;)

&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;.reset_executed_requests!

expect(stub).not_to have_been_requested
expect(stub2).not_to have_been_requested&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-disabling-and-enabling-webmock-or-only-some-http-client-adapters" class="anchor" aria-hidden="true" href="#disabling-and-enabling-webmock-or-only-some-http-client-adapters"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Disabling and enabling WebMock or only some http client adapters&lt;/h2&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Disable WebMock (all adapters)&lt;/span&gt;
&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;.disable!

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Disable WebMock for all libs except Net::HTTP&lt;/span&gt;
&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;.disable!(&lt;span class="pl-c1"&gt;except:&lt;/span&gt; [&lt;span class="pl-c1"&gt;:net_http&lt;/span&gt;])

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Enable WebMock (all adapters)&lt;/span&gt;
&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;.enable!

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Enable WebMock for all libs except Patron&lt;/span&gt;
&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;.enable!(&lt;span class="pl-c1"&gt;except:&lt;/span&gt; [&lt;span class="pl-c1"&gt;:patron&lt;/span&gt;])&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-matching-requests" class="anchor" aria-hidden="true" href="#matching-requests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Matching requests&lt;/h2&gt;
&lt;p&gt;An executed request matches stubbed request if it passes following criteria:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;When request URI matches stubbed request URI string, Regexp pattern or RFC 6570 URI Template&lt;/li&gt;
&lt;li&gt;And request method is the same as stubbed request method or stubbed request method is :any&lt;/li&gt;
&lt;li&gt;And request body is the same as stubbed request body or stubbed request body is not specified&lt;/li&gt;
&lt;li&gt;And request headers match stubbed request headers, or stubbed request headers match a subset of request headers, or stubbed request headers are not specified&lt;/li&gt;
&lt;li&gt;And request matches provided block or block is not provided&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-precedence-of-stubs" class="anchor" aria-hidden="true" href="#precedence-of-stubs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Precedence of stubs&lt;/h2&gt;
&lt;p&gt;Always the last declared stub matching the request will be applied i.e:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;stub_request(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).to_return(&lt;span class="pl-c1"&gt;body:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;abc&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)
stub_request(&lt;span class="pl-c1"&gt;:get&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).to_return(&lt;span class="pl-c1"&gt;body:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;def&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)

&lt;span class="pl-c1"&gt;Net&lt;/span&gt;::&lt;span class="pl-c1"&gt;HTTP&lt;/span&gt;.get(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ====&amp;gt; "def"&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-matching-uris" class="anchor" aria-hidden="true" href="#matching-uris"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Matching URIs&lt;/h2&gt;
&lt;p&gt;WebMock will match all different representations of the same URI.&lt;/p&gt;
&lt;p&gt;I.e all the following representations of the URI are equal:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com:80&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com:80/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://www.example.com/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://www.example.com:80&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://www.example.com:80/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The following URIs with userinfo are also equal for WebMock&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;a b:pass@www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;a b:pass@www.example.com/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;a b:pass@www.example.com:80&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;a b:pass@www.example.com:80/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://a b:pass@www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://a b:pass@www.example.com/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://a b:pass@www.example.com:80&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://a b:pass@www.example.com:80/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;a%20b:pass@www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;a%20b:pass@www.example.com/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;a%20b:pass@www.example.com:80&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;a%20b:pass@www.example.com:80/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://a%20b:pass@www.example.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://a%20b:pass@www.example.com/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://a%20b:pass@www.example.com:80&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://a%20b:pass@www.example.com:80/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;or these&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com/my path/?a=my param&amp;amp;b=c&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com/my%20path/?a=my%20param&amp;amp;b=c&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com:80/my path/?a=my param&amp;amp;b=c&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;www.example.com:80/my%20path/?a=my%20param&amp;amp;b=c&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://www.example.com/my path/?a=my param&amp;amp;b=c&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://www.example.com/my%20path/?a=my%20param&amp;amp;b=c&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://www.example.com:80/my path/?a=my param&amp;amp;b=c&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://www.example.com:80/my%20path/?a=my%20param&amp;amp;b=c&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you provide Regexp to match URI, WebMock will try to match it against every valid form of the same url.&lt;/p&gt;
&lt;p&gt;I.e &lt;code&gt;/my path/&lt;/code&gt; will match &lt;code&gt;www.example.com/my%20path&lt;/code&gt; because it is equivalent of &lt;code&gt;www.example.com/my path&lt;/code&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-matching-with-uri-templates" class="anchor" aria-hidden="true" href="#matching-with-uri-templates"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Matching with URI Templates&lt;/h2&gt;
&lt;p&gt;If you use &lt;a href="https://github.com/sporkmonger/addressable#uri-templates"&gt;Addressable::Template&lt;/a&gt; for matching, then WebMock will defer the matching rules to Addressable, which complies with &lt;a href="http://tools.ietf.org/html/rfc6570" rel="nofollow"&gt;RFC 6570&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;If you use any of the WebMock methods for matching query params, then Addressable will be used to match the base URI and WebMock will match the query params.  If you do not, then WebMock will let Addressable match the full URI.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-matching-headers" class="anchor" aria-hidden="true" href="#matching-headers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Matching headers&lt;/h2&gt;
&lt;p&gt;WebMock will match request headers against stubbed request headers in the following situations:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Stubbed request has headers specified and request headers are the same as stubbed headers &lt;br&gt;
i.e stubbed headers: &lt;code&gt;{ 'Header1' =&amp;gt; 'Value1', 'Header2' =&amp;gt; 'Value2' }&lt;/code&gt;, requested: &lt;code&gt;{ 'Header1' =&amp;gt; 'Value1', 'Header2' =&amp;gt; 'Value2' }&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Stubbed request has headers specified and stubbed request headers are a subset of request headers &lt;br&gt;
i.e stubbed headers: &lt;code&gt;{ 'Header1' =&amp;gt; 'Value1'  }&lt;/code&gt;, requested: &lt;code&gt;{ 'Header1' =&amp;gt; 'Value1', 'Header2' =&amp;gt; 'Value2' }&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Stubbed request has no headers &lt;br&gt;
i.e stubbed headers: &lt;code&gt;nil&lt;/code&gt;, requested: &lt;code&gt;{ 'Header1' =&amp;gt; 'Value1', 'Header2' =&amp;gt; 'Value2' }&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;WebMock normalises headers and treats all forms of same headers as equal:
i.e the following two sets of headers are equal:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;{ "Header1" =&amp;gt; "value1", content_length: 123, X_CuStOm_hEAder: :value }&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;{ header1: "value1",  "Content-Length" =&amp;gt; 123, "x-cuSTOM-HeAder" =&amp;gt; "value" }&lt;/code&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-recording-real-requests-and-responses-and-replaying-them-later" class="anchor" aria-hidden="true" href="#recording-real-requests-and-responses-and-replaying-them-later"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Recording real requests and responses and replaying them later&lt;/h2&gt;
&lt;p&gt;To record your application's real HTTP interactions and replay them later in tests you can use &lt;a href="https://github.com/vcr/vcr"&gt;VCR&lt;/a&gt; with WebMock.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-request-callbacks" class="anchor" aria-hidden="true" href="#request-callbacks"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Request callbacks&lt;/h2&gt;
&lt;h4&gt;&lt;a id="user-content-webmock-can-invoke-callbacks-stubbed-or-real-requests" class="anchor" aria-hidden="true" href="#webmock-can-invoke-callbacks-stubbed-or-real-requests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;WebMock can invoke callbacks stubbed or real requests:&lt;/h4&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;.after_request &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;request_signature&lt;/span&gt;, &lt;span class="pl-smi"&gt;response&lt;/span&gt;|
  &lt;span class="pl-c1"&gt;puts&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Request &lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt;request_signature&lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt; was made and &lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt;response&lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt; was returned&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-invoke-callbacks-for-real-requests-only-and-except-requests-made-with-patron" class="anchor" aria-hidden="true" href="#invoke-callbacks-for-real-requests-only-and-except-requests-made-with-patron"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;invoke callbacks for real requests only and except requests made with Patron&lt;/h4&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;WebMock&lt;/span&gt;.after_request(&lt;span class="pl-c1"&gt;except:&lt;/span&gt; [&lt;span class="pl-c1"&gt;:patron&lt;/span&gt;],
                      &lt;span class="pl-c1"&gt;real_requests_only:&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;req_signature&lt;/span&gt;, &lt;span class="pl-smi"&gt;response&lt;/span&gt;|
  &lt;span class="pl-c1"&gt;puts&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Request &lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt;req_signature&lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt; was made and &lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt;response&lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt; was returned&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-bugs-and-issues" class="anchor" aria-hidden="true" href="#bugs-and-issues"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bugs and Issues&lt;/h2&gt;
&lt;p&gt;Please submit them here &lt;a href="http://github.com/bblimke/webmock/issues"&gt;http://github.com/bblimke/webmock/issues&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-issue-triage-" class="anchor" aria-hidden="true" href="#issue-triage-"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Issue triage &lt;a href="https://www.codetriage.com/bblimke/webmock" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/00c1914d9754719226f3d6010fa2cbfaaf01fccd/68747470733a2f2f7777772e636f64657472696167652e636f6d2f62626c696d6b652f7765626d6f636b2f6261646765732f75736572732e737667" alt="Open Source Helpers" data-canonical-src="https://www.codetriage.com/bblimke/webmock/badges/users.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;You can contribute by triaging issues which may include reproducing bug reports or asking for vital information, such as version numbers or reproduction instructions. If you would like to start triaging issues, one easy way to get started is to &lt;a href="https://www.codetriage.com/bblimke/webmock" rel="nofollow"&gt;subscribe to webmock on CodeTriage&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-suggestions" class="anchor" aria-hidden="true" href="#suggestions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Suggestions&lt;/h2&gt;
&lt;p&gt;If you have any suggestions on how to improve WebMock please send an email to the mailing list &lt;a href="http://groups.google.com/group/webmock-users" rel="nofollow"&gt;groups.google.com/group/webmock-users&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I'm particularly interested in how the DSL could be improved.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-development" class="anchor" aria-hidden="true" href="#development"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Development&lt;/h2&gt;
&lt;p&gt;In order to work on Webmock you first need to fork and clone the repo.
Please do any work on a dedicated branch and rebase against master
before sending a pull request.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-credits" class="anchor" aria-hidden="true" href="#credits"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Credits&lt;/h2&gt;
&lt;p&gt;The initial lines of this project were written during New Bamboo &lt;a href="http://blog.new-bamboo.co.uk/2009/11/13/hackday-results" rel="nofollow"&gt;Hack Day&lt;/a&gt;
Thanks to my fellow &lt;a href="http://new-bamboo.co.uk/" rel="nofollow"&gt;Bambinos&lt;/a&gt; for all the great suggestions!&lt;/p&gt;
&lt;p&gt;People who submitted patches and new features or suggested improvements. Many thanks to these people:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ben Pickles&lt;/li&gt;
&lt;li&gt;Mark Evans&lt;/li&gt;
&lt;li&gt;Ivan Vega&lt;/li&gt;
&lt;li&gt;Piotr Usewicz&lt;/li&gt;
&lt;li&gt;Nick Plante&lt;/li&gt;
&lt;li&gt;Nick Quaranto&lt;/li&gt;
&lt;li&gt;Diego E. "Flameeyes" Petten&lt;/li&gt;
&lt;li&gt;Niels Meersschaert&lt;/li&gt;
&lt;li&gt;Mack Earnhardt&lt;/li&gt;
&lt;li&gt;Arvicco&lt;/li&gt;
&lt;li&gt;Sergio Gil&lt;/li&gt;
&lt;li&gt;Jeffrey Jones&lt;/li&gt;
&lt;li&gt;Tekin Suleyman&lt;/li&gt;
&lt;li&gt;Tom Ward&lt;/li&gt;
&lt;li&gt;Nadim Bitar&lt;/li&gt;
&lt;li&gt;Myron Marston&lt;/li&gt;
&lt;li&gt;Sam Phillips&lt;/li&gt;
&lt;li&gt;Jose Angel Cortinas&lt;/li&gt;
&lt;li&gt;Razic&lt;/li&gt;
&lt;li&gt;Steve Tooke&lt;/li&gt;
&lt;li&gt;Nathaniel Bibler&lt;/li&gt;
&lt;li&gt;Martyn Loughran&lt;/li&gt;
&lt;li&gt;Muness Alrubaie&lt;/li&gt;
&lt;li&gt;Charles Li&lt;/li&gt;
&lt;li&gt;Ryan Bigg&lt;/li&gt;
&lt;li&gt;Pete Higgins&lt;/li&gt;
&lt;li&gt;Hans de Graaff&lt;/li&gt;
&lt;li&gt;Alastair Brunton&lt;/li&gt;
&lt;li&gt;Sam Stokes&lt;/li&gt;
&lt;li&gt;Eugene Bolshakov&lt;/li&gt;
&lt;li&gt;James Conroy-Finn&lt;/li&gt;
&lt;li&gt;Salvador Fuentes Jr&lt;/li&gt;
&lt;li&gt;Alex Rothenberg&lt;/li&gt;
&lt;li&gt;Aidan Feldman&lt;/li&gt;
&lt;li&gt;Steve Hull&lt;/li&gt;
&lt;li&gt;Jay Adkisson&lt;/li&gt;
&lt;li&gt;Zach Dennis&lt;/li&gt;
&lt;li&gt;Nikita Fedyashev&lt;/li&gt;
&lt;li&gt;Lin Jen-Shin&lt;/li&gt;
&lt;li&gt;David Yeu&lt;/li&gt;
&lt;li&gt;Andreas Garns&lt;/li&gt;
&lt;li&gt;Roman Shterenzon&lt;/li&gt;
&lt;li&gt;Chris McGrath&lt;/li&gt;
&lt;li&gt;Stephen Celis&lt;/li&gt;
&lt;li&gt;Eugene Pimenov&lt;/li&gt;
&lt;li&gt;Albert Llop&lt;/li&gt;
&lt;li&gt;Christopher Pickslay&lt;/li&gt;
&lt;li&gt;Tammer Saleh&lt;/li&gt;
&lt;li&gt;Nicolas Fouch&lt;/li&gt;
&lt;li&gt;Joe Van Dyk&lt;/li&gt;
&lt;li&gt;Mark Abramov&lt;/li&gt;
&lt;li&gt;Frank Schumacher&lt;/li&gt;
&lt;li&gt;Dimitrij Denissenko&lt;/li&gt;
&lt;li&gt;Marnen Laibow-Koser&lt;/li&gt;
&lt;li&gt;Evgeniy Dolzhenko&lt;/li&gt;
&lt;li&gt;Nick Recobra&lt;/li&gt;
&lt;li&gt;Jordan Elver&lt;/li&gt;
&lt;li&gt;Joe Karayusuf&lt;/li&gt;
&lt;li&gt;Paul Cortens&lt;/li&gt;
&lt;li&gt;jugyo&lt;/li&gt;
&lt;li&gt;aindustries&lt;/li&gt;
&lt;li&gt;Eric Oestrich&lt;/li&gt;
&lt;li&gt;erwanlr&lt;/li&gt;
&lt;li&gt;Ben Bleything&lt;/li&gt;
&lt;li&gt;Jon Leighton&lt;/li&gt;
&lt;li&gt;Ryan Schlesinger&lt;/li&gt;
&lt;li&gt;Julien Boyer&lt;/li&gt;
&lt;li&gt;Kevin Glowacz&lt;/li&gt;
&lt;li&gt;Hans Hasselberg&lt;/li&gt;
&lt;li&gt;Andrew France&lt;/li&gt;
&lt;li&gt;Jonathan Hyman&lt;/li&gt;
&lt;li&gt;Rex Feng&lt;/li&gt;
&lt;li&gt;Pavel Forkert&lt;/li&gt;
&lt;li&gt;Jordi Massaguer Pla&lt;/li&gt;
&lt;li&gt;Jake Benilov&lt;/li&gt;
&lt;li&gt;Tom Beauvais&lt;/li&gt;
&lt;li&gt;Mokevnin Kirill&lt;/li&gt;
&lt;li&gt;Alex Grant&lt;/li&gt;
&lt;li&gt;Lucas Dohmen&lt;/li&gt;
&lt;li&gt;Bastien Vaucher&lt;/li&gt;
&lt;li&gt;Joost Baaij&lt;/li&gt;
&lt;li&gt;Joel Chippindale&lt;/li&gt;
&lt;li&gt;Murahashi Sanemat Kenichi&lt;/li&gt;
&lt;li&gt;Tim Kurvers&lt;/li&gt;
&lt;li&gt;Ilya Vassilevsky&lt;/li&gt;
&lt;li&gt;gotwalt&lt;/li&gt;
&lt;li&gt;Leif Bladt&lt;/li&gt;
&lt;li&gt;Alex Tomlins&lt;/li&gt;
&lt;li&gt;Mitsutaka Mimura&lt;/li&gt;
&lt;li&gt;Tomy Kaira&lt;/li&gt;
&lt;li&gt;Daniel van Hoesel&lt;/li&gt;
&lt;li&gt;Ian Asaff&lt;/li&gt;
&lt;li&gt;Ian Lesperance&lt;/li&gt;
&lt;li&gt;Matthew Horan&lt;/li&gt;
&lt;li&gt;Dmitry Gutov&lt;/li&gt;
&lt;li&gt;Florian Dtsch&lt;/li&gt;
&lt;li&gt;Manuel Meurer&lt;/li&gt;
&lt;li&gt;Brian D. Burns&lt;/li&gt;
&lt;li&gt;Riley Strong&lt;/li&gt;
&lt;li&gt;Tamir Duberstein&lt;/li&gt;
&lt;li&gt;Stefano Uliari&lt;/li&gt;
&lt;li&gt;Alex Stupakov&lt;/li&gt;
&lt;li&gt;Karen Wang&lt;/li&gt;
&lt;li&gt;Matt Burke&lt;/li&gt;
&lt;li&gt;Jon Rowe&lt;/li&gt;
&lt;li&gt;Aleksey V. Zapparov&lt;/li&gt;
&lt;li&gt;Praveen Arimbrathodiyil&lt;/li&gt;
&lt;li&gt;Bo Jeanes&lt;/li&gt;
&lt;li&gt;Matthew Conway&lt;/li&gt;
&lt;li&gt;Rob Olson&lt;/li&gt;
&lt;li&gt;Max Lincoln&lt;/li&gt;
&lt;li&gt;Oleg Gritsenko&lt;/li&gt;
&lt;li&gt;Hwan-Joon Choi&lt;/li&gt;
&lt;li&gt;SHIBATA Hiroshi&lt;/li&gt;
&lt;li&gt;Caleb Thompson&lt;/li&gt;
&lt;li&gt;Theo Hultberg&lt;/li&gt;
&lt;li&gt;Pablo Jairala&lt;/li&gt;
&lt;li&gt;Insoo Buzz Jung&lt;/li&gt;
&lt;li&gt;Carlos Alonso Prez&lt;/li&gt;
&lt;li&gt;trlorenz&lt;/li&gt;
&lt;li&gt;Alexander Simonov&lt;/li&gt;
&lt;li&gt;Thorbjrn Hermanse&lt;/li&gt;
&lt;li&gt;Mark Lorenz&lt;/li&gt;
&lt;li&gt;tjsousa&lt;/li&gt;
&lt;li&gt;Tasos Stathopoulos&lt;/li&gt;
&lt;li&gt;Dan Buettner&lt;/li&gt;
&lt;li&gt;Sven Riedel&lt;/li&gt;
&lt;li&gt;Mark Lorenz&lt;/li&gt;
&lt;li&gt;Dvid Kovcs&lt;/li&gt;
&lt;li&gt;fishermand46&lt;/li&gt;
&lt;li&gt;Franky Wahl&lt;/li&gt;
&lt;li&gt;ChaYoung You&lt;/li&gt;
&lt;li&gt;Simon Russell&lt;/li&gt;
&lt;li&gt;Steve Mitchell&lt;/li&gt;
&lt;li&gt;Mattias Putman&lt;/li&gt;
&lt;li&gt;Zachary Anker&lt;/li&gt;
&lt;li&gt;Emmanuel Sambo&lt;/li&gt;
&lt;li&gt;Ramon Tayag&lt;/li&gt;
&lt;li&gt;Johannes Schlumberger&lt;/li&gt;
&lt;li&gt;Sin Le Roux&lt;/li&gt;
&lt;li&gt;Matt Palmer&lt;/li&gt;
&lt;li&gt;Zhao Wen&lt;/li&gt;
&lt;li&gt;Krzysztof Rygielski&lt;/li&gt;
&lt;li&gt;Magne Land&lt;/li&gt;
&lt;li&gt;yurivm&lt;/li&gt;
&lt;li&gt;Mike Knepper&lt;/li&gt;
&lt;li&gt;Charles Pence&lt;/li&gt;
&lt;li&gt;Alexey Zapparov&lt;/li&gt;
&lt;li&gt;Pablo Brasero&lt;/li&gt;
&lt;li&gt;Cedric Pimenta&lt;/li&gt;
&lt;li&gt;Michiel Karnebeek&lt;/li&gt;
&lt;li&gt;Alex Kestner&lt;/li&gt;
&lt;li&gt;Manfred Stienstra&lt;/li&gt;
&lt;li&gt;Tim Diggins&lt;/li&gt;
&lt;li&gt;Gabriel Chaney&lt;/li&gt;
&lt;li&gt;Chris Griego&lt;/li&gt;
&lt;li&gt;Taiki Ono&lt;/li&gt;
&lt;li&gt;Jonathan Schatz&lt;/li&gt;
&lt;li&gt;Jose Luis Honorato&lt;/li&gt;
&lt;li&gt;Aaron Kromer&lt;/li&gt;
&lt;li&gt;Pavel Juraek&lt;/li&gt;
&lt;li&gt;Jake Worth&lt;/li&gt;
&lt;li&gt;Gabe Martin-Dempesy&lt;/li&gt;
&lt;li&gt;Michael Grosser&lt;/li&gt;
&lt;li&gt;Aleksei Maridashvili&lt;/li&gt;
&lt;li&gt;Ville Lautanala&lt;/li&gt;
&lt;li&gt;Koichi ITO&lt;/li&gt;
&lt;li&gt;Jordan Harband&lt;/li&gt;
&lt;li&gt;Tarmo Tnav&lt;/li&gt;
&lt;li&gt;Joe Marty&lt;/li&gt;
&lt;li&gt;Chris Thomson&lt;/li&gt;
&lt;li&gt;Vt Ondruch&lt;/li&gt;
&lt;li&gt;George Ulmer&lt;/li&gt;
&lt;li&gt;Christof Koenig&lt;/li&gt;
&lt;li&gt;Chung-Yi Chi&lt;/li&gt;
&lt;li&gt;Olexandr Hoshylyk&lt;/li&gt;
&lt;li&gt;Janko Marohni&lt;/li&gt;
&lt;li&gt;Pat Allan&lt;/li&gt;
&lt;li&gt;Rick Song&lt;/li&gt;
&lt;li&gt;NARUSE, Yui&lt;/li&gt;
&lt;li&gt;Piotr Boniecki&lt;/li&gt;
&lt;li&gt;Olia Kremmyda&lt;/li&gt;
&lt;li&gt;Micha Matyas&lt;/li&gt;
&lt;li&gt;Matt Brictson&lt;/li&gt;
&lt;li&gt;Kenny Ortmann&lt;/li&gt;
&lt;li&gt;redbar0n&lt;/li&gt;
&lt;li&gt;Lukas Pokorny&lt;/li&gt;
&lt;li&gt;Arkadiy Tetelman&lt;/li&gt;
&lt;li&gt;Kazato Sugimoto&lt;/li&gt;
&lt;li&gt;Olle Jonsson&lt;/li&gt;
&lt;li&gt;Pavel Rosick&lt;/li&gt;
&lt;li&gt;Geremia Taglialatela&lt;/li&gt;
&lt;li&gt;Koichi Sasada&lt;/li&gt;
&lt;li&gt;Yusuke Endoh&lt;/li&gt;
&lt;li&gt;Grey Baker&lt;/li&gt;
&lt;li&gt;SoonKhen OwYong&lt;/li&gt;
&lt;li&gt;Pavel Valena&lt;/li&gt;
&lt;li&gt;Adam Sokolnicki&lt;/li&gt;
&lt;li&gt;Jeff Felchner&lt;/li&gt;
&lt;li&gt;Eike Send&lt;/li&gt;
&lt;li&gt;Claudio Poli&lt;/li&gt;
&lt;li&gt;Csaba Apagyi&lt;/li&gt;
&lt;li&gt;Frederick Cheung&lt;/li&gt;
&lt;li&gt;Fbio D. Batista&lt;/li&gt;
&lt;li&gt;Andriy Yanko&lt;/li&gt;
&lt;li&gt;y-yagi&lt;/li&gt;
&lt;li&gt;Rafael Frana&lt;/li&gt;
&lt;li&gt;George Claghorn&lt;/li&gt;
&lt;li&gt;Alex Junger&lt;/li&gt;
&lt;li&gt;Orien Madgwick&lt;/li&gt;
&lt;li&gt;Andrei Sidorov&lt;/li&gt;
&lt;li&gt;Marco Costa&lt;/li&gt;
&lt;li&gt;Ryan Davis&lt;/li&gt;
&lt;li&gt;Brandur&lt;/li&gt;
&lt;li&gt;Samuel Williams&lt;/li&gt;
&lt;li&gt;Patrik Ragnarsson&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For a full list of contributors you can visit the
&lt;a href="https://github.com/bblimke/webmock/contributors"&gt;contributors&lt;/a&gt; page.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-background" class="anchor" aria-hidden="true" href="#background"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Background&lt;/h2&gt;
&lt;p&gt;Thank you Fakeweb! This library was inspired by &lt;a href="http://fakeweb.rubyforge.org" rel="nofollow"&gt;FakeWeb&lt;/a&gt;.
I imported some solutions from that project to WebMock. I also copied some code i.e Net:HTTP adapter.
Fakeweb architecture unfortunately didn't allow me to extend it easily with the features I needed.
I also preferred some things to work differently i.e request stub precedence.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-copyright" class="anchor" aria-hidden="true" href="#copyright"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Copyright&lt;/h2&gt;
&lt;p&gt;Copyright (c) 2009-2010 Bartosz Blimke. See LICENSE for details.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>bblimke</author><guid isPermaLink="false">https://github.com/bblimke/webmock</guid><pubDate>Mon, 10 Feb 2020 00:21:00 GMT</pubDate></item><item><title>thoughtbot/factory_bot #22 in Ruby, This week</title><link>https://github.com/thoughtbot/factory_bot</link><description>&lt;p&gt;&lt;i&gt;A library for setting up Ruby objects as test data.&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-factory_bot----" class="anchor" aria-hidden="true" href="#factory_bot----"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;factory_bot &lt;a href="https://travis-ci.org/thoughtbot/factory_bot?branch=master" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/4ada0554711f30a42731480ea7868d755ae4c816/68747470733a2f2f7472617669732d63692e6f72672f74686f75676874626f742f666163746f72795f626f742e737667" alt="Build Status" data-canonical-src="https://travis-ci.org/thoughtbot/factory_bot.svg" style="max-width:100%;"&gt;&lt;/a&gt; &lt;a href="https://codeclimate.com/github/thoughtbot/factory_bot" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/e22595e14a3d0602e666bc421b5d28142efa7fd4/68747470733a2f2f636f6465636c696d6174652e636f6d2f6769746875622f74686f75676874626f742f666163746f72795f626f742f6261646765732f6770612e737667" alt="Code Climate" data-canonical-src="https://codeclimate.com/github/thoughtbot/factory_bot/badges/gpa.svg" style="max-width:100%;"&gt;&lt;/a&gt; &lt;a href="https://badge.fury.io/rb/factory_bot" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/c1089034e361db714c28750a4e31a2ff812efb54/68747470733a2f2f62616467652e667572792e696f2f72622f666163746f72795f626f742e737667" alt="Gem Version" data-canonical-src="https://badge.fury.io/rb/factory_bot.svg" style="max-width:100%;"&gt;&lt;/a&gt; &lt;a href="https://houndci.com" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/1c940d021ef775a44e0880bc3ba124a6bee5fefb/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f52657669657765645f62792d486f756e642d3845363442302e737667" alt="Reviewed by Hound" data-canonical-src="https://img.shields.io/badge/Reviewed_by-Hound-8E64B0.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;factory_bot is a fixtures replacement with a straightforward definition syntax, support for multiple build strategies (saved instances, unsaved instances, attribute hashes, and stubbed objects), and support for multiple factories for the same class (user, admin_user, and so on), including factory inheritance.&lt;/p&gt;
&lt;p&gt;If you want to use factory_bot with Rails, see
&lt;a href="https://github.com/thoughtbot/factory_bot_rails"&gt;factory_bot_rails&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;a href="https://github.com/thoughtbot/factory_bot/blob/master/NAME.md"&gt;Interested in the history of the project name?&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-transitioning-from-factory_girl" class="anchor" aria-hidden="true" href="#transitioning-from-factory_girl"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Transitioning from factory_girl?&lt;/h3&gt;
&lt;p&gt;Check out the &lt;a href="https://github.com/thoughtbot/factory_bot/blob/4-9-0-stable/UPGRADE_FROM_FACTORY_GIRL.md"&gt;guide&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-documentation" class="anchor" aria-hidden="true" href="#documentation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Documentation&lt;/h2&gt;
&lt;p&gt;You should find the documentation for your version of factory_bot on &lt;a href="https://rubygems.org/gems/factory_bot" rel="nofollow"&gt;Rubygems&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;See &lt;a href="https://github.com/thoughtbot/factory_bot/blob/master/GETTING_STARTED.md"&gt;GETTING_STARTED&lt;/a&gt; for information on defining and using factories. We also
have &lt;a href="https://upcase.com/videos/factory-bot?utm_source=github&amp;amp;utm_medium=open-source&amp;amp;utm_campaign=factory-girl" rel="nofollow"&gt;a detailed introductory video&lt;/a&gt;, available for free on Upcase.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-install" class="anchor" aria-hidden="true" href="#install"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Install&lt;/h2&gt;
&lt;p&gt;Add the following line to Gemfile:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;gem &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;factory_bot&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and run &lt;code&gt;bundle install&lt;/code&gt; from your shell.&lt;/p&gt;
&lt;p&gt;To install the gem manually from your shell, run:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;gem install factory_bot&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-supported-ruby-versions" class="anchor" aria-hidden="true" href="#supported-ruby-versions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Supported Ruby versions&lt;/h2&gt;
&lt;p&gt;The factory_bot 5.x series supports MRI Ruby 2.3+.&lt;/p&gt;
&lt;p&gt;The factory_bot 3.x+ series supports MRI Ruby 1.9. Additionally, factory_bot
3.6+ supports JRuby 1.6.7.2+ while running in 1.9 mode. See &lt;a href="https://github.com/thoughtbot/factory_bot/blob/master/GETTING_STARTED.md"&gt;GETTING_STARTED&lt;/a&gt;
for more information on configuring the JRuby environment.&lt;/p&gt;
&lt;p&gt;For versions of Ruby prior to 1.9, please use factory_bot 2.x.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-more-information" class="anchor" aria-hidden="true" href="#more-information"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;More Information&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://rubygems.org/gems/factory_bot" rel="nofollow"&gt;Rubygems&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://stackoverflow.com/questions/tagged/factory-bot" rel="nofollow"&gt;Stack Overflow&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/thoughtbot/factory_bot/issues"&gt;Issues&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://robots.thoughtbot.com/" rel="nofollow"&gt;GIANT ROBOTS SMASHING INTO OTHER GIANT ROBOTS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-useful-tools" class="anchor" aria-hidden="true" href="#useful-tools"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Useful Tools&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/djezzzl/factory_trace"&gt;FactoryTrace&lt;/a&gt; - helps to find unused factories and traits.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing&lt;/h2&gt;
&lt;p&gt;Please see &lt;a href="https://github.com/thoughtbot/factory_bot/blob/master/CONTRIBUTING.md"&gt;CONTRIBUTING.md&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;factory_bot was originally written by Joe Ferris and is now maintained by Josh
Clayton. Many improvements and bugfixes were contributed by the &lt;a href="https://github.com/thoughtbot/factory_bot/graphs/contributors"&gt;open source
community&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;factory_bot is Copyright  2008-2019 Joe Ferris and thoughtbot. It is free
software, and may be redistributed under the terms specified in the
&lt;a href="https://github.com/thoughtbot/factory_bot/blob/master/LICENSE"&gt;LICENSE&lt;/a&gt; file.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-about-thoughtbot" class="anchor" aria-hidden="true" href="#about-thoughtbot"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;About thoughtbot&lt;/h2&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/2a3e5c583b03a900ed1efa545c001b1b4a4c6503/68747470733a2f2f74686f75676874626f742e636f6d2f6272616e645f6173736574732f39333a34342e737667"&gt;&lt;img src="https://camo.githubusercontent.com/2a3e5c583b03a900ed1efa545c001b1b4a4c6503/68747470733a2f2f74686f75676874626f742e636f6d2f6272616e645f6173736574732f39333a34342e737667" alt="thoughtbot" data-canonical-src="https://thoughtbot.com/brand_assets/93:44.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;factory_bot is maintained and funded by thoughtbot, inc.
The names and logos for thoughtbot are trademarks of thoughtbot, inc.&lt;/p&gt;
&lt;p&gt;We love open source software!
See &lt;a href="https://thoughtbot.com/community?utm_source=github" rel="nofollow"&gt;our other projects&lt;/a&gt; or
&lt;a href="https://thoughtbot.com/hire-us?utm_source=github" rel="nofollow"&gt;hire us&lt;/a&gt; to design, develop, and grow your product.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>thoughtbot</author><guid isPermaLink="false">https://github.com/thoughtbot/factory_bot</guid><pubDate>Mon, 10 Feb 2020 00:22:00 GMT</pubDate></item><item><title>github/scientist #23 in Ruby, This week</title><link>https://github.com/github/scientist</link><description>&lt;p&gt;&lt;i&gt;:microscope: A Ruby library for carefully refactoring critical paths.&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-scientist" class="anchor" aria-hidden="true" href="#scientist"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Scientist!&lt;/h1&gt;
&lt;p&gt;A Ruby library for carefully refactoring critical paths. &lt;a href="https://travis-ci.org/github/scientist" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/0e2caf3eb71211cdca26ff2b39ebcdab08386c45/68747470733a2f2f7472617669732d63692e6f72672f6769746875622f736369656e746973742e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/github/scientist.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt; &lt;a href="https://coveralls.io/github/github/scientist?branch=master" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/070e75f1d7fb26a22519f52f8f3ba1f7cebf1d23/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f6769746875622f736369656e746973742f62616467652e7376673f6272616e63683d6d6173746572" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/github/github/scientist/badge.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-how-do-i-science" class="anchor" aria-hidden="true" href="#how-do-i-science"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How do I science?&lt;/h2&gt;
&lt;p&gt;Let's pretend you're changing the way you handle permissions in a large web app. Tests can help guide your refactoring, but you really want to compare the current and refactored behaviors under load.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;scientist&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyWidget&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;allows?&lt;/span&gt;(&lt;span class="pl-smi"&gt;user&lt;/span&gt;)
    experiment &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Scientist&lt;/span&gt;::&lt;span class="pl-c1"&gt;Default&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;widget-permissions&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
    experiment.use { model.check_user?(user).valid? } &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; old way&lt;/span&gt;
    experiment.try { user.can?(&lt;span class="pl-c1"&gt;:read&lt;/span&gt;, model) } &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; new way&lt;/span&gt;

    experiment.run
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Wrap a &lt;code&gt;use&lt;/code&gt; block around the code's original behavior, and wrap &lt;code&gt;try&lt;/code&gt; around the new behavior. &lt;code&gt;experiment.run&lt;/code&gt; will always return whatever the &lt;code&gt;use&lt;/code&gt; block returns, but it does a bunch of stuff behind the scenes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;It decides whether or not to run the &lt;code&gt;try&lt;/code&gt; block,&lt;/li&gt;
&lt;li&gt;Randomizes the order in which &lt;code&gt;use&lt;/code&gt; and &lt;code&gt;try&lt;/code&gt; blocks are run,&lt;/li&gt;
&lt;li&gt;Measures the durations of all behaviors,&lt;/li&gt;
&lt;li&gt;Compares the result of &lt;code&gt;try&lt;/code&gt; to the result of &lt;code&gt;use&lt;/code&gt;,&lt;/li&gt;
&lt;li&gt;Swallow and record exceptions raised in the &lt;code&gt;try&lt;/code&gt; block when overriding &lt;code&gt;raised&lt;/code&gt;, and&lt;/li&gt;
&lt;li&gt;Publishes all this information.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The &lt;code&gt;use&lt;/code&gt; block is called the &lt;strong&gt;control&lt;/strong&gt;. The &lt;code&gt;try&lt;/code&gt; block is called the &lt;strong&gt;candidate&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Creating an experiment is wordy, but when you include the &lt;code&gt;Scientist&lt;/code&gt; module, the &lt;code&gt;science&lt;/code&gt; helper will instantiate an experiment and call &lt;code&gt;run&lt;/code&gt; for you:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;scientist&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyWidget&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Scientist&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;allows?&lt;/span&gt;(&lt;span class="pl-smi"&gt;user&lt;/span&gt;)
    science &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;widget-permissions&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;experiment&lt;/span&gt;|
      experiment.use { model.check_user(user).valid? } &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; old way&lt;/span&gt;
      experiment.try { user.can?(&lt;span class="pl-c1"&gt;:read&lt;/span&gt;, model) } &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; new way&lt;/span&gt;
    &lt;span class="pl-k"&gt;end&lt;/span&gt; &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; returns the control value&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you don't declare any &lt;code&gt;try&lt;/code&gt; blocks, none of the Scientist machinery is invoked and the control value is always returned.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-making-science-useful" class="anchor" aria-hidden="true" href="#making-science-useful"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Making science useful&lt;/h2&gt;
&lt;p&gt;The examples above will run, but they're not really &lt;em&gt;doing&lt;/em&gt; anything. The &lt;code&gt;try&lt;/code&gt; blocks don't run yet and none of the results get published. Replace the default experiment implementation to control execution and reporting:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;scientist/experiment&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyExperiment&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Scientist&lt;/span&gt;::&lt;span class="pl-c1"&gt;Experiment&lt;/span&gt;

  &lt;span class="pl-k"&gt;attr_accessor&lt;/span&gt; &lt;span class="pl-c1"&gt;:name&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;initialize&lt;/span&gt;(&lt;span class="pl-c1"&gt;name:&lt;/span&gt;)
    &lt;span class="pl-smi"&gt;@name&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; name
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;enabled?&lt;/span&gt;
    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; see "Ramping up experiments" below&lt;/span&gt;
    &lt;span class="pl-c1"&gt;true&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;raised&lt;/span&gt;(&lt;span class="pl-smi"&gt;operation&lt;/span&gt;, &lt;span class="pl-smi"&gt;error&lt;/span&gt;)
    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; see "In a Scientist callback" below&lt;/span&gt;
    &lt;span class="pl-c1"&gt;p&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Operation '&lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt;operation&lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt;' failed with error '&lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt;error.inspect&lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt;'&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
    &lt;span class="pl-k"&gt;super&lt;/span&gt; &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; will re-raise&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;publish&lt;/span&gt;(&lt;span class="pl-smi"&gt;result&lt;/span&gt;)
    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; see "Publishing results" below&lt;/span&gt;
    &lt;span class="pl-c1"&gt;p&lt;/span&gt; result
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; replace `Scientist::Default` as the default implementation&lt;/span&gt;
&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-en"&gt;&lt;span class="pl-e"&gt;Scientist::&lt;/span&gt;Experiment&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;self.new&lt;/span&gt;(&lt;span class="pl-smi"&gt;name&lt;/span&gt;)
    &lt;span class="pl-c1"&gt;MyExperiment&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(&lt;span class="pl-c1"&gt;name:&lt;/span&gt; name)
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now calls to the &lt;code&gt;science&lt;/code&gt; helper will load instances of &lt;code&gt;MyExperiment&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-controlling-comparison" class="anchor" aria-hidden="true" href="#controlling-comparison"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Controlling comparison&lt;/h3&gt;
&lt;p&gt;Scientist compares control and candidate values using &lt;code&gt;==&lt;/code&gt;. To override this behavior, use &lt;code&gt;compare&lt;/code&gt; to define how to compare observed values instead:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyWidget&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Scientist&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;users&lt;/span&gt;
    science &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;users&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;e&lt;/span&gt;|
      e.use { &lt;span class="pl-c1"&gt;User&lt;/span&gt;.all }         &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; returns User instances&lt;/span&gt;
      e.try { &lt;span class="pl-c1"&gt;UserService&lt;/span&gt;.list } &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; returns UserService::User instances&lt;/span&gt;

      e.compare &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;control&lt;/span&gt;, &lt;span class="pl-smi"&gt;candidate&lt;/span&gt;|
        control.map(&lt;span class="pl-k"&gt;&amp;amp;&lt;/span&gt;&lt;span class="pl-c1"&gt;:login&lt;/span&gt;) &lt;span class="pl-k"&gt;==&lt;/span&gt; candidate.map(&lt;span class="pl-k"&gt;&amp;amp;&lt;/span&gt;&lt;span class="pl-c1"&gt;:login&lt;/span&gt;)
      &lt;span class="pl-k"&gt;end&lt;/span&gt;
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-adding-context" class="anchor" aria-hidden="true" href="#adding-context"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Adding context&lt;/h3&gt;
&lt;p&gt;Results aren't very useful without some way to identify them. Use the &lt;code&gt;context&lt;/code&gt; method to add to or retrieve the context for an experiment:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;science &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;widget-permissions&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;e&lt;/span&gt;|
  e.context &lt;span class="pl-c1"&gt;:user&lt;/span&gt; =&amp;gt; user

  e.use { model.check_user(user).valid? }
  e.try { user.can?(&lt;span class="pl-c1"&gt;:read&lt;/span&gt;, model) }
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;context&lt;/code&gt; takes a Symbol-keyed Hash of extra data. The data is available in &lt;code&gt;Experiment#publish&lt;/code&gt; via the &lt;code&gt;context&lt;/code&gt; method. If you're using the &lt;code&gt;science&lt;/code&gt; helper a lot in a class, you can provide a default context:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyWidget&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Scientist&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;allows?&lt;/span&gt;(&lt;span class="pl-smi"&gt;user&lt;/span&gt;)
    science &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;widget-permissions&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;e&lt;/span&gt;|
      e.context &lt;span class="pl-c1"&gt;:user&lt;/span&gt; =&amp;gt; user

      e.use { model.check_user(user).valid? }
      e.try { user.can?(&lt;span class="pl-c1"&gt;:read&lt;/span&gt;, model) }
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;destroy&lt;/span&gt;
    science &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;widget-destruction&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;e&lt;/span&gt;|
      e.use { old_scary_destroy }
      e.try { new_safe_destroy }
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;default_scientist_context&lt;/span&gt;
    { &lt;span class="pl-c1"&gt;:widget&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;self&lt;/span&gt; }
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;widget-permissions&lt;/code&gt; and &lt;code&gt;widget-destruction&lt;/code&gt; experiments will both have a &lt;code&gt;:widget&lt;/code&gt; key in their contexts.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-expensive-setup" class="anchor" aria-hidden="true" href="#expensive-setup"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Expensive setup&lt;/h3&gt;
&lt;p&gt;If an experiment requires expensive setup that should only occur when the experiment is going to be run, define it with the &lt;code&gt;before_run&lt;/code&gt; method:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Code under test modifies this in-place. We want to copy it for the&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; candidate code, but only when needed:&lt;/span&gt;
value_for_original_code &lt;span class="pl-k"&gt;=&lt;/span&gt; big_object
value_for_new_code      &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;nil&lt;/span&gt;

science &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;expensive-but-worthwhile&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;e&lt;/span&gt;|
  e.before_run &lt;span class="pl-k"&gt;do&lt;/span&gt;
    value_for_new_code &lt;span class="pl-k"&gt;=&lt;/span&gt; big_object.deep_copy
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
  e.use { original_code(value_for_original_code) }
  e.try { new_code(value_for_new_code) }
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-keeping-it-clean" class="anchor" aria-hidden="true" href="#keeping-it-clean"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Keeping it clean&lt;/h3&gt;
&lt;p&gt;Sometimes you don't want to store the full value for later analysis. For example, an experiment may return &lt;code&gt;User&lt;/code&gt; instances, but when researching a mismatch, all you care about is the logins. You can define how to clean these values in an experiment:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyWidget&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Scientist&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;users&lt;/span&gt;
    science &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;users&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;e&lt;/span&gt;|
      e.use { &lt;span class="pl-c1"&gt;User&lt;/span&gt;.all }
      e.try { &lt;span class="pl-c1"&gt;UserService&lt;/span&gt;.list }

      e.clean &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;value&lt;/span&gt;|
        value.map(&lt;span class="pl-k"&gt;&amp;amp;&lt;/span&gt;&lt;span class="pl-c1"&gt;:login&lt;/span&gt;).sort
      &lt;span class="pl-k"&gt;end&lt;/span&gt;
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And this cleaned value is available in observations in the final published result:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyExperiment&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Scientist&lt;/span&gt;::&lt;span class="pl-c1"&gt;Experiment&lt;/span&gt;

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ...&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;publish&lt;/span&gt;(&lt;span class="pl-smi"&gt;result&lt;/span&gt;)
    result.control.value         &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; [&amp;lt;User alice&amp;gt;, &amp;lt;User bob&amp;gt;, &amp;lt;User carol&amp;gt;]&lt;/span&gt;
    result.control.cleaned_value &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ["alice", "bob", "carol"]&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note that the &lt;code&gt;#clean&lt;/code&gt; method will discard the previous cleaner block if you call it again.  If for some reason you need to access the currently configured cleaner block, &lt;code&gt;Scientist::Experiment#cleaner&lt;/code&gt; will return the block without further ado.  &lt;em&gt;(This probably won't come up in normal usage, but comes in handy if you're writing, say, a custom experiment runner that provides default cleaners.)&lt;/em&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-ignoring-mismatches" class="anchor" aria-hidden="true" href="#ignoring-mismatches"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ignoring mismatches&lt;/h3&gt;
&lt;p&gt;During the early stages of an experiment, it's possible that some of your code will always generate a mismatch for reasons you know and understand but haven't yet fixed. Instead of these known cases always showing up as mismatches in your metrics or analysis, you can tell an experiment whether or not to ignore a mismatch using the &lt;code&gt;ignore&lt;/code&gt; method. You may include more than one block if needed:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;admin?&lt;/span&gt;(&lt;span class="pl-smi"&gt;user&lt;/span&gt;)
  science &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;widget-permissions&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;e&lt;/span&gt;|
    e.use { model.check_user(user).admin? }
    e.try { user.can?(&lt;span class="pl-c1"&gt;:admin&lt;/span&gt;, model) }

    e.ignore { user.staff? } &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; user is staff, always an admin in the new system&lt;/span&gt;
    e.ignore &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;control&lt;/span&gt;, &lt;span class="pl-smi"&gt;candidate&lt;/span&gt;|
      &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; new system doesn't handle unconfirmed users yet:&lt;/span&gt;
      control &lt;span class="pl-k"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="pl-k"&gt;!&lt;/span&gt;candidate &lt;span class="pl-k"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="pl-k"&gt;!&lt;/span&gt;user.confirmed_email?
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The ignore blocks are only called if the &lt;em&gt;values&lt;/em&gt; don't match. If one observation raises an exception and the other doesn't, it's always considered a mismatch. If both observations raise different exceptions, that is also considered a mismatch.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-enablingdisabling-experiments" class="anchor" aria-hidden="true" href="#enablingdisabling-experiments"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Enabling/disabling experiments&lt;/h3&gt;
&lt;p&gt;Sometimes you don't want an experiment to run. Say, disabling a new codepath for anyone who isn't staff. You can disable an experiment by setting a &lt;code&gt;run_if&lt;/code&gt; block. If this returns &lt;code&gt;false&lt;/code&gt;, the experiment will merely return the control value. Otherwise, it defers to the experiment's configured &lt;code&gt;enabled?&lt;/code&gt; method.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;DashboardController&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Scientist&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;dashboard_items&lt;/span&gt;
    science &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;dashboard-items&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;e&lt;/span&gt;|
      &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; only run this experiment for staff members&lt;/span&gt;
      e.run_if { current_user.staff? }
      &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ...&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-ramping-up-experiments" class="anchor" aria-hidden="true" href="#ramping-up-experiments"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ramping up experiments&lt;/h3&gt;
&lt;p&gt;As a scientist, you know it's always important to be able to turn your experiment off, lest it run amok and result in villagers with pitchforks on your doorstep. In order to control whether or not an experiment is enabled, you must include the &lt;code&gt;enabled?&lt;/code&gt; method in your &lt;code&gt;Scientist::Experiment&lt;/code&gt; implementation.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyExperiment&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Scientist&lt;/span&gt;::&lt;span class="pl-c1"&gt;Experiment&lt;/span&gt;

  &lt;span class="pl-k"&gt;attr_accessor&lt;/span&gt; &lt;span class="pl-c1"&gt;:name&lt;/span&gt;, &lt;span class="pl-c1"&gt;:percent_enabled&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;initialize&lt;/span&gt;(&lt;span class="pl-c1"&gt;name:&lt;/span&gt;)
    &lt;span class="pl-smi"&gt;@name&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; name
    &lt;span class="pl-smi"&gt;@percent_enabled&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;100&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;enabled?&lt;/span&gt;
    percent_enabled &lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; &lt;span class="pl-c1"&gt;0&lt;/span&gt; &lt;span class="pl-k"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="pl-c1"&gt;rand&lt;/span&gt;(&lt;span class="pl-c1"&gt;100&lt;/span&gt;) &lt;span class="pl-k"&gt;&amp;lt;&lt;/span&gt; percent_enabled
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ...&lt;/span&gt;

&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This code will be invoked for every method with an experiment every time, so be sensitive about its performance. For example, you can store an experiment in the database but wrap it in various levels of caching such as memcache or per-request thread-locals.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-publishing-results" class="anchor" aria-hidden="true" href="#publishing-results"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Publishing results&lt;/h3&gt;
&lt;p&gt;What good is science if you can't publish your results?&lt;/p&gt;
&lt;p&gt;You must implement the &lt;code&gt;publish(result)&lt;/code&gt; method, and can publish data however you like. For example, timing data can be sent to graphite, and mismatches can be placed in a capped collection in redis for debugging later.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;publish&lt;/code&gt; method is given a &lt;code&gt;Scientist::Result&lt;/code&gt; instance with its associated &lt;code&gt;Scientist::Observation&lt;/code&gt;s:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyExperiment&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Scientist&lt;/span&gt;::&lt;span class="pl-c1"&gt;Experiment&lt;/span&gt;

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ...&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;publish&lt;/span&gt;(&lt;span class="pl-smi"&gt;result&lt;/span&gt;)

    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Store the timing for the control value,&lt;/span&gt;
    &lt;span class="pl-smi"&gt;$statsd&lt;/span&gt;.timing &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;science.&lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt;name&lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt;.control&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, result.control.duration
    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; for the candidate (only the first, see "Breaking the rules" below,&lt;/span&gt;
    &lt;span class="pl-smi"&gt;$statsd&lt;/span&gt;.timing &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;science.&lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt;name&lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt;.candidate&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, result.candidates.first.duration

    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; and counts for match/ignore/mismatch:&lt;/span&gt;
    &lt;span class="pl-k"&gt;if&lt;/span&gt; result.matched?
      &lt;span class="pl-smi"&gt;$statsd&lt;/span&gt;.increment &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;science.&lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt;name&lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt;.matched&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
    &lt;span class="pl-k"&gt;elsif&lt;/span&gt; result.ignored?
      &lt;span class="pl-smi"&gt;$statsd&lt;/span&gt;.increment &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;science.&lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt;name&lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt;.ignored&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
    &lt;span class="pl-k"&gt;else&lt;/span&gt;
      &lt;span class="pl-smi"&gt;$statsd&lt;/span&gt;.increment &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;science.&lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt;name&lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt;.mismatched&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Finally, store mismatches in redis so they can be retrieved and examined&lt;/span&gt;
      &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; later on, for debugging and research.&lt;/span&gt;
      store_mismatch_data(result)
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;store_mismatch_data&lt;/span&gt;(&lt;span class="pl-smi"&gt;result&lt;/span&gt;)
    payload &lt;span class="pl-k"&gt;=&lt;/span&gt; {
      &lt;span class="pl-c1"&gt;:name&lt;/span&gt;            =&amp;gt; name,
      &lt;span class="pl-c1"&gt;:context&lt;/span&gt;         =&amp;gt; context,
      &lt;span class="pl-c1"&gt;:control&lt;/span&gt;         =&amp;gt; observation_payload(result.control),
      &lt;span class="pl-c1"&gt;:candidate&lt;/span&gt;       =&amp;gt; observation_payload(result.candidates.first),
      &lt;span class="pl-c1"&gt;:execution_order&lt;/span&gt; =&amp;gt; result.observations.map(&lt;span class="pl-k"&gt;&amp;amp;&lt;/span&gt;&lt;span class="pl-c1"&gt;:name&lt;/span&gt;)
    }

    key &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;science.&lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt;name&lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt;.mismatch&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
    &lt;span class="pl-smi"&gt;$redis&lt;/span&gt;.lpush key, payload
    &lt;span class="pl-smi"&gt;$redis&lt;/span&gt;.ltrim key, &lt;span class="pl-c1"&gt;0&lt;/span&gt;, &lt;span class="pl-c1"&gt;1000&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;observation_payload&lt;/span&gt;(&lt;span class="pl-smi"&gt;observation&lt;/span&gt;)
    &lt;span class="pl-k"&gt;if&lt;/span&gt; observation.raised?
      {
        &lt;span class="pl-c1"&gt;:exception&lt;/span&gt; =&amp;gt; observation.exception.class,
        &lt;span class="pl-c1"&gt;:message&lt;/span&gt;   =&amp;gt; observation.exception.message,
        &lt;span class="pl-c1"&gt;:backtrace&lt;/span&gt; =&amp;gt; observation.exception.backtrace
      }
    &lt;span class="pl-k"&gt;else&lt;/span&gt;
      {
        &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; see "Keeping it clean" above&lt;/span&gt;
        &lt;span class="pl-c1"&gt;:value&lt;/span&gt; =&amp;gt; observation.cleaned_value
      }
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-testing" class="anchor" aria-hidden="true" href="#testing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Testing&lt;/h3&gt;
&lt;p&gt;When running your test suite, it's helpful to know that the experimental results always match. To help with testing, Scientist defines a &lt;code&gt;raise_on_mismatches&lt;/code&gt; class attribute when you include &lt;code&gt;Scientist::Experiment&lt;/code&gt;. Only do this in your test suite!&lt;/p&gt;
&lt;p&gt;To raise on mismatches:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyExperiment&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Scientist&lt;/span&gt;::&lt;span class="pl-c1"&gt;Experiment&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ... implementation&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;

&lt;span class="pl-c1"&gt;MyExperiment&lt;/span&gt;.raise_on_mismatches &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Scientist will raise a &lt;code&gt;Scientist::Experiment::MismatchError&lt;/code&gt; exception if any observations don't match.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-custom-mismatch-errors" class="anchor" aria-hidden="true" href="#custom-mismatch-errors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Custom mismatch errors&lt;/h4&gt;
&lt;p&gt;To instruct Scientist to raise a custom error instead of the default &lt;code&gt;Scientist::Experiment::MismatchError&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;CustomMismatchError&lt;span class="pl-e"&gt; &amp;lt; Scientist::Experiment::MismatchError&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;to_s&lt;/span&gt;
    message &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;There was a mismatch! Here's the diff:&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;

    diffs &lt;span class="pl-k"&gt;=&lt;/span&gt; result.candidates.map &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;candidate&lt;/span&gt;|
      &lt;span class="pl-c1"&gt;Diff&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(result.control, candidate)
    &lt;span class="pl-k"&gt;end&lt;/span&gt;.join(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\n&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)

    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt;message&lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt;&lt;span class="pl-cce"&gt;\n&lt;/span&gt;&lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt;diffs&lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;science &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;widget-permissions&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;e&lt;/span&gt;|
  e.use { &lt;span class="pl-c1"&gt;Report&lt;/span&gt;.find(id) }
  e.try { &lt;span class="pl-c1"&gt;ReportService&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;.fetch(id) }

  e.raise_with &lt;span class="pl-c1"&gt;CustomMismatchError&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This allows for pre-processing on mismatch error exception messages.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-handling-errors" class="anchor" aria-hidden="true" href="#handling-errors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Handling errors&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-in-candidate-code" class="anchor" aria-hidden="true" href="#in-candidate-code"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;In candidate code&lt;/h4&gt;
&lt;p&gt;Scientist rescues and tracks &lt;em&gt;all&lt;/em&gt; exceptions raised in a &lt;code&gt;try&lt;/code&gt; or &lt;code&gt;use&lt;/code&gt; block, including some where rescuing may cause unexpected behavior (like &lt;code&gt;SystemExit&lt;/code&gt; or &lt;code&gt;ScriptError&lt;/code&gt;). To rescue a more restrictive set of exceptions, modify the &lt;code&gt;RESCUES&lt;/code&gt; list:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; default is [Exception]&lt;/span&gt;
&lt;span class="pl-c1"&gt;Scientist&lt;/span&gt;::&lt;span class="pl-c1"&gt;Observation&lt;/span&gt;::&lt;span class="pl-c1"&gt;RESCUES&lt;/span&gt;.replace [&lt;span class="pl-c1"&gt;StandardError&lt;/span&gt;]&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-in-a-scientist-callback" class="anchor" aria-hidden="true" href="#in-a-scientist-callback"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;In a Scientist callback&lt;/h4&gt;
&lt;p&gt;If an exception is raised within any of Scientist's internal helpers, like &lt;code&gt;publish&lt;/code&gt;, &lt;code&gt;compare&lt;/code&gt;, or &lt;code&gt;clean&lt;/code&gt;, the &lt;code&gt;raised&lt;/code&gt; method is called with the symbol name of the internal operation that failed and the exception that was raised. The default behavior of &lt;code&gt;Scientist::Default&lt;/code&gt; is to simply re-raise the exception. Since this halts the experiment entirely, it's often a better idea to handle this error and continue so the experiment as a whole isn't canceled entirely:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyExperiment&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Scientist&lt;/span&gt;::&lt;span class="pl-c1"&gt;Experiment&lt;/span&gt;

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ...&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;raised&lt;/span&gt;(&lt;span class="pl-smi"&gt;operation&lt;/span&gt;, &lt;span class="pl-smi"&gt;error&lt;/span&gt;)
    &lt;span class="pl-c1"&gt;InternalErrorTracker&lt;/span&gt;.track! &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;science failure in &lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt;name&lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt;: &lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt;operation&lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, error
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The operations that may be handled here are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;:clean&lt;/code&gt; - an exception is raised in a &lt;code&gt;clean&lt;/code&gt; block&lt;/li&gt;
&lt;li&gt;&lt;code&gt;:compare&lt;/code&gt; - an exception is raised in a &lt;code&gt;compare&lt;/code&gt; block&lt;/li&gt;
&lt;li&gt;&lt;code&gt;:enabled&lt;/code&gt; - an exception is raised in the &lt;code&gt;enabled?&lt;/code&gt; method&lt;/li&gt;
&lt;li&gt;&lt;code&gt;:ignore&lt;/code&gt; - an exception is raised in an &lt;code&gt;ignore&lt;/code&gt; block&lt;/li&gt;
&lt;li&gt;&lt;code&gt;:publish&lt;/code&gt; - an exception is raised in the &lt;code&gt;publish&lt;/code&gt; method&lt;/li&gt;
&lt;li&gt;&lt;code&gt;:run_if&lt;/code&gt; - an exception is raised in a &lt;code&gt;run_if&lt;/code&gt; block&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-designing-an-experiment" class="anchor" aria-hidden="true" href="#designing-an-experiment"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Designing an experiment&lt;/h3&gt;
&lt;p&gt;Because &lt;code&gt;enabled?&lt;/code&gt; and &lt;code&gt;run_if&lt;/code&gt; determine when a candidate runs, it's impossible to guarantee that it will run every time. For this reason, Scientist is only safe for wrapping methods that aren't changing data.&lt;/p&gt;
&lt;p&gt;When using Scientist, we've found it most useful to modify both the existing and new systems simultaneously anywhere writes happen, and verify the results at read time with &lt;code&gt;science&lt;/code&gt;. &lt;code&gt;raise_on_mismatches&lt;/code&gt; has also been useful to ensure that the correct data was written during tests, and reviewing published mismatches has helped us find any situations we overlooked with our production data at runtime. When writing to and reading from two systems, it's also useful to write some data reconciliation scripts to verify and clean up production data alongside any running experiments.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-noise-and-error-rates" class="anchor" aria-hidden="true" href="#noise-and-error-rates"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Noise and error rates&lt;/h4&gt;
&lt;p&gt;Keep in mind that Scientist's &lt;code&gt;try&lt;/code&gt; and &lt;code&gt;use&lt;/code&gt; blocks run sequentially in random order. As such, any data upon which your code depends may change before the second block is invoked, potentially yielding a mismatch between the candidate and control return values. To calibrate your expectations with respect to &lt;a href="https://en.wikipedia.org/wiki/Type_I_and_type_II_errors" rel="nofollow"&gt;false negatives&lt;/a&gt; arising from systemic conditions external to your proposed changes, consider starting with an experiment in which both the &lt;code&gt;try&lt;/code&gt; and &lt;code&gt;use&lt;/code&gt; blocks invoke the control method. Then proceed with introducing a candidate.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-finishing-an-experiment" class="anchor" aria-hidden="true" href="#finishing-an-experiment"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Finishing an experiment&lt;/h3&gt;
&lt;p&gt;As your candidate behavior converges on the controls, you'll start thinking about removing an experiment and using the new behavior.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;If there are any ignore blocks, the candidate behavior is &lt;em&gt;guaranteed&lt;/em&gt; to be different. If this is unacceptable, you'll need to remove the ignore blocks and resolve any ongoing mismatches in behavior until the observations match perfectly every time.&lt;/li&gt;
&lt;li&gt;When removing a read-behavior experiment, it's a good idea to keep any write-side duplication between an old and new system in place until well after the new behavior has been in production, in case you need to roll back.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-breaking-the-rules" class="anchor" aria-hidden="true" href="#breaking-the-rules"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Breaking the rules&lt;/h2&gt;
&lt;p&gt;Sometimes scientists just gotta do weird stuff. We understand.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-ignoring-results-entirely" class="anchor" aria-hidden="true" href="#ignoring-results-entirely"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ignoring results entirely&lt;/h3&gt;
&lt;p&gt;Science is useful even when all you care about is the timing data or even whether or not a new code path blew up. If you have the ability to incrementally control how often an experiment runs via your &lt;code&gt;enabled?&lt;/code&gt; method, you can use it to silently and carefully test new code paths and ignore the results altogether. You can do this by setting &lt;code&gt;ignore { true }&lt;/code&gt;, or for greater efficiency, &lt;code&gt;compare { true }&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;This will still log mismatches if any exceptions are raised, but will disregard the values entirely.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-trying-more-than-one-thing" class="anchor" aria-hidden="true" href="#trying-more-than-one-thing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Trying more than one thing&lt;/h3&gt;
&lt;p&gt;It's not usually a good idea to try more than one alternative simultaneously. Behavior isn't guaranteed to be isolated and reporting + visualization get quite a bit harder. Still, it's sometimes useful.&lt;/p&gt;
&lt;p&gt;To try more than one alternative at once, add names to some &lt;code&gt;try&lt;/code&gt; blocks:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;scientist&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;MyWidget&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Scientist&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;allows?&lt;/span&gt;(&lt;span class="pl-smi"&gt;user&lt;/span&gt;)
    science &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;widget-permissions&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;e&lt;/span&gt;|
      e.use { model.check_user(user).valid? } &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; old way&lt;/span&gt;

      e.try(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;api&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) { user.can?(&lt;span class="pl-c1"&gt;:read&lt;/span&gt;, model) } &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; new service API&lt;/span&gt;
      e.try(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;raw-sql&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) { user.can_sql?(&lt;span class="pl-c1"&gt;:read&lt;/span&gt;, model) } &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; raw query&lt;/span&gt;
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When the experiment runs, all candidate behaviors are tested and each candidate observation is compared with the control in turn.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-no-control-just-candidates" class="anchor" aria-hidden="true" href="#no-control-just-candidates"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;No control, just candidates&lt;/h3&gt;
&lt;p&gt;Define the candidates with named &lt;code&gt;try&lt;/code&gt; blocks, omit a &lt;code&gt;use&lt;/code&gt;, and pass a candidate name to &lt;code&gt;run&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;experiment &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;MyExperiment&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;various-ways&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;e&lt;/span&gt;|
  e.try(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;first-way&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)  { ... }
  e.try(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;second-way&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) { ... }
&lt;span class="pl-k"&gt;end&lt;/span&gt;

experiment.run(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;second-way&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;science&lt;/code&gt; helper also knows this trick:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;science &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;various-ways&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;run:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;first-way&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;e&lt;/span&gt;|
  e.try(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;first-way&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)  { ... }
  e.try(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;second-way&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) { ... }
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-providing-fake-timing-data" class="anchor" aria-hidden="true" href="#providing-fake-timing-data"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Providing fake timing data&lt;/h4&gt;
&lt;p&gt;If you're writing tests that depend on specific timing values, you can provide canned durations using the &lt;code&gt;fabricate_durations_for_testing_purposes&lt;/code&gt; method, and Scientist will report these in &lt;code&gt;Scientist::Observation#duration&lt;/code&gt; instead of the actual execution times.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;science &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;absolutely-nothing-suspicious-happening-here&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;e&lt;/span&gt;|
  e.use { ... } &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; "control"&lt;/span&gt;
  e.try { ... } &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; "candidate"&lt;/span&gt;
  e.fabricate_durations_for_testing_purposes( &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;control&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;1.0&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;candidate&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;0.5&lt;/span&gt; )
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;fabricate_durations_for_testing_purposes&lt;/code&gt; takes a Hash of duration values, keyed by behavior names.  (By default, Scientist uses &lt;code&gt;"control"&lt;/code&gt; and &lt;code&gt;"candidate"&lt;/code&gt;, but if you override these as shown in &lt;a href="#trying-more-than-one-thing"&gt;Trying more than one thing&lt;/a&gt; or &lt;a href="#no-control-just-candidates"&gt;No control, just candidates&lt;/a&gt;, use matching names here.)  If a name is not provided, the actual execution time will be reported instead.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Like &lt;code&gt;Scientist::Experiment#cleaner&lt;/code&gt;, this probably won't come up in normal usage.  It's here to make it easier to test code that extends Scientist.&lt;/em&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-without-including-scientist" class="anchor" aria-hidden="true" href="#without-including-scientist"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Without including Scientist&lt;/h3&gt;
&lt;p&gt;If you need to use Scientist in a place where you aren't able to include the Scientist module, you can call &lt;code&gt;Scientist.run&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Scientist&lt;/span&gt;.run &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;widget-permissions&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;e&lt;/span&gt;|
  e.use { model.check_user(user).valid? }
  e.try { user.can?(&lt;span class="pl-c1"&gt;:read&lt;/span&gt;, model) }
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-hacking" class="anchor" aria-hidden="true" href="#hacking"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Hacking&lt;/h2&gt;
&lt;p&gt;Be on a Unixy box. Make sure a modern Bundler is available. &lt;code&gt;script/test&lt;/code&gt; runs the unit tests. All development dependencies are installed automatically. Scientist requires Ruby 2.3 or newer.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-wrappers" class="anchor" aria-hidden="true" href="#wrappers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Wrappers&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/RealGeeks/lab_tech"&gt;RealGeeks/lab_tech&lt;/a&gt; is a Rails engine for using this library by controlling, storing, and analyzing experiment results with ActiveRecord.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-alternatives" class="anchor" aria-hidden="true" href="#alternatives"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Alternatives&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/daylerees/scientist"&gt;daylerees/scientist&lt;/a&gt; (PHP)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/scientistproject/Scientist.net"&gt;scientistproject/scientist.net&lt;/a&gt; (.NET)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/joealcorn/laboratory"&gt;joealcorn/laboratory&lt;/a&gt; (Python)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/rawls238/Scientist4J"&gt;rawls238/Scientist4J&lt;/a&gt; (Java)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/tomiaijo/scientist"&gt;tomiaijo/scientist&lt;/a&gt; (C++)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/trello/scientist"&gt;trello/scientist&lt;/a&gt; (node.js)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ziyasal/scientist.js"&gt;ziyasal/scientist.js&lt;/a&gt; (node.js, ES6)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/yeller/laboratory"&gt;yeller/laboratory&lt;/a&gt; (Clojure)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/lancew/Scientist"&gt;lancew/Scientist&lt;/a&gt; (Perl 5)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/lancew/ScientistP6"&gt;lancew/ScientistP6&lt;/a&gt; (Perl 6)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/MadcapJake/Test-Lab"&gt;MadcapJake/Test-Lab&lt;/a&gt; (Perl 6)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/cwbriones/scientist"&gt;cwbriones/scientist&lt;/a&gt; (Elixir)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/calavera/go-scientist"&gt;calavera/go-scientist&lt;/a&gt; (Go)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jelmersnoeck/experiment"&gt;jelmersnoeck/experiment&lt;/a&gt; (Go)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/spoptchev/scientist"&gt;spoptchev/scientist&lt;/a&gt; (Kotlin / Java)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/junkpiano/scientist"&gt;junkpiano/scientist&lt;/a&gt; (Swift)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://serverlessscientist.com/" rel="nofollow"&gt;serverless scientist&lt;/a&gt; (AWS Lambda)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-maintainers" class="anchor" aria-hidden="true" href="#maintainers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Maintainers&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://github.com/jbarnette"&gt;@jbarnette&lt;/a&gt;,
&lt;a href="https://github.com/jesseplusplus"&gt;@jesseplusplus&lt;/a&gt;,
&lt;a href="https://github.com/rick"&gt;@rick&lt;/a&gt;,
and &lt;a href="https://github.com/zerowidth"&gt;@zerowidth&lt;/a&gt;&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>github</author><guid isPermaLink="false">https://github.com/github/scientist</guid><pubDate>Mon, 10 Feb 2020 00:23:00 GMT</pubDate></item><item><title>teamcapybara/capybara #24 in Ruby, This week</title><link>https://github.com/teamcapybara/capybara</link><description>&lt;p&gt;&lt;i&gt;Acceptance test framework for web applications&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-capybara" class="anchor" aria-hidden="true" href="#capybara"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Capybara&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://travis-ci.org/teamcapybara/capybara" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/d2a69513271c0ce3ff12368f5ea3fa02d453b835/68747470733a2f2f7365637572652e7472617669732d63692e6f72672f7465616d63617079626172612f63617079626172612e737667" alt="Build Status" data-canonical-src="https://secure.travis-ci.org/teamcapybara/capybara.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://ci.appveyor.com/api/projects/github/teamcapybara/capybara" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/55bec4366108bda0dc064e4221ca51517c6dda8a/68747470733a2f2f63692e6170707665796f722e636f6d2f6170692f70726f6a656374732f7374617475732f6769746875622f7465616d63617079626172612f63617079626172613f7376673d74727565" alt="Build Status" data-canonical-src="https://ci.appveyor.com/api/projects/status/github/teamcapybara/capybara?svg=true" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://codeclimate.com/github/teamcapybara/capybara" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/4565053fa187f1cd5538143f10510f2aa65c022f/68747470733a2f2f636f6465636c696d6174652e636f6d2f6769746875622f7465616d63617079626172612f63617079626172612e737667" alt="Code Climate" data-canonical-src="https://codeclimate.com/github/teamcapybara/capybara.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://coveralls.io/github/teamcapybara/capybara?branch=master" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/75d06199be36613d7cff98d0603af44001f3edcb/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f7465616d63617079626172612f63617079626172612f62616467652e7376673f6272616e63683d6d6173746572" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/github/teamcapybara/capybara/badge.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://gitter.im/jnicklas/capybara?utm_source=badge&amp;amp;utm_medium=badge&amp;amp;utm_campaign=pr-badge&amp;amp;utm_content=badge" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667" alt="Gitter" data-canonical-src="https://badges.gitter.im/Join%20Chat.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://dependabot.com/compatibility-score.html?dependency-name=capybara&amp;amp;package-manager=bundler&amp;amp;version-scheme=semver" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/dc40679b2a957efdf6f1f5742157bb1831625246/68747470733a2f2f6170692e646570656e6461626f742e636f6d2f6261646765732f636f6d7061746962696c6974795f73636f72653f646570656e64656e63792d6e616d653d6361707962617261267061636b6167652d6d616e616765723d62756e646c65722676657273696f6e2d736368656d653d73656d766572" alt="SemVer" data-canonical-src="https://api.dependabot.com/badges/compatibility_score?dependency-name=capybara&amp;amp;package-manager=bundler&amp;amp;version-scheme=semver" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt; You are viewing the README for the development version of Capybara. If you are using the current release version
you can find the README at &lt;a href="https://github.com/teamcapybara/capybara/blob/3.31_stable/README.md"&gt;https://github.com/teamcapybara/capybara/blob/3.31_stable/README.md&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Capybara helps you test web applications by simulating how a real user would
interact with your app. It is agnostic about the driver running your tests and
comes with Rack::Test and Selenium support built in. WebKit is supported
through an external gem.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-support-capybara" class="anchor" aria-hidden="true" href="#support-capybara"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Support Capybara&lt;/h2&gt;
&lt;p&gt;If you and/or your company find value in Capybara and would like to contribute financially to its ongoing maintenance and development, please visit
&lt;a href="https://www.patreon.com/capybara" rel="nofollow"&gt;Patreon&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Need help?&lt;/strong&gt; Ask on the mailing list (please do not open an issue on
GitHub): &lt;a href="http://groups.google.com/group/ruby-capybara" rel="nofollow"&gt;http://groups.google.com/group/ruby-capybara&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-table-of-contents" class="anchor" aria-hidden="true" href="#table-of-contents"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Table of contents&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#key-benefits"&gt;Key benefits&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#setup"&gt;Setup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#using-capybara-with-cucumber"&gt;Using Capybara with Cucumber&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#using-capybara-with-rspec"&gt;Using Capybara with RSpec&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#using-capybara-with-testunit"&gt;Using Capybara with Test::Unit&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#using-capybara-with-minitest"&gt;Using Capybara with Minitest&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#using-capybara-with-minitestspec"&gt;Using Capybara with Minitest::Spec&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#drivers"&gt;Drivers&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#selecting-the-driver"&gt;Selecting the Driver&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#racktest"&gt;RackTest&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#selenium"&gt;Selenium&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#apparition"&gt;Apparition&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#the-dsl"&gt;The DSL&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#navigating"&gt;Navigating&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#clicking-links-and-buttons"&gt;Clicking links and buttons&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#interacting-with-forms"&gt;Interacting with forms&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#querying"&gt;Querying&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#finding"&gt;Finding&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#scoping"&gt;Scoping&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#working-with-windows"&gt;Working with windows&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#scripting"&gt;Scripting&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#modals"&gt;Modals&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#debugging"&gt;Debugging&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#matching"&gt;Matching&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#exactness"&gt;Exactness&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#strategy"&gt;Strategy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#transactions-and-database-setup"&gt;Transactions and database setup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#asynchronous-javascript-ajax-and-friends"&gt;Asynchronous JavaScript (Ajax and friends)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#using-the-dsl-elsewhere"&gt;Using the DSL elsewhere&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#calling-remote-servers"&gt;Calling remote servers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#using-sessions"&gt;Using sessions&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#named-sessions"&gt;Named sessions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#using-sessions-manually"&gt;Using sessions manually&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#xpath-css-and-selectors"&gt;XPath, CSS and selectors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#beware-the-xpath--trap"&gt;Beware the XPath // trap&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#configuring-and-adding-drivers"&gt;Configuring and adding drivers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#gotchas"&gt;Gotchas:&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#threadsafe-mode"&gt;"Threadsafe" mode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#development"&gt;Development&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-key-benefits" class="anchor" aria-hidden="true" href="#key-benefits"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-key-benefits"&gt;&lt;/a&gt;Key benefits&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;No setup&lt;/strong&gt; necessary for Rails and Rack application. Works out of the box.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Intuitive API&lt;/strong&gt; which mimics the language an actual user would use.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Switch the backend&lt;/strong&gt; your tests run against from fast headless mode
to an actual browser with no changes to your tests.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Powerful synchronization&lt;/strong&gt; features mean you never have to manually wait
for asynchronous processes to complete.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-setup" class="anchor" aria-hidden="true" href="#setup"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-setup"&gt;&lt;/a&gt;Setup&lt;/h2&gt;
&lt;p&gt;Capybara requires Ruby 2.4.0 or later. To install, add this line to your
&lt;code&gt;Gemfile&lt;/code&gt; and run &lt;code&gt;bundle install&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;gem &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;capybara&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If the application that you are testing is a Rails app, add this line to your test helper file:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;capybara/rails&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If the application that you are testing is a Rack app, but not Rails, set Capybara.app to your Rack app:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.app &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;MyRackApp&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you need to test JavaScript, or if your app interacts with (or is located at)
a remote URL, you'll need to &lt;a href="#drivers"&gt;use a different driver&lt;/a&gt;.  If using Rails 5.0+, but not using the Rails system tests from 5.1, you'll probably also
want to swap the "server" used to launch your app to Puma in order to match Rails defaults.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.server &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;:puma&lt;/span&gt; &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Until your setup is working&lt;/span&gt;
&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.server &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;:puma&lt;/span&gt;, { &lt;span class="pl-c1"&gt;Silent:&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt; } &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; To clean up your test output&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-using-capybara-with-cucumber" class="anchor" aria-hidden="true" href="#using-capybara-with-cucumber"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-using-capybara-with-cucumber"&gt;&lt;/a&gt;Using Capybara with Cucumber&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;cucumber-rails&lt;/code&gt; gem comes with Capybara support built-in. If you
are not using Rails, manually load the &lt;code&gt;capybara/cucumber&lt;/code&gt; module:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;capybara/cucumber&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.app &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;MyRackApp&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can use the Capybara DSL in your steps, like so:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;When&lt;/span&gt; &lt;span class="pl-sr"&gt;/I sign in/&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
  within(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;#session&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt;
    fill_in &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Email&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;with:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;user@example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
    fill_in &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Password&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;with:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;password&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
  click_button &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Sign in&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can switch to the &lt;code&gt;Capybara.javascript_driver&lt;/code&gt; (&lt;code&gt;:selenium&lt;/code&gt;
by default) by tagging scenarios (or features) with &lt;code&gt;@javascript&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-smi"&gt;@javascript&lt;/span&gt;
&lt;span class="pl-c1"&gt;Scenario:&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; something &lt;span class="pl-c1"&gt;Ajaxy&lt;/span&gt;
  &lt;span class="pl-c1"&gt;When&lt;/span&gt; &lt;span class="pl-c1"&gt;I&lt;/span&gt; click the &lt;span class="pl-c1"&gt;Ajax&lt;/span&gt; link
  ...&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;There are also explicit tags for each registered driver set up for you (&lt;code&gt;@selenium&lt;/code&gt;, &lt;code&gt;@rack_test&lt;/code&gt;, etc).&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-using-capybara-with-rspec" class="anchor" aria-hidden="true" href="#using-capybara-with-rspec"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-using-capybara-with-rspec"&gt;&lt;/a&gt;Using Capybara with RSpec&lt;/h2&gt;
&lt;p&gt;Load RSpec 3.5+ support by adding the following line (typically to your
&lt;code&gt;spec_helper.rb&lt;/code&gt; file):&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;capybara/rspec&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you are using Rails, put your Capybara specs in &lt;code&gt;spec/features&lt;/code&gt; or &lt;code&gt;spec/system&lt;/code&gt; (only works
if &lt;a href="https://www.relishapp.com/rspec/rspec-rails/docs/upgrade#file-type-inference-disabled" rel="nofollow"&gt;you have it configured in
RSpec&lt;/a&gt;)
and if you have your Capybara specs in a different directory, then tag the
example groups with &lt;code&gt;type: :feature&lt;/code&gt; or &lt;code&gt;type: :system&lt;/code&gt; depending on which type of test you're writing.&lt;/p&gt;
&lt;p&gt;If you are not using Rails, tag all the example groups in which you want to use
Capybara with &lt;code&gt;type: :feature&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;You can now write your specs like so:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;describe &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;the signin process&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;type:&lt;/span&gt; &lt;span class="pl-c1"&gt;:feature&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
  before &lt;span class="pl-c1"&gt;:each&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
    &lt;span class="pl-c1"&gt;User&lt;/span&gt;.make(&lt;span class="pl-c1"&gt;email:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;user@example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;password:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;password&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  it &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;signs me in&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
    visit &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/sessions/new&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
    within(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;#session&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt;
      fill_in &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Email&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;with:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;user@example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
      fill_in &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Password&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;with:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;password&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
    click_button &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Sign in&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
    expect(page).to have_content &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Success&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Use &lt;code&gt;js: true&lt;/code&gt; to switch to the &lt;code&gt;Capybara.javascript_driver&lt;/code&gt;
(&lt;code&gt;:selenium&lt;/code&gt; by default), or provide a &lt;code&gt;:driver&lt;/code&gt; option to switch
to one specific driver. For example:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;describe &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;some stuff which requires js&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;js:&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
  it &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;will use the default js driver&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  it &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;will switch to one specific driver&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;driver:&lt;/span&gt; &lt;span class="pl-c1"&gt;:apparition&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Capybara also comes with a built in DSL for creating descriptive acceptance tests:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;feature &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Signing in&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
  background &lt;span class="pl-k"&gt;do&lt;/span&gt;
    &lt;span class="pl-c1"&gt;User&lt;/span&gt;.make(&lt;span class="pl-c1"&gt;email:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;user@example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;password:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;caplin&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  scenario &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Signing in with correct credentials&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
    visit &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/sessions/new&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
    within(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;#session&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt;
      fill_in &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Email&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;with:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;user@example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
      fill_in &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Password&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;with:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;caplin&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
    click_button &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Sign in&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
    expect(page).to have_content &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Success&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  given(&lt;span class="pl-c1"&gt;:other_user&lt;/span&gt;) { &lt;span class="pl-c1"&gt;User&lt;/span&gt;.make(&lt;span class="pl-c1"&gt;email:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;other@example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;password:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;rous&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;) }

  scenario &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Signing in as another user&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
    visit &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/sessions/new&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
    within(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;#session&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt;
      fill_in &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Email&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;with:&lt;/span&gt; other_user.email
      fill_in &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Password&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;with:&lt;/span&gt; other_user.password
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
    click_button &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Sign in&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
    expect(page).to have_content &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Invalid email or password&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;feature&lt;/code&gt; is in fact just an alias for &lt;code&gt;describe ..., type: :feature&lt;/code&gt;,
&lt;code&gt;background&lt;/code&gt; is an alias for &lt;code&gt;before&lt;/code&gt;, &lt;code&gt;scenario&lt;/code&gt; for &lt;code&gt;it&lt;/code&gt;, and
&lt;code&gt;given&lt;/code&gt;/&lt;code&gt;given!&lt;/code&gt; aliases for &lt;code&gt;let&lt;/code&gt;/&lt;code&gt;let!&lt;/code&gt;, respectively.&lt;/p&gt;
&lt;p&gt;Finally, Capybara matchers are also supported in view specs:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;RSpec&lt;/span&gt;.describe &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;todos/show.html.erb&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;type:&lt;/span&gt; &lt;span class="pl-c1"&gt;:view&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
  it &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;displays the todo title&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
    assign &lt;span class="pl-c1"&gt;:todo&lt;/span&gt;, &lt;span class="pl-c1"&gt;Todo&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(&lt;span class="pl-c1"&gt;title:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Buy milk&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)

    render

    expect(rendered).to have_css(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;header h1&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;text:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Buy milk&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note: When you require 'capybara/rspec' proxy methods are installed to work around name collisions between Capybara::DSL methods
&lt;code&gt;all&lt;/code&gt;/&lt;code&gt;within&lt;/code&gt; and the identically named built-in RSpec matchers. If you opt not to require 'capybara/rspec' you can install the proxy methods by requiring 'capybara/rspec/matcher_proxies' after requiring RSpec and 'capybara/dsl'&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-using-capybara-with-testunit" class="anchor" aria-hidden="true" href="#using-capybara-with-testunit"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-using-capybara-with-testunit"&gt;&lt;/a&gt;Using Capybara with Test::Unit&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;If you are using &lt;code&gt;Test::Unit&lt;/code&gt;, define a base class for your Capybara tests
like so:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;capybara/dsl&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;CapybaraTestCase&lt;span class="pl-e"&gt; &amp;lt; Test::Unit::TestCase&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;::&lt;span class="pl-c1"&gt;DSL&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;teardown&lt;/span&gt;
    &lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.reset_sessions!
    &lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.use_default_driver
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-using-capybara-with-minitest" class="anchor" aria-hidden="true" href="#using-capybara-with-minitest"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-using-capybara-with-minitest"&gt;&lt;/a&gt;Using Capybara with Minitest&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;If you are using Rails, but not using Rails system tests, add the following code in your &lt;code&gt;test_helper.rb&lt;/code&gt;
file to make Capybara available in all test cases deriving from
&lt;code&gt;ActionDispatch::IntegrationTest&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;capybara/rails&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;capybara/minitest&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;ActionDispatch::IntegrationTest&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Make the Capybara DSL available in all integration tests&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;::&lt;span class="pl-c1"&gt;DSL&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Make `assert_*` methods behave like Minitest assertions&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;::&lt;span class="pl-c1"&gt;Minitest&lt;/span&gt;::&lt;span class="pl-c1"&gt;Assertions&lt;/span&gt;

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Reset sessions and driver between tests&lt;/span&gt;
  teardown &lt;span class="pl-k"&gt;do&lt;/span&gt;
    &lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.reset_sessions!
    &lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.use_default_driver
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you are not using Rails, define a base class for your Capybara tests like
so:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;capybara/minitest&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;CapybaraTestCase&lt;span class="pl-e"&gt; &amp;lt; Minitest::Test&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;::&lt;span class="pl-c1"&gt;DSL&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;::&lt;span class="pl-c1"&gt;Minitest&lt;/span&gt;::&lt;span class="pl-c1"&gt;Assertions&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;teardown&lt;/span&gt;
    &lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.reset_sessions!
    &lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.use_default_driver
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Remember to call &lt;code&gt;super&lt;/code&gt; in any subclasses that override
&lt;code&gt;teardown&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To switch the driver, set &lt;code&gt;Capybara.current_driver&lt;/code&gt;. For instance,&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;class&lt;/span&gt; &lt;span class="pl-en"&gt;BlogTest&lt;span class="pl-e"&gt; &amp;lt; ActionDispatch::IntegrationTest&lt;/span&gt;&lt;/span&gt;
  setup &lt;span class="pl-k"&gt;do&lt;/span&gt;
    &lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.current_driver &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.javascript_driver &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; :selenium by default&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;

  &lt;span class="pl-c1"&gt;test&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;shows blog posts&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt;
    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ... this test is run with Selenium ...&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-using-capybara-with-minitestspec" class="anchor" aria-hidden="true" href="#using-capybara-with-minitestspec"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-using-capybara-with-minitestspec"&gt;&lt;/a&gt;Using Capybara with Minitest::Spec&lt;/h2&gt;
&lt;p&gt;Follow the above instructions for Minitest and additionally require capybara/minitest/spec&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;page.must_have_content(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Important!&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-drivers" class="anchor" aria-hidden="true" href="#drivers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-drivers"&gt;&lt;/a&gt;Drivers&lt;/h2&gt;
&lt;p&gt;Capybara uses the same DSL to drive a variety of browser and headless drivers.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-selecting-the-driver" class="anchor" aria-hidden="true" href="#selecting-the-driver"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-selecting-the-driver"&gt;&lt;/a&gt;Selecting the Driver&lt;/h3&gt;
&lt;p&gt;By default, Capybara uses the &lt;code&gt;:rack_test&lt;/code&gt; driver, which is fast but limited: it
does not support JavaScript, nor is it able to access HTTP resources outside of
your Rack application, such as remote APIs and OAuth services. To get around
these limitations, you can set up a different default driver for your features.
For example if you'd prefer to run everything in Selenium, you could do:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.default_driver &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;:selenium&lt;/span&gt; &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; :selenium_chrome and :selenium_chrome_headless are also registered&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, if you are using RSpec or Cucumber (and your app runs correctly without JS),
you may instead want to consider leaving the faster &lt;code&gt;:rack_test&lt;/code&gt; as the &lt;strong&gt;default_driver&lt;/strong&gt;, and
marking only those tests that require a JavaScript-capable driver using &lt;code&gt;js: true&lt;/code&gt; or
&lt;code&gt;@javascript&lt;/code&gt;, respectively.  By default, JavaScript tests are run using the
&lt;code&gt;:selenium&lt;/code&gt; driver. You can change this by setting
&lt;code&gt;Capybara.javascript_driver&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;You can also change the driver temporarily (typically in the Before/setup and
After/teardown blocks):&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.current_driver &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;:apparition&lt;/span&gt; &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; temporarily select different driver&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; tests here&lt;/span&gt;
&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.use_default_driver       &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; switch back to default driver&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: switching the driver creates a new session, so you may not be able to
switch in the middle of a test.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-racktest" class="anchor" aria-hidden="true" href="#racktest"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-racktest"&gt;&lt;/a&gt;RackTest&lt;/h3&gt;
&lt;p&gt;RackTest is Capybara's default driver. It is written in pure Ruby and does not
have any support for executing JavaScript. Since the RackTest driver interacts
directly with Rack interfaces, it does not require a server to be started.
However, this means that if your application is not a Rack application (Rails,
Sinatra and most other Ruby frameworks are Rack applications) then you cannot
use this driver. Furthermore, you cannot use the RackTest driver to test a
remote application, or to access remote URLs (e.g., redirects to external
sites, external APIs, or OAuth services) that your application might interact
with.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/jeroenvandijk/capybara-mechanize"&gt;capybara-mechanize&lt;/a&gt;
provides a similar driver that can access remote servers.&lt;/p&gt;
&lt;p&gt;RackTest can be configured with a set of headers like this:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.register_driver &lt;span class="pl-c1"&gt;:rack_test&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;app&lt;/span&gt;|
  &lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;::&lt;span class="pl-c1"&gt;RackTest&lt;/span&gt;::&lt;span class="pl-c1"&gt;Driver&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(app, &lt;span class="pl-c1"&gt;headers:&lt;/span&gt; { &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;HTTP_USER_AGENT&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; =&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Capybara&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; })
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;See the section on adding and configuring drivers.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-selenium" class="anchor" aria-hidden="true" href="#selenium"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-selenium"&gt;&lt;/a&gt;Selenium&lt;/h3&gt;
&lt;p&gt;Capybara supports &lt;a href="https://www.seleniumhq.org/projects/webdriver/" rel="nofollow"&gt;Selenium 3.5+
(Webdriver)&lt;/a&gt;.
In order to use Selenium, you'll need to install the &lt;code&gt;selenium-webdriver&lt;/code&gt; gem,
and add it to your Gemfile if you're using bundler.&lt;/p&gt;
&lt;p&gt;Capybara pre-registers a number of named drivers that use Selenium - they are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;:selenium                 =&amp;gt; Selenium driving Firefox&lt;/li&gt;
&lt;li&gt;:selenium_headless        =&amp;gt; Selenium driving Firefox in a headless configuration&lt;/li&gt;
&lt;li&gt;:selenium_chrome          =&amp;gt; Selenium driving Chrome&lt;/li&gt;
&lt;li&gt;:selenium_chrome_headless =&amp;gt; Selenium driving Chrome in a headless configuration&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These should work (with relevant software installation) in a local desktop configuration but you may
need to customize them if using in a CI environment where additional options may need to be passed
to the browsers.  See the section on adding and configuring drivers.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: drivers which run the server in a different thread may not share the
same transaction as your tests, causing data not to be shared between your test
and test server, see &lt;a href="#transactions-and-database-setup"&gt;Transactions and database setup&lt;/a&gt; below.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-apparition" class="anchor" aria-hidden="true" href="#apparition"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-apparition"&gt;&lt;/a&gt;Apparition&lt;/h3&gt;
&lt;p&gt;The &lt;a href="https://github.com/twalpole/apparition"&gt;apparition driver&lt;/a&gt; is a new driver that allows you to run tests using Chrome in a headless
or headed configuration. It attempts to provide backwards compatibility with the &lt;a href="https://github.com/teampoltergeist/poltergeist"&gt;Poltergeist driver API&lt;/a&gt;
and &lt;a href="https://github.com/thoughtbot/capybara-webkit"&gt;capybara-webkit API&lt;/a&gt; while allowing for the use of modern JS/CSS. It
uses CDP to communicate with Chrome, thereby obviating the need for chromedriver. This driver is being developed by the
current developer of Capybara and will attempt to keep up to date with new Capybara releases. It will probably be moved into the
teamcapybara repo once it reaches v1.0.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-the-dsl" class="anchor" aria-hidden="true" href="#the-dsl"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-the-dsl"&gt;&lt;/a&gt;The DSL&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;A complete reference is available at
&lt;a href="http://rubydoc.info/github/teamcapybara/capybara/master" rel="nofollow"&gt;rubydoc.info&lt;/a&gt;&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note: By default Capybara will only locate visible elements. This is because
a real user would not be able to interact with non-visible elements.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: All searches in Capybara are &lt;em&gt;case sensitive&lt;/em&gt;. This is because
Capybara heavily uses XPath, which doesn't support case insensitivity.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-navigating" class="anchor" aria-hidden="true" href="#navigating"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-navigating"&gt;&lt;/a&gt;Navigating&lt;/h3&gt;
&lt;p&gt;You can use the
&lt;tt&gt;&lt;a href="http://rubydoc.info/github/teamcapybara/capybara/master/Capybara/Session#visit-instance_method" rel="nofollow"&gt;visit&lt;/a&gt;&lt;/tt&gt;
method to navigate to other pages:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;visit(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/projects&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
visit(post_comments_path(post))&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The visit method only takes a single parameter, the request method is &lt;strong&gt;always&lt;/strong&gt;
GET.&lt;/p&gt;
&lt;p&gt;You can get the &lt;a href="http://rubydoc.info/github/teamcapybara/capybara/master/Capybara/Session#current_path-instance_method" rel="nofollow"&gt;current path&lt;/a&gt;
of the browsing session, and test it using the &lt;a href="http://www.rubydoc.info/github/teamcapybara/capybara/master/Capybara/RSpecMatchers#have_current_path-instance_method" rel="nofollow"&gt;&lt;code&gt;have_current_path&lt;/code&gt;&lt;/a&gt; matcher:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;expect(page).to have_current_path(post_comments_path(post))&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: You can also assert the current path by testing the value of
&lt;code&gt;current_path&lt;/code&gt; directly. However, using the &lt;code&gt;have_current_path&lt;/code&gt; matcher is
safer since it uses Capybara's &lt;a href="#asynchronous-javascript-ajax-and-friends"&gt;waiting behaviour&lt;/a&gt;
to ensure that preceding actions (such as a &lt;code&gt;click_link&lt;/code&gt;) have completed.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-clicking-links-and-buttons" class="anchor" aria-hidden="true" href="#clicking-links-and-buttons"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-clicking-links-and-buttons"&gt;&lt;/a&gt;Clicking links and buttons&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;Full reference: &lt;a href="http://rubydoc.info/github/teamcapybara/capybara/master/Capybara/Node/Actions" rel="nofollow"&gt;Capybara::Node::Actions&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;You can interact with the webapp by following links and buttons. Capybara
automatically follows any redirects, and submits forms associated with buttons.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;click_link(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;id-of-link&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
click_link(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Link Text&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
click_button(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Save&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
click_on(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Link Text&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; clicks on either links or buttons&lt;/span&gt;
click_on(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Button Value&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-interacting-with-forms" class="anchor" aria-hidden="true" href="#interacting-with-forms"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-interacting-with-forms"&gt;&lt;/a&gt;Interacting with forms&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;Full reference: &lt;a href="http://rubydoc.info/github/teamcapybara/capybara/master/Capybara/Node/Actions" rel="nofollow"&gt;Capybara::Node::Actions&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;There are a number of tools for interacting with form elements:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;fill_in(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;First Name&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;with:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;John&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
fill_in(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Password&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;with:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Seekrit&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
fill_in(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Description&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;with:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Really Long Text...&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
choose(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;A Radio Button&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
check(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;A Checkbox&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
uncheck(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;A Checkbox&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
attach_file(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Image&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/path/to/image.jpg&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
&lt;span class="pl-c1"&gt;select&lt;/span&gt;(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Option&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;from:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Select Box&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-querying" class="anchor" aria-hidden="true" href="#querying"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-querying"&gt;&lt;/a&gt;Querying&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;Full reference: &lt;a href="http://rubydoc.info/github/teamcapybara/capybara/master/Capybara/Node/Matchers" rel="nofollow"&gt;Capybara::Node::Matchers&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Capybara has a rich set of options for querying the page for the existence of
certain elements, and working with and manipulating those elements.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;page.has_selector?(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;table tr&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
page.has_selector?(&lt;span class="pl-c1"&gt;:xpath&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;.//table/tr&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)

page.has_xpath?(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;.//table/tr&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
page.has_css?(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;table tr.foo&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
page.has_content?(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;foo&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; The negative forms like &lt;code&gt;has_no_selector?&lt;/code&gt; are different from &lt;code&gt;not has_selector?&lt;/code&gt;. Read the section on asynchronous JavaScript for an explanation.&lt;/p&gt;
&lt;p&gt;You can use these with RSpec's magic matchers:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;expect(page).to have_selector(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;table tr&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
expect(page).to have_selector(&lt;span class="pl-c1"&gt;:xpath&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;.//table/tr&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)

expect(page).to have_xpath(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;.//table/tr&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
expect(page).to have_css(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;table tr.foo&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
expect(page).to have_content(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;foo&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-finding" class="anchor" aria-hidden="true" href="#finding"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-finding"&gt;&lt;/a&gt;Finding&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;Full reference: &lt;a href="http://rubydoc.info/github/teamcapybara/capybara/master/Capybara/Node/Finders" rel="nofollow"&gt;Capybara::Node::Finders&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;You can also find specific elements, in order to manipulate them:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;find_field(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;First Name&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).value
find_field(&lt;span class="pl-c1"&gt;id:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;my_field&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).value
find_link(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Hello&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;:visible&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;:all&lt;/span&gt;).visible?
find_link(&lt;span class="pl-c1"&gt;class:&lt;/span&gt; [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;some_class&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;some_other_class&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;], &lt;span class="pl-c1"&gt;:visible&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;:all&lt;/span&gt;).visible?

find_button(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Send&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).click
find_button(&lt;span class="pl-c1"&gt;value:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;1234&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).click

find(&lt;span class="pl-c1"&gt;:xpath&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;.//table/tr&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).click
find(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;#overlay&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).find(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;h1&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).click
all(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;a&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).each { |&lt;span class="pl-smi"&gt;a&lt;/span&gt;| a[&lt;span class="pl-c1"&gt;:href&lt;/span&gt;] }&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you need to find elements by additional attributes/properties you can also pass a filter block, which will be checked inside the normal waiting behavior.
If you find yourself needing to use this a lot you may be better off adding a &lt;a href="http://www.rubydoc.info/github/teamcapybara/capybara/Capybara#add_selector-class_method" rel="nofollow"&gt;custom selector&lt;/a&gt; or &lt;a href="http://www.rubydoc.info/github/teamcapybara/capybara/Capybara#modify_selector-class_method" rel="nofollow"&gt;adding a filter to an existing selector&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;find_field(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;First Name&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;){ |&lt;span class="pl-smi"&gt;el&lt;/span&gt;| el[&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;data-xyz&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;] &lt;span class="pl-k"&gt;==&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;123&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; }
find(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;#img_loading&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;){ |&lt;span class="pl-smi"&gt;img&lt;/span&gt;| img[&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;complete&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;] &lt;span class="pl-k"&gt;==&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt; }&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: &lt;code&gt;find&lt;/code&gt; will wait for an element to appear on the page, as explained in the
Ajax section. If the element does not appear it will raise an error.&lt;/p&gt;
&lt;p&gt;These elements all have all the Capybara DSL methods available, so you can restrict them
to specific parts of the page:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;find(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;#navigation&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).click_link(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Home&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
expect(find(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;#navigation&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)).to have_button(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Sign out&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-scoping" class="anchor" aria-hidden="true" href="#scoping"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-scoping"&gt;&lt;/a&gt;Scoping&lt;/h3&gt;
&lt;p&gt;Capybara makes it possible to restrict certain actions, such as interacting with
forms or clicking links and buttons, to within a specific area of the page. For
this purpose you can use the generic
&lt;tt&gt;&lt;a href="http://rubydoc.info/github/teamcapybara/capybara/master/Capybara/Session#within-instance_method" rel="nofollow"&gt;within&lt;/a&gt;&lt;/tt&gt;
method. Optionally you can specify which kind of selector to use.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;within(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;li#employee&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt;
  fill_in &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Name&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;with:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Jimmy&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;

within(&lt;span class="pl-c1"&gt;:xpath&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;.//li[@id='employee']&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt;
  fill_in &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Name&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;with:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Jimmy&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;There are special methods for restricting the scope to a specific fieldset,
identified by either an id or the text of the fieldset's legend tag, and to a
specific table, identified by either id or text of the table's caption tag.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;within_fieldset(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Employee&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt;
  fill_in &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Name&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;with:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Jimmy&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;

within_table(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Employee&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt;
  fill_in &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Name&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;with:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Jimmy&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-working-with-windows" class="anchor" aria-hidden="true" href="#working-with-windows"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-working-with-windows"&gt;&lt;/a&gt;Working with windows&lt;/h3&gt;
&lt;p&gt;Capybara provides some methods to ease finding and switching windows:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;facebook_window &lt;span class="pl-k"&gt;=&lt;/span&gt; window_opened_by &lt;span class="pl-k"&gt;do&lt;/span&gt;
  click_button &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Like&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;
within_window facebook_window &lt;span class="pl-k"&gt;do&lt;/span&gt;
  find(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;#login_email&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).set(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;a@example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
  find(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;#login_password&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).set(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;qwerty&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
  click_button &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Submit&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-scripting" class="anchor" aria-hidden="true" href="#scripting"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-scripting"&gt;&lt;/a&gt;Scripting&lt;/h3&gt;
&lt;p&gt;In drivers which support it, you can easily execute JavaScript:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;page.execute_script(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;$('body').empty()&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For simple expressions, you can return the result of the script.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;result &lt;span class="pl-k"&gt;=&lt;/span&gt; page.evaluate_script(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;4 + 4&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;);&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For more complicated scripts you'll need to write them as one expression.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;result &lt;span class="pl-k"&gt;=&lt;/span&gt; page.evaluate_script(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;&amp;lt;&amp;lt;~JS&lt;/span&gt;&lt;span class="pl-s1"&gt;, &lt;span class="pl-c1"&gt;3&lt;/span&gt;, element)&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-s1"&gt;  (&lt;span class="pl-k"&gt;function&lt;/span&gt;(&lt;span class="pl-smi"&gt;n&lt;/span&gt;, &lt;span class="pl-smi"&gt;el&lt;/span&gt;){&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-s1"&gt;    &lt;span class="pl-k"&gt;var&lt;/span&gt; val &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;parseInt&lt;/span&gt;(&lt;span class="pl-smi"&gt;el&lt;/span&gt;.&lt;span class="pl-c1"&gt;value&lt;/span&gt;, &lt;span class="pl-c1"&gt;10&lt;/span&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-s1"&gt;    &lt;span class="pl-k"&gt;return&lt;/span&gt; n&lt;span class="pl-k"&gt;+&lt;/span&gt;val;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-s1"&gt;  })(&lt;span class="pl-c1"&gt;arguments&lt;/span&gt;[&lt;span class="pl-c1"&gt;0&lt;/span&gt;], &lt;span class="pl-c1"&gt;arguments&lt;/span&gt;[&lt;span class="pl-c1"&gt;1&lt;/span&gt;])&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-s1"&gt;&lt;/span&gt;&lt;span class="pl-pds"&gt;JS&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-modals" class="anchor" aria-hidden="true" href="#modals"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-modals"&gt;&lt;/a&gt;Modals&lt;/h3&gt;
&lt;p&gt;In drivers which support it, you can accept, dismiss and respond to alerts, confirms and prompts.&lt;/p&gt;
&lt;p&gt;You can accept or dismiss alert messages by wrapping the code that produces an alert in a block:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;accept_alert &lt;span class="pl-k"&gt;do&lt;/span&gt;
  click_link(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Show Alert&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can accept or dismiss a confirmation by wrapping it in a block, as well:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;dismiss_confirm &lt;span class="pl-k"&gt;do&lt;/span&gt;
  click_link(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Show Confirm&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can accept or dismiss prompts as well, and also provide text to fill in for the response:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;accept_prompt(&lt;span class="pl-c1"&gt;with:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Linus Torvalds&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt;
  click_link(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Show Prompt About Linux&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;All modal methods return the message that was presented. So, you can access the prompt message
by assigning the return to a variable:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;message &lt;span class="pl-k"&gt;=&lt;/span&gt; accept_prompt(&lt;span class="pl-c1"&gt;with:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Linus Torvalds&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt;
  click_link(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Show Prompt About Linux&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
&lt;span class="pl-k"&gt;end&lt;/span&gt;
expect(message).to eq(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Who is the chief architect of Linux?&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-debugging" class="anchor" aria-hidden="true" href="#debugging"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-debugging"&gt;&lt;/a&gt;Debugging&lt;/h3&gt;
&lt;p&gt;It can be useful to take a snapshot of the page as it currently is and take a
look at it:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;save_and_open_page&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can also retrieve the current state of the DOM as a string using
&lt;tt&gt;&lt;a href="http://rubydoc.info/github/teamcapybara/capybara/master/Capybara/Session#html-instance_method" rel="nofollow"&gt;page.html&lt;/a&gt;&lt;/tt&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;print&lt;/span&gt; page.html&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is mostly useful for debugging. You should avoid testing against the
contents of &lt;code&gt;page.html&lt;/code&gt; and use the more expressive finder methods instead.&lt;/p&gt;
&lt;p&gt;Finally, in drivers that support it, you can save a screenshot:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;page.save_screenshot(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;screenshot.png&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or have it save and automatically open:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;save_and_open_screenshot&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Screenshots are saved to &lt;code&gt;Capybara.save_path&lt;/code&gt;, relative to the app directory.
If you have required &lt;code&gt;capybara/rails&lt;/code&gt;, &lt;code&gt;Capybara.save_path&lt;/code&gt; will default to
&lt;code&gt;tmp/capybara&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-matching" class="anchor" aria-hidden="true" href="#matching"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-matching"&gt;&lt;/a&gt;Matching&lt;/h2&gt;
&lt;p&gt;It is possible to customize how Capybara finds elements. At your disposal
are two options, &lt;code&gt;Capybara.exact&lt;/code&gt; and &lt;code&gt;Capybara.match&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-exactness" class="anchor" aria-hidden="true" href="#exactness"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-exactness"&gt;&lt;/a&gt;Exactness&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;Capybara.exact&lt;/code&gt; and the &lt;code&gt;exact&lt;/code&gt; option work together with the &lt;code&gt;is&lt;/code&gt; expression
inside the XPath gem. When &lt;code&gt;exact&lt;/code&gt; is true, all &lt;code&gt;is&lt;/code&gt; expressions match exactly,
when it is false, they allow substring matches. Many of the selectors built into
Capybara use the &lt;code&gt;is&lt;/code&gt; expression. This way you can specify whether you want to
allow substring matches or not. &lt;code&gt;Capybara.exact&lt;/code&gt; is false by default.&lt;/p&gt;
&lt;p&gt;For example:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;click_link(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Password&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; also matches "Password confirmation"&lt;/span&gt;
&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.exact &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
click_link(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Password&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; does not match "Password confirmation"&lt;/span&gt;
click_link(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Password&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;exact:&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;) &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; can be overridden&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-strategy" class="anchor" aria-hidden="true" href="#strategy"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-strategy"&gt;&lt;/a&gt;Strategy&lt;/h3&gt;
&lt;p&gt;Using &lt;code&gt;Capybara.match&lt;/code&gt; and the equivalent &lt;code&gt;match&lt;/code&gt; option, you can control how
Capybara behaves when multiple elements all match a query. There are currently
four different strategies built into Capybara:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;first:&lt;/strong&gt; Just picks the first element that matches.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;one:&lt;/strong&gt; Raises an error if more than one element matches.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;smart:&lt;/strong&gt; If &lt;code&gt;exact&lt;/code&gt; is &lt;code&gt;true&lt;/code&gt;, raises an error if more than one element
matches, just like &lt;code&gt;one&lt;/code&gt;. If &lt;code&gt;exact&lt;/code&gt; is &lt;code&gt;false&lt;/code&gt;, it will first try to find
an exact match. An error is raised if more than one element is found. If no
element is found, a new search is performed which allows partial matches. If
that search returns multiple matches, an error is raised.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;prefer_exact:&lt;/strong&gt; If multiple matches are found, some of which are exact,
and some of which are not, then the first exactly matching element is
returned.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The default for &lt;code&gt;Capybara.match&lt;/code&gt; is &lt;code&gt;:smart&lt;/code&gt;. To emulate the behaviour in
Capybara 2.0.x, set &lt;code&gt;Capybara.match&lt;/code&gt; to &lt;code&gt;:one&lt;/code&gt;. To emulate the behaviour in
Capybara 1.x, set &lt;code&gt;Capybara.match&lt;/code&gt; to &lt;code&gt;:prefer_exact&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-transactions-and-database-setup" class="anchor" aria-hidden="true" href="#transactions-and-database-setup"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-transactions-and-database-setup"&gt;&lt;/a&gt;Transactions and database setup&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt;  Rails 5.1+ "safely" shares the database connection between the app and test threads.  Therefore,
if using Rails 5.1+ you SHOULD be able to ignore this section.&lt;/p&gt;
&lt;p&gt;Some Capybara drivers need to run against an actual HTTP server. Capybara takes
care of this and starts one for you in the same process as your test, but on
another thread. Selenium is one of those drivers, whereas RackTest is not.&lt;/p&gt;
&lt;p&gt;If you are using a SQL database, it is common to run every test in a
transaction, which is rolled back at the end of the test, rspec-rails does this
by default out of the box for example. Since transactions are usually not
shared across threads, this will cause data you have put into the database in
your test code to be invisible to Capybara.&lt;/p&gt;
&lt;p&gt;Cucumber handles this by using truncation instead of transactions, i.e. they
empty out the entire database after each test. You can get the same behaviour
by using a gem such as &lt;a href="https://github.com/DatabaseCleaner/database_cleaner"&gt;database_cleaner&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-asynchronous-javascript-ajax-and-friends" class="anchor" aria-hidden="true" href="#asynchronous-javascript-ajax-and-friends"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-asynchronous-javascript-ajax-and-friends"&gt;&lt;/a&gt;Asynchronous JavaScript (Ajax and friends)&lt;/h2&gt;
&lt;p&gt;When working with asynchronous JavaScript, you might come across situations
where you are attempting to interact with an element which is not yet present
on the page. Capybara automatically deals with this by waiting for elements
to appear on the page.&lt;/p&gt;
&lt;p&gt;When issuing instructions to the DSL such as:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;click_link(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;foo&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
click_link(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;bar&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
expect(page).to have_content(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;baz&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If clicking on the &lt;em&gt;foo&lt;/em&gt; link triggers an asynchronous process, such as
an Ajax request, which, when complete will add the &lt;em&gt;bar&lt;/em&gt; link to the page,
clicking on the &lt;em&gt;bar&lt;/em&gt; link would be expected to fail, since that link doesn't
exist yet. However Capybara is smart enough to retry finding the link for a
brief period of time before giving up and throwing an error. The same is true of
the next line, which looks for the content &lt;em&gt;baz&lt;/em&gt; on the page; it will retry
looking for that content for a brief time. You can adjust how long this period
is (the default is 2 seconds):&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.default_max_wait_time &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;5&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Be aware that because of this behaviour, the following two statements are &lt;strong&gt;not&lt;/strong&gt;
equivalent, and you should &lt;strong&gt;always&lt;/strong&gt; use the latter!&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;!&lt;/span&gt;page.has_xpath?(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;a&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
page.has_no_xpath?(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;a&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The former would immediately fail because the content has not yet been removed.
Only the latter would wait for the asynchronous process to remove the content
from the page.&lt;/p&gt;
&lt;p&gt;Capybara's RSpec matchers, however, are smart enough to handle either form.
The two following statements are functionally equivalent:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;expect(page).not_to have_xpath(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;a&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
expect(page).to have_no_xpath(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;a&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Capybara's waiting behaviour is quite advanced, and can deal with situations
such as the following line of code:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;expect(find(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;#sidebar&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).find(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;h1&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)).to have_content(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Something&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Even if JavaScript causes &lt;code&gt;#sidebar&lt;/code&gt; to disappear off the page, Capybara
will automatically reload it and any elements it contains. So if an AJAX
request causes the contents of &lt;code&gt;#sidebar&lt;/code&gt; to change, which would update
the text of the &lt;code&gt;h1&lt;/code&gt; to "Something", and this happened, this test would
pass. If you do not want this behaviour, you can set
&lt;code&gt;Capybara.automatic_reload&lt;/code&gt; to &lt;code&gt;false&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-using-the-dsl-elsewhere" class="anchor" aria-hidden="true" href="#using-the-dsl-elsewhere"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-using-the-dsl-elsewhere"&gt;&lt;/a&gt;Using the DSL elsewhere&lt;/h2&gt;
&lt;p&gt;You can mix the DSL into any context by including &lt;tt&gt;Capybara::DSL&lt;/tt&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;capybara/dsl&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.default_driver &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;:webkit&lt;/span&gt;

&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-en"&gt;MyModule&lt;/span&gt;
  &lt;span class="pl-k"&gt;include&lt;/span&gt; &lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;::&lt;span class="pl-c1"&gt;DSL&lt;/span&gt;

  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;login!&lt;/span&gt;
    within(&lt;span class="pl-c1"&gt;:xpath&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;.//form[@id='session']&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt;
      fill_in &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Email&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;with:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;user@example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
      fill_in &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Password&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;with:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;password&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
    &lt;span class="pl-k"&gt;end&lt;/span&gt;
    click_button &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Sign in&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This enables its use in unsupported testing frameworks, and for general-purpose scripting.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-calling-remote-servers" class="anchor" aria-hidden="true" href="#calling-remote-servers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-calling-remote-servers"&gt;&lt;/a&gt;Calling remote servers&lt;/h2&gt;
&lt;p&gt;Normally Capybara expects to be testing an in-process Rack application, but you
can also use it to talk to a web server running anywhere on the internet, by
setting app_host:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.current_driver &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;:selenium&lt;/span&gt;
&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.app_host &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;http://www.google.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
...
visit(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;/&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: the default driver (&lt;code&gt;:rack_test&lt;/code&gt;) does not support running
against a remote server. With drivers that support it, you can also visit any
URL directly:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;visit(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;http://www.google.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;By default Capybara will try to boot a rack application automatically. You
might want to switch off Capybara's rack server if you are running against a
remote application:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.run_server &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-using-sessions" class="anchor" aria-hidden="true" href="#using-sessions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-using-sessions"&gt;&lt;/a&gt;Using sessions&lt;/h2&gt;
&lt;p&gt;Capybara manages named sessions (:default if not specified) allowing multiple sessions using the same driver and test app instance to be interacted with.
A new session will be created using the current driver if a session with the given name using the current driver and test app instance is not found.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-named-sessions" class="anchor" aria-hidden="true" href="#named-sessions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Named sessions&lt;/h3&gt;
&lt;p&gt;To perform operations in a different session and then revert to the previous session&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.using_session(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Bob's session&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt;
   &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;do something in Bob's browser session&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;
 &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;reverts to previous session&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To permanently switch the current session to a different session&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.session_name &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;some other session&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-using-sessions-manually" class="anchor" aria-hidden="true" href="#using-sessions-manually"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-using-sessions-manually"&gt;&lt;/a&gt;Using sessions manually&lt;/h3&gt;
&lt;p&gt;For ultimate control, you can instantiate and use a
&lt;a href="http://rubydoc.info/github/teamcapybara/capybara/master/Capybara/Session" rel="nofollow"&gt;Session&lt;/a&gt;
manually.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;require&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;capybara&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;

session &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;::&lt;span class="pl-c1"&gt;Session&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(&lt;span class="pl-c1"&gt;:webkit&lt;/span&gt;, my_rack_app)
session.within(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;form#session&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt;
  session.fill_in &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Email&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;with:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;user@example.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
  session.fill_in &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Password&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;with:&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;password&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;
session.click_button &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Sign in&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-xpath-css-and-selectors" class="anchor" aria-hidden="true" href="#xpath-css-and-selectors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-xpath-css-and-selectors"&gt;&lt;/a&gt;XPath, CSS and selectors&lt;/h2&gt;
&lt;p&gt;Capybara does not try to guess what kind of selector you are going to give it,
and will always use CSS by default.  If you want to use XPath, you'll need to
do:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;within(&lt;span class="pl-c1"&gt;:xpath&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;.//ul/li&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;) { ... }
find(&lt;span class="pl-c1"&gt;:xpath&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;.//ul/li&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).text
find(&lt;span class="pl-c1"&gt;:xpath&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;.//li[contains(.//a[@href = "#"]/text(), "foo")]&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).value&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Alternatively you can set the default selector to XPath:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.default_selector &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;:xpath&lt;/span&gt;
find(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;.//ul/li&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).text&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Capybara provides a number of other built-in selector types. The full list, along
with applicable filters, can be seen at &lt;a href="https://www.rubydoc.info/github/teamcapybara/capybara/Capybara/Selector" rel="nofollow"&gt;built-in selectors&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Capybara also allows you to add custom selectors, which can be very useful if you
find yourself using the same kinds of selectors very often. The examples below are very
simple, and there are many available features not demonstrated. For more in-depth examples
please see Capybaras built-in selector definitions.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.add_selector(&lt;span class="pl-c1"&gt;:my_attribute&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt;
  xpath { |&lt;span class="pl-smi"&gt;id&lt;/span&gt;| &lt;span class="pl-c1"&gt;XPath&lt;/span&gt;.descendant[&lt;span class="pl-c1"&gt;XPath&lt;/span&gt;.&lt;span class="pl-k"&gt;attr&lt;/span&gt;(&lt;span class="pl-c1"&gt;:my_attribute&lt;/span&gt;) &lt;span class="pl-k"&gt;==&lt;/span&gt; id.to_s] }
&lt;span class="pl-k"&gt;end&lt;/span&gt;

&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.add_selector(&lt;span class="pl-c1"&gt;:row&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt;
  xpath { |&lt;span class="pl-smi"&gt;num&lt;/span&gt;| &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;.//tbody/tr[&lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt;num&lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt;]&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; }
&lt;span class="pl-k"&gt;end&lt;/span&gt;

&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.add_selector(&lt;span class="pl-c1"&gt;:flash_type&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt;
  css { |&lt;span class="pl-smi"&gt;type&lt;/span&gt;| &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;#flash.&lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt;type&lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; }
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The block given to xpath must always return an XPath expression as a String, or
an XPath expression generated through the XPath gem. You can now use these
selectors like this:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;find(&lt;span class="pl-c1"&gt;:my_attribute&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;post_123&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; find element with matching attribute&lt;/span&gt;
find(&lt;span class="pl-c1"&gt;:row&lt;/span&gt;, &lt;span class="pl-c1"&gt;3&lt;/span&gt;) &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; find 3rd row in table body&lt;/span&gt;
find(&lt;span class="pl-c1"&gt;:flash_type&lt;/span&gt;, &lt;span class="pl-c1"&gt;:notice&lt;/span&gt;) &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; find element with id of 'flash' and class of 'notice'&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-beware-the-xpath--trap" class="anchor" aria-hidden="true" href="#beware-the-xpath--trap"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-beware-the-xpath--trap"&gt;&lt;/a&gt;Beware the XPath // trap&lt;/h2&gt;
&lt;p&gt;In XPath the expression // means something very specific, and it might not be what
you think. Contrary to common belief, // means "anywhere in the document" not "anywhere
in the current context". As an example:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;page.find(&lt;span class="pl-c1"&gt;:xpath&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;//body&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).all(&lt;span class="pl-c1"&gt;:xpath&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;//script&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You might expect this to find all script tags in the body, but actually, it finds all
script tags in the entire document, not only those in the body! What you're looking
for is the .// expression which means "any descendant of the current node":&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;page.find(&lt;span class="pl-c1"&gt;:xpath&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;//body&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;).all(&lt;span class="pl-c1"&gt;:xpath&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;.//script&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The same thing goes for within:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;within(&lt;span class="pl-c1"&gt;:xpath&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;//body&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt;
  page.find(&lt;span class="pl-c1"&gt;:xpath&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;.//script&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;)
  within(&lt;span class="pl-c1"&gt;:xpath&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;.//table/tbody&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt;
  ...
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-configuring-and-adding-drivers" class="anchor" aria-hidden="true" href="#configuring-and-adding-drivers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-configuring-and-adding-drivers"&gt;&lt;/a&gt;Configuring and adding drivers&lt;/h2&gt;
&lt;p&gt;Capybara makes it convenient to switch between different drivers. It also exposes
an API to tweak those drivers with whatever settings you want, or to add your own
drivers. This is how to override the selenium driver configuration to use chrome:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.register_driver &lt;span class="pl-c1"&gt;:selenium&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;app&lt;/span&gt;|
  &lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;::&lt;span class="pl-c1"&gt;Selenium&lt;/span&gt;::&lt;span class="pl-c1"&gt;Driver&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(app, &lt;span class="pl-c1"&gt;:browser&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;:chrome&lt;/span&gt;)
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, it's also possible to give this configuration a different name.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Note: Capybara registers this by default&lt;/span&gt;
&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.register_driver &lt;span class="pl-c1"&gt;:selenium_chrome&lt;/span&gt; &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;app&lt;/span&gt;|
  &lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;::&lt;span class="pl-c1"&gt;Selenium&lt;/span&gt;::&lt;span class="pl-c1"&gt;Driver&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(app, &lt;span class="pl-c1"&gt;:browser&lt;/span&gt; =&amp;gt; &lt;span class="pl-c1"&gt;:chrome&lt;/span&gt;)
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then tests can switch between using different browsers effortlessly:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.current_driver &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;:selenium_chrome&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Whatever is returned from the block should conform to the API described by
Capybara::Driver::Base, it does not however have to inherit from this class.
Gems can use this API to add their own drivers to Capybara.&lt;/p&gt;
&lt;p&gt;The &lt;a href="https://github.com/SeleniumHQ/selenium/wiki/Ruby-Bindings"&gt;Selenium wiki&lt;/a&gt; has
additional info about how the underlying driver can be configured.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-gotchas" class="anchor" aria-hidden="true" href="#gotchas"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-gotchas"&gt;&lt;/a&gt;Gotchas:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Access to session and request is not possible from the test, Access to
response is limited. Some drivers allow access to response headers and HTTP
status code, but this kind of functionality is not provided by some drivers,
such as Selenium.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Access to Rails specific stuff (such as &lt;code&gt;controller&lt;/code&gt;) is unavailable,
since we're not using Rails' integration testing.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Freezing time: It's common practice to mock out the Time so that features
that depend on the current Date work as expected. This can be problematic on
ruby/platform combinations that don't support access to a monotonic process clock,
since Capybara's Ajax timing uses the system time, resulting in Capybara
never timing out and just hanging when a failure occurs. It's still possible to
use gems which allow you to travel in time, rather than freeze time.
One such gem is &lt;a href="https://github.com/travisjeffery/timecop"&gt;Timecop&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When using Rack::Test, beware if attempting to visit absolute URLs. For
example, a session might not be shared between visits to &lt;code&gt;posts_path&lt;/code&gt;
and &lt;code&gt;posts_url&lt;/code&gt;. If testing an absolute URL in an Action Mailer email,
set &lt;code&gt;default_url_options&lt;/code&gt; to match the Rails default of
&lt;code&gt;www.example.com&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Server errors will only be raised in the session that initiates the server thread. If you
are testing for specific server errors and using multiple sessions make sure to test for the
errors using the initial session (usually :default)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-threadsafe-mode" class="anchor" aria-hidden="true" href="#threadsafe-mode"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-threadsafe"&gt;&lt;/a&gt;"Threadsafe" mode&lt;/h2&gt;
&lt;p&gt;In normal mode most of Capybara's configuration options are global settings which can cause issues
if using multiple sessions and wanting to change a setting for only one of the sessions.  To provide
support for this type of usage Capybara now provides a "threadsafe" mode which can be enabled by setting&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.threadsafe &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This setting can only be changed before any sessions have been created.  In "threadsafe" mode the following
behaviors of Capybara change&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Most options can now be set on a session.  These can either be set at session creation time or after, and
default to the global options at the time of session creation.  Options which are NOT session specific are
&lt;code&gt;app&lt;/code&gt;, &lt;code&gt;reuse_server&lt;/code&gt;, &lt;code&gt;default_driver&lt;/code&gt;, &lt;code&gt;javascript_driver&lt;/code&gt;, and (obviously) &lt;code&gt;threadsafe&lt;/code&gt;.  Any drivers and servers
registered through &lt;code&gt;register_driver&lt;/code&gt; and &lt;code&gt;register_server&lt;/code&gt; are also global.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;my_session &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;::&lt;span class="pl-c1"&gt;Session&lt;/span&gt;.&lt;span class="pl-k"&gt;new&lt;/span&gt;(&lt;span class="pl-c1"&gt;:driver&lt;/span&gt;, some_app) &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;config&lt;/span&gt;|
  config.automatic_label_click &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt; &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; only set for my_session&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;
my_session.config.default_max_wait_time &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;10&lt;/span&gt; &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; only set for my_session&lt;/span&gt;
&lt;span class="pl-c1"&gt;Capybara&lt;/span&gt;.default_max_wait_time &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt; &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; will not change the default_max_wait in my_session&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;current_driver&lt;/code&gt; and &lt;code&gt;session_name&lt;/code&gt; are thread specific.  This means that &lt;code&gt;using_session&lt;/code&gt; and
&lt;code&gt;using_driver&lt;/code&gt; also only affect the current thread.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-development" class="anchor" aria-hidden="true" href="#development"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-development"&gt;&lt;/a&gt;Development&lt;/h2&gt;
&lt;p&gt;To set up a development environment, simply do:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;bundle install
bundle &lt;span class="pl-c1"&gt;exec&lt;/span&gt; rake  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; run the test suite with Firefox - requires `geckodriver` to be installed&lt;/span&gt;
bundle &lt;span class="pl-c1"&gt;exec&lt;/span&gt; rake spec_chrome &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; run the test suite with Chrome - require `chromedriver` to be installed&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;See
&lt;a href="https://github.com/teamcapybara/capybara/blob/master/CONTRIBUTING.md"&gt;CONTRIBUTING.md&lt;/a&gt;
for how to send issues and pull requests.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>teamcapybara</author><guid isPermaLink="false">https://github.com/teamcapybara/capybara</guid><pubDate>Mon, 10 Feb 2020 00:24:00 GMT</pubDate></item><item><title>github/gemoji #25 in Ruby, This week</title><link>https://github.com/github/gemoji</link><description>&lt;p&gt;&lt;i&gt;Emoji images and names.&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-gemoji" class="anchor" aria-hidden="true" href="#gemoji"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;gemoji&lt;/h1&gt;
&lt;p&gt;This library contains character information about native emojis.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation&lt;/h2&gt;
&lt;p&gt;Add &lt;code&gt;gemoji&lt;/code&gt; to your Gemfile.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;gem &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;gemoji&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-example-rails-helper" class="anchor" aria-hidden="true" href="#example-rails-helper"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example Rails Helper&lt;/h2&gt;
&lt;p&gt;This would allow emojifying content such as: &lt;code&gt;it's raining :cat:s and :dog:s!&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;See the &lt;a href="http://www.emoji-cheat-sheet.com" rel="nofollow"&gt;Emoji cheat sheet&lt;/a&gt; for more examples.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-en"&gt;EmojiHelper&lt;/span&gt;
  &lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-en"&gt;emojify&lt;/span&gt;(&lt;span class="pl-smi"&gt;content&lt;/span&gt;)
    h(content).to_str.&lt;span class="pl-c1"&gt;gsub&lt;/span&gt;(&lt;span class="pl-sr"&gt;/:&lt;span class="pl-sr"&gt;(&lt;span class="pl-pds"&gt;[&lt;span class="pl-cce"&gt;\w&lt;/span&gt;+-]&lt;/span&gt;+)&lt;/span&gt;:/&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;match&lt;/span&gt;|
      &lt;span class="pl-k"&gt;if&lt;/span&gt; emoji &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Emoji&lt;/span&gt;.find_by_alias(&lt;span class="pl-smi"&gt;$1&lt;/span&gt;)
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;%(&lt;/span&gt;&amp;lt;img alt="#$1" src="&lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt;image_path(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;emoji/&lt;span class="pl-pse"&gt;#{&lt;/span&gt;&lt;span class="pl-s1"&gt;emoji.image_filename&lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)&lt;/span&gt;&lt;span class="pl-pse"&gt;}&lt;/span&gt;" style="vertical-align:middle" width="20" height="20" /&amp;gt;&lt;span class="pl-pds"&gt;)&lt;/span&gt;&lt;/span&gt;
      &lt;span class="pl-k"&gt;else&lt;/span&gt;
        match
      &lt;span class="pl-k"&gt;end&lt;/span&gt;
    &lt;span class="pl-k"&gt;end&lt;/span&gt;.html_safe &lt;span class="pl-k"&gt;if&lt;/span&gt; content.present?
  &lt;span class="pl-k"&gt;end&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-unicode-mapping" class="anchor" aria-hidden="true" href="#unicode-mapping"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Unicode mapping&lt;/h2&gt;
&lt;p&gt;Translate emoji names to unicode and vice versa.&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="pl-c1"&gt;Emoji&lt;/span&gt;.find_by_alias(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;cat&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).raw
=&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Don't see a cat? That's U+1F431.&lt;/span&gt;

&lt;span class="pl-k"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="pl-c1"&gt;Emoji&lt;/span&gt;.find_by_unicode(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u&lt;/span&gt;{1f431}&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;).name
=&amp;gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;cat&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-adding-new-emoji" class="anchor" aria-hidden="true" href="#adding-new-emoji"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Adding new emoji&lt;/h2&gt;
&lt;p&gt;You can add new emoji characters to the &lt;code&gt;Emoji.all&lt;/code&gt; list:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;emoji &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Emoji&lt;/span&gt;.create(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;music&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;char&lt;/span&gt;|
  char.add_alias &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;song&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  char.add_unicode_alias &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u&lt;/span&gt;{266b}&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  char.add_tag &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;notes&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;

emoji.name &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;=&amp;gt; "music"&lt;/span&gt;
emoji.raw  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;=&amp;gt; ""&lt;/span&gt;
emoji.image_filename &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;=&amp;gt; "unicode/266b.png"&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Creating custom emoji (no Unicode aliases):&lt;/span&gt;
emoji &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Emoji&lt;/span&gt;.create(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;music&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;char&lt;/span&gt;|
  char.add_tag &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;notes&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;

emoji.custom? &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;=&amp;gt; true&lt;/span&gt;
emoji.image_filename &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;=&amp;gt; "music.png"&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As you create new emoji, you must ensure that you also create and put the images
they reference by their &lt;code&gt;image_filename&lt;/code&gt; to your assets directory.&lt;/p&gt;
&lt;p&gt;You can customize &lt;code&gt;image_filename&lt;/code&gt; with:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;emoji &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Emoji&lt;/span&gt;.create(&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;music&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;char&lt;/span&gt;|
  char.image_filename &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;subdirectory/my_emoji.gif&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For existing emojis, you can edit the list of aliases or add new tags in an edit block:&lt;/p&gt;
&lt;div class="highlight highlight-source-ruby"&gt;&lt;pre&gt;emoji &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;Emoji&lt;/span&gt;.find_by_alias &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;musical_note&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-c1"&gt;Emoji&lt;/span&gt;.edit_emoji(emoji) &lt;span class="pl-k"&gt;do&lt;/span&gt; |&lt;span class="pl-smi"&gt;char&lt;/span&gt;|
  char.add_alias &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;music&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  char.add_unicode_alias &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u&lt;/span&gt;{266b}&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  char.add_tag &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;notes&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;end&lt;/span&gt;

&lt;span class="pl-c1"&gt;Emoji&lt;/span&gt;.find_by_alias &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;music&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;       &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;=&amp;gt; emoji&lt;/span&gt;
&lt;span class="pl-c1"&gt;Emoji&lt;/span&gt;.find_by_unicode &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-cce"&gt;\u&lt;/span&gt;{266b}&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;=&amp;gt; emoji&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>github</author><guid isPermaLink="false">https://github.com/github/gemoji</guid><pubDate>Mon, 10 Feb 2020 00:25:00 GMT</pubDate></item></channel></rss>
<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>GitHub Trending: Clojure, This week</title><link>https://github.com/trending/clojure?since=weekly</link><description>The top repositories on GitHub for clojure, measured weekly</description><pubDate>Mon, 10 Feb 2020 01:18:49 GMT</pubDate><lastBuildDate>Mon, 10 Feb 2020 01:18:49 GMT</lastBuildDate><generator>PyRSS2Gen-1.1.0</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><ttl>720</ttl><item><title>tonsky/FiraCode #1 in Clojure, This week</title><link>https://github.com/tonsky/FiraCode</link><description>&lt;p&gt;&lt;i&gt;Monospaced font with programming ligatures&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h2&gt;&lt;a id="user-content-fira-code-monospaced-font-with-programming-ligatures" class="anchor" aria-hidden="true" href="#fira-code-monospaced-font-with-programming-ligatures"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Fira Code: monospaced font with programming ligatures&lt;/h2&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="./showcases/fira_code_logo.svg"&gt;&lt;img src="./showcases/fira_code_logo.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-problem" class="anchor" aria-hidden="true" href="#problem"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Problem&lt;/h3&gt;
&lt;p&gt;Programmers use a lot of symbols, often encoded with several characters. For the human brain, sequences like &lt;code&gt;-&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;=&lt;/code&gt; or &lt;code&gt;:=&lt;/code&gt; are single logical tokens, even if they take two or three characters on the screen. Your eye spends a non-zero amount of energy to scan, parse and join multiple characters into a single logical one. Ideally, all programming languages should be designed with full-fledged Unicode symbols for operators, but that’s not the case yet.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-solution" class="anchor" aria-hidden="true" href="#solution"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Solution&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-download-v2--how-to-install--troubleshooting--news--updates" class="anchor" aria-hidden="true" href="#download-v2--how-to-install--troubleshooting--news--updates"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="https://github.com/tonsky/FiraCode/releases/download/2/FiraCode_2.zip"&gt;Download v.2&lt;/a&gt; · &lt;a href="https://github.com/tonsky/FiraCode/wiki"&gt;How to install&lt;/a&gt; · &lt;a href="https://github.com/tonsky/FiraCode/wiki#troubleshooting"&gt;Troubleshooting&lt;/a&gt; · &lt;a href="https://twitter.com/FiraCode" rel="nofollow"&gt;News &amp;amp; updates&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;&lt;a href="https://patreon.com/tonsky" rel="nofollow"&gt;&lt;img src="./fira_code_patreon.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Fira Code is an extension of the Fira Mono font containing a set of ligatures for common programming multi-character combinations. This is just a font rendering feature: underlying code remains ASCII-compatible. This helps to read and understand code faster. For some frequent sequences like &lt;code&gt;..&lt;/code&gt; or &lt;code&gt;//&lt;/code&gt;, ligatures allow us to correct spacing.&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="./showcases/all_ligatures.png"&gt;&lt;img src="./showcases/all_ligatures.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-code-examples" class="anchor" aria-hidden="true" href="#code-examples"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Code examples&lt;/h3&gt;
&lt;p&gt;Ruby:&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="./showcases/ruby.png"&gt;&lt;img src="./showcases/ruby.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;JavaScript:&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="./showcases/javascript.png"&gt;&lt;img src="./showcases/javascript.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;PHP:&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="./showcases/php.png"&gt;&lt;img src="./showcases/php.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Erlang:&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="./showcases/erlang.png"&gt;&lt;img src="./showcases/erlang.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Elixir:&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="/showcases/elixir.png"&gt;&lt;img src="/showcases/elixir.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Go:&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="./showcases/go.png"&gt;&lt;img src="./showcases/go.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;LiveScript:&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="./showcases/livescript.png"&gt;&lt;img src="./showcases/livescript.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Clojure:&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="./showcases/clojure.png"&gt;&lt;img src="./showcases/clojure.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Swift:&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="./showcases/swift.png"&gt;&lt;img src="./showcases/swift.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-stylistic-sets" class="anchor" aria-hidden="true" href="#stylistic-sets"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Stylistic sets&lt;/h3&gt;
&lt;p&gt;See &lt;a href="https://github.com/tonsky/FiraCode/wiki/How-to-enable-stylistic-sets"&gt;How to enable&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="./showcases/stylistic_sets.png"&gt;&lt;img src="./showcases/stylistic_sets.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-terminal-support" class="anchor" aria-hidden="true" href="#terminal-support"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Terminal support&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Works&lt;/th&gt;
&lt;th&gt;Doesn’t work&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Butterfly&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Alacritty&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;crosh&lt;/strong&gt; (ChromeOS, &lt;a href="https://github.com/tonsky/FiraCode/wiki/ChromeOS-Terminal"&gt;instructions&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Windows Console (conhost.exe)&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Hyper.app&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Cmder&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;iTerm 2&lt;/strong&gt; (&lt;a href="https://gitlab.com/gnachman/iterm2/issues/3568#note_13118332" rel="nofollow"&gt;3.1+&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;ConEmu&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Kitty&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;GNOME Terminal&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Konsole&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;mate-terminal&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;mintty&lt;/strong&gt; (partial support &lt;a href="https://github.com/mintty/mintty/issues/601"&gt;2.8.3+&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;PuTTY&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;QTerminal&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;rxvt&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Terminal.app&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;xterm&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Termux&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;ZOC&lt;/strong&gt; (Windows)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Token2Shell/MD&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;gtkterm, guake, LXTerminal, sakura, Terminator, xfce4-terminal,&lt;/strong&gt; and other libvte-based terminals (&lt;a href="https://bugzilla.gnome.org/show_bug.cgi?id=584160" rel="nofollow"&gt;bug report&lt;/a&gt;)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;upterm&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Windows Terminal&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;ZOC&lt;/strong&gt; (macOS)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;&lt;a id="user-content-editor-support" class="anchor" aria-hidden="true" href="#editor-support"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Editor support&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Works&lt;/th&gt;
&lt;th&gt;Doesn’t work&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Abricotine&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Arduino IDE&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Android Studio&lt;/strong&gt; (2.3+, &lt;a href="https://github.com/tonsky/FiraCode/wiki/Intellij-products-instructions"&gt;instructions&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Adobe Dreamweaver&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Anjuta&lt;/strong&gt; (unless at the EOF)&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Delphi IDE&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;AppCode&lt;/strong&gt; (2016.2+, &lt;a href="https://github.com/tonsky/FiraCode/wiki/Intellij-products-instructions"&gt;instructions&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Eclipse&lt;/strong&gt; (Windows, &lt;a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=398656" rel="nofollow"&gt;vote here&lt;/a&gt;)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Atom&lt;/strong&gt; 1.1 or newer (&lt;a href="https://github.com/tonsky/FiraCode/wiki/Atom-instructions"&gt;instructions&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;Standalone &lt;strong&gt;Emacs&lt;/strong&gt; (&lt;a href="https://github.com/tonsky/FiraCode/wiki/Emacs-instructions"&gt;workaround&lt;/a&gt;)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;BBEdit/TextWrangler&lt;/strong&gt; (v. 11 only, &lt;a href="https://github.com/tonsky/FiraCode/wiki/BBEdit-instructions"&gt;instructions&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Geany&lt;/strong&gt; (Windows)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Brackets&lt;/strong&gt; (with &lt;a href="https://github.com/polo2ro/firacode-in-brackets"&gt;this plugin&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;gVim&lt;/strong&gt; (Windows &lt;a href="https://github.com/tonsky/FiraCode/issues/462"&gt;workaround&lt;/a&gt;)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Chocolat&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;IDLE&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;CLion&lt;/strong&gt; (2016.2+, &lt;a href="https://github.com/tonsky/FiraCode/wiki/Intellij-products-instructions"&gt;instructions&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;KDevelop 4&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Cloud9&lt;/strong&gt; (&lt;a href="https://github.com/tonsky/FiraCode/wiki/Cloud9-Instructions"&gt;instructions&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;Monkey Studio IDE&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Coda 2&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;CodeLite&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Eclipse&lt;/strong&gt; (macOS 4.7+, Linux)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;elementary Code&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Geany&lt;/strong&gt; (macOS)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;gEdit / Pluma&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;GNOME Builder&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;GoormIDE&lt;/strong&gt; (&lt;a href="https://github.com/tonsky/FiraCode/wiki/GoormIDE-Instructions"&gt;instructions&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;IntelliJ IDEA&lt;/strong&gt; (2016.2+, &lt;a href="https://github.com/tonsky/FiraCode/wiki/Intellij-products-instructions"&gt;instructions&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Kate, KWrite&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;KDevelop 5+&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Komodo&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Leafpad&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;LibreOffice&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;LightTable&lt;/strong&gt; (&lt;a href="https://github.com/tonsky/FiraCode/wiki/LightTable-instructions"&gt;instructions&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;LINQPad&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;MacVim&lt;/strong&gt; 7.4 or newer (&lt;a href="https://github.com/tonsky/FiraCode/wiki/MacVim-instructions"&gt;instructions&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Mancy&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Meld&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Mousepad&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;NeoVim-gtk&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;NetBeans&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Notepad&lt;/strong&gt; (Windows)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Notepad++&lt;/strong&gt; (with a &lt;a href="https://github.com/notepad-plus-plus/notepad-plus-plus/issues/2287#issuecomment-256638098"&gt;workaround&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Notepad3&lt;/strong&gt; (&lt;a href="https://github.com/rizonesoft/Notepad3/issues/361#issuecomment-365977420"&gt;instructions&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;PhpStorm&lt;/strong&gt; (2016.2+, &lt;a href="https://github.com/tonsky/FiraCode/wiki/Intellij-products-instructions"&gt;instructions&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;PyCharm&lt;/strong&gt; (2016.2+, &lt;a href="https://github.com/tonsky/FiraCode/wiki/Intellij-products-instructions"&gt;instructions&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;QtCreator&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Rider&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;RStudio&lt;/strong&gt; (&lt;a href="https://github.com/tonsky/FiraCode/wiki/RStudio-instructions"&gt;instructions&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;RubyMine&lt;/strong&gt; (2016.2+, &lt;a href="https://github.com/tonsky/FiraCode/wiki/Intellij-products-instructions"&gt;instructions&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Scratch&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Scribus&lt;/strong&gt; (1.5.3+)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;SublimeText&lt;/strong&gt; (3146+)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Spyder IDE&lt;/strong&gt; (only with Qt5)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;SuperCollider 3&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;TextAdept&lt;/strong&gt; (Linux, macOS)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;TextEdit&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;TextMate 2&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;VimR&lt;/strong&gt; (&lt;a href="https://github.com/qvacua/vimr/wiki#ligatures"&gt;instructions&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Visual Studio&lt;/strong&gt; (2015+, &lt;a href="https://github.com/tonsky/FiraCode/wiki/Visual-Studio-Instructions"&gt;instructions&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Visual Studio Code&lt;/strong&gt; (&lt;a href="https://github.com/tonsky/FiraCode/wiki/VS-Code-Instructions"&gt;instructions&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;WebStorm&lt;/strong&gt; (2016.2+, &lt;a href="https://github.com/tonsky/FiraCode/wiki/Intellij-products-instructions"&gt;instructions&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Xamarin Studio/Monodevelop&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Xcode&lt;/strong&gt; (8.0+, otherwise &lt;a href="https://github.com/robertvojta/LigatureXcodePlugin"&gt;with plugin&lt;/a&gt;)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Probably work: &lt;strong&gt;Smultron, Vico&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;Under question: &lt;strong&gt;Code::Blocks IDE&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;&lt;a id="user-content-browser-support" class="anchor" aria-hidden="true" href="#browser-support"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Browser support&lt;/h3&gt;
&lt;div class="highlight highlight-text-html-basic"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;&amp;lt;!--&lt;/span&gt; HTML &lt;span class="pl-c"&gt;--&amp;gt;&lt;/span&gt;&lt;/span&gt;
&amp;lt;&lt;span class="pl-ent"&gt;link&lt;/span&gt; &lt;span class="pl-e"&gt;rel&lt;/span&gt;=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;stylesheet&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-e"&gt;href&lt;/span&gt;=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;https://cdn.jsdelivr.net/gh/tonsky/FiraCode@1.207/distr/fira_code.css&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&amp;gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight highlight-source-css"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;/*&lt;/span&gt; CSS &lt;span class="pl-c"&gt;*/&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;@import&lt;/span&gt; &lt;span class="pl-c1"&gt;url&lt;/span&gt;(&lt;span class="pl-v"&gt;https://cdn.jsdelivr.net/gh/tonsky/FiraCode@1.207/distr/fira_code.css&lt;/span&gt;);&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight highlight-source-css"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;/*&lt;/span&gt; Specify in CSS &lt;span class="pl-c"&gt;*/&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-ent"&gt;code&lt;/span&gt; { &lt;span class="pl-c1"&gt;&lt;span class="pl-c1"&gt;font-family&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Fira Code&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;monospace&lt;/span&gt;; }

&lt;span class="pl-k"&gt;@supports&lt;/span&gt; (&lt;span class="pl-c1"&gt;font-variation-settings&lt;/span&gt;: &lt;span class="pl-c1"&gt;normal&lt;/span&gt;) {
  &lt;span class="pl-ent"&gt;code&lt;/span&gt; { &lt;span class="pl-c1"&gt;&lt;span class="pl-c1"&gt;font-family&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Fira Code VF&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;monospace&lt;/span&gt;; }
}&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;IE 10+, Edge Legacy: enable with &lt;code&gt;font-feature-settings: "calt";&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Firefox&lt;/li&gt;
&lt;li&gt;Safari&lt;/li&gt;
&lt;li&gt;Chromium-based browsers (Chrome, Opera)&lt;/li&gt;
&lt;li&gt;ACE&lt;/li&gt;
&lt;li&gt;CodeMirror (enable with &lt;code&gt;font-variant-ligatures: contextual;&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-projects-using-fira-code" class="anchor" aria-hidden="true" href="#projects-using-fira-code"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Projects using Fira Code&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;All &lt;a href="https://www.jetbrains.com/" rel="nofollow"&gt;JetBrains products&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://codepen.io/" rel="nofollow"&gt;CodePen&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.blink.sh/" rel="nofollow"&gt;Blink Shell&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://app.klipse.tech/" rel="nofollow"&gt;Klipse&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://ilyabirman.net/" rel="nofollow"&gt;IlyaBirman.net&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://evilmartians.com/" rel="nofollow"&gt;EvilMartians.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://webmakerapp.com/" rel="nofollow"&gt;Web Maker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://fromscratch.rocks/" rel="nofollow"&gt;FromScratch&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://pep20.org/" rel="nofollow"&gt;PEP20.org&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-alternatives" class="anchor" aria-hidden="true" href="#alternatives"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Alternatives&lt;/h3&gt;
&lt;p&gt;Other monospaced fonts with ligatures:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/i-tu/Hasklig"&gt;Hasklig&lt;/a&gt; (free)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.fsd.it/fonts/pragmatapro.htm" rel="nofollow"&gt;PragmataPro&lt;/a&gt; (€59)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://larsenwork.com/monoid/" rel="nofollow"&gt;Monoid&lt;/a&gt; (free)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kika/fixedsys"&gt;Fixedsys Excelsior&lt;/a&gt; (free)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://be5invis.github.io/Iosevka/" rel="nofollow"&gt;Iosevka&lt;/a&gt; (free)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/SSNikolaevich/DejaVuSansCode"&gt;DejaVu Sans Code&lt;/a&gt; (free)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rubjo.github.io/victor-mono/" rel="nofollow"&gt;Victor Mono&lt;/a&gt; (free)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/microsoft/cascadia-code"&gt;Cascadia Code&lt;/a&gt; (free)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-building-fira-code-locally" class="anchor" aria-hidden="true" href="#building-fira-code-locally"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Building Fira Code locally&lt;/h3&gt;
&lt;p&gt;In case you want to alter FiraCode.glyphs and build OTF/TTF/WOFF files yourself, this is setup I use on macOS:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; install all required build tools&lt;/span&gt;
./script/bootstrap

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; build the font files&lt;/span&gt;
./script/build

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; install OTFs to ~/Library/Fonts&lt;/span&gt;
./script/install&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-credits" class="anchor" aria-hidden="true" href="#credits"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Credits&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Author: Nikita Prokopov &lt;a href="https://twitter.com/nikitonsky" rel="nofollow"&gt;@nikitonsky&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Based on: &lt;a href="https://github.com/mozilla/Fira"&gt;Fira Mono&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Inspired by: &lt;a href="https://github.com/i-tu/Hasklig"&gt;Hasklig&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>tonsky</author><guid isPermaLink="false">https://github.com/tonsky/FiraCode</guid><pubDate>Mon, 10 Feb 2020 00:01:00 GMT</pubDate></item><item><title>borkdude/babashka #2 in Clojure, This week</title><link>https://github.com/borkdude/babashka</link><description>&lt;p&gt;&lt;i&gt;A Clojure babushka for the grey areas of Bash.&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="logo/babashka.svg"&gt;&lt;img src="logo/babashka.svg" width="425px" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://circleci.com/gh/borkdude/babashka/tree/master" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/6ae553a0a341f297fa2497b3eae63884170a458a/68747470733a2f2f636972636c6563692e636f6d2f67682f626f726b647564652f6261626173686b612f747265652f6d61737465722e7376673f7374796c653d736869656c64" alt="CircleCI" data-canonical-src="https://circleci.com/gh/borkdude/babashka/tree/master.svg?style=shield" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://clojars.org/borkdude/babashka" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/795d46ffab533f2952e22b78313a7c0ccae928e3/68747470733a2f2f696d672e736869656c64732e696f2f636c6f6a6172732f762f626f726b647564652f6261626173686b612e737667" alt="Clojars Project" data-canonical-src="https://img.shields.io/clojars/v/borkdude/babashka.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://app.slack.com/client/T03RZGPFR/CLX41ASCS" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/5d32eacbaaf4d06e17885b5da976a2d0cb18238e/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f736c61636b2d6a6f696e5f636861742d627269676874677265656e2e737667" alt="project chat" data-canonical-src="https://img.shields.io/badge/slack-join_chat-brightgreen.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;A Clojure &lt;a href="https://en.wikipedia.org/wiki/Headscarf" rel="nofollow"&gt;babushka&lt;/a&gt; for the grey areas of Bash.&lt;/p&gt;
&lt;blockquote&gt;
    &lt;p lang="en" dir="ltr"&gt;Life's too short to remember how to write Bash code. I feel liberated.&lt;/p&gt;
    —
    &lt;a href="https://github.com/laheadle"&gt;@laheadle&lt;/a&gt; on Clojurians Slack
&lt;/blockquote&gt;
&lt;h2&gt;&lt;a id="user-content-quickstart" class="anchor" aria-hidden="true" href="#quickstart"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Quickstart&lt;/h2&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;bash &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;&amp;lt;(&lt;/span&gt;curl -s https://raw.githubusercontent.com/borkdude/babashka/master/install&lt;span class="pl-pds"&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
$ &lt;span class="pl-s1"&gt;ls &lt;span class="pl-k"&gt;|&lt;/span&gt; bb --time -i &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;(filter #(-&amp;gt; % io/file .isDirectory) *input*)&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;("doc" "resources" "sci" "script" "src" "target" "test")&lt;/span&gt;
&lt;span class="pl-c1"&gt;bb took 4ms.&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-rationale" class="anchor" aria-hidden="true" href="#rationale"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Rationale&lt;/h2&gt;
&lt;p&gt;The sweet spot for babashka is executing Clojure snippets or scripts in the same
space where you would use Bash.&lt;/p&gt;
&lt;p&gt;As one user described it:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I’m quite at home in Bash most of the time, but there’s a substantial grey area of things that are too complicated to be simple in bash, but too simple to be worth writing a clj/s script for. Babashka really seems to hit the sweet spot for those cases.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Goals:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fast startup / low latency. This is achieved by compiling to native using &lt;a href="https://github.com/oracle/graal"&gt;GraalVM&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Familiarity and portability. Keep migration barriers between bash and Clojure as low as possible by:
&lt;ul&gt;
&lt;li&gt;Gradually introducing Clojure expressions to existing bash scripts&lt;/li&gt;
&lt;li&gt;Scripts written in babashka should also be able to run on the JVM without major changes.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Multi-threading support similar to Clojure on the JVM&lt;/li&gt;
&lt;li&gt;Batteries included (clojure.tools.cli, core.async, ...)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Non-goals:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Performance&lt;/li&gt;
&lt;li&gt;Provide a mixed Clojure/bash DSL (see portability).&lt;/li&gt;
&lt;li&gt;Replace existing shells. Babashka is a tool you can use inside existing shells like bash and it is designed to play well with them. It does not aim to replace them.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Babashka uses &lt;a href="https://github.com/borkdude/sci"&gt;sci&lt;/a&gt; for interpreting Clojure. Sci
implements a subset of Clojure and is not as performant as compiled code. If your script is taking more than a few seconds,  Clojure on the JVM may be a better fit.&lt;/p&gt;
&lt;p&gt;Read more about the differences with Clojure &lt;a href="#differences-with-clojure"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-status" class="anchor" aria-hidden="true" href="#status"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Status&lt;/h2&gt;
&lt;p&gt;Experimental. Breaking changes are expected to happen at this phase. Keep an eye
on &lt;a href="CHANGES.md"&gt;CHANGES.md&lt;/a&gt; for a list of breaking changes.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-examples" class="anchor" aria-hidden="true" href="#examples"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Examples&lt;/h2&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;ls &lt;span class="pl-k"&gt;|&lt;/span&gt; bb -i &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;*input*&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;["LICENSE" "README.md" "bb" "doc" "pom.xml" "project.clj" "resources" "script" "src" "target" "test"]&lt;/span&gt;

$ &lt;span class="pl-s1"&gt;ls &lt;span class="pl-k"&gt;|&lt;/span&gt; bb -i &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;(count *input*)&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;12&lt;/span&gt;

$ &lt;span class="pl-s1"&gt;bb &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;(vec (dedupe *input*))&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;&amp;lt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;[1 1 1 1 2]&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;[1 2]&lt;/span&gt;

$ &lt;span class="pl-s1"&gt;bb &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;(filterv :foo *input*)&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;&amp;lt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;[{:foo 1} {:bar 2}]&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;[{:foo 1}]&lt;/span&gt;

$ &lt;span class="pl-s1"&gt;bb &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;(#(+ %1 %2 %3) 1 2 *input*)&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;&amp;lt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="pl-s"&gt;3&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;6&lt;/span&gt;

$ &lt;span class="pl-s1"&gt;ls &lt;span class="pl-k"&gt;|&lt;/span&gt; bb -i &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;(filterv #(re-find #"README" %) *input*)&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;["README.md"]&lt;/span&gt;

$ &lt;span class="pl-s1"&gt;bb &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;(run! #(shell/sh "touch" (str "/tmp/test/" %)) (range 100))&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
$ &lt;span class="pl-s1"&gt;ls /tmp/test &lt;span class="pl-k"&gt;|&lt;/span&gt; bb -i &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;*input*&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;["0" "1" "10" "11" "12" "13" "14" "15" "16" "17" "18" "19" "2" "20" "21" ...]&lt;/span&gt;

$ &lt;span class="pl-s1"&gt;bb -O &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;(repeat "dude")&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;|&lt;/span&gt; bb --stream &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;(str *input* "rino")&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;|&lt;/span&gt; bb -I &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;(take 3 *input*)&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;("duderino" "duderino" "duderino")&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;More examples can be found in the &lt;a href="#gallery"&gt;gallery&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-brew" class="anchor" aria-hidden="true" href="#brew"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Brew&lt;/h3&gt;
&lt;p&gt;Linux and macOS binaries are provided via brew.&lt;/p&gt;
&lt;p&gt;Install:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;brew install borkdude/brew/babashka
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Upgrade:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;brew upgrade babashka
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-arch-linux" class="anchor" aria-hidden="true" href="#arch-linux"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Arch (Linux)&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;babashka&lt;/code&gt; is &lt;a href="https://aur.archlinux.org/packages/babashka-bin/" rel="nofollow"&gt;available&lt;/a&gt; in the &lt;a href="https://aur.archlinux.org" rel="nofollow"&gt;Arch User Repository&lt;/a&gt;. It can be installed using your favorite &lt;a href="https://aur.archlinux.org" rel="nofollow"&gt;AUR&lt;/a&gt; helper such as
&lt;a href="https://github.com/Jguer/yay"&gt;yay&lt;/a&gt;, &lt;a href="https://github.com/archlinuxfr/yaourt"&gt;yaourt&lt;/a&gt;, &lt;a href="https://github.com/oshazard/apacman"&gt;apacman&lt;/a&gt; and &lt;a href="https://github.com/rmarquis/pacaur"&gt;pacaur&lt;/a&gt;. Here is an example using &lt;code&gt;yay&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;yay -S babashka-bin
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-windows" class="anchor" aria-hidden="true" href="#windows"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Windows&lt;/h3&gt;
&lt;p&gt;On Windows you can install using &lt;a href="https://scoop.sh/" rel="nofollow"&gt;scoop&lt;/a&gt; and the
&lt;a href="https://github.com/littleli/scoop-clojure"&gt;scoop-clojure&lt;/a&gt; bucket.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-installer-script" class="anchor" aria-hidden="true" href="#installer-script"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installer script&lt;/h3&gt;
&lt;p&gt;Install via the installer script:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;bash &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;&amp;lt;(&lt;/span&gt;curl -s https://raw.githubusercontent.com/borkdude/babashka/master/install&lt;span class="pl-pds"&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;By default this will install into &lt;code&gt;/usr/local/bin&lt;/code&gt;. To change this, provide the directory name:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;bash &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;&amp;lt;(&lt;/span&gt;curl -s https://raw.githubusercontent.com/borkdude/babashka/master/install&lt;span class="pl-pds"&gt;)&lt;/span&gt;&lt;/span&gt; /tmp&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-download" class="anchor" aria-hidden="true" href="#download"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Download&lt;/h3&gt;
&lt;p&gt;You may also download a binary from &lt;a href="https://github.com/borkdude/babashka/releases"&gt;Github&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h2&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;Usage: bb [ -i | -I ] [ -o | -O ] [ --stream ] [--verbose]&lt;/span&gt;
&lt;span class="pl-c1"&gt;          [ ( --classpath | -cp ) &amp;lt;cp&amp;gt; ] [ --uberscript &amp;lt;file&amp;gt; ]&lt;/span&gt;
&lt;span class="pl-c1"&gt;          [ ( --main | -m ) &amp;lt;main-namespace&amp;gt; | -e &amp;lt;expression&amp;gt; | -f &amp;lt;file&amp;gt; |&lt;/span&gt;
&lt;span class="pl-c1"&gt;            --repl | --socket-repl [&amp;lt;host&amp;gt;:]&amp;lt;port&amp;gt; ]&lt;/span&gt;
&lt;span class="pl-c1"&gt;          [ arg* ]&lt;/span&gt;

&lt;span class="pl-c1"&gt;Options:&lt;/span&gt;

&lt;span class="pl-c1"&gt;  --help, -h or -?    Print this help text.&lt;/span&gt;
&lt;span class="pl-c1"&gt;  --version           Print the current version of babashka.&lt;/span&gt;

&lt;span class="pl-c1"&gt;  -i                  Bind *input* to a lazy seq of lines from stdin.&lt;/span&gt;
&lt;span class="pl-c1"&gt;  -I                  Bind *input* to a lazy seq of EDN values from stdin.&lt;/span&gt;
&lt;span class="pl-c1"&gt;  -o                  Write lines to stdout.&lt;/span&gt;
&lt;span class="pl-c1"&gt;  -O                  Write EDN values to stdout.&lt;/span&gt;
&lt;span class="pl-c1"&gt;  --verbose           Print entire stacktrace in case of exception.&lt;/span&gt;
&lt;span class="pl-c1"&gt;  --stream            Stream over lines or EDN values from stdin. Combined with -i or -I *input* becomes a single value per iteration.&lt;/span&gt;
&lt;span class="pl-c1"&gt;  --uberscript &amp;lt;file&amp;gt; Collect preloads, -e, -f and -m and all required namespaces from the classpath into a single executable file.&lt;/span&gt;

&lt;span class="pl-c1"&gt;  -e, --eval &amp;lt;expr&amp;gt;   Evaluate an expression.&lt;/span&gt;
&lt;span class="pl-c1"&gt;  -f, --file &amp;lt;path&amp;gt;   Evaluate a file.&lt;/span&gt;
&lt;span class="pl-c1"&gt;  -cp, --classpath    Classpath to use.&lt;/span&gt;
&lt;span class="pl-c1"&gt;  -m, --main &amp;lt;ns&amp;gt;     Call the -main function from namespace with args.&lt;/span&gt;
&lt;span class="pl-c1"&gt;  --repl              Start REPL. Use rlwrap for history.&lt;/span&gt;
&lt;span class="pl-c1"&gt;  --socket-repl       Start socket REPL. Specify port (e.g. 1666) or host and port separated by colon (e.g. 127.0.0.1:1666).&lt;/span&gt;
&lt;span class="pl-c1"&gt;  --time              Print execution time before exiting.&lt;/span&gt;
&lt;span class="pl-c1"&gt;  --                  Stop parsing args and pass everything after -- to *command-line-args*&lt;/span&gt;

&lt;span class="pl-c1"&gt;If neither -e, -f, or --socket-repl are specified, then the first argument that is not parsed as a option is treated as a file if it exists, or as an expression otherwise.&lt;/span&gt;
&lt;span class="pl-c1"&gt;Everything after that is bound to *command-line-args*.&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;clojure.core&lt;/code&gt; functions are accessible without a namespace alias.&lt;/p&gt;
&lt;p&gt;The following namespaces are required by default and available through the
pre-defined aliases in the &lt;code&gt;user&lt;/code&gt; namespace. You may use &lt;code&gt;require&lt;/code&gt; + &lt;code&gt;:as&lt;/code&gt;
and/or &lt;code&gt;:refer&lt;/code&gt; on these namespaces. If not all vars are available, they are
enumerated explicitly.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;clojure.string&lt;/code&gt; aliased as &lt;code&gt;str&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;clojure.set&lt;/code&gt; aliased as &lt;code&gt;set&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;clojure.edn&lt;/code&gt; aliased as &lt;code&gt;edn&lt;/code&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;read-string&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;clojure.java.shell&lt;/code&gt; aliased as &lt;code&gt;shell&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;clojure.java.io&lt;/code&gt; aliased as &lt;code&gt;io&lt;/code&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;as-relative-path&lt;/code&gt;, &lt;code&gt;as-url&lt;/code&gt;, &lt;code&gt;copy&lt;/code&gt;, &lt;code&gt;delete-file&lt;/code&gt;, &lt;code&gt;file&lt;/code&gt;, &lt;code&gt;input-stream&lt;/code&gt;,
&lt;code&gt;make-parents&lt;/code&gt;, &lt;code&gt;output-stream&lt;/code&gt;, &lt;code&gt;reader&lt;/code&gt;, &lt;code&gt;resource&lt;/code&gt;, &lt;code&gt;writer&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;clojure.main&lt;/code&gt;: &lt;code&gt;repl&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://clojure.github.io/core.async/" rel="nofollow"&gt;&lt;code&gt;clojure.core.async&lt;/code&gt;&lt;/a&gt; aliased as
&lt;code&gt;async&lt;/code&gt;. The &lt;code&gt;alt&lt;/code&gt; and &lt;code&gt;go&lt;/code&gt; macros are not available but &lt;code&gt;alts!!&lt;/code&gt; does work as
it is a function.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;clojure.stacktrace&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;clojure.test&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/clojure/tools.cli"&gt;&lt;code&gt;clojure.tools.cli&lt;/code&gt;&lt;/a&gt; aliased as &lt;code&gt;tools.cli&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/clojure/data.csv"&gt;&lt;code&gt;clojure.data.csv&lt;/code&gt;&lt;/a&gt; aliased as &lt;code&gt;csv&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/dakrone/cheshire"&gt;&lt;code&gt;cheshire.core&lt;/code&gt;&lt;/a&gt; aliased as &lt;code&gt;json&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A selection of java classes are available, see &lt;code&gt;babashka/impl/classes.clj&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Babashka supports &lt;code&gt;import&lt;/code&gt;: &lt;code&gt;(import clojure.lang.ExceptionInfo)&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Babashka supports a subset of the &lt;code&gt;ns&lt;/code&gt; form where you may use &lt;code&gt;:require&lt;/code&gt; and &lt;code&gt;:import&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;(ns foo&lt;/span&gt;
&lt;span class="pl-c1"&gt;  (:require [clojure.string :as str])&lt;/span&gt;
&lt;span class="pl-c1"&gt;  (:import clojure.lang.ExceptionInfo))&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For the unsupported parts of the ns form, you may use &lt;a href="#reader-conditionals"&gt;reader
conditionals&lt;/a&gt; to maintain compatibility with JVM Clojure.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-input-and-output-flags" class="anchor" aria-hidden="true" href="#input-and-output-flags"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Input and output flags&lt;/h3&gt;
&lt;p&gt;In one-liners the &lt;code&gt;*input*&lt;/code&gt; value may come in handy. It contains the input read from stdin as EDN by default. If you want to read in text, use the &lt;code&gt;-i&lt;/code&gt; flag, which binds &lt;code&gt;*input*&lt;/code&gt; to a lazy seq of lines of text. If you want to read multiple EDN values, use the &lt;code&gt;-I&lt;/code&gt; flag. The &lt;code&gt;-o&lt;/code&gt; option prints the result as lines of text. The &lt;code&gt;-O&lt;/code&gt; option prints the result as lines of EDN values.&lt;/p&gt;
&lt;p&gt;The following table illustrates the combination of options for commands of the form&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;echo "{{Input}}" | bb {{Input flags}} {{Output flags}} "*input*"
&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Input&lt;/th&gt;
&lt;th&gt;Input flags&lt;/th&gt;
&lt;th&gt;Output flag&lt;/th&gt;
&lt;th&gt;&lt;code&gt;*input*&lt;/code&gt;&lt;/th&gt;
&lt;th&gt;Output&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;{:a 1}&lt;/code&gt; &lt;br&gt; &lt;code&gt;{:a 2}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;{:a 1}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;{:a 1}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;hello &lt;br&gt; bye&lt;/td&gt;
&lt;td&gt;&lt;code&gt;-i&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;("hello" "bye")&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;("hello" "bye")&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;hello &lt;br&gt; bye&lt;/td&gt;
&lt;td&gt;&lt;code&gt;-i&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;-o&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;("hello" "bye")&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;hello &lt;br&gt; bye&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;{:a 1}&lt;/code&gt; &lt;br&gt; &lt;code&gt;{:a 2}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;-I&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;({:a 1} {:a 2})&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;({:a 1} {:a 2})&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;{:a 1}&lt;/code&gt; &lt;br&gt; &lt;code&gt;{:a 2}&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;-I&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;-O&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;({:a 1} {:a 2})&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;{:a 1}&lt;/code&gt; &lt;br&gt; &lt;code&gt;{:a 2}&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;When combined with the &lt;code&gt;--stream&lt;/code&gt; option, the expression is executed for each value in the input:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;$ echo '{&lt;span class="pl-c1"&gt;:a&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;} {&lt;span class="pl-c1"&gt;:a&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt;}' | bb --stream '*input*'
{&lt;span class="pl-c1"&gt;:a&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;}
{&lt;span class="pl-c1"&gt;:a&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt;}&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-current-file-path" class="anchor" aria-hidden="true" href="#current-file-path"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Current file path&lt;/h3&gt;
&lt;p&gt;The var &lt;code&gt;*file*&lt;/code&gt; contains the full path of the file that is currently being
executed:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;cat example.clj&lt;/span&gt;
&lt;span class="pl-c1"&gt;(prn *file*)&lt;/span&gt;

$ &lt;span class="pl-s1"&gt;bb example.clj&lt;/span&gt;
&lt;span class="pl-c1"&gt;"/Users/borkdude/example.clj"&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-command-line-arguments" class="anchor" aria-hidden="true" href="#command-line-arguments"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Command-line arguments&lt;/h3&gt;
&lt;p&gt;Command-line arguments can be retrieved using &lt;code&gt;*command-line-args*&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-additional-namespaces" class="anchor" aria-hidden="true" href="#additional-namespaces"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Additional namespaces&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-babashkaclasspath" class="anchor" aria-hidden="true" href="#babashkaclasspath"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;babashka.classpath&lt;/h4&gt;
&lt;p&gt;Contains the function &lt;code&gt;add-classpath&lt;/code&gt; which can be used to add to the classpath
dynamically:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;require&lt;/span&gt; '[babashka.classpath &lt;span class="pl-c1"&gt;:refer&lt;/span&gt; [add-classpath]]
         '[clojure.java.shell &lt;span class="pl-c1"&gt;:refer&lt;/span&gt; [sh]])
(&lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-e"&gt;medley-dep&lt;/span&gt; '{&lt;span class="pl-c1"&gt;:deps&lt;/span&gt; {medley {&lt;span class="pl-c1"&gt;:git/url&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;https://github.com/borkdude/medley&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
                                 &lt;span class="pl-c1"&gt;:sha&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;91adfb5da33f8d23f75f0894da1defe567a625c0&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;}}})
(&lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-e"&gt;cp&lt;/span&gt; (&lt;span class="pl-c1"&gt;:out&lt;/span&gt; (&lt;span class="pl-en"&gt;sh&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;clojure&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;-Spath&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;-Sdeps&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; (&lt;span class="pl-en"&gt;str&lt;/span&gt; medley-dep))))
(&lt;span class="pl-en"&gt;add-classpath&lt;/span&gt; cp)
(&lt;span class="pl-k"&gt;require&lt;/span&gt; '[medley.core &lt;span class="pl-c1"&gt;:as&lt;/span&gt; m])
(&lt;span class="pl-en"&gt;m/index-by&lt;/span&gt; &lt;span class="pl-c1"&gt;:id&lt;/span&gt; [{&lt;span class="pl-c1"&gt;:id&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;} {&lt;span class="pl-c1"&gt;:id&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt;}]) &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;;=&amp;gt; {1 {:id 1}, 2 {:id 2}}&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-babashkawait" class="anchor" aria-hidden="true" href="#babashkawait"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;babashka.wait&lt;/h4&gt;
&lt;p&gt;Contains the functions: &lt;code&gt;wait-for-port&lt;/code&gt; and &lt;code&gt;wait-for-path&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Usage of &lt;code&gt;wait-for-port&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-en"&gt;wait/wait-for-port&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;localhost&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-c1"&gt;8080&lt;/span&gt;)
(&lt;span class="pl-en"&gt;wait/wait-for-port&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;localhost&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-c1"&gt;8080&lt;/span&gt; {&lt;span class="pl-c1"&gt;:timeout&lt;/span&gt; &lt;span class="pl-c1"&gt;1000&lt;/span&gt; &lt;span class="pl-c1"&gt;:pause&lt;/span&gt; &lt;span class="pl-c1"&gt;1000&lt;/span&gt;})&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Waits for TCP connection to be available on host and port. Options map supports &lt;code&gt;:timeout&lt;/code&gt; and &lt;code&gt;:pause&lt;/code&gt;. If &lt;code&gt;:timeout&lt;/code&gt; is provided and reached, &lt;code&gt;:default&lt;/code&gt;'s value (if any) is returned. The &lt;code&gt;:pause&lt;/code&gt; option determines the time waited between retries.&lt;/p&gt;
&lt;p&gt;Usage of &lt;code&gt;wait-for-path&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-en"&gt;wait/wait-for-path&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/tmp/wait-path-test&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)
(&lt;span class="pl-en"&gt;wait/wait-for-path&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/tmp/wait-path-test&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; {&lt;span class="pl-c1"&gt;:timeout&lt;/span&gt; &lt;span class="pl-c1"&gt;1000&lt;/span&gt; &lt;span class="pl-c1"&gt;:pause&lt;/span&gt; &lt;span class="pl-c1"&gt;1000&lt;/span&gt;})&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Waits for file path to be available. Options map supports &lt;code&gt;:default&lt;/code&gt;, &lt;code&gt;:timeout&lt;/code&gt;
and &lt;code&gt;:pause&lt;/code&gt;. If &lt;code&gt;:timeout&lt;/code&gt; is provided and reached, &lt;code&gt;:default&lt;/code&gt;'s value (if any)
is returned. The &lt;code&gt;:pause&lt;/code&gt; option determines the time waited between retries.&lt;/p&gt;
&lt;p&gt;The namespace &lt;code&gt;babashka.wait&lt;/code&gt; is aliased as &lt;code&gt;wait&lt;/code&gt; in the &lt;code&gt;user&lt;/code&gt; namespace.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-babashkasignal" class="anchor" aria-hidden="true" href="#babashkasignal"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;babashka.signal&lt;/h4&gt;
&lt;p&gt;Contains the function &lt;code&gt;signal/pipe-signal-received?&lt;/code&gt;. Usage:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-en"&gt;signal/pipe-signal-received?&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Returns true if &lt;code&gt;PIPE&lt;/code&gt; signal was received. Example:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;bb &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;((fn [x] (println x) (when (not (signal/pipe-signal-received?)) (recur (inc x)))) 0)&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;|&lt;/span&gt; head -n2&lt;/span&gt;
&lt;span class="pl-c1"&gt;1&lt;/span&gt;
&lt;span class="pl-c1"&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The namespace &lt;code&gt;babashka.signal&lt;/code&gt; is aliased as &lt;code&gt;signal&lt;/code&gt; in the &lt;code&gt;user&lt;/code&gt; namespace.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-running-a-file" class="anchor" aria-hidden="true" href="#running-a-file"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Running a file&lt;/h2&gt;
&lt;p&gt;Scripts may be executed from a file using &lt;code&gt;-f&lt;/code&gt; or &lt;code&gt;--file&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;bb -f download_html.clj&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Files can also be loaded inline using &lt;code&gt;load-file&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;bb '(load-file "script.clj")'&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Using &lt;code&gt;bb&lt;/code&gt; with a shebang also works:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#!&lt;/span&gt;/usr/bin/env bb&lt;/span&gt;

(&lt;span class="pl-k"&gt;defn&lt;/span&gt; &lt;span class="pl-e"&gt;get-url&lt;/span&gt; [url]
  (&lt;span class="pl-en"&gt;println&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Fetching url:&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; url)
  (&lt;span class="pl-k"&gt;let&lt;/span&gt; [{&lt;span class="pl-c1"&gt;:keys&lt;/span&gt; [&lt;span class="pl-c1"&gt;:exit&lt;/span&gt; &lt;span class="pl-c1"&gt;:err&lt;/span&gt; &lt;span class="pl-c1"&gt;:out&lt;/span&gt;]} (&lt;span class="pl-en"&gt;shell/sh&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;curl&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;-sS&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; url)]
    (&lt;span class="pl-k"&gt;if&lt;/span&gt; (&lt;span class="pl-en"&gt;zero?&lt;/span&gt; exit) out
      (&lt;span class="pl-k"&gt;do&lt;/span&gt; (&lt;span class="pl-en"&gt;println&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;ERROR:&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; err)
          (&lt;span class="pl-en"&gt;System/exit&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;)))))

(&lt;span class="pl-k"&gt;defn&lt;/span&gt; &lt;span class="pl-e"&gt;write-html&lt;/span&gt; [file html]
  (&lt;span class="pl-en"&gt;println&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Writing file:&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; file)
  (&lt;span class="pl-en"&gt;spit&lt;/span&gt; file html))

(&lt;span class="pl-k"&gt;let&lt;/span&gt; [[url file] *command-line-args*]
  (&lt;span class="pl-k"&gt;when&lt;/span&gt; (&lt;span class="pl-en"&gt;or&lt;/span&gt; (&lt;span class="pl-en"&gt;empty?&lt;/span&gt; url) (&lt;span class="pl-en"&gt;empty?&lt;/span&gt; file))
    (&lt;span class="pl-en"&gt;println&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Usage: &amp;lt;url&amp;gt; &amp;lt;file&amp;gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)
    (&lt;span class="pl-en"&gt;System/exit&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;))
  (&lt;span class="pl-en"&gt;write-html&lt;/span&gt; file (&lt;span class="pl-en"&gt;get-url&lt;/span&gt; url)))

(&lt;span class="pl-en"&gt;System/exit&lt;/span&gt; &lt;span class="pl-c1"&gt;0&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;./download_html.clj&lt;/span&gt;
&lt;span class="pl-c1"&gt;Usage: &amp;lt;url&amp;gt; &amp;lt;file&amp;gt;&lt;/span&gt;

$ &lt;span class="pl-s1"&gt;./download_html.clj https://www.clojure.org /tmp/clojure.org.html&lt;/span&gt;
&lt;span class="pl-c1"&gt;Fetching url: https://www.clojure.org&lt;/span&gt;
&lt;span class="pl-c1"&gt;Writing file: /tmp/clojure.org.html&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If &lt;code&gt;/usr/bin/env&lt;/code&gt; doesn't work for you, you can use the following workaround:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;cat script.clj&lt;/span&gt;
&lt;span class="pl-c1"&gt;#!/bin/sh&lt;/span&gt;

&lt;span class="pl-c1"&gt;#_(&lt;/span&gt;
&lt;span class="pl-c1"&gt;   "exec" "bb" "$0" hello "$@"&lt;/span&gt;
&lt;span class="pl-c1"&gt;   )&lt;/span&gt;

&lt;span class="pl-c1"&gt;(prn *command-line-args*)&lt;/span&gt;

&lt;span class="pl-c1"&gt;./script.clj 1 2 3&lt;/span&gt;
&lt;span class="pl-c1"&gt;("hello" "1" "2" "3")&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-preloads" class="anchor" aria-hidden="true" href="#preloads"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Preloads&lt;/h2&gt;
&lt;p&gt;The environment variable &lt;code&gt;BABASHKA_PRELOADS&lt;/code&gt; allows to define code that will be
available in all subsequent usages of babashka.&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;BABASHKA_PRELOADS='(defn foo [x] (+ x 2))'&lt;/span&gt;
&lt;span class="pl-c1"&gt;BABASHKA_PRELOADS=$BABASHKA_PRELOADS' (defn bar [x] (* x 2))'&lt;/span&gt;
&lt;span class="pl-c1"&gt;export BABASHKA_PRELOADS&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note that you can concatenate multiple expressions. Now you can use these functions in babashka:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;bb &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;(-&amp;gt; (foo *input*) bar)&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;&amp;lt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="pl-s"&gt;1&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;6&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can also preload an entire file using &lt;code&gt;load-file&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;export BABASHKA_PRELOADS='(load-file "my_awesome_prelude.clj")'&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note that &lt;code&gt;*input*&lt;/code&gt; is not available in preloads.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-classpath" class="anchor" aria-hidden="true" href="#classpath"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Classpath&lt;/h2&gt;
&lt;p&gt;Babashka accepts a &lt;code&gt;--classpath&lt;/code&gt; option that will be used to search for
namespaces and load them:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;$ cat src/my/namespace.clj
(&lt;span class="pl-k"&gt;ns&lt;/span&gt; &lt;span class="pl-e"&gt;my.namespace&lt;/span&gt;)
(&lt;span class="pl-k"&gt;defn&lt;/span&gt; &lt;span class="pl-e"&gt;-main&lt;/span&gt; [&amp;amp; _args]
  (&lt;span class="pl-en"&gt;println&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Hello from my namespace!&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;))

$ bb --classpath src --main my.namespace
Hello from my namespace!&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note that you can use the &lt;code&gt;clojure&lt;/code&gt; tool to produce classpaths and download dependencies:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;cat deps.edn&lt;/span&gt;
&lt;span class="pl-c1"&gt;{:deps&lt;/span&gt;
&lt;span class="pl-c1"&gt; {my_gist_script&lt;/span&gt;
&lt;span class="pl-c1"&gt;  {:git/url "https://gist.github.com/borkdude/263b150607f3ce03630e114611a4ef42"&lt;/span&gt;
&lt;span class="pl-c1"&gt;   :sha "cfc761d06dfb30bb77166b45d439fe8fe54a31b8"}}&lt;/span&gt;
&lt;span class="pl-c1"&gt; :aliases {:my-script {:main-opts ["-m" "my-gist-script"]}}}&lt;/span&gt;

$ &lt;span class="pl-s1"&gt;CLASSPATH=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;$(&lt;/span&gt;clojure -Spath&lt;span class="pl-pds"&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
$ &lt;span class="pl-s1"&gt;bb --classpath &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-smi"&gt;$CLASSPATH&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; --main my-gist-script&lt;/span&gt;
&lt;span class="pl-c1"&gt;Hello from gist script!&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If there is no &lt;code&gt;--classpath&lt;/code&gt; argument, the &lt;code&gt;BABASHKA_CLASSPATH&lt;/code&gt; environment
variable will be used:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;&lt;span class="pl-k"&gt;export&lt;/span&gt; BABASHKA_CLASSPATH=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;$(&lt;/span&gt;clojure -Spath&lt;span class="pl-pds"&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
$ &lt;span class="pl-s1"&gt;&lt;span class="pl-k"&gt;export&lt;/span&gt; BABASHKA_PRELOADS=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;(require '[my-gist-script])&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
$ &lt;span class="pl-s1"&gt;bb &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;(my-gist-script/-main)&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;Hello from gist script!&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-depsclj" class="anchor" aria-hidden="true" href="#depsclj"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deps.clj&lt;/h3&gt;
&lt;p&gt;The &lt;a href="https://github.com/borkdude/deps.clj/"&gt;&lt;code&gt;deps.clj&lt;/code&gt;&lt;/a&gt; script can be used to work with &lt;code&gt;deps.edn&lt;/code&gt;-based projects:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ deps.clj -A:my-script -Scommand &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;bb -cp {{classpath}} {{main-opts}}&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
Hello from gist script&lt;span class="pl-k"&gt;!&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Create these aliases for brevity:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ &lt;span class="pl-c1"&gt;alias&lt;/span&gt; bbk=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;deps.clj -Scommand "bb -cp {{classpath}} {{main-opts}}"&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
$ &lt;span class="pl-c1"&gt;alias&lt;/span&gt; babashka=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;rlwrap deps.clj -Scommand "bb -cp {{classpath}} {{main-opts}}"&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
$ bbk -A:my-script
Hello from gist script&lt;span class="pl-k"&gt;!&lt;/span&gt;
$ babashka
Babashka v0.0.58 REPL.
Use :repl/quit or :repl/exit to quit the REPL.
Clojure rocks, Bash reaches.

user=&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; (require &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;[my-gist-script :as mgs])&lt;/span&gt;
&lt;span class="pl-s"&gt;nil&lt;/span&gt;
&lt;span class="pl-s"&gt;user=&amp;gt; (mgs/-main)&lt;/span&gt;
&lt;span class="pl-s"&gt;Hello from gist script!&lt;/span&gt;
&lt;span class="pl-s"&gt;nil&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-uberscript" class="anchor" aria-hidden="true" href="#uberscript"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Uberscript&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;--uberscript&lt;/code&gt; option collects the expressions in
&lt;code&gt;BABASHKA_PRELOADS&lt;/code&gt;, the command line expression or file, the main entrypoint
and all required namespaces from the classpath into a single file. This can be
convenient for debugging and deployment.&lt;/p&gt;
&lt;p&gt;Given the &lt;code&gt;deps.edn&lt;/code&gt; from above:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;$ deps.clj -A:my-script -Scommand &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;bb -cp {{classpath}} {{main-opts}} --uberscript my-script.clj&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;

$ cat my-script.clj
(&lt;span class="pl-k"&gt;ns&lt;/span&gt; &lt;span class="pl-e"&gt;my-gist-script&lt;/span&gt;)
(&lt;span class="pl-k"&gt;defn&lt;/span&gt; &lt;span class="pl-e"&gt;-main&lt;/span&gt; [&amp;amp; args]
  (&lt;span class="pl-en"&gt;println&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Hello from gist script!&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;))
(&lt;span class="pl-k"&gt;ns&lt;/span&gt; &lt;span class="pl-e"&gt;user&lt;/span&gt; (&lt;span class="pl-c1"&gt;:require&lt;/span&gt; [my-gist-script]))
(&lt;span class="pl-en"&gt;apply&lt;/span&gt; my-gist-script/-main *command-line-args*)

$ bb my-script.clj
Hello from gist script!&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-parsing-command-line-arguments" class="anchor" aria-hidden="true" href="#parsing-command-line-arguments"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Parsing command line arguments&lt;/h2&gt;
&lt;p&gt;Babashka ships with &lt;code&gt;clojure.tools.cli&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;require&lt;/span&gt; '[clojure.tools.cli &lt;span class="pl-c1"&gt;:refer&lt;/span&gt; [parse-opts]])

(&lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-e"&gt;cli-options&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; An option with a required argument&lt;/span&gt;
  [[&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;-p&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;--port PORT&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Port number&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
    &lt;span class="pl-c1"&gt;:default&lt;/span&gt; &lt;span class="pl-c1"&gt;80&lt;/span&gt;
    &lt;span class="pl-c1"&gt;:parse-fn&lt;/span&gt; #(&lt;span class="pl-en"&gt;Integer/parseInt&lt;/span&gt; %)
    &lt;span class="pl-c1"&gt;:validate&lt;/span&gt; [#(&lt;span class="pl-en"&gt;&amp;lt;&lt;/span&gt; &lt;span class="pl-c1"&gt;0&lt;/span&gt; % &lt;span class="pl-c1"&gt;0x10000&lt;/span&gt;) &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Must be a number between 0 and 65536&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;]]
   [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;-h&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;--help&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;]])

(&lt;span class="pl-c1"&gt;:options&lt;/span&gt; (&lt;span class="pl-en"&gt;parse-opts&lt;/span&gt; *command-line-args* cli-options))&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;bb script.clj&lt;/span&gt;
&lt;span class="pl-c1"&gt;{:port 80}&lt;/span&gt;
$ &lt;span class="pl-s1"&gt;bb script.clj -h&lt;/span&gt;
&lt;span class="pl-c1"&gt;{:port 80, :help true}&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-reader-conditionals" class="anchor" aria-hidden="true" href="#reader-conditionals"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Reader conditionals&lt;/h2&gt;
&lt;p&gt;Babashka supports reader conditionals using the &lt;code&gt;:bb&lt;/code&gt; feature:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;$ cat example.clj
#?(&lt;span class="pl-c1"&gt;:clj&lt;/span&gt; (&lt;span class="pl-k"&gt;in-ns&lt;/span&gt; 'foo) &lt;span class="pl-c1"&gt;:bb&lt;/span&gt; (&lt;span class="pl-en"&gt;println&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;babashka doesn't support in-ns yet!&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;))

$ ./bb example.clj
babashka doesn't support &lt;span class="pl-k"&gt;in-ns&lt;/span&gt; yet!&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-running-tests" class="anchor" aria-hidden="true" href="#running-tests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Running tests&lt;/h2&gt;
&lt;p&gt;Babashka bundles &lt;code&gt;clojure.test&lt;/code&gt;. To make CI scripts fail you can use a simple
runner like this:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#!&lt;/span&gt;/usr/bin/env bash&lt;/span&gt;
bb -cp &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;src:test:resources&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; \
   -e &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;(require '[clojure.test :as t] '[borkdude.deps-test])&lt;/span&gt;
&lt;span class="pl-s"&gt;       (let [{:keys [:fail :error]} (t/run-tests 'borkdude.deps-test)]&lt;/span&gt;
&lt;span class="pl-s"&gt;         (System/exit (+ fail error)))&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-repl" class="anchor" aria-hidden="true" href="#repl"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;REPL&lt;/h2&gt;
&lt;p&gt;Babashka supports both a REPL and socket REPL. To start the REPL, type:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ bb --repl&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To get history with up and down arrows, use &lt;code&gt;rlwrap&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ rlwrap bb --repl&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To start the socket REPL you can do this:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;bb --socket-repl 1666&lt;/span&gt;
&lt;span class="pl-c1"&gt;Babashka socket REPL started at localhost:1666&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now you can connect with your favorite socket REPL client:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;rlwrap nc 127.0.0.1 1666&lt;/span&gt;
&lt;span class="pl-c1"&gt;Babashka v0.0.14 REPL.&lt;/span&gt;
&lt;span class="pl-c1"&gt;Use :repl/quit or :repl/exit to quit the REPL.&lt;/span&gt;
&lt;span class="pl-c1"&gt;Clojure rocks, Bash reaches.&lt;/span&gt;

&lt;span class="pl-c1"&gt;bb=&amp;gt; (+ 1 2 3)&lt;/span&gt;
&lt;span class="pl-c1"&gt;6&lt;/span&gt;
&lt;span class="pl-c1"&gt;bb=&amp;gt; :repl/quit&lt;/span&gt;
$&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A socket REPL client for Emacs is
&lt;a href="https://github.com/clojure-emacs/inf-clojure"&gt;inf-clojure&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-spawning-and-killing-a-process" class="anchor" aria-hidden="true" href="#spawning-and-killing-a-process"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Spawning and killing a process&lt;/h2&gt;
&lt;p&gt;Use the &lt;code&gt;java.lang.ProcessBuilder&lt;/code&gt; class.&lt;/p&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;user=&amp;gt; (&lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-e"&gt;ws&lt;/span&gt; (&lt;span class="pl-en"&gt;-&amp;gt;&lt;/span&gt; (&lt;span class="pl-en"&gt;ProcessBuilder.&lt;/span&gt; [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;python&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;-m&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;SimpleHTTPServer&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;1777&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;]) (&lt;span class="pl-en"&gt;.start&lt;/span&gt;)))
#'user/ws
user=&amp;gt; (&lt;span class="pl-en"&gt;wait/wait-for-port&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;localhost&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-c1"&gt;1777&lt;/span&gt;)
{&lt;span class="pl-c1"&gt;:host&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;localhost&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-c1"&gt;:port&lt;/span&gt; &lt;span class="pl-c1"&gt;1777&lt;/span&gt;, &lt;span class="pl-c1"&gt;:took&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt;}
user=&amp;gt; (&lt;span class="pl-en"&gt;.destroy&lt;/span&gt; ws)
&lt;span class="pl-c1"&gt;nil&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Also see this &lt;a href="examples/process_builder.clj"&gt;example&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-async" class="anchor" aria-hidden="true" href="#async"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Async&lt;/h2&gt;
&lt;p&gt;Apart from &lt;code&gt;future&lt;/code&gt; and &lt;code&gt;pmap&lt;/code&gt; for creating threads, you may use the &lt;code&gt;async&lt;/code&gt;
namespace, which maps to &lt;code&gt;clojure.core.async&lt;/code&gt;, for asynchronous scripting. The
following example shows how to get first available value from two different
processes:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;bb '
(&lt;span class="pl-k"&gt;defn&lt;/span&gt; &lt;span class="pl-e"&gt;async-command&lt;/span&gt; [&amp;amp; args]
  (&lt;span class="pl-en"&gt;async/thread&lt;/span&gt; (&lt;span class="pl-en"&gt;apply&lt;/span&gt; shell/sh &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;bash&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;-c&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; args)))

(&lt;span class="pl-en"&gt;-&amp;gt;&lt;/span&gt; (&lt;span class="pl-en"&gt;async/alts!!&lt;/span&gt; [(&lt;span class="pl-en"&gt;async-command&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;sleep 2 &amp;amp;&amp;amp; echo process 1&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)
                   (&lt;span class="pl-en"&gt;async-command&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;sleep 1 &amp;amp;&amp;amp; echo process 2&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)])
    first &lt;span class="pl-c1"&gt;:out&lt;/span&gt; str/trim println)'
process &lt;span class="pl-c1"&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-differences-with-clojure" class="anchor" aria-hidden="true" href="#differences-with-clojure"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Differences with Clojure&lt;/h2&gt;
&lt;p&gt;Babashka is implemented using the &lt;a href="https://github.com/borkdude/sci"&gt;Small Clojure
Interpreter&lt;/a&gt;. This means that a snippet or
script is not compiled to JVM bytecode, but executed form by form by a runtime
which implements a subset of Clojure. Babashka is compiled to a native binary
using &lt;a href="https://github.com/oracle/graal"&gt;GraalVM&lt;/a&gt;. It comes with a selection of
built-in namespaces and functions from Clojure and other useful libraries. The
data types (numbers, strings, persistent collections) are the
same. Multi-threading is supported (&lt;code&gt;pmap&lt;/code&gt;, &lt;code&gt;future&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Differences with Clojure:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;A subset of Java classes are supported.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Only the &lt;code&gt;clojure.core&lt;/code&gt;, &lt;code&gt;clojure.edn&lt;/code&gt;, &lt;code&gt;clojue.java.io&lt;/code&gt;,
&lt;code&gt;clojure.java.shell&lt;/code&gt;, &lt;code&gt;clojure.set&lt;/code&gt;, &lt;code&gt;clojure.stacktrace&lt;/code&gt;, &lt;code&gt;clojure.string&lt;/code&gt;,
&lt;code&gt;clojure.template&lt;/code&gt;, &lt;code&gt;clojure.test&lt;/code&gt; and &lt;code&gt;clojure.walk&lt;/code&gt; namespaces are available
from Clojure.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Interpretation comes with overhead. Therefore tight loops are likely slower
than in Clojure on the JVM.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;No support for unboxed types.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-external-resources" class="anchor" aria-hidden="true" href="#external-resources"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;External resources&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-tools-and-libraries" class="anchor" aria-hidden="true" href="#tools-and-libraries"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Tools and libraries&lt;/h3&gt;
&lt;p&gt;The following libraries are known to work with Babashka:&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-depsclj-1" class="anchor" aria-hidden="true" href="#depsclj-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="https://github.com/borkdude/deps.clj"&gt;deps.clj&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;A port of the &lt;a href="https://github.com/clojure/brew-install/"&gt;clojure&lt;/a&gt; bash script to
Clojure / babashka.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-spartanspec" class="anchor" aria-hidden="true" href="#spartanspec"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="https://github.com/borkdude/spartan.spec/"&gt;spartan.spec&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;An babashka-compatible implementation of &lt;code&gt;clojure.spec.alpha&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-missingtestassertions" class="anchor" aria-hidden="true" href="#missingtestassertions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="https://github.com/borkdude/missing.test.assertions"&gt;missing.test.assertions&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;This library checks if no assertions have been made in a test:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ &lt;span class="pl-k"&gt;export&lt;/span&gt; BABASHKA_CLASSPATH=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;$(&lt;/span&gt;clojure -Spath -Sdeps &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;{:deps {borkdude/missing.test.assertions {:git/url "https://github.com/borkdude/missing.test.assertions" :sha "603cb01bee72fb17addacc53c34c85612684ad70"}}}&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-pds"&gt;)&lt;/span&gt;&lt;/span&gt;

$ lein bb &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;(require '[missing.test.assertions] '[clojure.test :as t]) (t/deftest foo) (t/run-tests)&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;

Testing user
WARNING: no assertions made &lt;span class="pl-k"&gt;in&lt;/span&gt; &lt;span class="pl-c1"&gt;test&lt;/span&gt; foo

Ran 1 tests containing 0 assertions.
0 failures, 0 errors.
{:test 1, :pass 0, :fail 0, :error 0, :type :summary}&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-medley" class="anchor" aria-hidden="true" href="#medley"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="https://github.com/borkdude/medley/"&gt;medley&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;A fork of &lt;a href="https://github.com/weavejester/medley"&gt;medley&lt;/a&gt; made compatible with
babashka. Requires &lt;code&gt;bb&lt;/code&gt; &amp;gt;= v0.0.58.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-clj-http-lite" class="anchor" aria-hidden="true" href="#clj-http-lite"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="https://github.com/borkdude/clj-http-lite"&gt;clj-http-lite&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;This fork does not depend on any other libraries. Example:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ &lt;span class="pl-k"&gt;export&lt;/span&gt; BABASHKA_CLASSPATH=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;$(&lt;/span&gt;clojure -Sdeps &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;{:deps {clj-http-lite {:git/url "https://github.com/borkdude/clj-http-lite" :sha "f44ebe45446f0f44f2b73761d102af3da6d0a13e"}}}&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; -Spath&lt;span class="pl-pds"&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;

$ bb &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;(require '[clj-http.lite.client :as client]) (:status (client/get &lt;span class="pl-cce"&gt;\"&lt;/span&gt;https://www.clojure.org&lt;span class="pl-cce"&gt;\"&lt;/span&gt;))&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
200&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-limit-break" class="anchor" aria-hidden="true" href="#limit-break"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="https://github.com/technomancy/limit-break"&gt;limit-break&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;A debug REPL library. Example:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ &lt;span class="pl-k"&gt;export&lt;/span&gt; BABASHKA_CLASSPATH=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;$(&lt;/span&gt;clojure -Sdeps &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;{:deps {limit-break {:git/url "https://github.com/technomancy/limit-break" :sha "050fcfa0ea29fe3340927533a6fa6fffe23bfc2f" :deps/manifest :deps}}}&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; -Spath&lt;span class="pl-pds"&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;

$ bb &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;(require '[limit.break :as lb]) (let [x 1] (lb/break))&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
Babashka v0.0.49 REPL.
Use :repl/quit or :repl/exit to quit the REPL.
Clojure rocks, Bash reaches.

break&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; x
1&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-clojure-csv" class="anchor" aria-hidden="true" href="#clojure-csv"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="https://github.com/davidsantiago/clojure-csv"&gt;clojure-csv&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;A library for reading and writing CSV files. Note that babashka already comes
with &lt;code&gt;clojure.data.csv&lt;/code&gt;, but in case you need this other library, this is how
you can use it:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;export&lt;/span&gt; BABASHKA_CLASSPATH=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;$(&lt;/span&gt;clojure -Sdeps &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;{:deps {clojure-csv {:mvn/version "RELEASE"}}}&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; -Spath&lt;span class="pl-pds"&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;

./bb -e &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;(require '[clojure-csv.core :as csv])&lt;/span&gt;
&lt;span class="pl-s"&gt;(csv/write-csv (csv/parse-csv &lt;span class="pl-cce"&gt;\"&lt;/span&gt;a,b,c\n1,2,3&lt;span class="pl-cce"&gt;\"&lt;/span&gt;))&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-spartantest" class="anchor" aria-hidden="true" href="#spartantest"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="https://github.com/borkdude/spartan.test/"&gt;spartan.test&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;A minimal test framework compatible with babashka. This library is deprecated
since babashka v0.0.68 which has &lt;code&gt;clojure.test&lt;/code&gt; built-in.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-blogs" class="anchor" aria-hidden="true" href="#blogs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Blogs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://stuartsierra.com/2019/12/21/clojure-start-time-in-2019" rel="nofollow"&gt;Clojure Start Time in 2019&lt;/a&gt; by Stuart Sierra&lt;/li&gt;
&lt;li&gt;&lt;a href="https://lambdaisland.com/blog/2019-12-19-advent-of-parens-19-advent-of-random-hacks" rel="nofollow"&gt;Advent of Random
Hacks&lt;/a&gt;
by Arne Brasseur&lt;/li&gt;
&lt;li&gt;&lt;a href="https://lambdaisland.com/blog/2019-12-05-advent-of-parens-5-clojure-in-the-shell" rel="nofollow"&gt;Clojure in the Shell&lt;/a&gt; by Arne Brasseur&lt;/li&gt;
&lt;li&gt;&lt;a href="https://purelyfunctional.tv/issues/purelyfunctional-tv-newsletter-351-clojure-tool-babashka/" rel="nofollow"&gt;Clojure Tool&lt;/a&gt; by Eric Normand&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-developing-babashka" class="anchor" aria-hidden="true" href="#developing-babashka"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="doc/dev.md"&gt;Developing Babashka&lt;/a&gt;&lt;/h2&gt;
&lt;h2&gt;&lt;a id="user-content-related-projects" class="anchor" aria-hidden="true" href="#related-projects"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Related projects&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://planck-repl.org/" rel="nofollow"&gt;planck&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/candid82/joker"&gt;joker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/dundalek/closh"&gt;closh&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/anmonteiro/lumo"&gt;lumo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-gallery" class="anchor" aria-hidden="true" href="#gallery"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Gallery&lt;/h2&gt;
&lt;p&gt;Here's a gallery of more useful examples. Do you have a useful example? PR
welcome!&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-delete-a-list-of-files-returned-by-a-unix-command" class="anchor" aria-hidden="true" href="#delete-a-list-of-files-returned-by-a-unix-command"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Delete a list of files returned by a Unix command&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;find . | grep conflict | bb -i '(doseq [f *input*] (.delete (io/file f)))'
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-calculate-aggregate-size-of-directory" class="anchor" aria-hidden="true" href="#calculate-aggregate-size-of-directory"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Calculate aggregate size of directory&lt;/h3&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#!&lt;/span&gt;/usr/bin/env bb&lt;/span&gt;

(&lt;span class="pl-en"&gt;as-&amp;gt;&lt;/span&gt; (&lt;span class="pl-en"&gt;io/file&lt;/span&gt; (&lt;span class="pl-en"&gt;or&lt;/span&gt; (&lt;span class="pl-en"&gt;first&lt;/span&gt; *command-line-args*) &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;.&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)) $
  (&lt;span class="pl-en"&gt;file-seq&lt;/span&gt; $)
  (&lt;span class="pl-en"&gt;map&lt;/span&gt; #(&lt;span class="pl-en"&gt;.length&lt;/span&gt; %) $)
  (&lt;span class="pl-en"&gt;reduce&lt;/span&gt; + $)
  (&lt;span class="pl-en"&gt;/&lt;/span&gt; $ (&lt;span class="pl-en"&gt;*&lt;/span&gt; &lt;span class="pl-c1"&gt;1024&lt;/span&gt; &lt;span class="pl-c1"&gt;1024&lt;/span&gt;))
  (&lt;span class="pl-en"&gt;println&lt;/span&gt; (&lt;span class="pl-en"&gt;str&lt;/span&gt; (&lt;span class="pl-en"&gt;int&lt;/span&gt; $) &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;M&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)))&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;dir-size&lt;/span&gt;
&lt;span class="pl-c1"&gt;130M&lt;/span&gt;

$ &lt;span class="pl-s1"&gt;dir-size &lt;span class="pl-k"&gt;~&lt;/span&gt;/Dropbox/bin&lt;/span&gt;
&lt;span class="pl-c1"&gt;233M&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-shuffle-the-lines-of-a-file" class="anchor" aria-hidden="true" href="#shuffle-the-lines-of-a-file"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Shuffle the lines of a file&lt;/h3&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;cat /tmp/test.txt&lt;/span&gt;
&lt;span class="pl-c1"&gt;1 Hello&lt;/span&gt;
&lt;span class="pl-c1"&gt;2 Clojure&lt;/span&gt;
&lt;span class="pl-c1"&gt;3 Babashka&lt;/span&gt;
&lt;span class="pl-c1"&gt;4 Goodbye&lt;/span&gt;

$ &lt;span class="pl-s1"&gt;&lt;span class="pl-k"&gt;&amp;lt;&lt;/span&gt; /tmp/test.txt bb -io &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;(shuffle *input*)&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;3 Babashka&lt;/span&gt;
&lt;span class="pl-c1"&gt;2 Clojure&lt;/span&gt;
&lt;span class="pl-c1"&gt;4 Goodbye&lt;/span&gt;
&lt;span class="pl-c1"&gt;1 Hello&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-fetch-latest-github-release-tag" class="anchor" aria-hidden="true" href="#fetch-latest-github-release-tag"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Fetch latest Github release tag&lt;/h3&gt;
&lt;p&gt;For converting JSON to EDN, see &lt;a href="https://github.com/borkdude/jet"&gt;jet&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;curl -s https://api.github.com/repos/borkdude/babashka/tags &lt;span class="pl-k"&gt;|&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;jet --from json --keywordize --to edn |&lt;/span&gt;
&lt;span class="pl-c1"&gt;bb '(-&amp;gt; *input* first :name (subs 1))'&lt;/span&gt;
&lt;span class="pl-c1"&gt;"0.0.4"&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-generate-depsedn-entry-for-a-gitlib" class="anchor" aria-hidden="true" href="#generate-depsedn-entry-for-a-gitlib"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Generate deps.edn entry for a gitlib&lt;/h3&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#!&lt;/span&gt;/usr/bin/env bb&lt;/span&gt;

(&lt;span class="pl-k"&gt;require&lt;/span&gt; '[clojure.java.shell &lt;span class="pl-c1"&gt;:refer&lt;/span&gt; [sh]]
         '[clojure.string &lt;span class="pl-c1"&gt;:as&lt;/span&gt; str])

(&lt;span class="pl-k"&gt;let&lt;/span&gt; [[username project branch] *command-line-args*
      branch (&lt;span class="pl-en"&gt;or&lt;/span&gt; branch &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;master&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)
      url (&lt;span class="pl-en"&gt;str&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;https://github.com/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; username &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; project)
      sha (&lt;span class="pl-en"&gt;-&amp;gt;&lt;/span&gt; (&lt;span class="pl-en"&gt;sh&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;git&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;ls-remote&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; url branch)
              &lt;span class="pl-c1"&gt;:out&lt;/span&gt;
              (&lt;span class="pl-en"&gt;str/split&lt;/span&gt; &lt;span class="pl-sr"&gt;#"&lt;span class="pl-cce"&gt;\s&lt;/span&gt;"&lt;/span&gt;)
              first)]
  {&lt;span class="pl-c1"&gt;:git/url&lt;/span&gt; url
   &lt;span class="pl-c1"&gt;:sha&lt;/span&gt; sha})&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ gitlib.clj nate fs
{:git/url &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;https://github.com/nate/fs&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, :sha &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;75b9fcd399ac37cb4f9752a4c7a6755f3fbbc000&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;}
$ clj -Sdeps &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;{:deps {fs &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;$(&lt;/span&gt;gitlib.clj nate fs&lt;span class="pl-pds"&gt;)&lt;/span&gt;&lt;/span&gt;}}&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; \
  -e &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;(require '[nate.fs :as fs]) (fs/creation-time &lt;span class="pl-cce"&gt;\"&lt;/span&gt;.&lt;span class="pl-cce"&gt;\"&lt;/span&gt;)&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;object[java.nio.file.attribute.FileTime 0x5c748168 "2019-07-05T14:06:26Z"]&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-view-download-statistics-from-clojars" class="anchor" aria-hidden="true" href="#view-download-statistics-from-clojars"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;View download statistics from Clojars&lt;/h3&gt;
&lt;p&gt;Contributed by &lt;a href="https://github.com/plexus"&gt;@plexus&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;curl https://clojars.org/stats/all.edn &lt;span class="pl-k"&gt;|&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;bb -o '(for [[[group art] counts] *input*] (str (reduce + (vals counts))  " " group "/" art))' |&lt;/span&gt;
&lt;span class="pl-c1"&gt;sort -rn |&lt;/span&gt;
&lt;span class="pl-c1"&gt;less&lt;/span&gt;
&lt;span class="pl-c1"&gt;14113842 clojure-complete/clojure-complete&lt;/span&gt;
&lt;span class="pl-c1"&gt;9065525 clj-time/clj-time&lt;/span&gt;
&lt;span class="pl-c1"&gt;8504122 cheshire/cheshire&lt;/span&gt;
&lt;span class="pl-c1"&gt;...&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-portable-tree-command" class="anchor" aria-hidden="true" href="#portable-tree-command"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Portable tree command&lt;/h3&gt;
&lt;p&gt;See &lt;a href="https://github.com/borkdude/babashka/blob/master/examples/tree.clj"&gt;examples/tree.clj&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;clojure -Sdeps &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;{:deps {org.clojure/tools.cli {:mvn/version "0.4.2"}}}&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; examples/tree.clj src&lt;/span&gt;
&lt;span class="pl-c1"&gt;src&lt;/span&gt;
&lt;span class="pl-c1"&gt;└── babashka&lt;/span&gt;
&lt;span class="pl-c1"&gt;    ├── impl&lt;/span&gt;
&lt;span class="pl-c1"&gt;    │   ├── tools&lt;/span&gt;
&lt;span class="pl-c1"&gt;    │   │   └── cli.clj&lt;/span&gt;
&lt;span class="pl-c1"&gt;...&lt;/span&gt;

$ &lt;span class="pl-s1"&gt;examples/tree.clj src&lt;/span&gt;
&lt;span class="pl-c1"&gt;src&lt;/span&gt;
&lt;span class="pl-c1"&gt;└── babashka&lt;/span&gt;
&lt;span class="pl-c1"&gt;    ├── impl&lt;/span&gt;
&lt;span class="pl-c1"&gt;    │   ├── tools&lt;/span&gt;
&lt;span class="pl-c1"&gt;    │   │   └── cli.clj&lt;/span&gt;
&lt;span class="pl-c1"&gt;...&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-list-outdated-maven-dependencies" class="anchor" aria-hidden="true" href="#list-outdated-maven-dependencies"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;List outdated maven dependencies&lt;/h3&gt;
&lt;p&gt;See &lt;a href="https://github.com/borkdude/babashka/blob/master/examples/outdated.clj"&gt;examples/outdated.clj&lt;/a&gt;.
Inspired by an idea from &lt;a href="https://github.com/seancorfield"&gt;@seancorfield&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;cat /tmp/deps.edn&lt;/span&gt;
&lt;span class="pl-c1"&gt;{:deps {cheshire {:mvn/version "5.8.1"}&lt;/span&gt;
&lt;span class="pl-c1"&gt;        clj-http {:mvn/version "3.4.0"}}}&lt;/span&gt;

$ &lt;span class="pl-s1"&gt;examples/outdated.clj /tmp/deps.edn&lt;/span&gt;
&lt;span class="pl-c1"&gt;clj-http/clj-http can be upgraded from 3.4.0 to 3.10.0&lt;/span&gt;
&lt;span class="pl-c1"&gt;cheshire/cheshire can be upgraded from 5.8.1 to 5.9.0&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-convert-projectclj-to-depsedn" class="anchor" aria-hidden="true" href="#convert-projectclj-to-depsedn"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Convert project.clj to deps.edn&lt;/h3&gt;
&lt;p&gt;Contributed by &lt;a href="https://github.com/plexus"&gt;@plexus&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;cat project.clj &lt;span class="pl-k"&gt;|&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;sed -e 's/#=//g' -e 's/~@//g' -e 's/~//g' |&lt;/span&gt;
&lt;span class="pl-c1"&gt;bb '(let [{:keys [dependencies source-paths resource-paths]} (apply hash-map (drop 3 *input*))]&lt;/span&gt;
&lt;span class="pl-c1"&gt;  {:paths (into source-paths resource-paths)&lt;/span&gt;
&lt;span class="pl-c1"&gt;   :deps (into {} (for [[d v] dependencies] [d {:mvn/version v}]))}) ' |&lt;/span&gt;
&lt;span class="pl-c1"&gt;jet --pretty &amp;gt; deps.edn&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-print-current-time-in-california" class="anchor" aria-hidden="true" href="#print-current-time-in-california"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Print current time in California&lt;/h3&gt;
&lt;p&gt;See &lt;a href="https://github.com/borkdude/babashka/blob/master/examples/pst.clj"&gt;examples/pst.clj&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-tiny-http-server" class="anchor" aria-hidden="true" href="#tiny-http-server"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Tiny http server&lt;/h3&gt;
&lt;p&gt;See &lt;a href="https://github.com/borkdude/babashka/blob/master/examples/http_server.clj"&gt;examples/http_server.clj&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Original by &lt;a href="https://gist.github.com/souenzzo/a959a4c5b8c0c90df76fe33bb7dfe201"&gt;@souenzzo&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-thanks" class="anchor" aria-hidden="true" href="#thanks"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Thanks&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.adgoji.com/" rel="nofollow"&gt;adgoji&lt;/a&gt; for financial support&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;Copyright © 2019 Michiel Borkent&lt;/p&gt;
&lt;p&gt;Distributed under the EPL License. See LICENSE.&lt;/p&gt;
&lt;p&gt;This project contains code from:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Clojure, which is licensed under the same EPL License.&lt;/li&gt;
&lt;/ul&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>borkdude</author><guid isPermaLink="false">https://github.com/borkdude/babashka</guid><pubDate>Mon, 10 Feb 2020 00:02:00 GMT</pubDate></item><item><title>thheller/shadow-cljs #3 in Clojure, This week</title><link>https://github.com/thheller/shadow-cljs</link><description>&lt;p&gt;&lt;i&gt;ClojureScript compilation made easy&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;p&gt;&lt;code&gt;shadow-cljs&lt;/code&gt; provides everything you need to compile your ClojureScript code with a focus on simplicity and ease of use.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://clojurians.slack.com/messages/C6N245JGG/" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/92d3fa09f9f0af877c547150d00e789eca2f8b82/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f436c6f6a757269616e732d736861646f772d2d636c6a732d6c69676874677265792e737667" alt="" data-canonical-src="https://img.shields.io/badge/Clojurians-shadow--cljs-lightgrey.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://github.com/thheller/shadow-cljs"&gt;&lt;img src="https://camo.githubusercontent.com/5d5c21abecefb3adc3b2123e1eb4d32fb54b03de/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f736861646f772d636c6a732e737667" alt="npm" data-canonical-src="https://img.shields.io/npm/v/shadow-cljs.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://clojars.org/thheller/shadow-cljs" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/f91298f67b2b1c7a75124738f669be1f6928e976/68747470733a2f2f696d672e736869656c64732e696f2f636c6f6a6172732f762f746868656c6c65722f736861646f772d636c6a732e737667" alt="Clojars Project" data-canonical-src="https://img.shields.io/clojars/v/thheller/shadow-cljs.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://shadow-cljs.org" rel="nofollow"&gt;&lt;img src="https://raw.githubusercontent.com/thheller/shadow-cljs/master/src/main/shadow/cljs/devtools/server/web/resources/img/shadow-cljs.png" width="120" height="120" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-features" class="anchor" aria-hidden="true" href="#features"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Features&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Good configuration defaults so you don't have to sweat the details&lt;/li&gt;
&lt;li&gt;Seamless &lt;code&gt;npm&lt;/code&gt; integration&lt;/li&gt;
&lt;li&gt;Fast builds, reliable caching, ...&lt;/li&gt;
&lt;li&gt;Supporting various targets &lt;code&gt;:browser&lt;/code&gt;, &lt;code&gt;:node-script&lt;/code&gt;, &lt;code&gt;:npm-module&lt;/code&gt;, &lt;code&gt;:react-native&lt;/code&gt;, &lt;code&gt;:chrome-extension&lt;/code&gt;, ...&lt;/li&gt;
&lt;li&gt;Live Reload (CLJS + CSS)&lt;/li&gt;
&lt;li&gt;CLJS REPL&lt;/li&gt;
&lt;li&gt;Code splitting (via &lt;code&gt;:modules&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/116838/28730426-d32dc74a-7395-11e7-9cec-54275af35345.png"&gt;&lt;img src="https://user-images.githubusercontent.com/116838/28730426-d32dc74a-7395-11e7-9cec-54275af35345.png" alt="overview-img" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-requirements" class="anchor" aria-hidden="true" href="#requirements"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Requirements&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://nodejs.org" rel="nofollow"&gt;node.js&lt;/a&gt; (v6.0.0+, most recent version preferred)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.npmjs.com" rel="nofollow"&gt;npm&lt;/a&gt; (comes bundled with &lt;code&gt;node.js&lt;/code&gt;) or &lt;a href="https://www.yarnpkg.com" rel="nofollow"&gt;yarn&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://adoptopenjdk.net/" rel="nofollow"&gt;Java SDK&lt;/a&gt; (Version 8+, Hotspot)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-quick-start" class="anchor" aria-hidden="true" href="#quick-start"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;
&lt;p&gt;Creating your project can be done quickly using the &lt;code&gt;npx create-cljs-project&lt;/code&gt; utility. &lt;code&gt;npx&lt;/code&gt; is part of &lt;code&gt;npm&lt;/code&gt; and lets us run utility scripts quickly without worrying about installing them first. The installer will create a basic project scaffold and install the latest version of &lt;code&gt;shadow-cljs&lt;/code&gt; in the project.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ npx create-cljs-project acme-app
npx: installed 1 &lt;span class="pl-k"&gt;in&lt;/span&gt; 5.887s
shadow-cljs - creating project: .../acme-app
Creating: .../acme-app/package.json
Creating: .../acme-app/shadow-cljs.edn
Creating: .../acme-app/.gitignore
Creating: .../acme-app/src/main
Creating: .../acme-app/src/test
----
Installing shadow-cljs &lt;span class="pl-k"&gt;in&lt;/span&gt; project.

npm notice created a lockfile as package-lock.json. You should commit this file.
+ shadow-cljs@&lt;span class="pl-k"&gt;&amp;lt;&lt;/span&gt;version&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt;
added 88 packages from 103 contributors and audited 636 packages &lt;span class="pl-k"&gt;in&lt;/span&gt; 6.287s
found 0 vulnerabilities

----
Done.
----&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The resulting project has the following structure&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;.&lt;/span&gt;
├── node_modules (omitted ...)
├── package.json
├── package-lock.json
├── shadow-cljs.edn
└── src
    ├── main
    └── &lt;span class="pl-c1"&gt;test&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;shadow-cljs.edn&lt;/code&gt; will be used to configure your CLJS builds and CLJS dependencies. &lt;code&gt;package.json&lt;/code&gt; is used by &lt;code&gt;npm&lt;/code&gt; to manage JS dependencies.&lt;/p&gt;
&lt;p&gt;Everything is ready to go if you just want to start playing with a REPL&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ npx shadow-cljs node-repl
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; or&lt;/span&gt;
$ npx shadow-cljs browser-repl&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When building actual projects we need to configure the build first and create at least one source file.&lt;/p&gt;
&lt;p&gt;The default source paths are configured to use &lt;code&gt;src/main&lt;/code&gt; as the primary source directory. It is recommended to follow the &lt;a href="https://docs.oracle.com/javase/tutorial/java/package/namingpkgs.html" rel="nofollow"&gt;Java Naming Conventions&lt;/a&gt; to organize your CLJS namespaces. It is recommended to start all namespaces with a unique enough prefix (eg. company name, project name) to avoid conflicts with generic names such as &lt;code&gt;app.core&lt;/code&gt;. Suppose you were building a Web Frontend for &lt;a href="https://en.wikipedia.org/wiki/Acme_Corporation" rel="nofollow"&gt;Acme Inc.&lt;/a&gt; using &lt;code&gt;acme.frontend.app&lt;/code&gt; might be a good starting point as it can easily grow to include &lt;code&gt;acme.backend.*&lt;/code&gt; later on.&lt;/p&gt;
&lt;p&gt;Using the above example the expected filename for &lt;code&gt;acme.frontend.app&lt;/code&gt; is &lt;code&gt;src/main/acme/frontend/app.cljs&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Lets start with a simple example for a browser-based build.&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;ns&lt;/span&gt; &lt;span class="pl-e"&gt;acme.frontend.app&lt;/span&gt;)

(&lt;span class="pl-k"&gt;defn&lt;/span&gt; &lt;span class="pl-e"&gt;init&lt;/span&gt; []
  (&lt;span class="pl-en"&gt;println&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Hello World&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;))&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Inside the &lt;code&gt;shadow-cljs.edn&lt;/code&gt; &lt;code&gt;:builds&lt;/code&gt; section add&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;{...
 &lt;span class="pl-c1"&gt;:builds&lt;/span&gt;
 {&lt;span class="pl-c1"&gt;:frontend&lt;/span&gt;
  {&lt;span class="pl-c1"&gt;:target&lt;/span&gt; &lt;span class="pl-c1"&gt;:browser&lt;/span&gt;
   &lt;span class="pl-c1"&gt;:modules&lt;/span&gt; {&lt;span class="pl-c1"&gt;:main&lt;/span&gt; {&lt;span class="pl-c1"&gt;:init-fn&lt;/span&gt; acme.frontend.app/init}}
   }}}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This config tells the compiler to call &lt;code&gt;(acme.frontend.app/init)&lt;/code&gt; when the generated JS code is loaded. Since no &lt;code&gt;:output-dir&lt;/code&gt; is configured the default &lt;code&gt;public/js&lt;/code&gt; is used. You can start the development process by running:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ npx shadow-cljs watch frontend
...
a few moments later ...
...
[:frontend] Build completed. (134 files, 35 compiled, 0 warnings, 5.80s)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The compilation will create the &lt;code&gt;public/js/main.js&lt;/code&gt; we configured above (&lt;code&gt;:main&lt;/code&gt; becomes &lt;code&gt;main.js&lt;/code&gt; in the &lt;code&gt;:output-dir&lt;/code&gt;). Since we want to load this in the browser we need to create a HTML file in &lt;code&gt;public/index.html&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-text-html-basic"&gt;&lt;pre&gt;&amp;lt;!doctype html&amp;gt;
&amp;lt;&lt;span class="pl-ent"&gt;html&lt;/span&gt;&amp;gt;
  &amp;lt;&lt;span class="pl-ent"&gt;head&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class="pl-ent"&gt;meta&lt;/span&gt; &lt;span class="pl-e"&gt;charset&lt;/span&gt;=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;utf-8&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; /&amp;gt;
    &amp;lt;&lt;span class="pl-ent"&gt;title&lt;/span&gt;&amp;gt;acme frontend&amp;lt;/&lt;span class="pl-ent"&gt;title&lt;/span&gt;&amp;gt;
  &amp;lt;/&lt;span class="pl-ent"&gt;head&lt;/span&gt;&amp;gt;
  &amp;lt;&lt;span class="pl-ent"&gt;body&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class="pl-ent"&gt;div&lt;/span&gt; &lt;span class="pl-e"&gt;id&lt;/span&gt;=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;root&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span class="pl-ent"&gt;div&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class="pl-ent"&gt;script&lt;/span&gt; &lt;span class="pl-e"&gt;src&lt;/span&gt;=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/js/main.js&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span class="pl-ent"&gt;script&lt;/span&gt;&amp;gt;
  &amp;lt;/&lt;span class="pl-ent"&gt;body&lt;/span&gt;&amp;gt;
&amp;lt;/&lt;span class="pl-ent"&gt;html&lt;/span&gt;&amp;gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We also need a simple HTTP server to serve our HTML since modern Browsers all place a few restrictions on files loaded directly from disk which will lead to issues later. &lt;code&gt;shadow-cljs&lt;/code&gt; provides such a server but you can use anything you like at this point. It only matters that the files from the &lt;code&gt;public&lt;/code&gt; directory are served properly. To start the built-in web server just adjust the build config from above.&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;{...
 &lt;span class="pl-c1"&gt;:dev-http&lt;/span&gt; {&lt;span class="pl-c1"&gt;8080&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;public&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;}
 &lt;span class="pl-c1"&gt;:builds&lt;/span&gt;
 {&lt;span class="pl-c1"&gt;:frontend&lt;/span&gt;
  {&lt;span class="pl-c1"&gt;:target&lt;/span&gt; &lt;span class="pl-c1"&gt;:browser&lt;/span&gt;
   &lt;span class="pl-c1"&gt;:modules&lt;/span&gt; {&lt;span class="pl-c1"&gt;:main&lt;/span&gt; {&lt;span class="pl-c1"&gt;:init-fn&lt;/span&gt; acme.frontend.app/init}}
   }}}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once the config is saved the server will automatically start and serve the content at &lt;a href="http://localhost:8080" rel="nofollow"&gt;http://localhost:8080&lt;/a&gt;. There is no need to restart &lt;code&gt;shadow-cljs&lt;/code&gt;. When opening the above URL the Browser Console should show "Hello World".&lt;/p&gt;
&lt;p&gt;To be continued ...&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-documentation" class="anchor" aria-hidden="true" href="#documentation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Documentation&lt;/h2&gt;
&lt;p&gt;Please refer to the &lt;a href="https://shadow-cljs.github.io/docs/UsersGuide.html" rel="nofollow"&gt;User Manual&lt;/a&gt;. (Work in Progress)&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-video-courses" class="anchor" aria-hidden="true" href="#video-courses"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Video Courses&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;[EN] &lt;a href="https://www.jacekschae.com/learn-reagent-free/uk29i?coupon=SHADOW" rel="nofollow"&gt;Learn Reagent Free&lt;/a&gt; - &lt;a href="https://github.com/reagent-project/reagent"&gt;reagent&lt;/a&gt;+&lt;a href="https://firebase.google.com/" rel="nofollow"&gt;firebase&lt;/a&gt; demo application built using shadow-cljs&lt;/li&gt;
&lt;li&gt;[EN] &lt;a href="https://www.jacekschae.com/learn-reagent-pro/uk29i?coupon=SHADOW" rel="nofollow"&gt;Learn Reagent Pro&lt;/a&gt; [Affiliate Link, 30$ discount] - &lt;a href="https://github.com/reagent-project/reagent"&gt;reagent&lt;/a&gt;+&lt;a href="https://firebase.google.com/" rel="nofollow"&gt;firebase&lt;/a&gt; demo application built using shadow-cljs&lt;/li&gt;
&lt;li&gt;[EN] &lt;a href="https://www.learnreframe.com/?ref=uk29i" rel="nofollow"&gt;Learn re-frame&lt;/a&gt; [Affiliate Link] - re-frame SPA tutorial&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-guides" class="anchor" aria-hidden="true" href="#guides"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Guides&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;[EN] &lt;a href="https://medium.com/@jiyinyiyong/a-beginner-guide-to-compile-clojurescript-with-shadow-cljs-26369190b786" rel="nofollow"&gt;A beginner guide to compile ClojureScript with shadow-cljs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;[CN] &lt;a href="https://segmentfault.com/a/1190000011499210" rel="nofollow"&gt;shadow-cljs 2.x 使用教程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;[EN] &lt;a href="http://bobnadler.com/articles/2018/01/28/clojurescript-with-middleman-via-shadow-cljs.html" rel="nofollow"&gt;ClojureScript with Middleman via Shadow-CLJS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;[EN] &lt;a href="https://medium.com/@loganpowell/clojurescript-development-for-javascript-developers-in-atom-with-shadow-cljs-and-protorepl-ec5e38e3de26" rel="nofollow"&gt;Clojurescript Development for JavaScript Developers in Atom with Shadow-cljs and ProtoREPL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;... please let me know if you created something to include here&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-examples" class="anchor" aria-hidden="true" href="#examples"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Examples&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/shadow-cljs/quickstart-browser"&gt;Official Browser Example&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mhuebert/shadow-re-frame"&gt;mhuebert/shadow-re-frame&lt;/a&gt; - Usage of &lt;a href="https://github.com/Day8/re-frame"&gt;re-frame&lt;/a&gt;, &lt;a href="https://github.com/Day8/re-frame-trace"&gt;re-frame-trace&lt;/a&gt;, and the &lt;a href="https://github.com/thheller/shadow-cljs/"&gt;shadow-cljs&lt;/a&gt; build tool. &lt;strong&gt;&lt;a href="https://mhuebert.github.io/shadow-re-frame/" rel="nofollow"&gt;Live Demo&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jacekschae/shadow-reagent"&gt;jacekschae/shadow-reagent&lt;/a&gt; - shadow-cljs + proto-repl + reagent&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jacekschae/shadow-firebase"&gt;jacekschae/shadow-firebase&lt;/a&gt; - shadow-cljs + firebase&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ahonn/shadow-electorn-starter"&gt;ahonn/shadow-electron-starter&lt;/a&gt; - ClojureScript + Shadow-cljs + Electron + Reagent&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jacekschae/conduit"&gt;jacekschae/conduit&lt;/a&gt; - Real world application built with shadow-cljs + re-frame + re-frame-10x &lt;br&gt; &lt;a href="https://jacekschae.github.io/conduit-re-frame-demo/" rel="nofollow"&gt;Demo&lt;/a&gt; | &lt;a href="https://jacekschae.github.io/conduit-re-frame-10x-demo/" rel="nofollow"&gt;Demo with re-frame-10x&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/quangv/shadow-re-frame-simple-example"&gt;quangv/shadow-re-frame-simple-example&lt;/a&gt; - a simple re-frame + shadow-cljs example.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/teawaterwire/cryptotwittos"&gt;CryptoTwittos&lt;/a&gt; - reagent, re-frame, web3&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/loganpowell/shadow-proto-starter"&gt;loganpowell/shadow-proto-starter&lt;/a&gt; - shadow-cljs, Atom, Proto-REPL, node.js library&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/manuel-uberti/boodle"&gt;manuel-uberti/boodle&lt;/a&gt; - re-frame based Accounting SPA with &lt;code&gt;deps.edn&lt;/code&gt; based backend&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/iku000888/shadow-cljs-kitchen-async-puppeteer"&gt;shadow-cljs-kitchen-async-puppeteer&lt;/a&gt; - Automated browser test with puppeteer and cljs.test, built with shadow-cljs&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/baskeboler/cljs-karaoke-client"&gt;baskeboler/cljs-karaoke-client&lt;/a&gt; - web karaoke player using shadow-cljs + reagent + re-frame + re-frame-10x + re-frame-async-flow-fx + build hooks for minifying css and generating seo pages (&lt;a href="https://karaoke.uyuyuy.xyz/#/songs/Rolling%20Stones-all%20over%20now%20rolling%20stones?offset=0" rel="nofollow"&gt;Demo&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;... please let me know if you created something to include here&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;Copyright © 2020 Thomas Heller&lt;/p&gt;
&lt;p&gt;Distributed under the Eclipse Public License either version 1.0 or (at
your option) any later version.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>thheller</author><guid isPermaLink="false">https://github.com/thheller/shadow-cljs</guid><pubDate>Mon, 10 Feb 2020 00:03:00 GMT</pubDate></item><item><title>reagent-project/reagent #4 in Clojure, This week</title><link>https://github.com/reagent-project/reagent</link><description>&lt;p&gt;&lt;i&gt;A minimalistic ClojureScript interface to React.js&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-reagent" class="anchor" aria-hidden="true" href="#reagent"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Reagent&lt;/h1&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="logo.png"&gt;&lt;img src="logo.png" alt="Reagent-Project" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A simple &lt;a href="http://github.com/clojure/clojurescript"&gt;ClojureScript&lt;/a&gt; interface to &lt;a href="http://facebook.github.io/react/" rel="nofollow"&gt;React&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Reagent provides a way to write efficient React components using (almost) nothing but plain ClojureScript functions.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href="http://reagent-project.github.io/" rel="nofollow"&gt;Detailed intro with live examples&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href="http://reagent-project.github.io/news/index.html" rel="nofollow"&gt;News&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href="https://cljdoc.org/d/reagent/reagent/0.9.1/doc/documentation-index" rel="nofollow"&gt;Documentation, 0.9&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Documentation, next release&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href="http://reagent-project.github.io/docs/master/" rel="nofollow"&gt;API docs&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href="https://github.com/reagent-project/reagent/tree/master/doc"&gt;Tutorials and FAQ&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Community discussion and support channels&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href="https://clojurians.slack.com/messages/reagent/" rel="nofollow"&gt;#reagent&lt;/a&gt;&lt;/strong&gt; channel in &lt;a href="http://clojurians.net/" rel="nofollow"&gt;Clojure Slack&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href="https://groups.google.com/forum/#!forum/reagent-project" rel="nofollow"&gt;Reagent Project Mailing List&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Commercial video material&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.jacekschae.com/learn-reagent-free/tycit?coupon=REAGENT" rel="nofollow"&gt;Learn Reagent Free&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.jacekschae.com/learn-reagent-pro/tycit?coupon=REAGENT" rel="nofollow"&gt;Learn Reagent Pro&lt;/a&gt; (Affiliate link, $30 discount)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.jacekschae.com/learn-re-frame-free/tycit?coupon=REAGENT" rel="nofollow"&gt;Learn Re-frame Free&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.jacekschae.com/learn-re-frame-pro/tycit?coupon=REAGENT" rel="nofollow"&gt;Learn Re-frame Pro&lt;/a&gt; (Affiliate link, $30 discount)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://purelyfunctional.tv/guide/reagent/" rel="nofollow"&gt;purelyfunctional.tv &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://lambdaisland.com/collections/react-reagent-re-frame" rel="nofollow"&gt;Lambda Island Videos&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h3&gt;
&lt;p&gt;To create a new Reagent project using &lt;a href="http://leiningen.org/" rel="nofollow"&gt;Leiningen&lt;/a&gt; template simply run:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;lein new reagent myproject
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you wish to only create the assets for ClojureScript without a Clojure backend then do the following instead:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;lein new reagent-frontend myproject
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This will setup a new Reagent project with some reasonable defaults, see here for more &lt;a href="https://github.com/reagent-project/reagent-template"&gt;details&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;To use Reagent in an existing project you add this to your dependencies in &lt;code&gt;project.clj&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://clojars.org/reagent" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/f6baff29ae89778c8b04949509bf21d0ddbd005e/687474703a2f2f636c6f6a6172732e6f72672f72656167656e742f6c61746573742d76657273696f6e2e737667" alt="Clojars Project" data-canonical-src="http://clojars.org/reagent/latest-version.svg" style="max-width:100%;"&gt;&lt;/a&gt; &lt;br&gt;
&lt;a href="https://circleci.com/gh/reagent-project/reagent" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/6ff69ee723e4781a137a2ec49df44f54d7d1b624/68747470733a2f2f636972636c6563692e636f6d2f67682f72656167656e742d70726f6a6563742f72656167656e742e7376673f7374796c653d737667" alt="CircleCI" data-canonical-src="https://circleci.com/gh/reagent-project/reagent.svg?style=svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This is all you need to do if you want the standard version of React. If you want to use your own build of React (or React from a CDN), you have to use &lt;code&gt;:exclusions&lt;/code&gt; variant of the dependency, and also provide &lt;code&gt;react&lt;/code&gt; and &lt;code&gt;react-dom&lt;/code&gt; namespaces (by creating &lt;code&gt;.cljs&lt;/code&gt; files with just &lt;code&gt;ns&lt;/code&gt; form, or by adding your own &lt;code&gt;:foreign-libs&lt;/code&gt; entries).&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[reagent "0.x.x" :exclusions [cljsjs/react cljsjs/react-dom]]
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-examples" class="anchor" aria-hidden="true" href="#examples"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Examples&lt;/h2&gt;
&lt;p&gt;Reagent uses &lt;a href="https://github.com/weavejester/hiccup"&gt;Hiccup-like&lt;/a&gt; markup instead of React's sort-of html. It looks like this:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;defn&lt;/span&gt; &lt;span class="pl-e"&gt;some-component&lt;/span&gt; []
  [&lt;span class="pl-c1"&gt;:div&lt;/span&gt;
   [&lt;span class="pl-c1"&gt;:h3&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;I am a component!&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;]
   [&lt;span class="pl-c1"&gt;:p.someclass&lt;/span&gt;
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;I have &lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; [&lt;span class="pl-c1"&gt;:strong&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;bold&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;]
    [&lt;span class="pl-c1"&gt;:span&lt;/span&gt; {&lt;span class="pl-c1"&gt;:style&lt;/span&gt; {&lt;span class="pl-c1"&gt;:color&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;red&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;}} &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt; and red&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;]
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt; text.&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;]])&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Reagent extends standard Hiccup in one way: it is possible to "squeeze" elements together by using a &lt;code&gt;&amp;gt;&lt;/code&gt; character.&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;[&lt;span class="pl-c1"&gt;:div&lt;/span&gt;
  [&lt;span class="pl-c1"&gt;:p&lt;/span&gt;
    [&lt;span class="pl-c1"&gt;:b&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Nested Element&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;]]]&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;can be written as:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;[&lt;span class="pl-c1"&gt;:div&amp;gt;p&amp;gt;b&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Nested Element&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;]&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Since version 0.8:&lt;/strong&gt; The &lt;code&gt;:class&lt;/code&gt; attribute also supports collections of classes, and nil values are removed:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;[&lt;span class="pl-c1"&gt;:div&lt;/span&gt; {&lt;span class="pl-c1"&gt;:class&lt;/span&gt; [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;a-class&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; (&lt;span class="pl-k"&gt;when&lt;/span&gt; active? &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;active&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;b-class&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;]}]&lt;/pre&gt;&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;You can use one component inside another:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;defn&lt;/span&gt; &lt;span class="pl-e"&gt;calling-component&lt;/span&gt; []
  [&lt;span class="pl-c1"&gt;:div&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Parent component&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
   [some-component]])&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And pass properties from one component to another:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;defn&lt;/span&gt; &lt;span class="pl-e"&gt;child&lt;/span&gt; [name]
  [&lt;span class="pl-c1"&gt;:p&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Hi, I am &lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; name])

(&lt;span class="pl-k"&gt;defn&lt;/span&gt; &lt;span class="pl-e"&gt;childcaller&lt;/span&gt; []
  [child &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Foo Bar&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;])&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You mount the component into the DOM like this:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;defn&lt;/span&gt; &lt;span class="pl-e"&gt;mountit&lt;/span&gt; []
  (&lt;span class="pl-en"&gt;r/render&lt;/span&gt; [childcaller]
            (&lt;span class="pl-en"&gt;.-body&lt;/span&gt; js/document)))&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;assuming we have imported Reagent like this:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;ns&lt;/span&gt; &lt;span class="pl-e"&gt;example&lt;/span&gt;
  (&lt;span class="pl-c1"&gt;:require&lt;/span&gt; [reagent.core &lt;span class="pl-c1"&gt;:as&lt;/span&gt; r]))&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;State is handled using Reagent's version of &lt;code&gt;atom&lt;/code&gt;, like this:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;defonce&lt;/span&gt; &lt;span class="pl-e"&gt;click-count&lt;/span&gt; (&lt;span class="pl-en"&gt;r/atom&lt;/span&gt; &lt;span class="pl-c1"&gt;0&lt;/span&gt;))

(&lt;span class="pl-k"&gt;defn&lt;/span&gt; &lt;span class="pl-e"&gt;state-ful-with-atom&lt;/span&gt; []
  [&lt;span class="pl-c1"&gt;:div&lt;/span&gt; {&lt;span class="pl-c1"&gt;:on-click&lt;/span&gt; #(&lt;span class="pl-en"&gt;swap!&lt;/span&gt; click-count inc)}
   &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;I have been clicked &lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; @click-count &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt; times.&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;])&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Any component that dereferences a &lt;code&gt;reagent.core/atom&lt;/code&gt; will be automatically re-rendered.&lt;/p&gt;
&lt;p&gt;If you want do some setting up when the component is first created, the component function can return a new function that will be called to do the actual rendering:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;defn&lt;/span&gt; &lt;span class="pl-e"&gt;timer-component&lt;/span&gt; []
  (&lt;span class="pl-k"&gt;let&lt;/span&gt; [seconds-elapsed (&lt;span class="pl-en"&gt;r/atom&lt;/span&gt; &lt;span class="pl-c1"&gt;0&lt;/span&gt;)]
    (&lt;span class="pl-k"&gt;fn&lt;/span&gt; []
      (&lt;span class="pl-en"&gt;js/setTimeout&lt;/span&gt; #(&lt;span class="pl-en"&gt;swap!&lt;/span&gt; seconds-elapsed inc) &lt;span class="pl-c1"&gt;1000&lt;/span&gt;)
      [&lt;span class="pl-c1"&gt;:div&lt;/span&gt;
       &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Seconds Elapsed: &lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; @seconds-elapsed])))&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This way you can avoid using React's lifecycle callbacks like &lt;code&gt;getInitialState&lt;/code&gt; and &lt;code&gt;componentWillMount&lt;/code&gt; most of the time.&lt;/p&gt;
&lt;p&gt;But you can still use them if you want to, either using &lt;code&gt;reagent.core/create-class&lt;/code&gt; or by attaching meta-data to a component function:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;defonce&lt;/span&gt; &lt;span class="pl-e"&gt;my-html&lt;/span&gt; (&lt;span class="pl-en"&gt;r/atom&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;))

(&lt;span class="pl-k"&gt;defn&lt;/span&gt; &lt;span class="pl-e"&gt;plain-component&lt;/span&gt; []
  [&lt;span class="pl-c1"&gt;:p&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;My html is &lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; @my-html])

(&lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-e"&gt;component-with-callback&lt;/span&gt;
  (&lt;span class="pl-en"&gt;with-meta&lt;/span&gt; plain-component
    {&lt;span class="pl-c1"&gt;:component-did-mount&lt;/span&gt;
     (&lt;span class="pl-k"&gt;fn&lt;/span&gt; [this]
       (&lt;span class="pl-en"&gt;reset!&lt;/span&gt; my-html (&lt;span class="pl-en"&gt;.-innerHTML&lt;/span&gt; (&lt;span class="pl-en"&gt;reagent/dom-node&lt;/span&gt; this))))}))&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;See the examples directory for more examples.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-performance" class="anchor" aria-hidden="true" href="#performance"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Performance&lt;/h2&gt;
&lt;p&gt;React is pretty darn fast, and so is Reagent. It should even be faster than plain old javascript React a lot of the time, since ClojureScript allows us to skip a lot of unnecessary rendering (through judicious use of React's &lt;code&gt;shouldComponentUpdate&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;The ClojureScript overhead is kept down, thanks to lots of caching.&lt;/p&gt;
&lt;p&gt;Code size is a little bigger than React.js, but still quite small. The todomvc example clocks in at roughly 79K gzipped, using advanced compilation.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-about" class="anchor" aria-hidden="true" href="#about"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;About&lt;/h2&gt;
&lt;p&gt;The idea and some of the code for making components atom-like comes from &lt;a href="https://github.com/piranha/pump"&gt;pump&lt;/a&gt;. The reactive-atom idea (and some code) comes from &lt;a href="https://github.com/lynaghk/reflex"&gt;reflex&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The license is MIT.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>reagent-project</author><guid isPermaLink="false">https://github.com/reagent-project/reagent</guid><pubDate>Mon, 10 Feb 2020 00:04:00 GMT</pubDate></item><item><title>nubank/basic-microservice-example #5 in Clojure, This week</title><link>https://github.com/nubank/basic-microservice-example</link><description>&lt;p&gt;&lt;i&gt;Simple sketch of how we layout a clojure microservice&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-basic-microservice-example" class="anchor" aria-hidden="true" href="#basic-microservice-example"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;basic-microservice-example&lt;/h1&gt;
&lt;p&gt;A simplistic example of how Nubank organizes and tests microservices.&lt;/p&gt;
&lt;p&gt;This is a really basic savings account microservice that doesn't really do much other than serve as an example.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-architecture" class="anchor" aria-hidden="true" href="#architecture"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Architecture&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-ports-and-adapters-microservice" class="anchor" aria-hidden="true" href="#ports-and-adapters-microservice"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ports and adapters microservice&lt;/h3&gt;
&lt;p&gt;At Nubank we organize our microservices using the "ports and adapters architecture", also known as "hexagonal architecture".&lt;/p&gt;
&lt;p&gt;With this architecture, code is organized into several layers: &lt;code&gt;logic&lt;/code&gt;, &lt;code&gt;controllers&lt;/code&gt;, &lt;code&gt;adapters&lt;/code&gt;, and &lt;code&gt;ports&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-logic" class="anchor" aria-hidden="true" href="#logic"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;logic&lt;/h4&gt;
&lt;p&gt;Deals with pure business logic and shouldn't have side-effects or throw exceptions.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-controllers" class="anchor" aria-hidden="true" href="#controllers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;controllers&lt;/h4&gt;
&lt;p&gt;The "glue" between all the other layers, orchestrating calls between pure business logic, adapters, and ports.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-adapters" class="anchor" aria-hidden="true" href="#adapters"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;adapters&lt;/h4&gt;
&lt;p&gt;The layer that converts external data representations into internal ones, and vice-versa. Acts as buffer to protect the service from changes in the outside world; when a data representation changes, you only need to change how the adapters deal with it.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-ports" class="anchor" aria-hidden="true" href="#ports"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ports&lt;/h4&gt;
&lt;p&gt;The layer that communicates with the outside world, such as http, kafka, and datomic.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-components" class="anchor" aria-hidden="true" href="#components"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;components&lt;/h3&gt;
&lt;p&gt;We use the &lt;a href="https://github.com/stuartsierra/component"&gt;components&lt;/a&gt; abstraction to organize our &lt;code&gt;ports&lt;/code&gt; (e.g. HTTP client, datomic client, redis client) and any other logic that needs to track mutable state or encode dependencies between stateful components. For every environment (e.g. test, e2e, prod, staging...) we have a different version of our component systems, enabling us to easily inject mocks or different implementations for different contexts.&lt;/p&gt;
&lt;p&gt;We make components available to incoming http and kafka handlers. For instance, the pedestal http handlers have access to things like the datomic or HTTP components, and pass them down to the controller level for general use.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-http-client" class="anchor" aria-hidden="true" href="#http-client"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;http client&lt;/h4&gt;
&lt;p&gt;Our http client logic is split into two components:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;http&lt;/code&gt;: this component defines serialization and error handling logic. In this example repository the this logic is basically non-existent due to the overhead making the code useful to the general public.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;http-impl&lt;/code&gt;; this component defines the http client library we use. We started with &lt;code&gt;http-kit&lt;/code&gt; but have recently migrated away from this to &lt;code&gt;finagle&lt;/code&gt; due to stability issues.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-storage" class="anchor" aria-hidden="true" href="#storage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;storage&lt;/h4&gt;
&lt;p&gt;In the case of this example service, we define a rudimentary in-memory storage component. In our actual services we generally use a datomic component.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-pedestal-related-components" class="anchor" aria-hidden="true" href="#pedestal-related-components"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;pedestal-related components&lt;/h4&gt;
&lt;p&gt;We use pedestal for or http serving layer, but we deconstruct pedestal logic into several different components, deviating from the structure you would see in the pedestal starter template.&lt;/p&gt;
&lt;h5&gt;&lt;a id="user-content-routes" class="anchor" aria-hidden="true" href="#routes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;routes&lt;/h5&gt;
&lt;p&gt;Encapsulates the pedestal http routes. This example project doesn't make use of this abstraction, but in Nubank's internal microservices we use the routes component to give us the ability to create bookmarks for urls and reference them in various contexts, like our http client component. In addition, we can extend the routes programmatically with operational routes related to other components, for instance providing http routes for starting and stopping the topic consumer in our kafka component.&lt;/p&gt;
&lt;h5&gt;&lt;a id="user-content-service" class="anchor" aria-hidden="true" href="#service"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;service&lt;/h5&gt;
&lt;p&gt;Builds the pedestal service conifguration. Since it defines the interceptors for the http handlers, this &lt;code&gt;service&lt;/code&gt; component needs to depend on all components we want to be available in those handlers, such as the http client and storage client.&lt;/p&gt;
&lt;h5&gt;&lt;a id="user-content-servlet" class="anchor" aria-hidden="true" href="#servlet"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;servlet&lt;/h5&gt;
&lt;p&gt;Contains logic to start the servlet&lt;/p&gt;
&lt;p&gt;For instance the difference between the dev and mock servlets is that the mock servlet, used in integration tests, creates the server but doesn't actually start it.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-tests" class="anchor" aria-hidden="true" href="#tests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Tests&lt;/h2&gt;
&lt;p&gt;At Nubank we use &lt;a href="https://github.com/marick/Midje"&gt;Midje&lt;/a&gt; as our test framework.
We've structured our integration tests to follow a world-transition system that is encoded in the &lt;a href="https://github.com/nubank/selvage"&gt;&lt;code&gt;selvage&lt;/code&gt; &lt;code&gt;flow&lt;/code&gt;&lt;/a&gt; macro.
Lastly, to check the form of nested data-structures during testing we employ &lt;a href="https://github.com/nubank/matcher-combinators"&gt;&lt;code&gt;matcher-combinators&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-unit" class="anchor" aria-hidden="true" href="#unit"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Unit&lt;/h3&gt;
&lt;p&gt;Straw-man examples of what our unit tests may look like can be found in &lt;a href="https://github.com/nubank/basic-microservice-example/blob/master/test/basic_microservice_example/controller_test.clj"&gt;&lt;code&gt;controller-test&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-integration" class="anchor" aria-hidden="true" href="#integration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Integration&lt;/h3&gt;
&lt;p&gt;A straw-man example of how we do integration testing can be found in &lt;a href="https://github.com/nubank/basic-microservice-example/blob/master/test/basic_microservice_example/account_flow.clj"&gt;&lt;code&gt;account-flow&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;More of an explanation of how &lt;code&gt;selvage&lt;/code&gt; &lt;code&gt;flow&lt;/code&gt; tests work can be in the &lt;a href="https://github.com/nubank/selvage"&gt;selvage repository&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-running-tests" class="anchor" aria-hidden="true" href="#running-tests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Running tests&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;lein midje :autotest
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-running-the-dev-server" class="anchor" aria-hidden="true" href="#running-the-dev-server"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Running the (dev) server&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Start the application: &lt;code&gt;lein run&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Go to &lt;a href="http://localhost:8080/" rel="nofollow"&gt;localhost:8080&lt;/a&gt; to see: &lt;code&gt;Hello World!&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;a id="user-content-developing-your-service" class="anchor" aria-hidden="true" href="#developing-your-service"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Developing your service&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Start a new REPL: &lt;code&gt;lein repl&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Start your service in dev-mode: &lt;code&gt;(def dev-serv (run-dev))&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Connect your editor to the running REPL session.
Re-evaluated code will be seen immediately in the service.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;a id="user-content-missing-aspects" class="anchor" aria-hidden="true" href="#missing-aspects"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Missing aspects&lt;/h2&gt;
&lt;p&gt;Since this is a simple example of how Nubank's microservices are structured, many aspects are missing:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;endpoint schemas: our service http and kafka endpoints are always annotated with schemas.&lt;/li&gt;
&lt;li&gt;better adapter examples: since endpoint schemas aren't a part of this example, our adapters from external to internal data representations aren't very interesting or representative.&lt;/li&gt;
&lt;li&gt;kafka component: we make heavy use of kafka and have wrapped producer and consumer logic in components and also developed mocks for them.&lt;/li&gt;
&lt;li&gt;and much more: datomic component, proper config component that does a waterfall of overriding, etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>nubank</author><guid isPermaLink="false">https://github.com/nubank/basic-microservice-example</guid><pubDate>Mon, 10 Feb 2020 00:05:00 GMT</pubDate></item><item><title>metabase/metabase #6 in Clojure, This week</title><link>https://github.com/metabase/metabase</link><description>&lt;p&gt;&lt;i&gt;The simplest, fastest way to get business intelligence and analytics  to everyone in your company :yum:&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-metabase" class="anchor" aria-hidden="true" href="#metabase"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Metabase&lt;/h1&gt;
&lt;p&gt;Metabase is the easy, open source way for everyone in your company to ask questions and learn from data.&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="docs/metabase-product-screenshot.png"&gt;&lt;img src="docs/metabase-product-screenshot.png" alt="Metabase Product Screenshot" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/metabase/metabase/releases"&gt;&lt;img src="https://camo.githubusercontent.com/ea5e30e904914ce7e90f1545526b8a6cc043618e/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f72656c656173652f6d657461626173652f6d657461626173652e7376673f6c6162656c3d6c617465737425323072656c65617365" alt="Latest Release" data-canonical-src="https://img.shields.io/github/release/metabase/metabase.svg?label=latest%20release" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://raw.githubusercontent.com/metabase/metabase/master/LICENSE.txt" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/b59a8ca795689678e6caf56900294059cfe64ba3/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d4147504c2d3035423843432e737667" alt="GitHub license" data-canonical-src="https://img.shields.io/badge/license-AGPL-05B8CC.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://circleci.com/gh/metabase/metabase" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/a81f1ec3024eb4ce825b1eb8604cfc01e5a4b62c/68747470733a2f2f636972636c6563692e636f6d2f67682f6d657461626173652f6d657461626173652e7376673f7374796c653d73766726636972636c652d746f6b656e3d33636366306161383431303238616630323766326163396538646631376365363033653930656639" alt="Circle CI" data-canonical-src="https://circleci.com/gh/metabase/metabase.svg?style=svg&amp;amp;circle-token=3ccf0aa841028af027f2ac9e8df17ce603e90ef9" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://gitter.im/metabase/metabase" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/315f2b9c3a2b05d7fef4a53142339050088ff7d4/68747470733a2f2f6261646765732e6769747465722e696d2f6d657461626173652f6d657461626173652e706e67" alt="Gitter chat" data-canonical-src="https://badges.gitter.im/metabase/metabase.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-features" class="anchor" aria-hidden="true" href="#features"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Features&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;5 minute &lt;a href="https://metabase.com/docs/latest/setting-up-metabase.html" rel="nofollow"&gt;setup&lt;/a&gt; (We're not kidding)&lt;/li&gt;
&lt;li&gt;Let anyone on your team &lt;a href="https://metabase.com/docs/latest/users-guide/04-asking-questions.html" rel="nofollow"&gt;ask questions&lt;/a&gt; without knowing SQL&lt;/li&gt;
&lt;li&gt;Rich beautiful &lt;a href="https://metabase.com/docs/latest/users-guide/06-sharing-answers.html" rel="nofollow"&gt;dashboards&lt;/a&gt; with auto refresh and fullscreen&lt;/li&gt;
&lt;li&gt;SQL Mode for analysts and data pros&lt;/li&gt;
&lt;li&gt;Create canonical &lt;a href="https://metabase.com/docs/latest/administration-guide/07-segments-and-metrics.html" rel="nofollow"&gt;segments and metrics&lt;/a&gt; for your team to use&lt;/li&gt;
&lt;li&gt;Send data to Slack or email on a schedule with &lt;a href="https://metabase.com/docs/latest/users-guide/10-pulses.html" rel="nofollow"&gt;Pulses&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;View data in Slack anytime with &lt;a href="https://metabase.com/docs/latest/users-guide/11-metabot.html" rel="nofollow"&gt;MetaBot&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://metabase.com/docs/latest/administration-guide/03-metadata-editing.html" rel="nofollow"&gt;Humanize data&lt;/a&gt; for your team by renaming, annotating and hiding fields&lt;/li&gt;
&lt;li&gt;See changes in your data with &lt;a href="https://www.metabase.com/docs/latest/users-guide/15-alerts.html" rel="nofollow"&gt;alerts&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For more information check out &lt;a href="https://metabase.com/" rel="nofollow"&gt;metabase.com&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-supported-databases" class="anchor" aria-hidden="true" href="#supported-databases"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Supported databases&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Postgres&lt;/li&gt;
&lt;li&gt;MySQL&lt;/li&gt;
&lt;li&gt;Druid&lt;/li&gt;
&lt;li&gt;SQL Server&lt;/li&gt;
&lt;li&gt;Redshift&lt;/li&gt;
&lt;li&gt;MongoDB&lt;/li&gt;
&lt;li&gt;Google BigQuery&lt;/li&gt;
&lt;li&gt;SQLite&lt;/li&gt;
&lt;li&gt;H2&lt;/li&gt;
&lt;li&gt;Oracle&lt;/li&gt;
&lt;li&gt;Vertica&lt;/li&gt;
&lt;li&gt;Presto&lt;/li&gt;
&lt;li&gt;Snowflake&lt;/li&gt;
&lt;li&gt;SparkSQL&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Don't see your favorite database? File an issue to let us know.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation&lt;/h2&gt;
&lt;p&gt;Metabase can be run just about anywhere so checkout our &lt;a href="https://metabase.com/docs/latest/operations-guide/start.html#installing-and-running-metabase" rel="nofollow"&gt;Installation Guides&lt;/a&gt; for detailed instructions for various deployments.  Here's the TLDR:&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-docker" class="anchor" aria-hidden="true" href="#docker"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Docker&lt;/h3&gt;
&lt;p&gt;To run Metabase via Docker, just type&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run -d -p 3000:3000 --name metabase metabase/metabase&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-jvm-jar" class="anchor" aria-hidden="true" href="#jvm-jar"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;JVM Jar&lt;/h3&gt;
&lt;p&gt;To run the jar you will need to have a Java Runtime installed. As a quick check to see if you system already has one, try&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;java -version&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you see something like&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;java version &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;1.8.0_51&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
Java(TM) SE Runtime Environment (build 1.8.0_51-b16)
Java HotSpot(TM) 64-Bit Server VM (build 25.51-b03, mixed mode)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;you are good to go. Otherwise, download the Java Runtime Environment at &lt;a href="http://java.com/" rel="nofollow"&gt;http://java.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Go to the &lt;a href="https://metabase.com/start/" rel="nofollow"&gt;Metabase Download Page&lt;/a&gt; and download the current build. Place the downloaded jar into a newly created directory (as it will create some files when it is run), and run it on the command line:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;java -jar metabase.jar&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now, open a browser and go to &lt;a href="http://localhost:3000" rel="nofollow"&gt;http://localhost:3000&lt;/a&gt; , and you will be asked a set of questions that will set up a user account, and then you can add a database connection. For this to work you will need to get some information about which database you want to connect to, such as the Host Name and Port that it is running on, the Database Name and the User and Password that you will be using.&lt;/p&gt;
&lt;p&gt;Once you have added this connection, you will be taken into the app and you'll be ready to ask your first question.&lt;/p&gt;
&lt;p&gt;For a more detailed walkthrough, check out our &lt;a href="docs/getting-started.md"&gt;Getting Started&lt;/a&gt; guide.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-frequently-asked-questions" class="anchor" aria-hidden="true" href="#frequently-asked-questions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Frequently Asked Questions&lt;/h1&gt;
&lt;p&gt;Some questions come up over and over again. Check here first:
&lt;a href="docs/faq.md"&gt;FAQ&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-security-disclosure" class="anchor" aria-hidden="true" href="#security-disclosure"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Security Disclosure&lt;/h1&gt;
&lt;p&gt;Security is very important to us. If you discover any issue regarding security, please disclose the information responsibly by sending an email to &lt;a href="mailto:security@metabase.com"&gt;security@metabase.com&lt;/a&gt; and not by creating a GitHub issue.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing&lt;/h1&gt;
&lt;p&gt;To get started with a development installation of the Metabase, follow the instructions at our &lt;a href="docs/developers-guide.md"&gt;Developers Guide&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Then take a look at our &lt;a href="docs/contributing.md"&gt;Contribution Guide&lt;/a&gt; for information about our process and where you can fit in!&lt;/p&gt;
&lt;p&gt;Talk to other contributors &lt;a href="https://gitter.im/metabase/metabase" rel="nofollow"&gt;in our Gitter room&lt;/a&gt;.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-internationalization" class="anchor" aria-hidden="true" href="#internationalization"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Internationalization&lt;/h1&gt;
&lt;p&gt;We want Metabase to be available in as many languages as possible. See what translations are available and help contribute to internationalization using our project &lt;a href="https://poeditor.com/join/project/ynjQmwSsGh" rel="nofollow"&gt;over at POEditor&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-extending-and-deep-integrations" class="anchor" aria-hidden="true" href="#extending-and-deep-integrations"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Extending and Deep Integrations&lt;/h1&gt;
&lt;p&gt;Metabase also allows you to hit our Query API directly from Javascript to integrate the simple analytics we provide with your own application or third party services to do things like:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Build moderation interfaces&lt;/li&gt;
&lt;li&gt;Export subsets of your users to third party marketing automation software&lt;/li&gt;
&lt;li&gt;Provide a specialized customer lookup application for the people in your company&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-danger-zone" class="anchor" aria-hidden="true" href="#danger-zone"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Danger zone&lt;/h1&gt;
&lt;p&gt;The button below will deploy the branch where this README.md lives onto Heroku. Metabase developers use it to deploy branches of Metabase to test our PRs, etc. We DO NOT recommend you using this for production. Instead, please use a &lt;a href="https://metabase.com/start" rel="nofollow"&gt;stable build&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://heroku.com/deploy" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/83b0e95b38892b49184e07ad572c94c8038323fb/68747470733a2f2f7777772e6865726f6b7563646e2e636f6d2f6465706c6f792f627574746f6e2e737667" alt="Deploy" data-canonical-src="https://www.herokucdn.com/deploy/button.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h1&gt;
&lt;p&gt;Unless otherwise noted, all Metabase source files are made available under the terms of the GNU Affero General Public License (AGPL).&lt;/p&gt;
&lt;p&gt;See &lt;a href="https://github.com/metabase/metabase/blob/master/LICENSE.txt"&gt;LICENSE.txt&lt;/a&gt; for details and exceptions.&lt;/p&gt;
&lt;p&gt;Unless otherwise noted, all files © 2019 Metabase, Inc.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>metabase</author><guid isPermaLink="false">https://github.com/metabase/metabase</guid><pubDate>Mon, 10 Feb 2020 00:06:00 GMT</pubDate></item><item><title>functional-koans/clojure-koans #7 in Clojure, This week</title><link>https://github.com/functional-koans/clojure-koans</link><description>&lt;p&gt;&lt;i&gt;A set of exercises for learning Clojure&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-clojure-koans" class="anchor" aria-hidden="true" href="#clojure-koans"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Clojure Koans&lt;/h1&gt;
&lt;p&gt;The Clojure Koans are a fun way to get started with Clojure - no experience
assumed or required. Follow the instructions below to start making tests pass!&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-getting-started" class="anchor" aria-hidden="true" href="#getting-started"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Getting Started&lt;/h2&gt;
&lt;p&gt;I recommend starting from a cloned or forked repo. This way you'll be able to
track your progress in Git. You might want to create your own branch - that way
if you pull back the latest koans from master, it'll be a bit easier to manage
the inevitable conflicts if we make changes to exercises you've already
completed.&lt;/p&gt;
&lt;p&gt;You have a few options for installation:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Install the dependencies for the koans (such as Clojure) on your machine&lt;/li&gt;
&lt;li&gt;Use Vagrant and the configuration in this repository&lt;/li&gt;
&lt;li&gt;Use Docker&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Instructions for each option are below!&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-installation-on-your-machine" class="anchor" aria-hidden="true" href="#installation-on-your-machine"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation on Your Machine&lt;/h3&gt;
&lt;p&gt;The only things you'll need to run the Clojure Koans are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;JDK (I suggest version 8, but anything 6 or above should work fine)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://github.com/technomancy/leiningen"&gt;Leiningen&lt;/a&gt;, a build tool for Clojure&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Once you've cloned this repo and installed the dependencies, you can run:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;lein repl
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;to make sure all the dependencies get downloaded properly (and then &lt;code&gt;(exit)&lt;/code&gt;
when you want to quit). See below for details on the REPL.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-installation-with-vagrant" class="anchor" aria-hidden="true" href="#installation-with-vagrant"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation with Vagrant&lt;/h3&gt;
&lt;p&gt;Make sure you have &lt;a href="https://www.vagrantup.com/" rel="nofollow"&gt;Vagrant&lt;/a&gt; and
&lt;a href="https://www.virtualbox.org" rel="nofollow"&gt;VirtualBox&lt;/a&gt; installed.
In the root directory of the project, execute:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;vagrant up
vagrant ssh
cd /vagrant
lein koan run
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-installation-with-docker" class="anchor" aria-hidden="true" href="#installation-with-docker"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation with Docker&lt;/h3&gt;
&lt;p&gt;Once you've got &lt;a href="https://www.docker.com/" rel="nofollow"&gt;Docker&lt;/a&gt; installed, you're basically
all set. You can run these commands to get started:&lt;/p&gt;
&lt;p&gt;To run koans:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker run --rm -it -v $(pwd):/app -w /app clojure lein koan run
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To start up a REPL:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker run --rm -it -v $(pwd):/app -w /app clojure lein repl
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-running-the-koans" class="anchor" aria-hidden="true" href="#running-the-koans"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Running the Koans&lt;/h2&gt;
&lt;p&gt;Run the koans via:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;lein koan run&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;If want to run directly from a REPL, once you are inside the &lt;code&gt;lein repl&lt;/code&gt; prompt you can run the koans with&lt;/p&gt;
&lt;p&gt;&lt;code&gt;(exec "run")&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Either way, it's an auto-runner, so as you save your files with the correct
answers, it will advance you to the next koan or file (conveniently, all files
are prefixed with the sequence that you should follow).&lt;/p&gt;
&lt;p&gt;You'll see something like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Now meditate on /home/colin/Projects/clojure-koans/src/koans/01_equalities.clj:3
---------------------
Assertion failed!
We shall contemplate truth by testing reality, via equality.
(= __ true)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The output is telling you that you have a failing test in the file named
&lt;code&gt;01_equalities.clj&lt;/code&gt;, on line 3. So you need to open that file up and make
it pass!  You'll always be filling in the blanks to make tests pass.
Sometimes there could be several correct answers (or even an infinite number):
any of them will work in these cases. Some tests will pass even if you replace
the blanks with whitespace (or nothing) instead of the expected answer. Make sure
you give one correct expression to replace each blank.&lt;/p&gt;
&lt;p&gt;The koans differ from normal TDD in that the tests are already written for you,
so you'll have to pay close attention to the failure messages, because up until
the very end, making a test pass means that the next failure message comes
up.&lt;/p&gt;
&lt;p&gt;While it might be easy (especially at first) to fill in the blanks making
things pass, you should work thoughtfully, making sure you understand why the
answer is what it is.  Enjoy your path to Clojure enlightenment!&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-trying-more-things-out" class="anchor" aria-hidden="true" href="#trying-more-things-out"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Trying more things out&lt;/h2&gt;
&lt;p&gt;It's very useful to try things out in a REPL (Read-Evaluate-Print Loop)
whenever you get stuck or curious. Run:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;lein repl
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and you'll be able to type expressions in, and see what output they produce.&lt;/p&gt;
&lt;p&gt;Here are some interesting commands you might try, once you're in a running REPL:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-en"&gt;find-doc&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;vec&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)
(&lt;span class="pl-en"&gt;find-doc&lt;/span&gt; &lt;span class="pl-sr"&gt;#"vec$"&lt;/span&gt;)
(&lt;span class="pl-en"&gt;doc&lt;/span&gt; vec)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And if those still don't make sense:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-en"&gt;doc&lt;/span&gt; doc)
(&lt;span class="pl-en"&gt;doc&lt;/span&gt; find-doc)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;will show you what those commands mean.&lt;/p&gt;
&lt;p&gt;You can exit the REPL with &lt;code&gt;CTRL-d&lt;/code&gt;, &lt;code&gt;(exit)&lt;/code&gt;, or &lt;code&gt;(quit)&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing&lt;/h2&gt;
&lt;p&gt;Patches are encouraged!  Make sure the answer sheet still passes
(&lt;code&gt;lein koan test&lt;/code&gt;), and send a pull request.&lt;/p&gt;
&lt;p&gt;The file ideaboard.txt has lots of good ideas for new koans to start, or things
to add to existing koans.  So write some fun exercises, add your answers to
&lt;code&gt;resources/koans.clj&lt;/code&gt;, and we'll get them in there!&lt;/p&gt;
&lt;p&gt;Please follow the guidelines in
&lt;a href="http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html" rel="nofollow"&gt;http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html&lt;/a&gt; for
commit messages, and put your code in a feature branch (not master) before
making the pull request. This makes patches easier to review.&lt;/p&gt;
&lt;p&gt;Feel free to contact me (Colin Jones / trptcolin) on Github or elsewhere if you
have any questions or want more direction before you start pitching in.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-contributors" class="anchor" aria-hidden="true" href="#contributors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributors&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://github.com/functional-koans/clojure-koans/contributors"&gt;https://github.com/functional-koans/clojure-koans/contributors&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-credits" class="anchor" aria-hidden="true" href="#credits"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Credits&lt;/h2&gt;
&lt;p&gt;These exercises were started by &lt;a href="http://github.com/abedra"&gt;Aaron Bedra&lt;/a&gt; of
&lt;a href="http://github.com/relevance"&gt;Relevance, Inc.&lt;/a&gt; in early 2010, as a learning
tool for newcomers to functional programming. Aaron's macro-fu makes these
koans clear and fun to use and improve upon, and without Relevance's
initiative, this project would not exist.&lt;/p&gt;
&lt;p&gt;Using the &lt;a href="http://en.wikipedia.org/wiki/koan" rel="nofollow"&gt;koans&lt;/a&gt; metaphor as a tool for
learning a programming language started with the
&lt;a href="http://rubykoans.com" rel="nofollow"&gt;Ruby Koans&lt;/a&gt; by &lt;a href="http://github.com/edgecase"&gt;EdgeCase&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;The use and distribution terms for this software are covered by the
Eclipse Public License 1.0 (&lt;a href="http://opensource.org/licenses/eclipse-1.0.php" rel="nofollow"&gt;http://opensource.org/licenses/eclipse-1.0.php&lt;/a&gt;)
which can be found in the file epl-v10.html at the root of this distribution.
By using this software in any fashion, you are agreeing to be bound by
the terms of this license.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>functional-koans</author><guid isPermaLink="false">https://github.com/functional-koans/clojure-koans</guid><pubDate>Mon, 10 Feb 2020 00:07:00 GMT</pubDate></item><item><title>technomancy/leiningen #8 in Clojure, This week</title><link>https://github.com/technomancy/leiningen</link><description>&lt;p&gt;&lt;i&gt;Automate Clojure projects without setting your hair on fire.&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-leiningen" class="anchor" aria-hidden="true" href="#leiningen"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Leiningen&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://circleci.com/gh/technomancy/leiningen" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/b07cc601d0126c225a5ab9c7b1205f43cbdb66e6/68747470733a2f2f636972636c6563692e636f6d2f67682f746563686e6f6d616e63792f6c65696e696e67656e2e7376673f7374796c653d737667" alt="CircleCI" data-canonical-src="https://circleci.com/gh/technomancy/leiningen.svg?style=svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/c5f1d6488d4b2f4583fab13f6fac10afd4a069c2/68747470733a2f2f6c65696e696e67656e2e6f72672f696d672f6c65696e696e67656e2e6a7067"&gt;&lt;img src="https://camo.githubusercontent.com/c5f1d6488d4b2f4583fab13f6fac10afd4a069c2/68747470733a2f2f6c65696e696e67656e2e6f72672f696d672f6c65696e696e67656e2e6a7067" alt="Leiningen logo" title="The man himself" align="right" data-canonical-src="https://leiningen.org/img/leiningen.jpg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;"Leiningen!" he shouted. "You're insane! They're not creatures you can
fight—they're an elemental—an 'act of God!' Ten miles long, two
miles wide—ants, nothing but ants! And every single one of them a
fiend from hell..."&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;from &lt;a href="http://www.classicshorts.com/stories/lvta.html" rel="nofollow"&gt;Leiningen Versus the Ants&lt;/a&gt; by Carl Stephenson&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Leiningen is for automating Clojure projects without setting your hair on fire.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation&lt;/h2&gt;
&lt;p&gt;If your preferred
&lt;a href="https://github.com/technomancy/leiningen/wiki/Packaging"&gt;package manager&lt;/a&gt;
offers a recent version of Leiningen, try that first as long as it has version 2.x.&lt;/p&gt;
&lt;p&gt;Leiningen installs itself on the first run of the &lt;code&gt;lein&lt;/code&gt; shell script; there is no
separate install script.  Follow these instructions to install Leiningen manually:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Make sure you have Java installed; OpenJDK version 8 is recommended at this time.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://raw.githubusercontent.com/technomancy/leiningen/stable/bin/lein" rel="nofollow"&gt;Download the &lt;code&gt;lein&lt;/code&gt; script from the &lt;code&gt;stable&lt;/code&gt; branch&lt;/a&gt;
of this project.&lt;/li&gt;
&lt;li&gt;Place it on your &lt;code&gt;$PATH&lt;/code&gt;. (&lt;code&gt;~/bin&lt;/code&gt; is a good choice if it is on your path.)&lt;/li&gt;
&lt;li&gt;Set it to be executable. (&lt;code&gt;chmod +x ~/bin/lein&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Run it.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Windows users can use the above script in the Linux subsystem or try
&lt;a href="https://raw.githubusercontent.com/technomancy/leiningen/stable/bin/lein.bat" rel="nofollow"&gt;the batch file&lt;/a&gt; or
&lt;a href="https://raw.githubusercontent.com/technomancy/leiningen/stable/bin/lein.ps1" rel="nofollow"&gt;Powershell version&lt;/a&gt;
instead.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-basic-usage" class="anchor" aria-hidden="true" href="#basic-usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Basic Usage&lt;/h2&gt;
&lt;p&gt;The
&lt;a href="https://github.com/technomancy/leiningen/blob/stable/doc/TUTORIAL.md"&gt;tutorial&lt;/a&gt;
has a detailed walk-through of the steps involved in creating a new
project, but here are the commonly-used tasks:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ lein new [TEMPLATE] NAME # generate a new project skeleton

$ lein test [TESTS] # run the tests in the TESTS namespaces, or all tests

$ lein repl # launch an interactive REPL session

$ lein run -m my.namespace # run the -main function of a namespace

$ lein uberjar # package the project and dependencies as standalone jar

$ lein deploy clojars # publish the project to Clojars as a library
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Use &lt;code&gt;lein help&lt;/code&gt; to see a complete list. &lt;code&gt;lein help $TASK&lt;/code&gt; shows the
usage for a specific task.&lt;/p&gt;
&lt;p&gt;You can also chain tasks together in a single command by using the
&lt;code&gt;do&lt;/code&gt; task with comma-separated tasks:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ lein do clean, test foo.test-core, jar
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Most tasks need to be run from somewhere inside a project directory to
work, but some (&lt;code&gt;new&lt;/code&gt;, &lt;code&gt;help&lt;/code&gt;, &lt;code&gt;search&lt;/code&gt;, &lt;code&gt;version&lt;/code&gt;, and &lt;code&gt;repl&lt;/code&gt;) may
run from anywhere.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-configuration" class="anchor" aria-hidden="true" href="#configuration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Configuration&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;project.clj&lt;/code&gt; file in the project root should look like this:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;defproject&lt;/span&gt; &lt;span class="pl-e"&gt;myproject&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;0.5.0-SNAPSHOT&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-c1"&gt;:description&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;A project for doing things.&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-c1"&gt;:license&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Eclipse Public License 1.0&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-c1"&gt;:url&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;http://github.com/technomancy/myproject&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-c1"&gt;:dependencies&lt;/span&gt; [[org.clojure/clojure &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;1.8.0&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;]]
  &lt;span class="pl-c1"&gt;:plugins&lt;/span&gt; [[lein-tar &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;3.2.0&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;]])&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;lein new&lt;/code&gt; task generates a project skeleton with an appropriate
starting point from which you can work. See the
&lt;a href="https://github.com/technomancy/leiningen/blob/stable/sample.project.clj"&gt;sample.project.clj&lt;/a&gt;
file (also available via &lt;code&gt;lein help sample&lt;/code&gt;) for a detailed listing of
configuration options.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;project.clj&lt;/code&gt; file can be customized further with the use of
&lt;a href="https://github.com/technomancy/leiningen/blob/stable/doc/PROFILES.md"&gt;profiles&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-documentation" class="anchor" aria-hidden="true" href="#documentation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Documentation&lt;/h2&gt;
&lt;p&gt;Leiningen documentation is organized as a number of guides:&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/technomancy/leiningen/blob/stable/doc/TUTORIAL.md"&gt;Tutorial&lt;/a&gt; (start here if you are new)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/technomancy/leiningen/blob/stable/doc/FAQ.md"&gt;FAQ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/technomancy/leiningen/blob/stable/doc/PROFILES.md"&gt;Profiles&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/technomancy/leiningen/blob/stable/doc/DEPLOY.md"&gt;Deployment &amp;amp; Distribution of Libraries&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/technomancy/leiningen/blob/stable/sample.project.clj"&gt;Sample project.clj&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/technomancy/leiningen/blob/stable/doc/MIXED_PROJECTS.md"&gt;Polyglot (e.g. Clojure/Java) projects&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-development" class="anchor" aria-hidden="true" href="#development"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Development&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/technomancy/leiningen/blob/stable/doc/PLUGINS.md"&gt;Writing Plugins&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/technomancy/leiningen/blob/stable/doc/TEMPLATES.md"&gt;Writing Templates&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/technomancy/leiningen/blob/stable/CONTRIBUTING.md"&gt;Contributing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/technomancy/leiningen/blob/stable/CONTRIBUTING.md#bootstrapping"&gt;Building Leiningen&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-plugins" class="anchor" aria-hidden="true" href="#plugins"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Plugins&lt;/h2&gt;
&lt;p&gt;Leiningen supports plugins which may introduce new tasks. See
&lt;a href="https://github.com/technomancy/leiningen/wiki/Plugins"&gt;the plugins wiki page&lt;/a&gt;
for a full list. If a plugin is needed for successful test or build
runs, (such as &lt;code&gt;lein-tar&lt;/code&gt;) then it should be added to &lt;code&gt;:plugins&lt;/code&gt; in
project.clj, but if it's for your own convenience (such as
&lt;code&gt;lein-pprint&lt;/code&gt;) then it should be added to the &lt;code&gt;:plugins&lt;/code&gt; list in the
&lt;code&gt;:user&lt;/code&gt; profile in &lt;code&gt;~/.lein/profiles.clj&lt;/code&gt;. See the
&lt;a href="https://github.com/technomancy/leiningen/blob/stable/doc/PROFILES.md"&gt;profiles guide&lt;/a&gt;
for details on how to add to your &lt;code&gt;:user&lt;/code&gt; profile. The
&lt;a href="https://github.com/technomancy/leiningen/blob/stable/doc/PLUGINS.md"&gt;plugin guide&lt;/a&gt;
explains how to write plugins.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;Source Copyright © 2009-2018 Phil Hagelberg, Alex Osborne, Dan Larkin, and
&lt;a href="https://github.com/technomancy/leiningen/contributors"&gt;contributors&lt;/a&gt;.
Distributed under the Eclipse Public License, the same as Clojure
uses. See the file COPYING.&lt;/p&gt;
&lt;p&gt;Thanks to Stuart Halloway for Lancet and Tim Dysinger for convincing
me that good builds are important.&lt;/p&gt;
&lt;p&gt;Images Copyright © 2010 Phil Hagelberg. Distributed under the Creative
Commons Attribution + ShareAlike
License. &lt;a href="https://leiningen.org/img/leiningen-full.jpg" rel="nofollow"&gt;Full-size version&lt;/a&gt;
available.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>technomancy</author><guid isPermaLink="false">https://github.com/technomancy/leiningen</guid><pubDate>Mon, 10 Feb 2020 00:08:00 GMT</pubDate></item><item><title>nubank/docopt.clj #9 in Clojure, This week</title><link>https://github.com/nubank/docopt.clj</link><description>&lt;p&gt;&lt;i&gt;[No description found.]&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-docoptclj" class="anchor" aria-hidden="true" href="#docoptclj"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;docopt.clj&lt;/h1&gt;
&lt;p&gt;Clojure implementation of the &lt;a href="http://docopt.org/" rel="nofollow"&gt;docopt&lt;/a&gt; description language.&lt;/p&gt;
&lt;p&gt;Forked from &lt;a href="https://github.com/signalpillar"&gt;@signalpillar&lt;/a&gt;'s &lt;a href="https://github.com/signalpillar/docopt.clj"&gt;fork&lt;/a&gt; of docopt, &lt;a href="https://github.com/docopt/docopt.clj/"&gt;originally&lt;/a&gt; by &lt;a href="https://github.com/postamar"&gt;@postamar&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h2&gt;
&lt;p&gt;Save the following script and make it executable with &lt;code&gt;chmod +x&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#!&lt;/span&gt;/bin/sh&lt;/span&gt;
#_(
  DEPS='
   {&lt;span class="pl-c1"&gt;:deps&lt;/span&gt; {docopt
             {&lt;span class="pl-c1"&gt;:git/url&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;https://github.com/nubank/docopt.clj&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
               &lt;span class="pl-c1"&gt;:sha&lt;/span&gt;    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;5191b7ef3ef3f80b4e19c1cd4800333c7ad2513f&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;}}}
   '

  OPTS='
  -J-Xms256m -J-Xmx256m
  -J-client
  -J-Dclojure.spec.skip-macros=true
  '

  exec clojure $OPTS -Sdeps &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;$DEPS&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; -i &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;$0&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; -m docopt.example &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;$@&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
)

(&lt;span class="pl-k"&gt;ns&lt;/span&gt; &lt;span class="pl-e"&gt;docopt.example&lt;/span&gt;
  (&lt;span class="pl-c1"&gt;:require&lt;/span&gt; [docopt.core &lt;span class="pl-c1"&gt;:as&lt;/span&gt; docopt]))

(&lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-e"&gt;usage&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Test application.&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;Usage: test-script [options]&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;Options:&lt;/span&gt;
&lt;span class="pl-s"&gt;  --an-arg &amp;lt;something&amp;gt;  An argument&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)
(&lt;span class="pl-k"&gt;defn&lt;/span&gt; &lt;span class="pl-e"&gt;-main&lt;/span&gt; [&amp;amp; args]
  (&lt;span class="pl-en"&gt;docopt/docopt&lt;/span&gt; usage args
                 (&lt;span class="pl-k"&gt;fn&lt;/span&gt; [arg-map]
                   (&lt;span class="pl-en"&gt;println&lt;/span&gt; arg-map)
                   (&lt;span class="pl-en"&gt;println&lt;/span&gt; (&lt;span class="pl-en"&gt;arg-map&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;--an-arg&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)))))&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ chmod +x test-script
$ ./test-script --an-arg &lt;span class="pl-c1"&gt;test&lt;/span&gt;
{--an-arg test}
&lt;span class="pl-c1"&gt;test&lt;/span&gt;
$ ./test-script &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; displays the help text&lt;/span&gt;
Test application.

Usage: testapp [options]

Options:
  --an-arg &lt;span class="pl-k"&gt;&amp;lt;&lt;/span&gt;something&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt;  An argument&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-tests" class="anchor" aria-hidden="true" href="#tests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Tests&lt;/h2&gt;
&lt;p&gt;Run &lt;code&gt;lein test&lt;/code&gt; to validate all tests.
The tests are automatically downloaded from the language-agnostic
&lt;code&gt;testcases.docopt&lt;/code&gt; file in the reference implementation, master branch commit
&lt;a href="https://github.com/docopt/docopt/tree/511d1c57b59cd2ed663a9f9e181b5160ce97e728"&gt;511d1c57b5&lt;/a&gt;.
Please feel free to (re)open an issue in case this implementation falls behind.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;&lt;a href="LICENSE"&gt;MIT license&lt;/a&gt;.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>nubank</author><guid isPermaLink="false">https://github.com/nubank/docopt.clj</guid><pubDate>Mon, 10 Feb 2020 00:09:00 GMT</pubDate></item><item><title>nubank/clj-bigpanda #10 in Clojure, This week</title><link>https://github.com/nubank/clj-bigpanda</link><description>&lt;p&gt;&lt;i&gt;A clojure library for BigPanda Alerts and Deployments&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-clj-bigpanda" class="anchor" aria-hidden="true" href="#clj-bigpanda"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;clj-bigpanda&lt;/h1&gt;
&lt;p&gt;A Clojure library for interacting with &lt;a href="https://bigpanda.io" rel="nofollow"&gt;BigPanda&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Feel free to contribute!&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-alerts" class="anchor" aria-hidden="true" href="#alerts"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Alerts&lt;/h3&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;require&lt;/span&gt; '[clj-bigpanda.events &lt;span class="pl-c1"&gt;:as&lt;/span&gt; events])
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt; set token and appkey&lt;/span&gt;
(&lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-e"&gt;bigpanda-auth&lt;/span&gt; {&lt;span class="pl-c1"&gt;:token&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;123123-my-token&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-c1"&gt;:appkey&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;312312-my-appkey&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;})
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt; pass it your auth and an alert&lt;/span&gt;
(&lt;span class="pl-en"&gt;events/create-alert&lt;/span&gt; bigpanda-auth {&lt;span class="pl-c1"&gt;:status&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;critical&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-c1"&gt;:host&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;my-db-1&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-c1"&gt;:check&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;CPU&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;})&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-deployments" class="anchor" aria-hidden="true" href="#deployments"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deployments&lt;/h3&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;require&lt;/span&gt; '[clj-bigpanda.events &lt;span class="pl-c1"&gt;:as&lt;/span&gt; events])
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt; set token and appkey&lt;/span&gt;
(&lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-e"&gt;bigpanda-auth&lt;/span&gt; {&lt;span class="pl-c1"&gt;:token&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;123123-my-token&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-c1"&gt;:appkey&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;312312-my-appkey&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;})
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt; pass it your auth and a deployment start&lt;/span&gt;
(&lt;span class="pl-en"&gt;events/start-deployment&lt;/span&gt; bigpanda-auth {&lt;span class="pl-c1"&gt;:hosts&lt;/span&gt; [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;prod-api-1&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;prod-api-2&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;] &lt;span class="pl-c1"&gt;:version&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;0.8.2&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-c1"&gt;:component&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;billing&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;})
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt; pass it your auth and a deployment end&lt;/span&gt;
(&lt;span class="pl-en"&gt;events/end-deployment&lt;/span&gt; bigpanda-auth {&lt;span class="pl-c1"&gt;:hosts&lt;/span&gt; [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;prod-api-1&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;prod-api-2&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;] &lt;span class="pl-c1"&gt;:version&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;0.8.2&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-c1"&gt;:component&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;billing&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-c1"&gt;:status&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;success&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;})&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-tests" class="anchor" aria-hidden="true" href="#tests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Tests&lt;/h2&gt;
&lt;p&gt;Run tests with &lt;code&gt;lein test&lt;/code&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;Copyright (C) 2016 Nubank &lt;a href="mailto:tech@nubank.com.br"&gt;tech@nubank.com.br&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Distributed under the Eclipse Public License, the same as Clojure.&lt;/p&gt;
&lt;p&gt;Based on clj-librato project: &lt;a href="https://github.com/aphyr/clj-librato"&gt;https://github.com/aphyr/clj-librato&lt;/a&gt;&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>nubank</author><guid isPermaLink="false">https://github.com/nubank/clj-bigpanda</guid><pubDate>Mon, 10 Feb 2020 00:10:00 GMT</pubDate></item><item><title>nubank/new-grad-template #11 in Clojure, This week</title><link>https://github.com/nubank/new-grad-template</link><description>&lt;p&gt;&lt;i&gt;[No description found.]&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-new-grad-template" class="anchor" aria-hidden="true" href="#new-grad-template"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;new-grad-template&lt;/h1&gt;
&lt;h2&gt;&lt;a id="user-content-prerequisites" class="anchor" aria-hidden="true" href="#prerequisites"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Prerequisites&lt;/h2&gt;
&lt;p&gt;You will need &lt;a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" rel="nofollow"&gt;Java JDK&lt;/a&gt; 8 or above and &lt;a href="https://leiningen.org/" rel="nofollow"&gt;Leiningen&lt;/a&gt; 2.0.0 or above installed.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-running-tests" class="anchor" aria-hidden="true" href="#running-tests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Running Tests&lt;/h2&gt;
&lt;p&gt;To run tests, run:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;lein midje
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;All tests should pass, you should see this output:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;All checks (3) succeeded.
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-running" class="anchor" aria-hidden="true" href="#running"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Running&lt;/h2&gt;
&lt;p&gt;To start a web server for the application, run:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;lein ring server
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Your browser should open &lt;a href="http://localhost:3000" rel="nofollow"&gt;http://localhost:3000&lt;/a&gt; and prints &lt;code&gt;Hello World&lt;/code&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;Copyright © 2017 Nubank&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>nubank</author><guid isPermaLink="false">https://github.com/nubank/new-grad-template</guid><pubDate>Mon, 10 Feb 2020 00:11:00 GMT</pubDate></item><item><title>nubank/selvage #12 in Clojure, This week</title><link>https://github.com/nubank/selvage</link><description>&lt;p&gt;&lt;i&gt;Testing at the edges with a world-transition style integration test framework&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-selvage" class="anchor" aria-hidden="true" href="#selvage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;selvage&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;noun:
the edge of woven fabric finished so as to prevent raveling&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Integration testing at the edges of a microservice.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-what-are-selvage-tests" class="anchor" aria-hidden="true" href="#what-are-selvage-tests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What are selvage tests?&lt;/h3&gt;
&lt;p&gt;Selvage tests are integration-style tests for a single service that use the flow macro.&lt;/p&gt;
&lt;p&gt;The entry point for selvage tests are the endpoints of the service: http handlers and kafka consumers.
Hence, all internal service code remains un-mocked, but external communications with HTTP, kafka, and other components like S3, redis, etc, are mocked.&lt;/p&gt;
&lt;p&gt;Flows follow a world-transition pattern. The flow starts with a base world state, which is an empty map, and each subsequent form in the flow is either a transition, query, or check step.&lt;/p&gt;
&lt;p&gt;Given that service code isn't mocked in selvage tests, schema validation is enabled by default within the &lt;code&gt;flow&lt;/code&gt; macro.&lt;/p&gt;
&lt;p&gt;The flow structure can also be the basis for end-to-end (&lt;code&gt;e2e&lt;/code&gt;) style tests. In the case of &lt;code&gt;e2e&lt;/code&gt; tests, incoming/outgoing correspondences aren't mocked, so flow transitions make can send HTTP requests or produce kafka messages that will be processed by fully spun up services.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-backing-test-framework" class="anchor" aria-hidden="true" href="#backing-test-framework"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;backing test-framework&lt;/h3&gt;
&lt;p&gt;Flows make use of a host test-framework to assert checks over the state of the world. Currently two test-frameworks are supported:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Midje&lt;/code&gt; via the &lt;code&gt;flow&lt;/code&gt; macro in the &lt;code&gt;selvage.midje.flow&lt;/code&gt; namespace&lt;/li&gt;
&lt;li&gt;&lt;code&gt;clojure.test&lt;/code&gt; via the &lt;code&gt;defflow&lt;/code&gt; macro in the &lt;code&gt;selvage.test.flow&lt;/code&gt; namespace&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-system-components" class="anchor" aria-hidden="true" href="#system-components"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;system components&lt;/h3&gt;
&lt;p&gt;Selvage flows are capable of testing a single service's logic, that is, everything that lies between the incoming data (http endpoints and kafka consumer handlers) and outgoing data (http client requests and kafka message production). Thus, to trigger things like message consumption, we need access to the service's various components.&lt;/p&gt;
&lt;p&gt;Convention is write an &lt;code&gt;init!&lt;/code&gt; transition function that initializes the system components and stores it in the world under the &lt;code&gt;:system&lt;/code&gt; key.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-world" class="anchor" aria-hidden="true" href="#world"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;world&lt;/h3&gt;
&lt;p&gt;The world is a map that stores:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;state used by helper functions, for instance, the (mock) http component&lt;/li&gt;
&lt;li&gt;values to be checked inside of Midje &lt;code&gt;fact&lt;/code&gt;s&lt;/li&gt;
&lt;li&gt;intermediate values to be used in future computations&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-steps" class="anchor" aria-hidden="true" href="#steps"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;steps&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Transition functions&lt;/strong&gt;: a 1-arity function that must take in a world and return a world. They generally have side-effects, store results under keys for checking, and by principal avoid mocking as much as possible.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Checks&lt;/strong&gt;: are Midje &lt;code&gt;fact&lt;/code&gt; or &lt;code&gt;facts&lt;/code&gt; expressions that should perform checks over values stored in the world. Since facts don't modify the world, or accept a world argument, the world is made available within facts via the &lt;code&gt;*world*&lt;/code&gt; dynamic variable. Checks are retriable; the &lt;code&gt;flow&lt;/code&gt; macro will re-run checks that fail until they succeed or a timeout is reached.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Query functions&lt;/strong&gt;: retriable transition functions defined using &lt;code&gt;selvage.{midje|test}.flow/defnq&lt;/code&gt; and &lt;code&gt;selvage.{midje|test}.flow/fnq&lt;/code&gt;. If running the function fails, it will be retried. This functionality is generally only used in flows for end-to-end tests, when you want to get data from a potentially flaky source like over http.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-simple-clojuretest-example" class="anchor" aria-hidden="true" href="#simple-clojuretest-example"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;simple &lt;code&gt;clojure.test&lt;/code&gt; example&lt;/h3&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;ns&lt;/span&gt; &lt;span class="pl-e"&gt;selvage.clojure-test-example&lt;/span&gt;
  (&lt;span class="pl-c1"&gt;:require&lt;/span&gt; [selvage.test.flow &lt;span class="pl-c1"&gt;:refer&lt;/span&gt; [*world* &lt;span class="pl-k"&gt;defcheck&lt;/span&gt; &lt;span class="pl-k"&gt;defflow&lt;/span&gt;]]
            [my-mocks.http &lt;span class="pl-c1"&gt;:refer&lt;/span&gt; [GET]]
            [my-mocks.kafka.mock-consumer &lt;span class="pl-c1"&gt;:as&lt;/span&gt; kafka.mock-consumer]
            [my-service.components &lt;span class="pl-c1"&gt;:as&lt;/span&gt; components]))

(&lt;span class="pl-k"&gt;defn&lt;/span&gt; &lt;span class="pl-e"&gt;init!&lt;/span&gt;
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;setup components and store them in the world&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  [world]
  (&lt;span class="pl-k"&gt;let&lt;/span&gt; [system (&lt;span class="pl-en"&gt;components/ensure-system-up!&lt;/span&gt;)]
    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; .. code to setup kafka, http, etc services ..&lt;/span&gt;
    (&lt;span class="pl-en"&gt;assoc&lt;/span&gt; world &lt;span class="pl-c1"&gt;:system&lt;/span&gt; system)))

(&lt;span class="pl-k"&gt;defn&lt;/span&gt; &lt;span class="pl-e"&gt;load-bill&lt;/span&gt;
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Hit service's endpoint to access bill data&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  [bill-id world]
  (&lt;span class="pl-k"&gt;let&lt;/span&gt; [url (&lt;span class="pl-en"&gt;str&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/admin/bill/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; id &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)]
    (&lt;span class="pl-en"&gt;assoc&lt;/span&gt; world &lt;span class="pl-c1"&gt;:bill&lt;/span&gt; (&lt;span class="pl-en"&gt;GET&lt;/span&gt; &lt;span class="pl-c1"&gt;:json&lt;/span&gt; url &lt;span class="pl-c1"&gt;200&lt;/span&gt;))))

(&lt;span class="pl-k"&gt;defcheck&lt;/span&gt; &lt;span class="pl-e"&gt;check-loaded-bill-total&lt;/span&gt;
  (&lt;span class="pl-en"&gt;is&lt;/span&gt; (&lt;span class="pl-en"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt; (&lt;span class="pl-en"&gt;-&amp;gt;&lt;/span&gt; *world* &lt;span class="pl-c1"&gt;:bill&lt;/span&gt; &lt;span class="pl-c1"&gt;:total&lt;/span&gt;))))

(&lt;span class="pl-k"&gt;defflow&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;simple clojure.test backed flow&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; the world starts out as an empty map: {}&lt;/span&gt;

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; transition step that initializes the system components and store them in the world&lt;/span&gt;
  &lt;span class="pl-e"&gt;init!&lt;/span&gt;

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; transition step that triggers service code via an http endpoint&lt;/span&gt;
  (&lt;span class="pl-en"&gt;partial&lt;/span&gt; load-bill #uuid &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;3290571d-09c3-4f08-99ec-a0bad7c4c546&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; inline check step&lt;/span&gt;
  (&lt;span class="pl-en"&gt;testing&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;check the loaded bill name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
    (&lt;span class="pl-en"&gt;is&lt;/span&gt; (&lt;span class="pl-en"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Radhia Cousot&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
           (&lt;span class="pl-en"&gt;-&amp;gt;&lt;/span&gt; *world* &lt;span class="pl-c1"&gt;:bill&lt;/span&gt; &lt;span class="pl-c1"&gt;:name&lt;/span&gt;))))

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; check step defined outside of the flow&lt;/span&gt;
  &lt;span class="pl-e"&gt;check-loaded-bill-total&lt;/span&gt;

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; transition step that triggers service code via kafka message consumption&lt;/span&gt;
  (&lt;span class="pl-k"&gt;fn&lt;/span&gt; [world]
    (&lt;span class="pl-k"&gt;let&lt;/span&gt; [message  {&lt;span class="pl-c1"&gt;:topic&lt;/span&gt;   &lt;span class="pl-c1"&gt;:publish-bill&lt;/span&gt;
                    &lt;span class="pl-c1"&gt;:message&lt;/span&gt; {&lt;span class="pl-c1"&gt;:total&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt;
                              &lt;span class="pl-c1"&gt;:name&lt;/span&gt;  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Radhia Cousot&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;}}
          consumer (&lt;span class="pl-en"&gt;-&amp;gt;&lt;/span&gt; world &lt;span class="pl-c1"&gt;:system&lt;/span&gt; &lt;span class="pl-c1"&gt;:consumer&lt;/span&gt;)]
      (&lt;span class="pl-en"&gt;kafka.mock-consumer/consume!&lt;/span&gt; message))
      &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; don't forget that transition steps always return a world&lt;/span&gt;
      world)

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; consuming a message doesn't return anything, but we can check behavior by&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; checking messages produced, outgoing http calls, and updated results from&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; subsequent incoming http calls&lt;/span&gt;
  &lt;span class="pl-e"&gt;...&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-simple-midje-example" class="anchor" aria-hidden="true" href="#simple-midje-example"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;simple Midje example&lt;/h3&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;ns&lt;/span&gt; &lt;span class="pl-e"&gt;selvage.midje-example&lt;/span&gt;
  (&lt;span class="pl-c1"&gt;:require&lt;/span&gt; [selvage.midje.flow &lt;span class="pl-c1"&gt;:refer&lt;/span&gt; [*world* flow]]
            [my-mocks.http &lt;span class="pl-c1"&gt;:refer&lt;/span&gt; [GET]]
            [my-mocks.kafka.mock-consumer &lt;span class="pl-c1"&gt;:as&lt;/span&gt; kafka.mock-consumer]
            [my-service.components &lt;span class="pl-c1"&gt;:as&lt;/span&gt; components]))

(&lt;span class="pl-k"&gt;defn&lt;/span&gt; &lt;span class="pl-e"&gt;init!&lt;/span&gt;
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;setup components and store them in the world&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  [world]
  (&lt;span class="pl-k"&gt;let&lt;/span&gt; [system (&lt;span class="pl-en"&gt;components/ensure-system-up!&lt;/span&gt;)]
    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; .. code to setup kafka, http, etc services ..&lt;/span&gt;
    (&lt;span class="pl-en"&gt;assoc&lt;/span&gt; world &lt;span class="pl-c1"&gt;:system&lt;/span&gt; system)))

(&lt;span class="pl-k"&gt;defn&lt;/span&gt; &lt;span class="pl-e"&gt;load-bill&lt;/span&gt;
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Hit service's endpoint to access bill data&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  [bill-id world]
  (&lt;span class="pl-k"&gt;let&lt;/span&gt; [url (&lt;span class="pl-en"&gt;str&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/admin/bill/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; id &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)]
    (&lt;span class="pl-en"&gt;assoc&lt;/span&gt; world &lt;span class="pl-c1"&gt;:bill&lt;/span&gt; (&lt;span class="pl-en"&gt;GET&lt;/span&gt; &lt;span class="pl-c1"&gt;:json&lt;/span&gt; url &lt;span class="pl-c1"&gt;200&lt;/span&gt;))))

(&lt;span class="pl-en"&gt;flow&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; the world starts out as an empty map: {}&lt;/span&gt;

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; transition step that initializes the system components and store them in the world&lt;/span&gt;
  init!

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; transition step that triggers service code via an http endpoint&lt;/span&gt;
  (&lt;span class="pl-en"&gt;partial&lt;/span&gt; load-bill #uuid &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;3290571d-09c3-4f08-99ec-a0bad7c4c546&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; check step&lt;/span&gt;
  (&lt;span class="pl-en"&gt;fact&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;check the loaded bill&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
    (&lt;span class="pl-c1"&gt;:bill&lt;/span&gt; *world*) =&amp;gt; {&lt;span class="pl-c1"&gt;:total&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;
                        &lt;span class="pl-c1"&gt;:name&lt;/span&gt;  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Radhia Cousot&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;})

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; transition step that triggers service code via kafka message consumption&lt;/span&gt;
  (&lt;span class="pl-k"&gt;fn&lt;/span&gt; [world]
    (&lt;span class="pl-k"&gt;let&lt;/span&gt; [message  {&lt;span class="pl-c1"&gt;:topic&lt;/span&gt;   &lt;span class="pl-c1"&gt;:publish-bill&lt;/span&gt;
                    &lt;span class="pl-c1"&gt;:message&lt;/span&gt; {&lt;span class="pl-c1"&gt;:total&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt;
                              &lt;span class="pl-c1"&gt;:name&lt;/span&gt;  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Radhia Cousot&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;}}
          consumer (&lt;span class="pl-en"&gt;-&amp;gt;&lt;/span&gt; world &lt;span class="pl-c1"&gt;:system&lt;/span&gt; &lt;span class="pl-c1"&gt;:consumer&lt;/span&gt;)]
      (&lt;span class="pl-en"&gt;kafka.mock-consumer/consume!&lt;/span&gt; message))
      &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; don't forget that transition steps always return a world&lt;/span&gt;
      world)

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; consuming a message doesn't return anything, but we can check behavior by&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; checking messages produced, outgoing http calls, and updated results from&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; subsequent incoming http calls&lt;/span&gt;
  ...)&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-probing-with-retry-sequences" class="anchor" aria-hidden="true" href="#probing-with-retry-sequences"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;probing with retry sequences&lt;/h3&gt;
&lt;p&gt;Check and query steps within a flow are retriable.
The &lt;code&gt;flow&lt;/code&gt; macro will group adjacent retriable steps into a sequence.
When one step in a sequence fails, the entire sequence will be retried.
This allows for nice probing behavior:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;require&lt;/span&gt; '[selvage.midje.flow &lt;span class="pl-c1"&gt;:refer&lt;/span&gt; [flow fnq]]
(&lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-e"&gt;counter&lt;/span&gt; (&lt;span class="pl-en"&gt;atom&lt;/span&gt; &lt;span class="pl-c1"&gt;0&lt;/span&gt;))

(&lt;span class="pl-en"&gt;flow&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;query / check probing example&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; a transition isn't retriable, so it won't get grouped in a sequence&lt;/span&gt;
  (&lt;span class="pl-k"&gt;fn&lt;/span&gt; [w] (&lt;span class="pl-en"&gt;println&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;transition step run once&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) w)

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; a query that starts 'succeeding' after 3 calls&lt;/span&gt;
  (&lt;span class="pl-en"&gt;fnq&lt;/span&gt; [w]
    (&lt;span class="pl-k"&gt;if&lt;/span&gt; (&lt;span class="pl-en"&gt;&amp;lt;&lt;/span&gt; (&lt;span class="pl-en"&gt;swap!&lt;/span&gt; counter inc) &lt;span class="pl-c1"&gt;3&lt;/span&gt;)
      (&lt;span class="pl-k"&gt;do&lt;/span&gt; (&lt;span class="pl-en"&gt;println&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;fail query&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)
          (&lt;span class="pl-k"&gt;throw&lt;/span&gt; (&lt;span class="pl-en"&gt;Exception.&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;try again&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)))
      (&lt;span class="pl-k"&gt;do&lt;/span&gt; (&lt;span class="pl-en"&gt;println&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;pass query&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)
          w)))

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; this check is grouped with the above query into a 'retriable sequence'&lt;/span&gt;
  (&lt;span class="pl-en"&gt;fact&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;queried 10 times?&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; @counter =&amp;gt; &lt;span class="pl-c1"&gt;10&lt;/span&gt;))

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; results in the following output:&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; "transition step run once"&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; "fail query"&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; "fail query"&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; "fail query"&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; "pass query"&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; ... 6x "pass query"&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; true&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-dynamic-variables" class="anchor" aria-hidden="true" href="#dynamic-variables"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;dynamic variables&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;*probe-timeout*&lt;/code&gt;: keep retrying query and check steps until this millisecond timeout has elapsed.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;*probe-sleep-period*&lt;/code&gt;: time in milliseconds to wait before retrying a query or check step.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;*verbose*&lt;/code&gt;: controls whether the step should be logged to stdout and splunk.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;*world*&lt;/code&gt;: the current world, which is made available within check steps.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-using-bindings-with-midje" class="anchor" aria-hidden="true" href="#using-bindings-with-midje"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using bindings with Midje&lt;/h4&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;ns&lt;/span&gt; &lt;span class="pl-e"&gt;selvage.midje-binding-example&lt;/span&gt;
  (&lt;span class="pl-c1"&gt;:require&lt;/span&gt; [selvage.midje.flow &lt;span class="pl-c1"&gt;:refer&lt;/span&gt; [*world* *verbose* flow]]

(&lt;span class="pl-k"&gt;binding&lt;/span&gt; [*verbose* &lt;span class="pl-c1"&gt;true&lt;/span&gt;]
  (&lt;span class="pl-en"&gt;flow&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;setting *verbose* with midje flow&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
    (&lt;span class="pl-en"&gt;fact&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;inside the flow *verbose* is set to true&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      *verbose* =&amp;gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;)))&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-using-bindings-with-clojuretest" class="anchor" aria-hidden="true" href="#using-bindings-with-clojuretest"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using bindings with clojure.test&lt;/h4&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;ns&lt;/span&gt; &lt;span class="pl-e"&gt;selvage.clojure-test-binding-example&lt;/span&gt;
  (&lt;span class="pl-c1"&gt;:require&lt;/span&gt; [selvage.test.flow &lt;span class="pl-c1"&gt;:refer&lt;/span&gt; [*world* *verbose* &lt;span class="pl-k"&gt;defflow&lt;/span&gt;]]

(&lt;span class="pl-k"&gt;defn&lt;/span&gt; &lt;span class="pl-e"&gt;example-wrapper&lt;/span&gt; [flow]
  (&lt;span class="pl-k"&gt;binding&lt;/span&gt; [*verbose* &lt;span class="pl-c1"&gt;true&lt;/span&gt;]
    (&lt;span class="pl-en"&gt;flow&lt;/span&gt;)))

(&lt;span class="pl-k"&gt;defflow&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;using binding with defflow requires a wrapper&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  {&lt;span class="pl-c1"&gt;:wrapper-fn&lt;/span&gt; example-wrapper}

  (&lt;span class="pl-en"&gt;testing&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;given the provided wrapper function, *verbose* is set to true&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
    (&lt;span class="pl-en"&gt;is&lt;/span&gt; (&lt;span class="pl-en"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt; *verbose*))))&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-editor-integration" class="anchor" aria-hidden="true" href="#editor-integration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Editor Integration&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-emacs--cider" class="anchor" aria-hidden="true" href="#emacs--cider"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Emacs / Cider&lt;/h4&gt;
&lt;p&gt;In order to run tests defined via the &lt;code&gt;defflow&lt;/code&gt; macro in
&lt;a href="https://cider.readthedocs.io/en/latest/running_tests/" rel="nofollow"&gt;Cider&lt;/a&gt;, the
&lt;code&gt;defflow&lt;/code&gt; symbol can be added to the &lt;code&gt;cider-test-defining-forms&lt;/code&gt; list.&lt;/p&gt;
&lt;div class="highlight highlight-source-emacs-lisp"&gt;&lt;pre&gt;(&lt;span class="pl-c1"&gt;add-to-list&lt;/span&gt; &lt;span class="pl-c1"&gt;'cider-test-defining-forms&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;defflow&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>nubank</author><guid isPermaLink="false">https://github.com/nubank/selvage</guid><pubDate>Mon, 10 Feb 2020 00:12:00 GMT</pubDate></item><item><title>nubank/matcher-combinators #13 in Clojure, This week</title><link>https://github.com/nubank/matcher-combinators</link><description>&lt;p&gt;&lt;i&gt;Library for creating matcher combinator to compare nested data structures&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-matcher-combinators" class="anchor" aria-hidden="true" href="#matcher-combinators"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;matcher-combinators&lt;/h1&gt;
&lt;p&gt;Library for creating matcher combinator to compare nested data structures&lt;/p&gt;
&lt;p&gt;&lt;em&gt;current version:&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://clojars.org/nubank/matcher-combinators" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/4633d157194805726742984e8cf703074b3951cf/68747470733a2f2f696d672e736869656c64732e696f2f636c6f6a6172732f762f6e7562616e6b2f6d6174636865722d636f6d62696e61746f72732e737667" alt="Current Version" data-canonical-src="https://img.shields.io/clojars/v/nubank/matcher-combinators.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;docs:&lt;/em&gt;
&lt;a href="https://cljdoc.xyz/d/nubank/matcher-combinators/" rel="nofollow"&gt;Found on cljdoc&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-motivation" class="anchor" aria-hidden="true" href="#motivation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Motivation&lt;/h2&gt;
&lt;p&gt;Clojure's built-in data structures get you a long way when trying to codify and solve difficult problems. A solid selection of core functions allow you to easily create and access core data structures. Unfortunately, this flexibility does not extend to testing: a comprehensive yet extensible way to assert that the data fits a particular structure seems to be lacking.&lt;/p&gt;
&lt;p&gt;This library addresses this issue by providing composable matcher combinators that can be used as building blocks to effectively test functions that evaluate to nested data-structures.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-features" class="anchor" aria-hidden="true" href="#features"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Features&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Pretty-printed diffs when the actual result doesn't match the expected matcher&lt;/li&gt;
&lt;li&gt;Integrates with &lt;code&gt;clojure.test&lt;/code&gt; and &lt;code&gt;midje&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Good readability by providing default interpretations of core Clojure data-structures as matcher combinators&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Midje checkers&lt;/th&gt;
&lt;th&gt;Matcher combinators&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a target="_blank" rel="noopener noreferrer" href="doc/images/midje_check.png"&gt;&lt;img src="doc/images/midje_check.png" alt="midje checkers" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a target="_blank" rel="noopener noreferrer" href="doc/images/matcher_check.png"&gt;&lt;img src="doc/images/matcher_check.png" alt="matcher combinators check" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Midje checkers failure output&lt;/th&gt;
&lt;th&gt;Matcher combinators failure output&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a target="_blank" rel="noopener noreferrer" href="doc/images/midje_failure.png"&gt;&lt;img src="doc/images/midje_failure.png" alt="midje checker failure output" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a target="_blank" rel="noopener noreferrer" href="doc/images/matcher_output.png"&gt;&lt;img src="doc/images/matcher_output.png" alt="matcher combinators failure output" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-midje" class="anchor" aria-hidden="true" href="#midje"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Midje:&lt;/h3&gt;
&lt;p&gt;The &lt;code&gt;matcher-combinators.midje&lt;/code&gt; namespace defines the &lt;code&gt;match&lt;/code&gt; and &lt;code&gt;throws-match&lt;/code&gt; midje-style checkers. These should be used on the right-side of the midje &lt;code&gt;fact&lt;/code&gt; check arrows (&lt;code&gt;=&amp;gt;&lt;/code&gt;)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;match&lt;/code&gt;: This checker is used to wrap a matcher-combinator asserts that the provided value satisfies the matcher.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;throws-match&lt;/code&gt;: This checker wraps a matcher-combinator and optionally a throwable subclass. It asserts that an exception (of the given class) is raised and the &lt;code&gt;ex-data&lt;/code&gt; satisfies the provided matcher.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For example:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;require&lt;/span&gt; '[midje.sweet &lt;span class="pl-c1"&gt;:refer&lt;/span&gt; &lt;span class="pl-c1"&gt;:all&lt;/span&gt;]
         '[matcher-combinators.matchers &lt;span class="pl-c1"&gt;:as&lt;/span&gt; m]
         '[matcher-combinators.midje &lt;span class="pl-c1"&gt;:refer&lt;/span&gt; [match]])
(&lt;span class="pl-en"&gt;fact&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;matching a map exactly&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  {&lt;span class="pl-c1"&gt;:a&lt;/span&gt; {&lt;span class="pl-c1"&gt;:bb&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt; &lt;span class="pl-c1"&gt;:cc&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt;} &lt;span class="pl-c1"&gt;:d&lt;/span&gt; &lt;span class="pl-c1"&gt;3&lt;/span&gt;} =&amp;gt; (&lt;span class="pl-en"&gt;match&lt;/span&gt; (&lt;span class="pl-en"&gt;m/equals&lt;/span&gt; {&lt;span class="pl-c1"&gt;:a&lt;/span&gt; (&lt;span class="pl-en"&gt;m/embeds&lt;/span&gt; {&lt;span class="pl-c1"&gt;:bb&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;}) &lt;span class="pl-c1"&gt;:d&lt;/span&gt; &lt;span class="pl-c1"&gt;3&lt;/span&gt;}))
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; but when a map isn't immediately wrapped, it is interpreted as an `embeds` matcher&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; so you can write the previous check as:&lt;/span&gt;
  {&lt;span class="pl-c1"&gt;:a&lt;/span&gt; {&lt;span class="pl-c1"&gt;:bb&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt; &lt;span class="pl-c1"&gt;:cc&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt;} &lt;span class="pl-c1"&gt;:d&lt;/span&gt; &lt;span class="pl-c1"&gt;3&lt;/span&gt;} =&amp;gt; (&lt;span class="pl-en"&gt;match&lt;/span&gt; (&lt;span class="pl-en"&gt;m/equals&lt;/span&gt; {&lt;span class="pl-c1"&gt;:a&lt;/span&gt; {&lt;span class="pl-c1"&gt;:bb&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;} &lt;span class="pl-c1"&gt;:d&lt;/span&gt; &lt;span class="pl-c1"&gt;3&lt;/span&gt;})))

(&lt;span class="pl-en"&gt;fact&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;you can assert an exception is thrown &lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; Assert _some_ exception is raised and the ex-data inside satisfies the matcher&lt;/span&gt;
  (&lt;span class="pl-k"&gt;throw&lt;/span&gt; (&lt;span class="pl-en"&gt;ex-info&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;foo&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; {&lt;span class="pl-c1"&gt;:foo&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt; &lt;span class="pl-c1"&gt;:bar&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt;})) =&amp;gt; (&lt;span class="pl-k"&gt;throws-match&lt;/span&gt; {&lt;span class="pl-c1"&gt;:foo&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;})

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; Assert _a specific_ exception is raised and the ex-data inside satisfies the matcher&lt;/span&gt;
  (&lt;span class="pl-k"&gt;throw&lt;/span&gt; (&lt;span class="pl-en"&gt;ex-info&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;foo&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; {&lt;span class="pl-c1"&gt;:foo&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt; &lt;span class="pl-c1"&gt;:bar&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt;})) =&amp;gt; (&lt;span class="pl-k"&gt;throws-match&lt;/span&gt; ExceptionInfo {&lt;span class="pl-c1"&gt;:foo&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;}))&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note that you can also use the &lt;code&gt;match&lt;/code&gt; checker to match arguments within midje's &lt;code&gt;provided&lt;/code&gt; construct:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-en"&gt;unfinished&lt;/span&gt; f)
(&lt;span class="pl-en"&gt;fact&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;using matchers in provided statements&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  (&lt;span class="pl-en"&gt;f&lt;/span&gt; [&lt;span class="pl-c1"&gt;1&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt; &lt;span class="pl-c1"&gt;3&lt;/span&gt;]) =&amp;gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;
  (&lt;span class="pl-en"&gt;provided&lt;/span&gt;
    (&lt;span class="pl-en"&gt;f&lt;/span&gt; (&lt;span class="pl-en"&gt;match&lt;/span&gt; [odd? even? odd?])) =&amp;gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;))&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-clojuretest" class="anchor" aria-hidden="true" href="#clojuretest"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;clojure.test&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;Require the &lt;code&gt;matcher-combinators.test&lt;/code&gt; namespace, which will extend &lt;code&gt;clojure.test&lt;/code&gt;'s &lt;code&gt;is&lt;/code&gt; macro to accept the &lt;code&gt;match?&lt;/code&gt; and &lt;code&gt;thrown-match?&lt;/code&gt; directives.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;match?&lt;/code&gt;: The first argument should be the matcher-combinator represented the expected value, and the second argument should be the expression being checked.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;thrown-match?&lt;/code&gt;: The first argument should be a throwable subclass, the second a matcher-combinators, and the third the expression being checked.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For example:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;require&lt;/span&gt; '[clojure.test &lt;span class="pl-c1"&gt;:refer&lt;/span&gt; &lt;span class="pl-c1"&gt;:all&lt;/span&gt;]
         '[matcher-combinators.test] &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; needed for defining `match?`&lt;/span&gt;
         '[matcher-combinators.matchers &lt;span class="pl-c1"&gt;:as&lt;/span&gt; m])
(&lt;span class="pl-k"&gt;deftest&lt;/span&gt; &lt;span class="pl-e"&gt;basic-sequence-matching&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; by default a sequentials are interpreted as a `equals` matcher&lt;/span&gt;
  (&lt;span class="pl-en"&gt;is&lt;/span&gt; (&lt;span class="pl-en"&gt;match?&lt;/span&gt; [&lt;span class="pl-c1"&gt;1&lt;/span&gt; odd?] [&lt;span class="pl-c1"&gt;1&lt;/span&gt; &lt;span class="pl-c1"&gt;3&lt;/span&gt;]))
  (&lt;span class="pl-en"&gt;is&lt;/span&gt; (&lt;span class="pl-en"&gt;match?&lt;/span&gt; (&lt;span class="pl-en"&gt;m/prefix&lt;/span&gt; [&lt;span class="pl-c1"&gt;1&lt;/span&gt; odd?]) [&lt;span class="pl-c1"&gt;1&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt; &lt;span class="pl-c1"&gt;3&lt;/span&gt;])))

(&lt;span class="pl-k"&gt;defn&lt;/span&gt; &lt;span class="pl-e"&gt;bang!&lt;/span&gt; [] (&lt;span class="pl-k"&gt;throw&lt;/span&gt; (&lt;span class="pl-en"&gt;ex-info&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;an exception&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; {&lt;span class="pl-c1"&gt;:foo&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt; &lt;span class="pl-c1"&gt;:bar&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt;})))

(&lt;span class="pl-k"&gt;deftest&lt;/span&gt; &lt;span class="pl-e"&gt;exception-matching&lt;/span&gt;
  (&lt;span class="pl-en"&gt;is&lt;/span&gt; (&lt;span class="pl-en"&gt;thrown-match?&lt;/span&gt; ExceptionInfo
                     {&lt;span class="pl-c1"&gt;:foo&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;}
                     (&lt;span class="pl-en"&gt;bang!&lt;/span&gt;))))&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-matchers" class="anchor" aria-hidden="true" href="#matchers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Matchers&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-default-matchers" class="anchor" aria-hidden="true" href="#default-matchers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;default matchers&lt;/h3&gt;
&lt;p&gt;If a data-structure isn't wrapped in a specific matcher-combinator the default interpretation is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;map: &lt;code&gt;embeds&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;sequential: &lt;code&gt;equals&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;set: &lt;code&gt;equals&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;number, date, and other base data-structure: &lt;code&gt;equals&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;regex: &lt;code&gt;regex&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-built-in-matchers" class="anchor" aria-hidden="true" href="#built-in-matchers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;built-in matchers&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;equals&lt;/code&gt; operates over base values, maps, sequences, and sets&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;base values (string, int, function, etc.): matches when the given value is exactly the same as the &lt;code&gt;expected&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;map: matches when
&lt;ol&gt;
&lt;li&gt;the keys of the &lt;code&gt;expected&lt;/code&gt; map are equal to the given map's keys&lt;/li&gt;
&lt;li&gt;the value matchers of &lt;code&gt;expected&lt;/code&gt; map matches the given map's values&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;sequence: matches when the &lt;code&gt;expected&lt;/code&gt; sequences's matchers match the given sequence. Similar to midje's &lt;code&gt;(just expected)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;set: matches when all the elements in the given set can be matched with a matcher in &lt;code&gt;expected&lt;/code&gt; set and each matcher is used exactly once.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;embeds&lt;/code&gt; operates over maps, sequences, and sets&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;map: matches when the map contains some of the same key/values as the &lt;code&gt;expected&lt;/code&gt; map.&lt;/li&gt;
&lt;li&gt;sequence: order-agnostic matcher that will match when provided a subset of the &lt;code&gt;expected&lt;/code&gt; sequence. Similar to midje's &lt;code&gt;(contains expected :in-any-order :gaps-ok)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;set: matches when all the matchers in the &lt;code&gt;expected&lt;/code&gt; set can be matched with an element in the provided set. There may be more elements in the provided set than there are matchers.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;prefix&lt;/code&gt; operates over sequences&lt;/p&gt;
&lt;p&gt;matches when provided a (ordered) prefix of the &lt;code&gt;expected&lt;/code&gt; sequence. Similar to midje's &lt;code&gt;(contains expected)&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;in-any-order&lt;/code&gt; operates over sequences&lt;/p&gt;
&lt;p&gt;matches when the given a sequence that is the same as the &lt;code&gt;expected&lt;/code&gt; sequence but with elements in a different order.  Similar to midje's &lt;code&gt;(just expected :in-any-order)&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;set-equals&lt;/code&gt;/&lt;code&gt;set-embeds&lt;/code&gt; similar behavior to &lt;code&gt;equals&lt;/code&gt;/&lt;code&gt;embeds&lt;/code&gt; for sets, but allows one to specify the matchers using a sequence so that duplicate matchers are not removed. For example, &lt;code&gt;(equals #{odd? odd?})&lt;/code&gt; becomes &lt;code&gt;(equals #{odd})&lt;/code&gt;, so to get arround this one should use &lt;code&gt;(set-equals [odd? odd])&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;regex&lt;/code&gt;: matches the &lt;code&gt;actual-value-found&lt;/code&gt; when provided an &lt;code&gt;expected-regex&lt;/code&gt; using &lt;code&gt;(re-find expected-regex actual-value-found)&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;absent&lt;/code&gt;: for use in the context of maps. Matches when the actual map is missing the key pointing to the &lt;code&gt;absent&lt;/code&gt; matcher. For example &lt;code&gt;(is (match? {:a absent :b 1} {:b 1}))&lt;/code&gt; matches but &lt;code&gt;(is (match? {:a absent :b 1} {:a 0 :b 1}))&lt;/code&gt; won't.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-building-new-matchers" class="anchor" aria-hidden="true" href="#building-new-matchers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;building new matchers&lt;/h3&gt;
&lt;p&gt;You can extend your data-types to work with &lt;code&gt;matcher-combinators&lt;/code&gt; by implemented the &lt;a href="https://github.com/nubank/matcher-combinators/blob/066da1a07ab620a6c63bbb0ce8e1b6b3a4ccd956/src/matcher_combinators/core.clj#L5-L9"&gt;&lt;code&gt;Matcher&lt;/code&gt; protocol&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;An example of this in the wild can be seen in the &lt;code&gt;abracad&lt;/code&gt; library &lt;a href="https://github.com/nubank/abracad/blob/b52e6a7114461f50bdacc2cf09a1de08f707b9f3/test/abracad/custom_types_test.clj#L15-L20"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-overriding-default-matchers" class="anchor" aria-hidden="true" href="#overriding-default-matchers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Overriding default matchers&lt;/h2&gt;
&lt;p&gt;Inside the context of &lt;code&gt;match?&lt;/code&gt; (clojure.test) / &lt;code&gt;match&lt;/code&gt; (midje), data-structures are assigned default matchers, which eliminates the need to wrap data-structures with matcher-combinators when your desired matching behavior matches the defaults.&lt;/p&gt;
&lt;p&gt;But what if your desired matching behavior deviates from the defaults?&lt;/p&gt;
&lt;p&gt;For example, if you want to do exact map matching you need to use a log of &lt;code&gt;m/equals&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;deftest&lt;/span&gt; &lt;span class="pl-e"&gt;exact-map-matching-by-hand&lt;/span&gt;
  (&lt;span class="pl-en"&gt;is&lt;/span&gt; (&lt;span class="pl-en"&gt;match?&lt;/span&gt; (&lt;span class="pl-en"&gt;m/equals&lt;/span&gt; {&lt;span class="pl-c1"&gt;:a&lt;/span&gt; (&lt;span class="pl-en"&gt;m/equals&lt;/span&gt; {&lt;span class="pl-c1"&gt;:b&lt;/span&gt; (&lt;span class="pl-en"&gt;m/equals&lt;/span&gt; {&lt;span class="pl-c1"&gt;:c&lt;/span&gt; odd?})})}))
              {&lt;span class="pl-c1"&gt;:a&lt;/span&gt; {&lt;span class="pl-c1"&gt;:b&lt;/span&gt; {&lt;span class="pl-c1"&gt;:c&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;}}})
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; without m/equals, the system defaults to m/embeds for maps,&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;; which has looser matching properties&lt;/span&gt;
  (&lt;span class="pl-en"&gt;is&lt;/span&gt; (&lt;span class="pl-en"&gt;match?&lt;/span&gt; {&lt;span class="pl-c1"&gt;:a&lt;/span&gt; {&lt;span class="pl-c1"&gt;:b&lt;/span&gt; {&lt;span class="pl-c1"&gt;:c&lt;/span&gt; odd?}}}
              {&lt;span class="pl-c1"&gt;:a&lt;/span&gt; {&lt;span class="pl-c1"&gt;:b&lt;/span&gt; {&lt;span class="pl-c1"&gt;:c&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt; &lt;span class="pl-c1"&gt;:extra-c&lt;/span&gt; &lt;span class="pl-c1"&gt;0&lt;/span&gt;} &lt;span class="pl-c1"&gt;:extra-b&lt;/span&gt; &lt;span class="pl-c1"&gt;0&lt;/span&gt;} &lt;span class="pl-c1"&gt;:extra-a&lt;/span&gt; &lt;span class="pl-c1"&gt;0&lt;/span&gt;})))&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This verbosity can be avoided by redefining the matcher data-type defaults&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-clojuretest-1" class="anchor" aria-hidden="true" href="#clojuretest-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;clojure.test&lt;/h3&gt;
&lt;p&gt;You can register a custom &lt;code&gt;clojure.test&lt;/code&gt; match assert expression if you are going to use it a few times:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;defmethod&lt;/span&gt; &lt;span class="pl-e"&gt;clojure.test&lt;/span&gt;/&lt;span class="pl-e"&gt;assert-expr&lt;/span&gt; '&lt;span class="pl-e"&gt;match-equals?&lt;/span&gt; [msg form]
  (&lt;span class="pl-en"&gt;matcher-combinators.test/build-match-assert&lt;/span&gt; 'match-equals? {clojure.lang.IPersistentMap m/equals} msg form))

(&lt;span class="pl-k"&gt;deftest&lt;/span&gt; &lt;span class="pl-e"&gt;match-equals-test&lt;/span&gt;
  (&lt;span class="pl-en"&gt;is&lt;/span&gt; (&lt;span class="pl-en"&gt;match-equals?&lt;/span&gt; {&lt;span class="pl-c1"&gt;:a&lt;/span&gt; {&lt;span class="pl-c1"&gt;:b&lt;/span&gt; {&lt;span class="pl-c1"&gt;:c&lt;/span&gt; odd?}}}
                     {&lt;span class="pl-c1"&gt;:a&lt;/span&gt; {&lt;span class="pl-c1"&gt;:b&lt;/span&gt; {&lt;span class="pl-c1"&gt;:c&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;}}})))&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or if you want a one-off override of defaults, it can be done &lt;code&gt;match-with?&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;(deftest one-off-match-equals
  (is (match-with? {clojure.lang.IPersistentMap m/equals}
                   {:a {:b {:c odd?}}}
                   {:a {:b {:c 1}}})))
&lt;/code&gt;&lt;/pre&gt;
&lt;h4&gt;&lt;a id="user-content-built-in-matching-context" class="anchor" aria-hidden="true" href="#built-in-matching-context"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;built-in matching context&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;match?&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;match-with?&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;match-equals?&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;match-roughly?&lt;/code&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;deftest&lt;/span&gt; &lt;span class="pl-e"&gt;match-roughly-test&lt;/span&gt;
  (&lt;span class="pl-en"&gt;is&lt;/span&gt; (&lt;span class="pl-en"&gt;match-roughly?&lt;/span&gt; &lt;span class="pl-c1"&gt;0.1&lt;/span&gt;
                      {&lt;span class="pl-c1"&gt;:a&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt; &lt;span class="pl-c1"&gt;:b&lt;/span&gt; &lt;span class="pl-c1"&gt;3.0&lt;/span&gt;}
                      {&lt;span class="pl-c1"&gt;:a&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt; &lt;span class="pl-c1"&gt;:b&lt;/span&gt; &lt;span class="pl-c1"&gt;3.05&lt;/span&gt;})))&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-midje-1" class="anchor" aria-hidden="true" href="#midje-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;midje&lt;/h3&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-en"&gt;fact&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;match-with example&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  {&lt;span class="pl-c1"&gt;:a&lt;/span&gt; {&lt;span class="pl-c1"&gt;:b&lt;/span&gt; {&lt;span class="pl-c1"&gt;:c&lt;/span&gt; odd?}}} =&amp;gt; (&lt;span class="pl-en"&gt;match-with&lt;/span&gt; {clojure.lang.IPersistentMap m/equals}
                                     {&lt;span class="pl-c1"&gt;:a&lt;/span&gt; {&lt;span class="pl-c1"&gt;:b&lt;/span&gt; {&lt;span class="pl-c1"&gt;:c&lt;/span&gt; odd?}}}))
(&lt;span class="pl-en"&gt;fact&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;match-equals example&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  {&lt;span class="pl-c1"&gt;:a&lt;/span&gt; {&lt;span class="pl-c1"&gt;:b&lt;/span&gt; {&lt;span class="pl-c1"&gt;:c&lt;/span&gt; odd?}}} =&amp;gt; (&lt;span class="pl-en"&gt;match-equals&lt;/span&gt; {&lt;span class="pl-c1"&gt;:a&lt;/span&gt; {&lt;span class="pl-c1"&gt;:b&lt;/span&gt; {&lt;span class="pl-c1"&gt;:c&lt;/span&gt; odd?}}}))&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-built-in-matching-context-1" class="anchor" aria-hidden="true" href="#built-in-matching-context-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;built-in matching context&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;match&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;match-with&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;match-roughly&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;match-equals&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Or you can build your own, for example:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-e"&gt;match-equals&lt;/span&gt;
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;match but using strict `equals` matching behavior for maps, even nested ones.&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  (&lt;span class="pl-en"&gt;match-with&lt;/span&gt; {clojure.lang.IPersistentMap matchers/equals}))&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-running-tests" class="anchor" aria-hidden="true" href="#running-tests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Running tests&lt;/h2&gt;
&lt;p&gt;The project contains &lt;code&gt;midje&lt;/code&gt;, &lt;code&gt;clojure.test&lt;/code&gt;, and &lt;code&gt;cljs.test&lt;/code&gt; tests.&lt;/p&gt;
&lt;p&gt;To run Clojure tests:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;lein midje
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To run Clojurescript tests:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;lein test-node
&lt;/code&gt;&lt;/pre&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>nubank</author><guid isPermaLink="false">https://github.com/nubank/matcher-combinators</guid><pubDate>Mon, 10 Feb 2020 00:13:00 GMT</pubDate></item><item><title>nubank/state-flow #14 in Clojure, This week</title><link>https://github.com/nubank/state-flow</link><description>&lt;p&gt;&lt;i&gt;Integration testing framework using a state monad in the backend for building and composing flows&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-stateflow" class="anchor" aria-hidden="true" href="#stateflow"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;StateFlow&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://clojars.org/nubank/state-flow" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/7c83412e270e6a8cae31d092ce3e4ca36dcd528b/68747470733a2f2f696d672e736869656c64732e696f2f636c6f6a6172732f762f6e7562616e6b2f73746174652d666c6f772e737667" alt="Clojars Project" data-canonical-src="https://img.shields.io/clojars/v/nubank/state-flow.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;StateFlow is a testing framework designed to support the composition and reuse of individual test steps.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-definitions" class="anchor" aria-hidden="true" href="#definitions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Definitions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;A &lt;a href="#flows"&gt;&lt;em&gt;flow&lt;/em&gt;&lt;/a&gt; is a sequence of steps or bindings.&lt;/li&gt;
&lt;li&gt;A &lt;a href="#primitive-steps"&gt;&lt;em&gt;step&lt;/em&gt;&lt;/a&gt; is a primitive step or flow.&lt;/li&gt;
&lt;li&gt;A &lt;a href="#bindings"&gt;&lt;em&gt;binding&lt;/em&gt;&lt;/a&gt; is a vector of pairs of symbols and steps (or a :let with a vector of regular let-bindings)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-flows" class="anchor" aria-hidden="true" href="#flows"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Flows&lt;/h2&gt;
&lt;p&gt;A flow is a sequence of steps or bindings to be executed with some state as a
reference. Use the &lt;code&gt;flow&lt;/code&gt; macro to define a flow:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-en"&gt;flow&lt;/span&gt; &amp;lt;description&amp;gt; &amp;lt;step/bindings&amp;gt;*)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once defined, you can run it with &lt;code&gt;(state-flow.core/run! (flow ...) &amp;lt;initial-state&amp;gt;)&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;You can think flows and the steps within them as functions of the state, e.g.&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;fn&lt;/span&gt; [&amp;lt;state&amp;gt;] [&amp;lt;return-value&amp;gt;, &amp;lt;possibly-updated-state&amp;gt;])&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Each step is executed in sequence, passing the state to the next step. The return value from running the flow is the return value of the last step that was run.&lt;/p&gt;
&lt;p&gt;If you are using StateFlow for integration testing, the initial state is usually a representation of your service components,
a system using &lt;a href="https://github.com/stuartsierra/component"&gt;Stuart Sierra's Component&lt;/a&gt; library or other similar facility. You can also run the same flow with different initial states, e.g.&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-e"&gt;a-flow&lt;/span&gt; (&lt;span class="pl-en"&gt;flow&lt;/span&gt; ...))

(&lt;span class="pl-en"&gt;state-flow.core/run!&lt;/span&gt; flow &amp;lt;one-initial-state&amp;gt;)
(&lt;span class="pl-en"&gt;state-flow.core/run!&lt;/span&gt; flow &amp;lt;another-initial-state&amp;gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-primitive-steps" class="anchor" aria-hidden="true" href="#primitive-steps"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Primitive steps&lt;/h3&gt;
&lt;p&gt;Primitive steps are the fundamental building blocks of flows.&lt;/p&gt;
&lt;p&gt;Below we list the main primitives and a model for the sort of function
each represents. Their names are derived from &lt;a href="https://wiki.haskell.org/State_Monad" rel="nofollow"&gt;Haskell's State
Monad&lt;/a&gt;, which you should read
about if you want to understand StateFlow's internals, but you should
not need in order to use StateFlow.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Return current state&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-en"&gt;state-flow.state/get&lt;/span&gt;)
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;=&amp;gt; (fn [s] [s s])&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Return the application of a function to the current state&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-en"&gt;state-flow.state/gets&lt;/span&gt; f)
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;=&amp;gt; (fn [s] [(f s) s])&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Reset a new state&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-en"&gt;state-flow.state/put&lt;/span&gt; new-s)
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;=&amp;gt; (fn [s] [s new-s])&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Update the state by applying a function&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-en"&gt;state-flow.state/modify&lt;/span&gt; f)
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;=&amp;gt; (fn [s] [s (f s)])&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Return an arbitrary value&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-en"&gt;state-flow.state/return&lt;/span&gt; v)
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt;=&amp;gt; (fn [s] [v s])&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-bindings" class="anchor" aria-hidden="true" href="#bindings"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bindings&lt;/h3&gt;
&lt;p&gt;Bindings bind return values of steps to symbols you can use in other steps, and have the following syntax:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;[(&amp;lt;symbol&amp;gt; &amp;lt;step&amp;gt;)+]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;They work pretty much like &lt;code&gt;let&lt;/code&gt; bindings but the left symbol binds to the &lt;em&gt;return value&lt;/em&gt; of the step on the right.
It's also possible to bind directly to values (i.e. Clojure's &lt;code&gt;let&lt;/code&gt;) within the same vector using the &lt;code&gt;:let&lt;/code&gt; keyword:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;[(&lt;span class="pl-en"&gt;&amp;lt;symbol&amp;gt;&lt;/span&gt; &amp;lt;step&amp;gt;)
 &lt;span class="pl-c1"&gt;:let&lt;/span&gt; [&amp;lt;symbol&amp;gt; &amp;lt;non-step expression&amp;gt;]]&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-flow-example" class="anchor" aria-hidden="true" href="#flow-example"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Flow Example&lt;/h3&gt;
&lt;p&gt;Suppose our system state is made out of a map with &lt;code&gt;{:value &amp;lt;value&amp;gt;}&lt;/code&gt;. We can make a flow that just
fetches the value bound to &lt;code&gt;:value&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-e"&gt;get-value&lt;/span&gt; (&lt;span class="pl-en"&gt;flow&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;get-value&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; (&lt;span class="pl-en"&gt;state/gets&lt;/span&gt; &lt;span class="pl-c1"&gt;:value&lt;/span&gt;)))
(&lt;span class="pl-en"&gt;state-flow/run!&lt;/span&gt; get-value {&lt;span class="pl-c1"&gt;:value&lt;/span&gt; &lt;span class="pl-c1"&gt;4&lt;/span&gt;})
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt; =&amp;gt; [4 {:value 4}]&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Primitive steps have the same underlying structure as flows and can be passed directly to &lt;code&gt;run!&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-e"&gt;get-value&lt;/span&gt; (&lt;span class="pl-en"&gt;state/gets&lt;/span&gt; &lt;span class="pl-c1"&gt;:value&lt;/span&gt;))
(&lt;span class="pl-en"&gt;state-flow/run!&lt;/span&gt; get-value {&lt;span class="pl-c1"&gt;:value&lt;/span&gt; &lt;span class="pl-c1"&gt;4&lt;/span&gt;})
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt; =&amp;gt; [4 {:value 4}]&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We can use &lt;code&gt;state/modify&lt;/code&gt; to modify the state. Here's a primitive that increments the value:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-e"&gt;inc-value&lt;/span&gt; (&lt;span class="pl-en"&gt;state/modify&lt;/span&gt; #(&lt;span class="pl-en"&gt;update&lt;/span&gt; % &lt;span class="pl-c1"&gt;:value&lt;/span&gt; inc)))
(&lt;span class="pl-en"&gt;state-flow/run!&lt;/span&gt; inc-value {&lt;span class="pl-c1"&gt;:value&lt;/span&gt; &lt;span class="pl-c1"&gt;4&lt;/span&gt;})
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt; =&amp;gt; [{:value 4} {:value 5}]&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Bindings enable us to compose simple flows into more complex flows.
If, instead of returning the value, we wanted to return the value
multiplied by two, we could do it like this:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-e"&gt;double-value&lt;/span&gt;
  (&lt;span class="pl-en"&gt;flow&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;get double value&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
    [value get-value]
    (&lt;span class="pl-en"&gt;state/return&lt;/span&gt; (&lt;span class="pl-en"&gt;*&lt;/span&gt; value &lt;span class="pl-c1"&gt;2&lt;/span&gt;))))
(&lt;span class="pl-en"&gt;state-flow/run!&lt;/span&gt; double-value {&lt;span class="pl-c1"&gt;:value&lt;/span&gt; &lt;span class="pl-c1"&gt;4&lt;/span&gt;})
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt; =&amp;gt; [8 {:value 4}]&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or we could increment the value first and then return it doubled:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;def&lt;/span&gt; &lt;span class="pl-e"&gt;inc-and-double-value&lt;/span&gt;
  (&lt;span class="pl-en"&gt;flow&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;increment and double value&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
    inc-value
    [value get-value]
    (&lt;span class="pl-en"&gt;state/return&lt;/span&gt; (&lt;span class="pl-en"&gt;*&lt;/span&gt; value &lt;span class="pl-c1"&gt;2&lt;/span&gt;))))
(&lt;span class="pl-en"&gt;state-flow/run!&lt;/span&gt; inc-and-double-value {&lt;span class="pl-c1"&gt;:value&lt;/span&gt; &lt;span class="pl-c1"&gt;4&lt;/span&gt;})
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;;&lt;/span&gt; =&amp;gt; [10 {:value 5}]&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-clojuretest-support" class="anchor" aria-hidden="true" href="#clojuretest-support"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Clojure.test Support&lt;/h2&gt;
&lt;p&gt;We use the &lt;code&gt;defflow&lt;/code&gt; and &lt;code&gt;match?&lt;/code&gt; macros to build &lt;code&gt;clojure.test&lt;/code&gt; tests
out of flows.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;defflow&lt;/code&gt; defines a test (using &lt;code&gt;deftest&lt;/code&gt;) that when
run, will execute the flow with the parameters that we set.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;match?&lt;/code&gt; produces a flow that will make a &lt;code&gt;clojure.test&lt;/code&gt; assertion. It
uses the
&lt;a href="https://github.com/nubank/matcher-combinators/"&gt;&lt;code&gt;nubank/matcher-combinators&lt;/code&gt;&lt;/a&gt;
library for the actual check and failure messages. &lt;code&gt;match?&lt;/code&gt; asks for:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;a string description&lt;/li&gt;
&lt;li&gt;the actual value, or a step which will produce it
&lt;ul&gt;
&lt;li&gt;if you supply a value, &lt;code&gt;match?&lt;/code&gt; will wrap it in &lt;code&gt;(state/return &amp;lt;value&amp;gt;)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;the expected value, or a matcher-combinators matcher
&lt;ul&gt;
&lt;li&gt;if you supply a value, matcher-combintators will apply its defaults&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Here are some very simple examples of tests defined using &lt;code&gt;defflow&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;defflow&lt;/span&gt; &lt;span class="pl-e"&gt;my-flow&lt;/span&gt;
  (&lt;span class="pl-en"&gt;match?&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;simple test&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;)
  (&lt;span class="pl-en"&gt;match?&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;embeds&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; {&lt;span class="pl-c1"&gt;:a&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt; &lt;span class="pl-c1"&gt;:b&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt;} {&lt;span class="pl-c1"&gt;:a&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;}))&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or with custom parameters:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;defflow&lt;/span&gt; &lt;span class="pl-e"&gt;my-flow&lt;/span&gt; {&lt;span class="pl-c1"&gt;:init&lt;/span&gt; aux.init! &lt;span class="pl-c1"&gt;:runner&lt;/span&gt; (&lt;span class="pl-en"&gt;comp&lt;/span&gt; run! s/with-fn-validation)}
  (&lt;span class="pl-en"&gt;match?&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;simple test&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;)
  (&lt;span class="pl-en"&gt;match?&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;simple test 2&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt;))&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-k"&gt;defflow&lt;/span&gt; &lt;span class="pl-e"&gt;my-flow&lt;/span&gt; {&lt;span class="pl-c1"&gt;:init&lt;/span&gt; (&lt;span class="pl-en"&gt;constantly&lt;/span&gt; {&lt;span class="pl-c1"&gt;:value&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;
                                     &lt;span class="pl-c1"&gt;:map&lt;/span&gt; {&lt;span class="pl-c1"&gt;:a&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt; &lt;span class="pl-c1"&gt;:b&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt;}})}
  [value (&lt;span class="pl-en"&gt;state/gets&lt;/span&gt; &lt;span class="pl-c1"&gt;:value&lt;/span&gt;)]
  (&lt;span class="pl-en"&gt;match?&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;value is correct&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; value &lt;span class="pl-c1"&gt;1&lt;/span&gt;)
  (&lt;span class="pl-en"&gt;match?&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;embeds&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; (&lt;span class="pl-en"&gt;state/gets&lt;/span&gt; &lt;span class="pl-c1"&gt;:map&lt;/span&gt;) {&lt;span class="pl-c1"&gt;:b&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt;}))&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-midje-support" class="anchor" aria-hidden="true" href="#midje-support"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Midje Support&lt;/h2&gt;
&lt;p&gt;We use &lt;code&gt;verify&lt;/code&gt; to write midje tests with StateFlow. &lt;code&gt;verify&lt;/code&gt; is a function that of three arguments: a description, a value or step, and another value or midje checker. It
produces a step that, when executed, verifies that the second argument matches the third argument. It replicates the functionality of a &lt;code&gt;fact&lt;/code&gt; from midje.
In fact, if a simple value is passed as second argument, what it does is simply call &lt;code&gt;fact&lt;/code&gt; internally when the flow is executed.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;verify&lt;/code&gt; returns a step that will make the check and return something. If the second argument is a value, it will return this argument. If the second argument is itself a step, it will return the last return value of the step that was passed. This makes it possible to use the result of verify on a later part of the flow execution if that is desired.&lt;/p&gt;
&lt;p&gt;Say we have a step for making a POST request that stores data in datomic (&lt;code&gt;store-data-request&lt;/code&gt;),
and we also have a step that fetches this data from db (&lt;code&gt;fetch-data&lt;/code&gt;). We want to check that after we make the POST, the data is persisted:&lt;/p&gt;
&lt;div class="highlight highlight-source-clojure"&gt;&lt;pre&gt;(&lt;span class="pl-c1"&gt;:require&lt;/span&gt;
  [state-flow.core &lt;span class="pl-c1"&gt;:refer&lt;/span&gt; [flow]]
  [state-flow.midje &lt;span class="pl-c1"&gt;:refer&lt;/span&gt; [verify]])

(&lt;span class="pl-k"&gt;defn&lt;/span&gt; &lt;span class="pl-e"&gt;stores-data-in-db&lt;/span&gt;
  [data]
  (&lt;span class="pl-en"&gt;flow&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;save data&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
    (&lt;span class="pl-en"&gt;store-data-request&lt;/span&gt; data)
    [saved-data (&lt;span class="pl-en"&gt;fetch-data&lt;/span&gt;)]
    (&lt;span class="pl-en"&gt;verify&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;data is stored in db&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      saved-data
      expected-data)))&lt;/pre&gt;&lt;/div&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>nubank</author><guid isPermaLink="false">https://github.com/nubank/state-flow</guid><pubDate>Mon, 10 Feb 2020 00:14:00 GMT</pubDate></item></channel></rss>
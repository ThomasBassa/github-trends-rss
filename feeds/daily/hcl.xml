<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>GitHub Trending: HCL, Today</title><link>https://github.com/trending/hcl?since=daily</link><description>The top repositories on GitHub for hcl, measured daily</description><pubDate>Thu, 26 Dec 2019 01:12:54 GMT</pubDate><lastBuildDate>Thu, 26 Dec 2019 01:12:54 GMT</lastBuildDate><generator>PyRSS2Gen-1.1.0</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><ttl>720</ttl><item><title>terraform-google-modules/terraform-google-kubernetes-engine #1 in HCL, Today</title><link>https://github.com/terraform-google-modules/terraform-google-kubernetes-engine</link><description>&lt;p&gt;&lt;i&gt;A Terraform module for configuring GKE clusters.&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-terraform-kubernetes-engine-module" class="anchor" aria-hidden="true" href="#terraform-kubernetes-engine-module"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Terraform Kubernetes Engine Module&lt;/h1&gt;
&lt;p&gt;This module handles opinionated Google Cloud Platform Kubernetes Engine cluster creation and configuration with Node Pools, IP MASQ, Network Policy, etc.
The resources/services/activations/deletions that this module will create/trigger are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create a GKE cluster with the provided addons&lt;/li&gt;
&lt;li&gt;Create GKE Node Pool(s) with provided configuration and attach to cluster&lt;/li&gt;
&lt;li&gt;Replace the default kube-dns configmap if &lt;code&gt;stub_domains&lt;/code&gt; are provided&lt;/li&gt;
&lt;li&gt;Activate network policy if &lt;code&gt;network_policy&lt;/code&gt; is true&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;ip-masq-agent&lt;/code&gt; configmap with provided &lt;code&gt;non_masquerade_cidrs&lt;/code&gt; if &lt;code&gt;configure_ip_masq&lt;/code&gt; is true&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Sub modules are provided from creating private clusters, beta private clusters, and beta public clusters as well.  Beta sub modules allow for the use of various GKE beta features. See the modules directory for the various sub modules.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-compatibility" class="anchor" aria-hidden="true" href="#compatibility"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Compatibility&lt;/h2&gt;
&lt;p&gt;This module is meant for use with Terraform 0.12. If you haven't
&lt;a href="https://www.terraform.io/upgrade-guides/0-12.html" rel="nofollow"&gt;upgraded&lt;/a&gt; and need a Terraform
0.11.x-compatible version of this module, the last released version
intended for Terraform 0.11.x is &lt;a href="https://registry.terraform.io/modules/terraform-google-modules/kubernetes-engine/google/3.0.0" rel="nofollow"&gt;3.0.0&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h2&gt;
&lt;p&gt;There are multiple examples included in the &lt;a href="./examples/"&gt;examples&lt;/a&gt; folder but simple usage is as follows:&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;gke&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;source&lt;/span&gt;                     &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;terraform-google-modules/kubernetes-engine/google&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;project_id&lt;/span&gt;                 &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&amp;lt;&lt;span class="pl-s"&gt;PROJECT&lt;/span&gt; &lt;span class="pl-s"&gt;ID&lt;/span&gt;&amp;gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;name&lt;/span&gt;                       &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;gke-test-1&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;region&lt;/span&gt;                     &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;us-central1&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;zones&lt;/span&gt;                      &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;us-central1-a&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;us-central1-b&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;us-central1-f&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
  &lt;span class="pl-smi"&gt;network&lt;/span&gt;                    &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;vpc-01&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;subnetwork&lt;/span&gt;                 &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;us-central1-01&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;ip_range_pods&lt;/span&gt;              &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;us-central1-01-gke-01-pods&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;ip_range_services&lt;/span&gt;          &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;us-central1-01-gke-01-services&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;http_load_balancing&lt;/span&gt;        &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;
  &lt;span class="pl-smi"&gt;horizontal_pod_autoscaling&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
  &lt;span class="pl-smi"&gt;network_policy&lt;/span&gt;             &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;

  &lt;span class="pl-smi"&gt;node_pools&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [
    {
      &lt;span class="pl-smi"&gt;name&lt;/span&gt;               &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;default-node-pool&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
      &lt;span class="pl-smi"&gt;machine_type&lt;/span&gt;       &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;n1-standard-2&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
      &lt;span class="pl-smi"&gt;min_count&lt;/span&gt;          &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;
      &lt;span class="pl-smi"&gt;max_count&lt;/span&gt;          &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;100&lt;/span&gt;
      &lt;span class="pl-smi"&gt;local_ssd_count&lt;/span&gt;    &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;0&lt;/span&gt;
      &lt;span class="pl-smi"&gt;disk_size_gb&lt;/span&gt;       &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;100&lt;/span&gt;
      &lt;span class="pl-smi"&gt;disk_type&lt;/span&gt;          &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;pd-standard&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
      &lt;span class="pl-smi"&gt;image_type&lt;/span&gt;         &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;COS&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
      &lt;span class="pl-smi"&gt;auto_repair&lt;/span&gt;        &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
      &lt;span class="pl-smi"&gt;auto_upgrade&lt;/span&gt;       &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
      &lt;span class="pl-smi"&gt;service_account&lt;/span&gt;    &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;project-service-account&lt;/span&gt;@&amp;lt;&lt;span class="pl-s"&gt;PROJECT&lt;/span&gt; &lt;span class="pl-s"&gt;ID&lt;/span&gt;&amp;gt;&lt;span class="pl-s"&gt;.iam.gserviceaccount.com&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
      &lt;span class="pl-smi"&gt;preemptible&lt;/span&gt;        &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;
      &lt;span class="pl-smi"&gt;initial_node_count&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;80&lt;/span&gt;
    },
  ]

  &lt;span class="pl-smi"&gt;node_pools_oauth_scopes&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; {
    &lt;span class="pl-smi"&gt;all&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; []

    &lt;span class="pl-smi"&gt;default-node-pool&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [
      &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;https&lt;/span&gt;:&lt;span class="pl-s"&gt;//www.googleapis.com/auth/cloud-platform&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;,
    ]
  }

  &lt;span class="pl-smi"&gt;node_pools_labels&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; {
    &lt;span class="pl-smi"&gt;all&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; {}

    &lt;span class="pl-smi"&gt;default-node-pool&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; {
      &lt;span class="pl-smi"&gt;default-node-pool&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
    }
  }

  &lt;span class="pl-smi"&gt;node_pools_metadata&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; {
    &lt;span class="pl-smi"&gt;all&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; {}

    &lt;span class="pl-smi"&gt;default-node-pool&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; {
      &lt;span class="pl-smi"&gt;node-pool-metadata-custom-value&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;my-node-pool&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
    }
  }

  &lt;span class="pl-smi"&gt;node_pools_taints&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; {
    &lt;span class="pl-smi"&gt;all&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; []

    &lt;span class="pl-smi"&gt;default-node-pool&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [
      {
        &lt;span class="pl-smi"&gt;key&lt;/span&gt;    &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;default-node-pool&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
        &lt;span class="pl-smi"&gt;value&lt;/span&gt;  &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
        &lt;span class="pl-smi"&gt;effect&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;PREFER_NO_SCHEDULE&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
      },
    ]
  }

  &lt;span class="pl-smi"&gt;node_pools_tags&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; {
    &lt;span class="pl-smi"&gt;all&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; []

    &lt;span class="pl-smi"&gt;default-node-pool&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [
      &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;default-node-pool&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;,
    ]
  }
}&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Then perform the following commands on the root folder:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;terraform init&lt;/code&gt; to get the plugins&lt;/li&gt;
&lt;li&gt;&lt;code&gt;terraform plan&lt;/code&gt; to see the infrastructure plan&lt;/li&gt;
&lt;li&gt;&lt;code&gt;terraform apply&lt;/code&gt; to apply the infrastructure build&lt;/li&gt;
&lt;li&gt;&lt;code&gt;terraform destroy&lt;/code&gt; to destroy the built infrastructure&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;&lt;a id="user-content-inputs" class="anchor" aria-hidden="true" href="#inputs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Inputs&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th align="center"&gt;Type&lt;/th&gt;
&lt;th align="center"&gt;Default&lt;/th&gt;
&lt;th align="center"&gt;Required&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;basic_auth_password&lt;/td&gt;
&lt;td&gt;The password to be used with Basic Authentication.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;basic_auth_username&lt;/td&gt;
&lt;td&gt;The username to be used with Basic Authentication. An empty value will disable Basic Authentication, which is the recommended configuration.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_ipv4_cidr&lt;/td&gt;
&lt;td&gt;The IP address range of the kubernetes pods in this cluster. Default is an automatically assigned CIDR.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_resource_labels&lt;/td&gt;
&lt;td&gt;The GCE resource labels (a map of key/value pairs) to be applied to the cluster&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;&amp;lt;map&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;configure_ip_masq&lt;/td&gt;
&lt;td&gt;Enables the installation of ip masquerading, which is usually no longer required when using aliasied IP addresses. IP masquerading uses a kubectl call, so when you have a private cluster, you will need access to the API server.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;create_service_account&lt;/td&gt;
&lt;td&gt;Defines if service account specified to run nodes should be created.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;description&lt;/td&gt;
&lt;td&gt;The description of the cluster&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;disable_legacy_metadata_endpoints&lt;/td&gt;
&lt;td&gt;Disable the /0.1/ and /v1beta1/ metadata server endpoints on the node. Changing this value will cause all node pools to be recreated.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;grant_registry_access&lt;/td&gt;
&lt;td&gt;Grants created cluster-specific service account storage.objectViewer role.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;horizontal_pod_autoscaling&lt;/td&gt;
&lt;td&gt;Enable horizontal pod autoscaling addon&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;http_load_balancing&lt;/td&gt;
&lt;td&gt;Enable httpload balancer addon&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;initial_node_count&lt;/td&gt;
&lt;td&gt;The number of nodes to create in this cluster's default node pool.&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"0"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ip_masq_link_local&lt;/td&gt;
&lt;td&gt;Whether to masquerade traffic to the link-local prefix (169.254.0.0/16).&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ip_masq_resync_interval&lt;/td&gt;
&lt;td&gt;The interval at which the agent attempts to sync its ConfigMap file from the disk.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"60s"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ip_range_pods&lt;/td&gt;
&lt;td&gt;The &lt;em&gt;name&lt;/em&gt; of the secondary subnet ip range to use for pods&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ip_range_services&lt;/td&gt;
&lt;td&gt;The &lt;em&gt;name&lt;/em&gt; of the secondary subnet range to use for services&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;issue_client_certificate&lt;/td&gt;
&lt;td&gt;Issues a client certificate to authenticate to the cluster endpoint. To maximize the security of your cluster, leave this option disabled. Client certificates don't automatically rotate and aren't easily revocable. WARNING: changing this after cluster creation is destructive!&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kubernetes_version&lt;/td&gt;
&lt;td&gt;The Kubernetes version of the masters. If set to 'latest' it will pull latest available version in the selected region.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"latest"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;logging_service&lt;/td&gt;
&lt;td&gt;The logging service that the cluster should write logs to. Available options include logging.googleapis.com, logging.googleapis.com/kubernetes (beta), and none&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"logging.googleapis.com"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;maintenance_start_time&lt;/td&gt;
&lt;td&gt;Time window specified for daily maintenance operations in RFC3339 format&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"05:00"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;master_authorized_networks&lt;/td&gt;
&lt;td&gt;List of master authorized networks. If none are provided, disallow external access (except the cluster node IPs, which GKE automatically whitelists).&lt;/td&gt;
&lt;td align="center"&gt;object&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;&amp;lt;list&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;monitoring_service&lt;/td&gt;
&lt;td&gt;The monitoring service that the cluster should write metrics to. Automatically send metrics from pods in the cluster to the Google Cloud Monitoring API. VM metrics will be collected by Google Compute Engine regardless of this setting Available options include monitoring.googleapis.com, monitoring.googleapis.com/kubernetes (beta) and none&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"monitoring.googleapis.com"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;name&lt;/td&gt;
&lt;td&gt;The name of the cluster (required)&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;network&lt;/td&gt;
&lt;td&gt;The VPC network to host the cluster in (required)&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;network_policy&lt;/td&gt;
&lt;td&gt;Enable network policy addon&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;network_policy_provider&lt;/td&gt;
&lt;td&gt;The network policy provider.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"CALICO"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;network_project_id&lt;/td&gt;
&lt;td&gt;The project ID of the shared VPC's host (for shared vpc support)&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;node_pools&lt;/td&gt;
&lt;td&gt;List of maps containing node pools&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;&amp;lt;list&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;node_pools_labels&lt;/td&gt;
&lt;td&gt;Map of maps containing node labels by node-pool name&lt;/td&gt;
&lt;td align="center"&gt;map(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;&amp;lt;map&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;node_pools_metadata&lt;/td&gt;
&lt;td&gt;Map of maps containing node metadata by node-pool name&lt;/td&gt;
&lt;td align="center"&gt;map(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;&amp;lt;map&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;node_pools_oauth_scopes&lt;/td&gt;
&lt;td&gt;Map of lists containing node oauth scopes by node-pool name&lt;/td&gt;
&lt;td align="center"&gt;map(list(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;&amp;lt;map&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;node_pools_tags&lt;/td&gt;
&lt;td&gt;Map of lists containing node network tags by node-pool name&lt;/td&gt;
&lt;td align="center"&gt;map(list(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;&amp;lt;map&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;node_version&lt;/td&gt;
&lt;td&gt;The Kubernetes version of the node pools. Defaults kubernetes_version (master) variable and can be overridden for individual node pools by setting the &lt;code&gt;version&lt;/code&gt; key on them. Must be empyty or set the same as master at cluster creation.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;non_masquerade_cidrs&lt;/td&gt;
&lt;td&gt;List of strings in CIDR notation that specify the IP address ranges that do not use IP masquerading.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;&amp;lt;list&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;project_id&lt;/td&gt;
&lt;td&gt;The project ID to host the cluster in (required)&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;region&lt;/td&gt;
&lt;td&gt;The region to host the cluster in (optional if zonal cluster / required if regional)&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;regional&lt;/td&gt;
&lt;td&gt;Whether is a regional cluster (zonal cluster if set false. WARNING: changing this after cluster creation is destructive!)&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;registry_project_id&lt;/td&gt;
&lt;td&gt;Project holding the Google Container Registry. If empty, we use the cluster project. If grant_registry_access is true, storage.objectViewer role is assigned on this project.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;remove_default_node_pool&lt;/td&gt;
&lt;td&gt;Remove default node pool while setting up the cluster&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;service_account&lt;/td&gt;
&lt;td&gt;The service account to run nodes as if not overridden in &lt;code&gt;node_pools&lt;/code&gt;. The create_service_account variable default value (true) will cause a cluster-specific service account to be created.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;skip_provisioners&lt;/td&gt;
&lt;td&gt;Flag to skip all local-exec provisioners. It breaks &lt;code&gt;stub_domains&lt;/code&gt; and &lt;code&gt;upstream_nameservers&lt;/code&gt; variables functionality.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;stub_domains&lt;/td&gt;
&lt;td&gt;Map of stub domains and their resolvers to forward DNS queries for a certain domain to an external DNS server&lt;/td&gt;
&lt;td align="center"&gt;map(list(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;&amp;lt;map&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;subnetwork&lt;/td&gt;
&lt;td&gt;The subnetwork to host the cluster in (required)&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;upstream_nameservers&lt;/td&gt;
&lt;td&gt;If specified, the values replace the nameservers taken by default from the node’s /etc/resolv.conf&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;&amp;lt;list&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;zones&lt;/td&gt;
&lt;td&gt;The zones to host the cluster in (optional if regional cluster / required if zonal)&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;&amp;lt;list&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-outputs" class="anchor" aria-hidden="true" href="#outputs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Outputs&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;ca_certificate&lt;/td&gt;
&lt;td&gt;Cluster ca certificate (base64 encoded)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;endpoint&lt;/td&gt;
&lt;td&gt;Cluster endpoint&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;horizontal_pod_autoscaling_enabled&lt;/td&gt;
&lt;td&gt;Whether horizontal pod autoscaling enabled&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;http_load_balancing_enabled&lt;/td&gt;
&lt;td&gt;Whether http load balancing enabled&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;location&lt;/td&gt;
&lt;td&gt;Cluster location (region if regional cluster, zone if zonal cluster)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;logging_service&lt;/td&gt;
&lt;td&gt;Logging service used&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;master_authorized_networks_config&lt;/td&gt;
&lt;td&gt;Networks from which access to master is permitted&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;master_version&lt;/td&gt;
&lt;td&gt;Current master kubernetes version&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;min_master_version&lt;/td&gt;
&lt;td&gt;Minimum master kubernetes version&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;monitoring_service&lt;/td&gt;
&lt;td&gt;Monitoring service used&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;name&lt;/td&gt;
&lt;td&gt;Cluster name&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;network_policy_enabled&lt;/td&gt;
&lt;td&gt;Whether network policy enabled&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;node_pools_names&lt;/td&gt;
&lt;td&gt;List of node pools names&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;node_pools_versions&lt;/td&gt;
&lt;td&gt;List of node pools versions&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;region&lt;/td&gt;
&lt;td&gt;Cluster region&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;service_account&lt;/td&gt;
&lt;td&gt;The service account to default running nodes as if not overridden in &lt;code&gt;node_pools&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;type&lt;/td&gt;
&lt;td&gt;Cluster type (regional / zonal)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;zones&lt;/td&gt;
&lt;td&gt;List of zones in which the cluster resides&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2&gt;&lt;a id="user-content-node_pools-variable" class="anchor" aria-hidden="true" href="#node_pools-variable"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;node_pools variable&lt;/h2&gt;
&lt;p&gt;The node_pools variable takes the following parameters:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th&gt;Default&lt;/th&gt;
&lt;th&gt;Requirement&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;accelerator_count&lt;/td&gt;
&lt;td&gt;The number of the guest accelerator cards exposed to this instance&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;Optional&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;accelerator_type&lt;/td&gt;
&lt;td&gt;The accelerator type resource to expose to the instance&lt;/td&gt;
&lt;td&gt;" "&lt;/td&gt;
&lt;td&gt;Optional&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;auto_repair&lt;/td&gt;
&lt;td&gt;Whether the nodes will be automatically repaired&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;Optional&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;autoscaling&lt;/td&gt;
&lt;td&gt;Configuration required by cluster autoscaler to adjust the size of the node pool to the current cluster usage&lt;/td&gt;
&lt;td&gt;true&lt;/td&gt;
&lt;td&gt;Optional&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;auto_upgrade&lt;/td&gt;
&lt;td&gt;Whether the nodes will be automatically upgraded&lt;/td&gt;
&lt;td&gt;true (if cluster is regional)&lt;/td&gt;
&lt;td&gt;Optional&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;disk_size_gb&lt;/td&gt;
&lt;td&gt;Size of the disk attached to each node, specified in GB. The smallest allowed disk size is 10GB&lt;/td&gt;
&lt;td&gt;100GB&lt;/td&gt;
&lt;td&gt;Optional&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;disk_type&lt;/td&gt;
&lt;td&gt;Type of the disk attached to each node (e.g. 'pd-standard' or 'pd-ssd')&lt;/td&gt;
&lt;td&gt;pd-standard&lt;/td&gt;
&lt;td&gt;Optional&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;image_type&lt;/td&gt;
&lt;td&gt;The image type to use for this node. Note that changing the image type will delete and recreate all nodes in the node pool&lt;/td&gt;
&lt;td&gt;COS&lt;/td&gt;
&lt;td&gt;Optional&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;initial_node_count&lt;/td&gt;
&lt;td&gt;The initial number of nodes for the pool. In regional or multi-zonal clusters, this is the number of nodes per zone. Changing this will force recreation of the resource. Defaults to the value of min_count&lt;/td&gt;
&lt;td&gt;" "&lt;/td&gt;
&lt;td&gt;Optional&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;local_ssd_count&lt;/td&gt;
&lt;td&gt;The amount of local SSD disks that will be attached to each cluster node&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;Optional&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;machine_type&lt;/td&gt;
&lt;td&gt;The name of a Google Compute Engine machine type&lt;/td&gt;
&lt;td&gt;n1-standard-2&lt;/td&gt;
&lt;td&gt;Optional&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;max_count&lt;/td&gt;
&lt;td&gt;Maximum number of nodes in the NodePool. Must be &amp;gt;= min_count&lt;/td&gt;
&lt;td&gt;100&lt;/td&gt;
&lt;td&gt;Optional&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;min_count&lt;/td&gt;
&lt;td&gt;Minimum number of nodes in the NodePool. Must be &amp;gt;=0 and &amp;lt;= max_count. Should be used when autoscaling is true&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;Optional&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;name&lt;/td&gt;
&lt;td&gt;The name of the node pool&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Required&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;node_count&lt;/td&gt;
&lt;td&gt;The number of nodes in the nodepool when autoscaling is false. Otherwise defaults to 1. Only valid for non-autoscaling clusers&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Required&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;preemptible&lt;/td&gt;
&lt;td&gt;A boolean that represents whether or not the underlying node VMs are preemptible&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;td&gt;Optional&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;service_account&lt;/td&gt;
&lt;td&gt;The service account to be used by the Node VMs&lt;/td&gt;
&lt;td&gt;" "&lt;/td&gt;
&lt;td&gt;Optional&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tags&lt;/td&gt;
&lt;td&gt;The list of instance tags applied to all nodes&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Required&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;version&lt;/td&gt;
&lt;td&gt;The Kubernetes version for the nodes in this pool. Should only be set if auto_upgrade is false&lt;/td&gt;
&lt;td&gt;" "&lt;/td&gt;
&lt;td&gt;Optional&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-requirements" class="anchor" aria-hidden="true" href="#requirements"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Requirements&lt;/h2&gt;
&lt;p&gt;Before this module can be used on a project, you must ensure that the following pre-requisites are fulfilled:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Terraform and kubectl are &lt;a href="#software-dependencies"&gt;installed&lt;/a&gt; on the machine where Terraform is executed.&lt;/li&gt;
&lt;li&gt;The Service Account you execute the module with has the right &lt;a href="#configure-a-service-account"&gt;permissions&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;The Compute Engine and Kubernetes Engine APIs are &lt;a href="#enable-apis"&gt;active&lt;/a&gt; on the project you will launch the cluster in.&lt;/li&gt;
&lt;li&gt;If you are using a Shared VPC, the APIs must also be activated on the Shared VPC host project and your service account needs the proper permissions there.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The &lt;a href="https://github.com/terraform-google-modules/terraform-google-project-factory"&gt;project factory&lt;/a&gt; can be used to provision projects with the correct APIs active and the necessary Shared VPC connections.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-software-dependencies" class="anchor" aria-hidden="true" href="#software-dependencies"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Software Dependencies&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-kubectl" class="anchor" aria-hidden="true" href="#kubectl"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Kubectl&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/kubernetes/kubernetes/releases"&gt;kubectl&lt;/a&gt; 1.9.x&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-terraform-and-plugins" class="anchor" aria-hidden="true" href="#terraform-and-plugins"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Terraform and Plugins&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.terraform.io/downloads.html" rel="nofollow"&gt;Terraform&lt;/a&gt; 0.12&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-providers/terraform-provider-google"&gt;Terraform Provider for GCP&lt;/a&gt; v2.9&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-configure-a-service-account" class="anchor" aria-hidden="true" href="#configure-a-service-account"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Configure a Service Account&lt;/h3&gt;
&lt;p&gt;In order to execute this module you must have a Service Account with the
following project roles:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;roles/compute.viewer&lt;/li&gt;
&lt;li&gt;roles/container.clusterAdmin&lt;/li&gt;
&lt;li&gt;roles/container.developer&lt;/li&gt;
&lt;li&gt;roles/iam.serviceAccountAdmin&lt;/li&gt;
&lt;li&gt;roles/iam.serviceAccountUser&lt;/li&gt;
&lt;li&gt;roles/resourcemanager.projectIamAdmin (only required if &lt;code&gt;service_account&lt;/code&gt; is set to &lt;code&gt;create&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Additionally, if &lt;code&gt;service_account&lt;/code&gt; is set to &lt;code&gt;create&lt;/code&gt; and &lt;code&gt;grant_registry_access&lt;/code&gt; is requested, the service account requires the following role on the &lt;code&gt;registry_project_id&lt;/code&gt; project:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;roles/resourcemanager.projectIamAdmin&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-enable-apis" class="anchor" aria-hidden="true" href="#enable-apis"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Enable APIs&lt;/h3&gt;
&lt;p&gt;In order to operate with the Service Account you must activate the following APIs on the project where the Service Account was created:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Compute Engine API - compute.googleapis.com&lt;/li&gt;
&lt;li&gt;Kubernetes Engine API - container.googleapis.com&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-file-structure" class="anchor" aria-hidden="true" href="#file-structure"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;File structure&lt;/h2&gt;
&lt;p&gt;The project has the following folders and files:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;/: root folder&lt;/li&gt;
&lt;li&gt;/examples: Examples for using this module and sub module.&lt;/li&gt;
&lt;li&gt;/helpers: Helper scripts.&lt;/li&gt;
&lt;li&gt;/scripts: Scripts for specific tasks on module (see Infrastructure section on this file).&lt;/li&gt;
&lt;li&gt;/test: Folders with files for testing the module (see Testing section on this file).&lt;/li&gt;
&lt;li&gt;/main.tf: &lt;code&gt;main&lt;/code&gt; file for the public module, contains all the resources to create.&lt;/li&gt;
&lt;li&gt;/variables.tf: Variables for the public cluster module.&lt;/li&gt;
&lt;li&gt;/output.tf: The outputs for the public cluster module.&lt;/li&gt;
&lt;li&gt;/README.MD: This file.&lt;/li&gt;
&lt;li&gt;/modules: Private and beta sub modules.&lt;/li&gt;
&lt;/ul&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>terraform-google-modules</author><guid isPermaLink="false">https://github.com/terraform-google-modules/terraform-google-kubernetes-engine</guid><pubDate>Thu, 26 Dec 2019 00:01:00 GMT</pubDate></item><item><title>gruntwork-io/terraform-google-gke #2 in HCL, Today</title><link>https://github.com/gruntwork-io/terraform-google-gke</link><description>&lt;p&gt;&lt;i&gt;Terraform code and scripts for deploying a Google Kubernetes Engine (GKE) cluster.&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;p&gt;&lt;a href="https://gruntwork.io/?ref=repo_google_gke" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/09a62e7f2dcb8b64a44ff0fd7b7ff7c901640ba2/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6d61696e7461696e656425323062792d6772756e74776f726b2e696f2d2532333538343961362e737667" alt="Maintained by Gruntwork.io" data-canonical-src="https://img.shields.io/badge/maintained%20by-gruntwork.io-%235849a6.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://github.com/gruntwork-io/terraform-google-gke/releases/latest"&gt;&lt;img src="https://camo.githubusercontent.com/5f8a7bf64d7149d09c8db6fc512a929e6fd32a81/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f7461672f6772756e74776f726b2d696f2f7465727261666f726d2d676f6f676c652d676b652e7376673f6c6162656c3d6c6174657374" alt="GitHub tag (latest SemVer)" data-canonical-src="https://img.shields.io/github/tag/gruntwork-io/terraform-google-gke.svg?label=latest" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/626eaf5669319d32dbe5b91ed23601282ce806fc/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f74662d253345253344302e31322e302d626c75652e737667"&gt;&lt;img src="https://camo.githubusercontent.com/626eaf5669319d32dbe5b91ed23601282ce806fc/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f74662d253345253344302e31322e302d626c75652e737667" alt="Terraform Version" data-canonical-src="https://img.shields.io/badge/tf-%3E%3D0.12.0-blue.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-google-kubernetes-engine-gke-module" class="anchor" aria-hidden="true" href="#google-kubernetes-engine-gke-module"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Google Kubernetes Engine (GKE) Module&lt;/h1&gt;
&lt;p&gt;This repo contains a &lt;a href="https://www.terraform.io" rel="nofollow"&gt;Terraform&lt;/a&gt; module for running a Kubernetes cluster on &lt;a href="https://cloud.google.com/" rel="nofollow"&gt;Google Cloud Platform (GCP)&lt;/a&gt;
using &lt;a href="https://cloud.google.com/kubernetes-engine/" rel="nofollow"&gt;Google Kubernetes Engine (GKE)&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-quickstart" class="anchor" aria-hidden="true" href="#quickstart"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Quickstart&lt;/h2&gt;
&lt;p&gt;If you want to quickly spin up a GKE Private Cluster with Tiller, you can run the example that is in the root of this
repo. Check out the &lt;a href="https://github.com/gruntwork-io/terraform-google-gke/blob/master/examples/gke-private-tiller"&gt;gke-private-tiller example documentation&lt;/a&gt;
for instructions.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-whats-in-this-repo" class="anchor" aria-hidden="true" href="#whats-in-this-repo"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What's in this repo&lt;/h2&gt;
&lt;p&gt;This repo has the following folder structure:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/gruntwork-io/terraform-google-gke/tree/master"&gt;root&lt;/a&gt;: The root folder contains an example of how
to deploy a GKE Private Cluster with Tiller. See &lt;a href="https://github.com/gruntwork-io/terraform-google-gke/blob/master/examples/gke-private-tiller"&gt;gke-private-tiller&lt;/a&gt;
for the documentation.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/gruntwork-io/terraform-google-gke/tree/master/modules"&gt;modules&lt;/a&gt;: This folder contains the
main implementation code for this Module, broken down into multiple standalone submodules.&lt;/p&gt;
&lt;p&gt;The primary module is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/gruntwork-io/terraform-google-gke/tree/master/modules/gke-cluster"&gt;gke-cluster&lt;/a&gt;: The GKE Cluster module is used to
administer the &lt;a href="https://cloud.google.com/kubernetes-engine/docs/concepts/cluster-architecture" rel="nofollow"&gt;cluster master&lt;/a&gt;
for a &lt;a href="https://cloud.google.com/kubernetes-engine/docs/how-to/cluster-admin-overview" rel="nofollow"&gt;GKE Cluster&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are also several supporting modules that add extra functionality on top of &lt;code&gt;gke-cluster&lt;/code&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/gruntwork-io/terraform-google-gke/tree/master/modules/gke-service-account"&gt;gke-service-account&lt;/a&gt;:
Used to configure a GCP service account for use with a GKE cluster.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/gruntwork-io/terraform-google-gke/tree/master/examples"&gt;examples&lt;/a&gt;: This folder contains
examples of how to use the submodules.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/gruntwork-io/terraform-google-gke/tree/master/test"&gt;test&lt;/a&gt;: Automated tests for the submodules
and examples.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-what-is-kubernetes" class="anchor" aria-hidden="true" href="#what-is-kubernetes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What is Kubernetes?&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://kubernetes.io" rel="nofollow"&gt;Kubernetes&lt;/a&gt; is an open source container management system for deploying, scaling, and managing
containerized applications. Kubernetes is built by Google based on their internal proprietary container management
systems (Borg and Omega). Kubernetes provides a cloud agnostic platform to deploy your containerized applications with
built in support for common operational tasks such as replication, autoscaling, self-healing, and rolling deployments.&lt;/p&gt;
&lt;p&gt;You can learn more about Kubernetes from &lt;a href="https://kubernetes.io/docs/tutorials/kubernetes-basics/" rel="nofollow"&gt;the official documentation&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-what-is-gke" class="anchor" aria-hidden="true" href="#what-is-gke"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What is GKE?&lt;/h2&gt;
&lt;p&gt;Google Kubernetes Engine or "GKE" is a Google-managed Kubernetes environment. GKE is a fully managed experience; it
handles the management/upgrading of the Kubernetes cluster master as well as autoscaling of "nodes" through "node pool"
templates.&lt;/p&gt;
&lt;p&gt;Through GKE, your Kubernetes deployments will have first-class support for GCP IAM identities, built-in configuration of
high-availability and secured clusters, as well as native access to GCP's networking features such as load balancers.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-how-do-you-run-applications-on-kubernetes" class="anchor" aria-hidden="true" href="#how-do-you-run-applications-on-kubernetes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a name="user-content-how-to-run-applications"&gt;&lt;/a&gt;How do you run applications on Kubernetes?&lt;/h2&gt;
&lt;p&gt;There are three different ways you can schedule your application on a Kubernetes cluster. In all three, your application
Docker containers are packaged as a &lt;a href="https://kubernetes.io/docs/concepts/workloads/pods/pod/" rel="nofollow"&gt;Pod&lt;/a&gt;, which are the
smallest deployable unit in Kubernetes, and represent one or more Docker containers that are tightly coupled. Containers
in a Pod share certain elements of the kernel space that are traditionally isolated between containers, such as the
network space (the containers both share an IP and thus the available ports are shared), IPC namespace, and PIDs in some
cases.&lt;/p&gt;
&lt;p&gt;Pods are considered to be relatively ephemeral disposable entities in the Kubernetes ecosystem. This is because Pods are
designed to be mobile across the cluster so that you can design a scalable fault tolerant system. As such, Pods are
generally scheduled with
&lt;a href="https://kubernetes.io/docs/concepts/workloads/pods/pod-overview/#pods-and-controllers" rel="nofollow"&gt;Controllers&lt;/a&gt; that manage the
lifecycle of a Pod. Using Controllers, you can schedule your Pods as:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Jobs, which are Pods with a controller that will guarantee the Pods run to completion.&lt;/li&gt;
&lt;li&gt;Deployments behind a Service, which are Pods with a controller that implement lifecycle rules to provide replication
and self-healing capabilities. Deployments will automatically reprovision failed Pods, or migrate Pods to healthy
nodes off of failed nodes. A Service constructs a consistent endpoint that can be used to access the Deployment.&lt;/li&gt;
&lt;li&gt;Daemon Sets, which are Pods that are scheduled on all worker nodes. Daemon Sets schedule exactly one instance of a Pod
on each node. Like Deployments, Daemon Sets will reprovision failed Pods and schedule new ones automatically on
new nodes that join the cluster.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;&lt;a id="user-content-whats-a-module" class="anchor" aria-hidden="true" href="#whats-a-module"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What's a Module?&lt;/h2&gt;
&lt;p&gt;A Module is a canonical, reusable, best-practices definition for how to run a single piece of infrastructure, such
as a database or server cluster. Each Module is written using a combination of &lt;a href="https://www.terraform.io/" rel="nofollow"&gt;Terraform&lt;/a&gt;
and scripts (mostly bash) and include automated tests, documentation, and examples. It is maintained both by the open
source community and companies that provide commercial support.&lt;/p&gt;
&lt;p&gt;Instead of figuring out the details of how to run a piece of infrastructure from scratch, you can reuse
existing code that has been proven in production. And instead of maintaining all that infrastructure code yourself,
you can leverage the work of the Module community to pick up infrastructure improvements through
a version number bump.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-who-maintains-this-module" class="anchor" aria-hidden="true" href="#who-maintains-this-module"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Who maintains this Module?&lt;/h2&gt;
&lt;p&gt;This Module and its Submodules are maintained by &lt;a href="http://www.gruntwork.io/" rel="nofollow"&gt;Gruntwork&lt;/a&gt;. If you are looking for help or
commercial support, send an email to
&lt;a href="mailto:support@gruntwork.io?Subject=GKE%20Module"&gt;support@gruntwork.io&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Gruntwork can help with:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Setup, customization, and support for this Module.&lt;/li&gt;
&lt;li&gt;Modules and submodules for other types of infrastructure, such as VPCs, Docker clusters, databases, and continuous
integration.&lt;/li&gt;
&lt;li&gt;Modules and Submodules that meet compliance requirements, such as HIPAA.&lt;/li&gt;
&lt;li&gt;Consulting &amp;amp; Training on AWS, Terraform, and DevOps.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-how-do-i-contribute-to-this-module" class="anchor" aria-hidden="true" href="#how-do-i-contribute-to-this-module"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How do I contribute to this Module?&lt;/h2&gt;
&lt;p&gt;Contributions are very welcome! Check out the &lt;a href="https://github.com/gruntwork-io/terraform-google-gke/blob/master/CONTRIBUTING.md"&gt;Contribution Guidelines&lt;/a&gt;
for instructions.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-how-is-this-module-versioned" class="anchor" aria-hidden="true" href="#how-is-this-module-versioned"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How is this Module versioned?&lt;/h2&gt;
&lt;p&gt;This Module follows the principles of &lt;a href="http://semver.org/" rel="nofollow"&gt;Semantic Versioning&lt;/a&gt;. You can find each new release, along
with the changelog, in the &lt;a href="https://github.com/gruntwork-io/terraform-google-gke/releases"&gt;Releases Page&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;During initial development, the major version will be 0 (e.g., &lt;code&gt;0.x.y&lt;/code&gt;), which indicates the code does not yet have a
stable API. Once we hit &lt;code&gt;1.0.0&lt;/code&gt;, we will make every effort to maintain a backwards compatible API and use the MAJOR,
MINOR, and PATCH versions on each release to indicate any incompatibilities.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;Please see &lt;a href="https://github.com/gruntwork-io/terraform-google-gke/blob/master/LICENSE"&gt;LICENSE&lt;/a&gt; for how the code in this
repo is licensed.&lt;/p&gt;
&lt;p&gt;Copyright © 2019 Gruntwork, Inc.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>gruntwork-io</author><guid isPermaLink="false">https://github.com/gruntwork-io/terraform-google-gke</guid><pubDate>Thu, 26 Dec 2019 00:02:00 GMT</pubDate></item><item><title>wardviaene/terraform-course #3 in HCL, Today</title><link>https://github.com/wardviaene/terraform-course</link><description>&lt;p&gt;&lt;i&gt;Course files for my Udemy course about Terraform&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-terraform-course" class="anchor" aria-hidden="true" href="#terraform-course"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;terraform-course&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;These files are part of my Udemy course about Terraform&lt;/li&gt;
&lt;li&gt;Course URL: &lt;a href="https://www.udemy.com/learn-devops-infrastructure-automation-with-terraform/?couponCode=TERRAFORM_GIT" rel="nofollow"&gt;https://www.udemy.com/learn-devops-infrastructure-automation-with-terraform/?couponCode=TERRAFORM_GIT&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-compatibility" class="anchor" aria-hidden="true" href="#compatibility"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Compatibility&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;This is the &amp;gt;=terraform-0.12 branch. For compatibility with older versions, use the terraform-0.11 branch.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-demo-overview" class="anchor" aria-hidden="true" href="#demo-overview"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Demo overview&lt;/h1&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Demo Directory&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;first-steps&lt;/td&gt;
&lt;td&gt;First steps&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-1&lt;/td&gt;
&lt;td&gt;First steps: Launching an EC2 instance&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-2&lt;/td&gt;
&lt;td&gt;Using provisioner&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-2b&lt;/td&gt;
&lt;td&gt;Using provisioner on a Windows instance&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-3&lt;/td&gt;
&lt;td&gt;Executing script locally&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-4&lt;/td&gt;
&lt;td&gt;Outputting&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-5&lt;/td&gt;
&lt;td&gt;Data Source&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-6&lt;/td&gt;
&lt;td&gt;Modules&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-7&lt;/td&gt;
&lt;td&gt;AWS VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-8&lt;/td&gt;
&lt;td&gt;EC2 instance within VPC with securitygroup&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-9&lt;/td&gt;
&lt;td&gt;EC2 instance with EBS volumes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-10&lt;/td&gt;
&lt;td&gt;Userdata and cloudinit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-11&lt;/td&gt;
&lt;td&gt;Route53 (DNS)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-12&lt;/td&gt;
&lt;td&gt;RDS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-13&lt;/td&gt;
&lt;td&gt;IAM&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-14&lt;/td&gt;
&lt;td&gt;IAM Roles with S3 bucket&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-15&lt;/td&gt;
&lt;td&gt;Autoscaling&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-16&lt;/td&gt;
&lt;td&gt;Autoscaling with ELB (Elastic Load Balancer)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-17&lt;/td&gt;
&lt;td&gt;Elastic Beanstalk PHP 7 stack with RDS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-18&lt;/td&gt;
&lt;td&gt;Interpolations, VPC module&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-18b&lt;/td&gt;
&lt;td&gt;Project structure, best practices&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;packer-demo&lt;/td&gt;
&lt;td&gt;Build AMIs with Packer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;jenkins-packer-demo&lt;/td&gt;
&lt;td&gt;Demo with jenkins and Packer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;docker-demo-1&lt;/td&gt;
&lt;td&gt;Using ECR - The EC2 Container Registry&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;docker-demo-2&lt;/td&gt;
&lt;td&gt;Using ECS - The EC2 Container Service&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;docker-demo-3&lt;/td&gt;
&lt;td&gt;Using ECR/ECS with Jenkins in a complete workflow&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;module-demo&lt;/td&gt;
&lt;td&gt;Using ECS + ALB in 4 modules to show how developing terraform modules work&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>wardviaene</author><guid isPermaLink="false">https://github.com/wardviaene/terraform-course</guid><pubDate>Thu, 26 Dec 2019 00:03:00 GMT</pubDate></item><item><title>brikis98/terraform-up-and-running-code #4 in HCL, Today</title><link>https://github.com/brikis98/terraform-up-and-running-code</link><description>&lt;p&gt;&lt;i&gt;Code samples for the book "Terraform: Up &amp; Running" by Yevgeniy Brikman&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-terraform-up--running-code" class="anchor" aria-hidden="true" href="#terraform-up--running-code"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Terraform: Up &amp;amp; Running Code&lt;/h1&gt;
&lt;p&gt;This repo contains the code samples for the book &lt;em&gt;&lt;a href="http://www.terraformupandrunning.com" rel="nofollow"&gt;Terraform: Up and Running&lt;/a&gt;&lt;/em&gt;,
2nd edition, by &lt;a href="http://www.ybrikman.com" rel="nofollow"&gt;Yevgeniy Brikman&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-quick-start" class="anchor" aria-hidden="true" href="#quick-start"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Quick start&lt;/h2&gt;
&lt;p&gt;All the code is in the &lt;a href="/code"&gt;code&lt;/a&gt; folder. It is organized by language (terraform, bash, ruby, etc) and within each
language, by chapter. Since this code comes from a book about Terraform, the vast majority of the code consists of
Terraform examples in the &lt;a href="/code/terraform"&gt;code/terraform folder&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;For instructions on running the code, please consult the README in each folder, and, of course, the
&lt;em&gt;&lt;a href="http://www.terraformupandrunning.com" rel="nofollow"&gt;Terraform: Up and Running&lt;/a&gt;&lt;/em&gt; book.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-more-examples" class="anchor" aria-hidden="true" href="#more-examples"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;More examples&lt;/h2&gt;
&lt;p&gt;The example code in &lt;em&gt;Terraform: Up and Running&lt;/em&gt; are mostly for Amazon Web Services (AWS). There is a project underway
to translate these examples to their equivalents on other cloud providers, such as Google Cloud and Azure, here:
&lt;a href="https://github.com/mjuenema/Terraform-Up-and-Running-Code-Samples-Translated/"&gt;https://github.com/mjuenema/Terraform-Up-and-Running-Code-Samples-Translated/&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-looking-for-the-1st-edition" class="anchor" aria-hidden="true" href="#looking-for-the-1st-edition"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Looking for the 1st edition?&lt;/h2&gt;
&lt;p&gt;All the code examples in the &lt;code&gt;master&lt;/code&gt; branch are for the 2nd edition of &lt;em&gt;Terraform: Up &amp;amp; Running&lt;/em&gt;. If you're looking
for the code examples from the 1st edition, please head over to the
&lt;a href="https://github.com/brikis98/terraform-up-and-running-code/tree/1st-edition"&gt;1st-edition branch&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;This code is released under the MIT License. See LICENSE.txt.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>brikis98</author><guid isPermaLink="false">https://github.com/brikis98/terraform-up-and-running-code</guid><pubDate>Thu, 26 Dec 2019 00:04:00 GMT</pubDate></item><item><title>kubernetes-sigs/kubespray #5 in HCL, Today</title><link>https://github.com/kubernetes-sigs/kubespray</link><description>&lt;p&gt;&lt;i&gt;Deploy a Production Ready Kubernetes Cluster&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-deploy-a-production-ready-kubernetes-cluster" class="anchor" aria-hidden="true" href="#deploy-a-production-ready-kubernetes-cluster"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deploy a Production Ready Kubernetes Cluster&lt;/h1&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://raw.githubusercontent.com/kubernetes-sigs/kubespray/master/docs/img/kubernetes-logo.png"&gt;&lt;img src="https://raw.githubusercontent.com/kubernetes-sigs/kubespray/master/docs/img/kubernetes-logo.png" alt="Kubernetes Logo" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If you have questions, check the &lt;a href="https://kubespray.io" rel="nofollow"&gt;documentation&lt;/a&gt; and join us on the &lt;a href="https://kubernetes.slack.com" rel="nofollow"&gt;kubernetes slack&lt;/a&gt;, channel &lt;strong&gt;#kubespray&lt;/strong&gt;.
You can get your invite &lt;a href="http://slack.k8s.io/" rel="nofollow"&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Can be deployed on &lt;strong&gt;AWS, GCE, Azure, OpenStack, vSphere, Packet (bare metal), Oracle Cloud Infrastructure (Experimental), or Baremetal&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Highly available&lt;/strong&gt; cluster&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Composable&lt;/strong&gt; (Choice of the network plugin for instance)&lt;/li&gt;
&lt;li&gt;Supports most popular &lt;strong&gt;Linux distributions&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Continuous integration tests&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-quick-start" class="anchor" aria-hidden="true" href="#quick-start"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;
&lt;p&gt;To deploy the cluster you can use :&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-ansible" class="anchor" aria-hidden="true" href="#ansible"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ansible&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h4&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;# &lt;span class="pl-s1"&gt;Install dependencies from &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;requirements.txt&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;sudo pip install -r requirements.txt&lt;/span&gt;

# &lt;span class="pl-s1"&gt;Copy &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;inventory/sample&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt; as &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;inventory/mycluster&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;cp -rfp inventory/sample inventory/mycluster&lt;/span&gt;

# &lt;span class="pl-s1"&gt;Update Ansible inventory file with inventory builder&lt;/span&gt;
&lt;span class="pl-c1"&gt;declare -a IPS=(10.10.1.3 10.10.1.4 10.10.1.5)&lt;/span&gt;
&lt;span class="pl-c1"&gt;CONFIG_FILE=inventory/mycluster/hosts.yaml python3 contrib/inventory_builder/inventory.py ${IPS[@]}&lt;/span&gt;

# &lt;span class="pl-s1"&gt;Review and change parameters under &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;inventory/mycluster/group_vars&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;cat inventory/mycluster/group_vars/all/all.yml&lt;/span&gt;
&lt;span class="pl-c1"&gt;cat inventory/mycluster/group_vars/k8s-cluster/k8s-cluster.yml&lt;/span&gt;

# &lt;span class="pl-s1"&gt;Deploy Kubespray with Ansible Playbook - run the playbook as root&lt;/span&gt;
# &lt;span class="pl-s1"&gt;The option &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;--become&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt; is required, as &lt;span class="pl-k"&gt;for&lt;/span&gt; &lt;span class="pl-smi"&gt;example writing SSL keys&lt;/span&gt; &lt;span class="pl-k"&gt;in&lt;/span&gt; /etc/,&lt;/span&gt;
# &lt;span class="pl-s1"&gt;installing packages and interacting with various systemd daemons.&lt;/span&gt;
# &lt;span class="pl-s1"&gt;Without --become the playbook will fail to run&lt;span class="pl-k"&gt;!&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;ansible-playbook -i inventory/mycluster/hosts.yaml  --become --become-user=root cluster.yml&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note: When Ansible is already installed via system packages on the control machine, other python packages installed via &lt;code&gt;sudo pip install -r requirements.txt&lt;/code&gt; will go to a different directory tree (e.g. &lt;code&gt;/usr/local/lib/python2.7/dist-packages&lt;/code&gt; on Ubuntu) from Ansible's (e.g. &lt;code&gt;/usr/lib/python2.7/dist-packages/ansible&lt;/code&gt; still on Ubuntu).
As a consequence, &lt;code&gt;ansible-playbook&lt;/code&gt; command will fail with:&lt;/p&gt;
&lt;pre lang="raw"&gt;&lt;code&gt;ERROR! no action detected in task. This often indicates a misspelled module name, or incorrect module path.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;probably pointing on a task depending on a module present in requirements.txt (i.e. "unseal vault").&lt;/p&gt;
&lt;p&gt;One way of solving this would be to uninstall the Ansible package and then, to install it via pip but it is not always possible.
A workaround consists of setting &lt;code&gt;ANSIBLE_LIBRARY&lt;/code&gt; and &lt;code&gt;ANSIBLE_MODULE_UTILS&lt;/code&gt; environment variables respectively to the &lt;code&gt;ansible/modules&lt;/code&gt; and &lt;code&gt;ansible/module_utils&lt;/code&gt; subdirectories of pip packages installation location, which can be found in the Location field of the output of &lt;code&gt;pip show [package]&lt;/code&gt; before executing &lt;code&gt;ansible-playbook&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-vagrant" class="anchor" aria-hidden="true" href="#vagrant"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Vagrant&lt;/h3&gt;
&lt;p&gt;For Vagrant we need to install python dependencies for provisioning tasks.
Check if Python and pip are installed:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;python -V &amp;amp;&amp;amp; pip -V&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If this returns the version of the software, you're good to go. If not, download and install Python from here &lt;a href="https://www.python.org/downloads/source/" rel="nofollow"&gt;https://www.python.org/downloads/source/&lt;/a&gt;
Install the necessary requirements&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;sudo pip install -r requirements.txt&lt;/span&gt;
&lt;span class="pl-c1"&gt;vagrant up&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-documents" class="anchor" aria-hidden="true" href="#documents"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Documents&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#requirements"&gt;Requirements&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/comparisons.md"&gt;Kubespray vs ...&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/getting-started.md"&gt;Getting started&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/ansible.md"&gt;Ansible inventory and tags&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/integration.md"&gt;Integration with existing ansible repo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/vars.md"&gt;Deployment data variables&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/dns-stack.md"&gt;DNS stack&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/ha-mode.md"&gt;HA mode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#network-plugins"&gt;Network plugins&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/vagrant.md"&gt;Vagrant install&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/coreos.md"&gt;CoreOS bootstrap&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/debian.md"&gt;Debian Jessie setup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/opensuse.md"&gt;openSUSE setup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/downloads.md"&gt;Downloaded artifacts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/cloud.md"&gt;Cloud providers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/openstack.md"&gt;OpenStack&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/aws.md"&gt;AWS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/azure.md"&gt;Azure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/vsphere.md"&gt;vSphere&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/packet.md"&gt;Packet Host&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/large-deployments.md"&gt;Large deployments&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/upgrades.md"&gt;Upgrades basics&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/roadmap.md"&gt;Roadmap&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-supported-linux-distributions" class="anchor" aria-hidden="true" href="#supported-linux-distributions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Supported Linux Distributions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Container Linux by CoreOS&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Debian&lt;/strong&gt; Buster, Jessie, Stretch, Wheezy&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ubuntu&lt;/strong&gt; 16.04, 18.04&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CentOS/RHEL&lt;/strong&gt; 7&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Fedora&lt;/strong&gt; 28&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Fedora/CentOS&lt;/strong&gt; Atomic&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;openSUSE&lt;/strong&gt; Leap 42.3/Tumbleweed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Oracle Linux&lt;/strong&gt; 7&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note: Upstart/SysV init based OS types are not supported.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-supported-components" class="anchor" aria-hidden="true" href="#supported-components"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Supported Components&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Core
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/kubernetes/kubernetes"&gt;kubernetes&lt;/a&gt; v1.16.3&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/coreos/etcd"&gt;etcd&lt;/a&gt; v3.3.10&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.docker.com/" rel="nofollow"&gt;docker&lt;/a&gt; v18.06 (see note)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://cri-o.io/" rel="nofollow"&gt;cri-o&lt;/a&gt; v1.14.0 (experimental: see &lt;a href="docs/cri-o.md"&gt;CRI-O Note&lt;/a&gt;. Only on centos based OS)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Network Plugin
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/containernetworking/plugins"&gt;cni-plugins&lt;/a&gt; v0.8.1&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/projectcalico/calico"&gt;calico&lt;/a&gt; v3.7.3&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/projectcalico/canal"&gt;canal&lt;/a&gt; (given calico/flannel versions)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/cilium/cilium"&gt;cilium&lt;/a&gt; v1.5.5&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/contiv/install"&gt;contiv&lt;/a&gt; v1.2.1&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/coreos/flannel"&gt;flanneld&lt;/a&gt; v0.11.0&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/cloudnativelabs/kube-router"&gt;kube-router&lt;/a&gt; v0.2.5&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/intel/multus-cni"&gt;multus&lt;/a&gt; v3.2.1&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/weaveworks/weave"&gt;weave&lt;/a&gt; v2.5.2&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Application
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/kubernetes-incubator/external-storage"&gt;cephfs-provisioner&lt;/a&gt; v2.1.0-k8s1.11&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kubernetes-incubator/external-storage"&gt;rbd-provisioner&lt;/a&gt; v2.1.1-k8s1.11&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jetstack/cert-manager"&gt;cert-manager&lt;/a&gt; v0.11.0&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/coredns/coredns"&gt;coredns&lt;/a&gt; v1.6.0&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kubernetes/ingress-nginx"&gt;ingress-nginx&lt;/a&gt; v0.26.1&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note: The list of validated &lt;a href="https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG-1.16.md"&gt;docker versions&lt;/a&gt; was updated to 1.13.1, 17.03, 17.06, 17.09, 18.06, 18.09. kubeadm now properly recognizes Docker 18.09.0 and newer, but still treats 18.06 as the default supported version. The kubelet might break on docker's non-standard version numbering (it no longer uses semantic versioning). To ensure auto-updates don't break your cluster look into e.g. yum versionlock plugin or apt pin).&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-requirements" class="anchor" aria-hidden="true" href="#requirements"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Requirements&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Minimum required version of Kubernetes is v1.15&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ansible v2.7.8 and python-netaddr is installed on the machine that will run Ansible commands&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Jinja 2.9 (or newer) is required to run the Ansible Playbooks&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;The target servers must have &lt;strong&gt;access to the Internet&lt;/strong&gt; in order to pull docker images. Otherwise, additional configuration is required (See &lt;a href="https://github.com/kubernetes-sigs/kubespray/blob/master/docs/downloads.md#offline-environment"&gt;Offline Environment&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;The target servers are configured to allow &lt;strong&gt;IPv4 forwarding&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Your ssh key must be copied&lt;/strong&gt; to all the servers part of your inventory.&lt;/li&gt;
&lt;li&gt;The &lt;strong&gt;firewalls are not managed&lt;/strong&gt;, you'll need to implement your own rules the way you used to.
in order to avoid any issue during deployment you should disable your firewall.&lt;/li&gt;
&lt;li&gt;If kubespray is ran from non-root user account, correct privilege escalation method
should be configured in the target servers. Then the &lt;code&gt;ansible_become&lt;/code&gt; flag
or command parameters &lt;code&gt;--become or -b&lt;/code&gt; should be specified.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Hardware:
These limits are safe guarded by Kubespray. Actual requirements for your workload can differ. For a sizing guide go to the &lt;a href="https://kubernetes.io/docs/setup/cluster-large/#size-of-master-and-master-components" rel="nofollow"&gt;Building Large Clusters&lt;/a&gt; guide.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Master
&lt;ul&gt;
&lt;li&gt;Memory: 1500 MB&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Node
&lt;ul&gt;
&lt;li&gt;Memory: 1024 MB&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-network-plugins" class="anchor" aria-hidden="true" href="#network-plugins"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Network Plugins&lt;/h2&gt;
&lt;p&gt;You can choose between 10 network plugins. (default: &lt;code&gt;calico&lt;/code&gt;, except Vagrant uses &lt;code&gt;flannel&lt;/code&gt;)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/flannel.md"&gt;flannel&lt;/a&gt;: gre/vxlan (layer 2) networking.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/calico.md"&gt;calico&lt;/a&gt;: bgp (layer 3) networking.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/projectcalico/canal"&gt;canal&lt;/a&gt;: a composition of calico and flannel plugins.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://docs.cilium.io/en/latest/" rel="nofollow"&gt;cilium&lt;/a&gt;: layer 3/4 networking (as well as layer 7 to protect and secure application protocols), supports dynamic insertion of BPF bytecode into the Linux kernel to implement security services, networking and visibility logic.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/contiv.md"&gt;contiv&lt;/a&gt;: supports vlan, vxlan, bgp and Cisco SDN networking. This plugin is able to
apply firewall policies, segregate containers in multiple network and bridging pods onto physical networks.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/weave.md"&gt;weave&lt;/a&gt;: Weave is a lightweight container overlay network that doesn't require an external K/V database cluster.
(Please refer to &lt;code&gt;weave&lt;/code&gt; &lt;a href="https://www.weave.works/docs/net/latest/troubleshooting/" rel="nofollow"&gt;troubleshooting documentation&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/kube-ovn.md"&gt;kube-ovn&lt;/a&gt;: Kube-OVN integrates the OVN-based Network Virtualization with Kubernetes. It offers an advanced Container Network Fabric for Enterprises.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/kube-router.md"&gt;kube-router&lt;/a&gt;: Kube-router is a L3 CNI for Kubernetes networking aiming to provide operational
simplicity and high performance: it uses IPVS to provide Kube Services Proxy (if setup to replace kube-proxy),
iptables for network policies, and BGP for ods L3 networking (with optionally BGP peering with out-of-cluster BGP peers).
It can also optionally advertise routes to Kubernetes cluster Pods CIDRs, ClusterIPs, ExternalIPs and LoadBalancerIPs.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/macvlan.md"&gt;macvlan&lt;/a&gt;: Macvlan is a Linux network driver. Pods have their own unique Mac and Ip address, connected directly the physical (layer 2) network.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/multus.md"&gt;multus&lt;/a&gt;: Multus is a meta CNI plugin that provides multiple network interface support to pods. For each interface Multus delegates CNI calls to secondary CNI plugins such as Calico, macvlan, etc.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The choice is defined with the variable &lt;code&gt;kube_network_plugin&lt;/code&gt;. There is also an
option to leverage built-in cloud provider networking instead.
See also &lt;a href="docs/netcheck.md"&gt;Network checker&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-community-docs-and-resources" class="anchor" aria-hidden="true" href="#community-docs-and-resources"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Community docs and resources&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://kubernetes.io/docs/setup/production-environment/tools/kubespray/" rel="nofollow"&gt;kubernetes.io/docs/setup/production-environment/tools/kubespray/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/gregbkr/kubernetes-kargo-logging-monitoring"&gt;kubespray, monitoring and logging&lt;/a&gt; by @gregbkr&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rsmitty.github.io/Terraform-Ansible-Kubernetes/" rel="nofollow"&gt;Deploy Kubernetes w/ Ansible &amp;amp; Terraform&lt;/a&gt; by @rsmitty&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=N9q51JgbWu8" rel="nofollow"&gt;Deploy a Kubernetes Cluster with Kubespray (video)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-tools-and-projects-on-top-of-kubespray" class="anchor" aria-hidden="true" href="#tools-and-projects-on-top-of-kubespray"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Tools and projects on top of Kubespray&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/digitalrebar/provision/blob/v4/doc/integrations/ansible.rst"&gt;Digital Rebar Provision&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kubernetes-sigs/kubespray/tree/master/contrib/terraform"&gt;Terraform Contrib&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-ci-tests" class="anchor" aria-hidden="true" href="#ci-tests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CI Tests&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://gitlab.com/kargo-ci/kubernetes-sigs-kubespray/pipelines" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/a28fbe788ec772a755e3e72243cd072b55090c83/68747470733a2f2f6769746c61622e636f6d2f6b6172676f2d63692f6b756265726e657465732d736967732d6b75626573707261792f6261646765732f6d61737465722f6275696c642e737667" alt="Build graphs" data-canonical-src="https://gitlab.com/kargo-ci/kubernetes-sigs-kubespray/badges/master/build.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;CI/end-to-end tests sponsored by Google (GCE)
See the &lt;a href="docs/test_cases.md"&gt;test matrix&lt;/a&gt; for details.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>kubernetes-sigs</author><guid isPermaLink="false">https://github.com/kubernetes-sigs/kubespray</guid><pubDate>Thu, 26 Dec 2019 00:05:00 GMT</pubDate></item><item><title>terraform-aws-modules/terraform-aws-rds #6 in HCL, Today</title><link>https://github.com/terraform-aws-modules/terraform-aws-rds</link><description>&lt;p&gt;&lt;i&gt;Terraform module which creates RDS resources on AWS&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-aws-rds-terraform-module" class="anchor" aria-hidden="true" href="#aws-rds-terraform-module"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;AWS RDS Terraform module&lt;/h1&gt;
&lt;p&gt;Terraform module which creates RDS resources on AWS.&lt;/p&gt;
&lt;p&gt;These types of resources are supported:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/db_instance.html" rel="nofollow"&gt;DB Instance&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/db_subnet_group.html" rel="nofollow"&gt;DB Subnet Group&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/db_parameter_group.html" rel="nofollow"&gt;DB Parameter Group&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/db_option_group.html" rel="nofollow"&gt;DB Option Group&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Root module calls these modules which can also be used separately to create independent resources:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-rds/tree/master/modules/db_instance"&gt;db_instance&lt;/a&gt; - creates RDS DB instance&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-rds/tree/master/modules/db_subnet_group"&gt;db_subnet_group&lt;/a&gt; - creates RDS DB subnet group&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-rds/tree/master/modules/db_parameter_group"&gt;db_parameter_group&lt;/a&gt; - creates RDS DB parameter group&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-rds/tree/master/modules/db_option_group"&gt;db_option_group&lt;/a&gt; - creates RDS DB option group&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-terraform-versions" class="anchor" aria-hidden="true" href="#terraform-versions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Terraform versions&lt;/h2&gt;
&lt;p&gt;Terraform 0.12. Pin module version to &lt;code&gt;~&amp;gt; v2.0&lt;/code&gt;. Submit pull-requests to &lt;code&gt;master&lt;/code&gt; branch.&lt;/p&gt;
&lt;p&gt;Terraform 0.11. Pin module version to &lt;code&gt;~&amp;gt; v1.0&lt;/code&gt;. Submit pull-requests to &lt;code&gt;terraform011&lt;/code&gt; branch.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h2&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;db&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;source&lt;/span&gt;  &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;terraform-aws-modules/rds/aws&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;version&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;~&amp;gt; &lt;span class="pl-s"&gt;2.0&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;identifier&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;demodb&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;engine&lt;/span&gt;            &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;mysql&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;engine_version&lt;/span&gt;    &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;5.7.19&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;instance_class&lt;/span&gt;    &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;db.t2.large&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;allocated_storage&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;5&lt;/span&gt;

  &lt;span class="pl-smi"&gt;name&lt;/span&gt;     &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;demodb&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;username&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;user&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;password&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;YourPwdShouldBeLongAndSecure&lt;/span&gt;!&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;port&lt;/span&gt;     &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;3306&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;iam_database_authentication_enabled&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;

  &lt;span class="pl-smi"&gt;vpc_security_group_ids&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;sg-12345678&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]

  &lt;span class="pl-smi"&gt;maintenance_window&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;Mon&lt;/span&gt;:&lt;span class="pl-s"&gt;00&lt;/span&gt;:&lt;span class="pl-s"&gt;00-Mon&lt;/span&gt;:&lt;span class="pl-s"&gt;03&lt;/span&gt;:&lt;span class="pl-s"&gt;00&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;backup_window&lt;/span&gt;      &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;03&lt;/span&gt;:&lt;span class="pl-s"&gt;00-06&lt;/span&gt;:&lt;span class="pl-s"&gt;00&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Enhanced Monitoring - see example for details on how to create the role&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; by yourself, in case you don't want to create it automatically&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-smi"&gt;monitoring_interval&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;30&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;monitoring_role_name&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;MyRDSMonitoringRole&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;create_monitoring_role&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;

  &lt;span class="pl-smi"&gt;tags&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; {
    &lt;span class="pl-smi"&gt;Owner&lt;/span&gt;       &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;user&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
    &lt;span class="pl-smi"&gt;Environment&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;dev&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  }

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; DB subnet group&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-smi"&gt;subnet_ids&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;subnet-12345678&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;subnet-87654321&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; DB parameter group&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-smi"&gt;family&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;mysql5.7&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; DB option group&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-smi"&gt;major_engine_version&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;5.7&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Snapshot name upon DB deletion&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-smi"&gt;final_snapshot_identifier&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;demodb&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Database Deletion Protection&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-smi"&gt;deletion_protection&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;

  &lt;span class="pl-smi"&gt;parameters&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [
    {
      &lt;span class="pl-smi"&gt;name&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;character_set_client&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
      &lt;span class="pl-smi"&gt;value&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;utf8&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
    },
    {
      &lt;span class="pl-smi"&gt;name&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;character_set_server&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
      &lt;span class="pl-smi"&gt;value&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;utf8&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
    }
  ]

  &lt;span class="pl-smi"&gt;options&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [
    {
      &lt;span class="pl-smi"&gt;option_name&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;MARIADB_AUDIT_PLUGIN&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

      &lt;span class="pl-smi"&gt;option_settings&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [
        {
          &lt;span class="pl-smi"&gt;name&lt;/span&gt;  &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;SERVER_AUDIT_EVENTS&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
          &lt;span class="pl-smi"&gt;value&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;CONNECT&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
        },
        {
          &lt;span class="pl-smi"&gt;name&lt;/span&gt;  &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;SERVER_AUDIT_FILE_ROTATIONS&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
          &lt;span class="pl-smi"&gt;value&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;37&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
        },
      ]
    },
  ]
}&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-conditional-creation" class="anchor" aria-hidden="true" href="#conditional-creation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Conditional creation&lt;/h2&gt;
&lt;p&gt;There is also a way to specify an existing database subnet group and parameter group name instead of creating new resources like this:&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; This RDS instance will be created using default database subnet and parameter group&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;db&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;source&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;terraform-aws-modules/rds/aws&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;db_subnet_group_name&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;default&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;parameter_group_name&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;default.mysql5.7&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ... omitted&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-examples" class="anchor" aria-hidden="true" href="#examples"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Examples&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-rds/tree/master/examples/complete-mysql"&gt;Complete RDS example for MySQL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-rds/tree/master/examples/complete-postgres"&gt;Complete RDS example for PostgreSQL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-rds/tree/master/examples/complete-oracle"&gt;Complete RDS example for Oracle&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-rds/tree/master/examples/complete-mssql"&gt;Complete RDS example for MSSQL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-rds/tree/master/examples/enhanced-monitoring"&gt;Enhanced monitoring example&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-rds/tree/master/examples/replica-mysql"&gt;Replica RDS example for MySQL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-rds/tree/master/examples/replica-postgres"&gt;Replica RDS example for PostgreSQL&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-notes" class="anchor" aria-hidden="true" href="#notes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Notes&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;This module does not create RDS security group. Use &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-security-group"&gt;terraform-aws-security-group&lt;/a&gt; module for this.&lt;/li&gt;
&lt;/ol&gt;

&lt;h2&gt;&lt;a id="user-content-inputs" class="anchor" aria-hidden="true" href="#inputs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Inputs&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th align="center"&gt;Type&lt;/th&gt;
&lt;th align="center"&gt;Default&lt;/th&gt;
&lt;th align="center"&gt;Required&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;allocated_storage&lt;/td&gt;
&lt;td&gt;The allocated storage in gigabytes&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;allow_major_version_upgrade&lt;/td&gt;
&lt;td&gt;Indicates that major version upgrades are allowed. Changing this parameter does not result in an outage and the change is asynchronously applied as soon as possible&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;apply_immediately&lt;/td&gt;
&lt;td&gt;Specifies whether any database modifications are applied immediately, or during the next maintenance window&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;auto_minor_version_upgrade&lt;/td&gt;
&lt;td&gt;Indicates that minor engine upgrades will be applied automatically to the DB instance during the maintenance window&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;availability_zone&lt;/td&gt;
&lt;td&gt;The Availability Zone of the RDS instance&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;backup_retention_period&lt;/td&gt;
&lt;td&gt;The days to retain backups for&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"1"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;backup_window&lt;/td&gt;
&lt;td&gt;The daily time range (in UTC) during which automated backups are created if they are enabled. Example: '09:46-10:16'. Must not overlap with maintenance_window&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ca_cert_identifier&lt;/td&gt;
&lt;td&gt;Specifies the identifier of the CA certificate for the DB instance&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"rds-ca-2015"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;character_set_name&lt;/td&gt;
&lt;td&gt;(Optional) The character set name to use for DB encoding in Oracle instances. This can't be changed. See Oracle Character Sets Supported in Amazon RDS for more information&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;copy_tags_to_snapshot&lt;/td&gt;
&lt;td&gt;On delete, copy all Instance tags to the final snapshot (if final_snapshot_identifier is specified)&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;create_db_instance&lt;/td&gt;
&lt;td&gt;Whether to create a database instance&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;create_db_option_group&lt;/td&gt;
&lt;td&gt;Whether to create a database option group&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;create_db_parameter_group&lt;/td&gt;
&lt;td&gt;Whether to create a database parameter group&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;create_db_subnet_group&lt;/td&gt;
&lt;td&gt;Whether to create a database subnet group&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;create_monitoring_role&lt;/td&gt;
&lt;td&gt;Create IAM role with a defined name that permits RDS to send enhanced monitoring metrics to CloudWatch Logs.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;db_subnet_group_name&lt;/td&gt;
&lt;td&gt;Name of DB subnet group. DB instance will be created in the VPC associated with the DB subnet group. If unspecified, will be created in the default VPC&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;deletion_protection&lt;/td&gt;
&lt;td&gt;The database can't be deleted when this value is set to true.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enabled_cloudwatch_logs_exports&lt;/td&gt;
&lt;td&gt;List of log types to enable for exporting to CloudWatch logs. If omitted, no logs will be exported. Valid values (depending on engine): alert, audit, error, general, listener, slowquery, trace, postgresql (PostgreSQL), upgrade (PostgreSQL).&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;engine&lt;/td&gt;
&lt;td&gt;The database engine to use&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;engine_version&lt;/td&gt;
&lt;td&gt;The engine version to use&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;family&lt;/td&gt;
&lt;td&gt;The family of the DB parameter group&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;final_snapshot_identifier&lt;/td&gt;
&lt;td&gt;The name of your final DB snapshot when this DB instance is deleted.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iam_database_authentication_enabled&lt;/td&gt;
&lt;td&gt;Specifies whether or mappings of AWS Identity and Access Management (IAM) accounts to database accounts is enabled&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;identifier&lt;/td&gt;
&lt;td&gt;The name of the RDS instance, if omitted, Terraform will assign a random, unique identifier&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;instance_class&lt;/td&gt;
&lt;td&gt;The instance type of the RDS instance&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iops&lt;/td&gt;
&lt;td&gt;The amount of provisioned IOPS. Setting this implies a storage_type of 'io1'&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"0"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kms_key_id&lt;/td&gt;
&lt;td&gt;The ARN for the KMS encryption key. If creating an encrypted replica, set this to the destination KMS ARN. If storage_encrypted is set to true and kms_key_id is not specified the default KMS key created in your account will be used&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;license_model&lt;/td&gt;
&lt;td&gt;License model information for this DB instance. Optional, but required for some DB engines, i.e. Oracle SE1&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;maintenance_window&lt;/td&gt;
&lt;td&gt;The window to perform maintenance in. Syntax: 'ddd:hh24:mi-ddd:hh24:mi'. Eg: 'Mon:00:00-Mon:03:00'&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;major_engine_version&lt;/td&gt;
&lt;td&gt;Specifies the major version of the engine that this option group should be associated with&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;max_allocated_storage&lt;/td&gt;
&lt;td&gt;Specifies the value for Storage Autoscaling&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"0"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;monitoring_interval&lt;/td&gt;
&lt;td&gt;The interval, in seconds, between points when Enhanced Monitoring metrics are collected for the DB instance. To disable collecting Enhanced Monitoring metrics, specify 0. The default is 0. Valid Values: 0, 1, 5, 10, 15, 30, 60.&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"0"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;monitoring_role_arn&lt;/td&gt;
&lt;td&gt;The ARN for the IAM role that permits RDS to send enhanced monitoring metrics to CloudWatch Logs. Must be specified if monitoring_interval is non-zero.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;monitoring_role_name&lt;/td&gt;
&lt;td&gt;Name of the IAM role which will be created when create_monitoring_role is enabled.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"rds-monitoring-role"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;multi_az&lt;/td&gt;
&lt;td&gt;Specifies if the RDS instance is multi-AZ&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;name&lt;/td&gt;
&lt;td&gt;The DB name to create. If omitted, no database is created initially&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;option_group_description&lt;/td&gt;
&lt;td&gt;The description of the option group&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;option_group_name&lt;/td&gt;
&lt;td&gt;Name of the DB option group to associate. Setting this automatically disables option_group creation&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;options&lt;/td&gt;
&lt;td&gt;A list of Options to apply.&lt;/td&gt;
&lt;td align="center"&gt;any&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;parameter_group_description&lt;/td&gt;
&lt;td&gt;Description of the DB parameter group to create&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;parameter_group_name&lt;/td&gt;
&lt;td&gt;Name of the DB parameter group to associate or create&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;parameters&lt;/td&gt;
&lt;td&gt;A list of DB parameters (map) to apply&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;password&lt;/td&gt;
&lt;td&gt;Password for the master DB user. Note that this may show up in logs, and it will be stored in the state file&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;performance_insights_enabled&lt;/td&gt;
&lt;td&gt;Specifies whether Performance Insights are enabled&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;performance_insights_retention_period&lt;/td&gt;
&lt;td&gt;The amount of time in days to retain Performance Insights data. Either 7 (7 days) or 731 (2 years).&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"7"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;port&lt;/td&gt;
&lt;td&gt;The port on which the DB accepts connections&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;publicly_accessible&lt;/td&gt;
&lt;td&gt;Bool to control if instance is publicly accessible&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;replicate_source_db&lt;/td&gt;
&lt;td&gt;Specifies that this resource is a Replicate database, and to use this value as the source database. This correlates to the identifier of another Amazon RDS Database to replicate.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;skip_final_snapshot&lt;/td&gt;
&lt;td&gt;Determines whether a final DB snapshot is created before the DB instance is deleted. If true is specified, no DBSnapshot is created. If false is specified, a DB snapshot is created before the DB instance is deleted, using the value from final_snapshot_identifier&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;snapshot_identifier&lt;/td&gt;
&lt;td&gt;Specifies whether or not to create this database from a snapshot. This correlates to the snapshot ID you'd find in the RDS console, e.g: rds:production-2015-06-26-06-05.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;storage_encrypted&lt;/td&gt;
&lt;td&gt;Specifies whether the DB instance is encrypted&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;storage_type&lt;/td&gt;
&lt;td&gt;One of 'standard' (magnetic), 'gp2' (general purpose SSD), or 'io1' (provisioned IOPS SSD). The default is 'io1' if iops is specified, 'standard' if not. Note that this behaviour is different from the AWS web console, where the default is 'gp2'.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"gp2"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;subnet_ids&lt;/td&gt;
&lt;td&gt;A list of VPC subnet IDs&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tags&lt;/td&gt;
&lt;td&gt;A mapping of tags to assign to all resources&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;timeouts&lt;/td&gt;
&lt;td&gt;(Optional) Updated Terraform resource management timeouts. Applies to &lt;code&gt;aws\_db\_instance&lt;/code&gt; in particular to permit resource management times&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{ "create": "40m", "delete": "40m", "update": "80m" }&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;timezone&lt;/td&gt;
&lt;td&gt;(Optional) Time zone of the DB instance. timezone is currently only supported by Microsoft SQL Server. The timezone can only be set on creation. See MSSQL User Guide for more information.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;use_parameter_group_name_prefix&lt;/td&gt;
&lt;td&gt;Whether to use the parameter group name prefix or not&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;username&lt;/td&gt;
&lt;td&gt;Username for the master DB user&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_security_group_ids&lt;/td&gt;
&lt;td&gt;List of VPC security groups to associate&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-outputs" class="anchor" aria-hidden="true" href="#outputs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Outputs&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;this_db_instance_address&lt;/td&gt;
&lt;td&gt;The address of the RDS instance&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_db_instance_arn&lt;/td&gt;
&lt;td&gt;The ARN of the RDS instance&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_db_instance_availability_zone&lt;/td&gt;
&lt;td&gt;The availability zone of the RDS instance&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_db_instance_ca_cert_identifier&lt;/td&gt;
&lt;td&gt;Specifies the identifier of the CA certificate for the DB instance&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_db_instance_endpoint&lt;/td&gt;
&lt;td&gt;The connection endpoint&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_db_instance_hosted_zone_id&lt;/td&gt;
&lt;td&gt;The canonical hosted zone ID of the DB instance (to be used in a Route 53 Alias record)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_db_instance_id&lt;/td&gt;
&lt;td&gt;The RDS instance ID&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_db_instance_name&lt;/td&gt;
&lt;td&gt;The database name&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_db_instance_password&lt;/td&gt;
&lt;td&gt;The database password (this password may be old, because Terraform doesn't track it after initial creation)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_db_instance_port&lt;/td&gt;
&lt;td&gt;The database port&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_db_instance_resource_id&lt;/td&gt;
&lt;td&gt;The RDS Resource ID of this instance&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_db_instance_status&lt;/td&gt;
&lt;td&gt;The RDS instance status&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_db_instance_username&lt;/td&gt;
&lt;td&gt;The master username for the database&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_db_option_group_arn&lt;/td&gt;
&lt;td&gt;The ARN of the db option group&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_db_option_group_id&lt;/td&gt;
&lt;td&gt;The db option group id&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_db_parameter_group_arn&lt;/td&gt;
&lt;td&gt;The ARN of the db parameter group&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_db_parameter_group_id&lt;/td&gt;
&lt;td&gt;The db parameter group id&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_db_subnet_group_arn&lt;/td&gt;
&lt;td&gt;The ARN of the db subnet group&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_db_subnet_group_id&lt;/td&gt;
&lt;td&gt;The db subnet group name&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2&gt;&lt;a id="user-content-authors" class="anchor" aria-hidden="true" href="#authors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Authors&lt;/h2&gt;
&lt;p&gt;Currently maintained by &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-rds/graphs/contributors"&gt;these awesome contributors&lt;/a&gt;.
Migrated from &lt;code&gt;terraform-community-modules/tf_aws_rds&lt;/code&gt;, where it was maintained by &lt;a href="https://github.com/terraform-community-modules/tf_aws_rds/graphs/contributors"&gt;these awesome contributors&lt;/a&gt;.
Module managed by &lt;a href="https://github.com/antonbabenko"&gt;Anton Babenko&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;Apache 2 Licensed. See LICENSE for full details.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>terraform-aws-modules</author><guid isPermaLink="false">https://github.com/terraform-aws-modules/terraform-aws-rds</guid><pubDate>Thu, 26 Dec 2019 00:06:00 GMT</pubDate></item><item><title>gardener/kubify-openstack-template #7 in HCL, Today</title><link>https://github.com/gardener/kubify-openstack-template</link><description>&lt;p&gt;&lt;i&gt;Template for Openstack Kubernetes Cluster Setup using Kubify &lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="../../../kubify/blob/master/docs/kubify.png"&gt;&lt;img align="left" src="../../../kubify/blob/master/docs/kubify.png" width="20%" height="20%" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-project-template-to-setup-an-openstack-kubernetes-cluster" class="anchor" aria-hidden="true" href="#project-template-to-setup-an-openstack-kubernetes-cluster"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Project Template to Setup an Openstack Kubernetes Cluster&lt;/h3&gt;
&lt;p&gt;Please refer to the &lt;a href="../../../kubify/blob/master/docs/README.md"&gt;Template Documentation&lt;/a&gt;.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>gardener</author><guid isPermaLink="false">https://github.com/gardener/kubify-openstack-template</guid><pubDate>Thu, 26 Dec 2019 00:07:00 GMT</pubDate></item><item><title>skyscrapers/terraform-ecs #8 in HCL, Today</title><link>https://github.com/skyscrapers/terraform-ecs</link><description>&lt;p&gt;&lt;i&gt;Terraform ECS module&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-terraform-ecs" class="anchor" aria-hidden="true" href="#terraform-ecs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;terraform-ecs&lt;/h1&gt;
&lt;p&gt;Terraform ECS module&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-ecs-cluster" class="anchor" aria-hidden="true" href="#ecs-cluster"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ecs-cluster&lt;/h2&gt;
&lt;p&gt;Setup a basic ECS cluster with the needed IAM rights.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-available-variables" class="anchor" aria-hidden="true" href="#available-variables"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Available variables:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;project&lt;/code&gt;]: String(required): Project name&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;environment&lt;/code&gt;]: String(required):  For what environment is this cluster needed (eg staging, production, ...)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-output" class="anchor" aria-hidden="true" href="#output"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Output&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;cluster_name&lt;/code&gt;]: String: The name of the ECS cluster.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cluster_id&lt;/code&gt;]: String: The ID (ARN) of the ECS cluster.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;ecs-instance-profile&lt;/code&gt;]: IAM instance profile that you need to give to your instances.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;ecs_instance_profile_arn&lt;/code&gt;]: IAM instance profile arn that you need to give to your instances.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;ecs-service-role&lt;/code&gt;]: IAM service role for ECS to manage your loadbalancers&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;ecs-instance-role&lt;/code&gt;]: IAM instance role name, useful to attach extra policies&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-example" class="anchor" aria-hidden="true" href="#example"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;module "ecs_cluster" {
  source      = "ecs_cluster"
  project     = "${var.project}"
  environment = "${terraform.env}"
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-repository" class="anchor" aria-hidden="true" href="#repository"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Repository&lt;/h2&gt;
&lt;p&gt;Creates an Elastic Container Registry with associated pull &amp;amp; push policies.
The created pull &amp;amp; push policies can be used as policy attachments on AWS roles.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-available-variables-1" class="anchor" aria-hidden="true" href="#available-variables-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Available variables:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;repository_name&lt;/code&gt;]: String(required): The name of the ECR repository&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;expire_after&lt;/code&gt;]: Integer(optional): The amount of days after which untagged images expire. Set to 0 if you do not want a lifecycle policy. (default: 30)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-output-1" class="anchor" aria-hidden="true" href="#output-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Output&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;repository_url&lt;/code&gt;]: The url to the ECR repository&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;repository_push_policy&lt;/code&gt;]: The id of the push policy to this ECR repository.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;repository_pull_policy&lt;/code&gt;]: The id of the pull policy to this ECR repository.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-example-1" class="anchor" aria-hidden="true" href="#example-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;module "jenkins-repo" {
  source                 = "github.com/skyscrapers/terraform-ecs//repository"
  repository_name        = "jenkins"
  repository_description = "Jenkins Master"
  expire_after           = 14
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-efs" class="anchor" aria-hidden="true" href="#efs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;EFS&lt;/h2&gt;
&lt;p&gt;Creates an Elastic Filesystem, mount points and cloud-config to mount at boot&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-available-variables-2" class="anchor" aria-hidden="true" href="#available-variables-2"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Available variables:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;subnets&lt;/code&gt;]: String(required): The subnets to create the mount point in&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;subnet_amount&lt;/code&gt;]: String(required): The amount of subnets&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;project&lt;/code&gt;]: String(optional): The project to tag EFS (default: "")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;mount_point&lt;/code&gt;]: String(optional): The mount point of EFS on the system (default: /media/efs)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;name&lt;/code&gt;]: String(optional): The name to tag EFS (default: efs)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;security_groups&lt;/code&gt;]: List(optional): The security groups to associate with the mount points (default: [] adds default security group)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-output-2" class="anchor" aria-hidden="true" href="#output-2"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Output&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;cloud_config&lt;/code&gt;]: The cloud config to mount efs at boot&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;dns_name&lt;/code&gt;]: The DNS name of the elastic file system&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;efs_id&lt;/code&gt;]: ID of the EFS&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;kms_key_id&lt;/code&gt;]: KMS key used to encrypt EFS&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;mount_target_ids&lt;/code&gt;]: List of mount target ids&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;mount_target_interface_ids&lt;/code&gt;]: List of mount target interface ids&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-example-2" class="anchor" aria-hidden="true" href="#example-2"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;module "efs" {
  source          = "efs"
  project         = "myproject"
  subnets         = "${module.vpc.private_db}"
  subnet_amount   = 3
  security_groups = ["sg-ac66e1d6"]
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-monitoring" class="anchor" aria-hidden="true" href="#monitoring"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;monitoring&lt;/h2&gt;
&lt;p&gt;Configure prometheus monitoring with alerts in opsgenie for an ECS cluster.
The basic configuration includes the option to scrape for cloudwatch_metrics, and node-exporter metrics.
It also allows to scrape for concourse metrics and to add any custom configuration.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-available-variables-3" class="anchor" aria-hidden="true" href="#available-variables-3"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Available variables:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;environment&lt;/code&gt;]: String(required):  For what environment is this cluster needed (eg staging, production, ...)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;project&lt;/code&gt;]: String(required): The project to tag Monitoring values&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cluster_name&lt;/code&gt;]: String(required): The name of the ECS cluster.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;ecs_service_role&lt;/code&gt;]: String(required): The name of the ECS IAM service role.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;desired_count&lt;/code&gt;]: String(optional): The desired number of replicas of the ECS service for grafana and prometheus. (default: 1)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;prometheus_port&lt;/code&gt;]: String(optional): The port where prometheus listens to (default: 9090)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;vpc_id&lt;/code&gt;]: String(required): The VPC where the ECS cluster is&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;ecs_sg&lt;/code&gt;]: String(required):The ECS security group&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;r53_zone&lt;/code&gt;]: String(required): The DNS zone for prometheus and grafana&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;r53_zone_prefix&lt;/code&gt;]: String(optional): The DNS zone prefix for prometheus and grafana (default: "")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;prometheus_cpu&lt;/code&gt;]: String(optional): The cpu dedicated to prometheus. (default: 0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;prometheus_memory&lt;/code&gt;]: String(optional): The hard limit (in MiB) of memory to present to the container prometheus. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;prometheus_memory_reservation&lt;/code&gt;]: String(optional): The The soft limit (in MiB) of memory to reserve for the container prometheus. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;alertmanager_cpu&lt;/code&gt;]: String(optional): The cpu dedicated to alertmanager. (default: 0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;alertmanager_memory&lt;/code&gt;]: String(optional): The hard limit (in MiB) of memory to present to the container alertmanager. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;alertmanager_memory_reservation&lt;/code&gt;]: String(optional): The The soft limit (in MiB) of memory to reserve for the container alertmanager. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cloudwatch_exporter_cpu&lt;/code&gt;]: String(optional): The cpu dedicated to cloudwatch_exporter. (default: 0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cloudwatch_exporter_memory&lt;/code&gt;]: String(optional): The hard limit (in MiB) of memory to present to the container cloudwatch_exporter. (default: 200)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cloudwatch_exporter_memory_reservation&lt;/code&gt;]: String(optional): The The soft limit (in MiB) of memory to reserve for the container cloudwatch_exporter. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;grafana_cpu&lt;/code&gt;]:String(optional): The cpu dedicated to grafana. (default: 0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;grafana_memory&lt;/code&gt;]:String(optional): The hard limit (in MiB) of memory to present to the container grafana. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;grafana_memory_reservation&lt;/code&gt;]:String(optional): The The soft limit (in MiB) of memory to reserve for the container grafana. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;prometheus_version&lt;/code&gt;]: String(optional): The version of the prometheus docker image . (default: v2.4.0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;alertmanager_version&lt;/code&gt;]: String(optional): The version of the alertmanager docker image . (default: v0.15.1)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cloudwatch_exporter_version&lt;/code&gt;]: String(optional): The version of the cloudwatch exporter docker image . (default: cloudwatch_exporter-0.5.0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;grafana_version&lt;/code&gt;]: String(optional): The version of the grafana's docker image . (default: latest)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;alb_arn&lt;/code&gt;]: String(required): The arn of the alb.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;alb_sg_id&lt;/code&gt;]: String(required): The security group of the alb.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;alb_ssl_cert&lt;/code&gt;]:String(required): The certificate ARN of the alb.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;source_subnet_cidrs&lt;/code&gt;]: List(required): The public CIDRs from where the prometheus monitoring is accessible.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;grafana_port&lt;/code&gt;]: String(optional): The default grafana port the container is listening to. (default: 3000)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;opsgenie_api_key&lt;/code&gt;]: String(required): The opsgenie api key for alerting.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;slack_channel&lt;/code&gt;]:  String(required): The slack channel where the alerts will be sent.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;slack_url&lt;/code&gt;]: String(required): The slack webhook used to access slack alerting.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;concourse_url&lt;/code&gt;]: String(optional): Optional concourse URL to monitor. If not specified concourse won't be monitored. (default:"")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cloudwatch_metrics&lt;/code&gt;]: String(optional): Optional additional metrics scraping jobs. (default:"")
An example metric:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;&amp;lt;EOF
- aws_namespace: AWS/ELB
aws_metric_name: RequestCount
aws_dimensions: [AvailabilityZone, LoadBalancerName]
aws_dimension_select:
  LoadBalancerName: [myLB]
aws_statistics: [Sum]
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;custom_jobs&lt;/code&gt;]: String(optional): Optional additional prometheus scraping jobs (default:"")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;custom_alert_rules&lt;/code&gt;]: String(optional): Optional additional alert rules for alertmanager (default:"")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;efs_subnets&lt;/code&gt;]: List(required): The subnets where we want to deploy the required efs file system&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;mount_point&lt;/code&gt;]: String(optional): The mount point where we want to mount EFS in the ECS nodes. (default:"/monitoring")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;opsgenie_heartbeat&lt;/code&gt;]: String(required): The heartbeat Opsgenie Name for the ECS cluster.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-output-3" class="anchor" aria-hidden="true" href="#output-3"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Output&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;alb_listener&lt;/code&gt;]: The id of the ALB listener created for monitoring.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;efs_mount_point&lt;/code&gt;]: The mount point where we want to mount EFS in the ECS nodes.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;efs_dns_name&lt;/code&gt;]: The EFS DNS name&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;enable_es_exporter&lt;/code&gt;]: Boolean(optional): Enable elasticsearch exporter for monitoring an ES cluster. (default: false)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_exporter_image&lt;/code&gt;]: String(optional): For elasticsearch monitoring, the URI of the docker image to use for the elasticsearch_exporter container (default: justwatch/elasticsearch_exporter)&lt;/li&gt;
&lt;li&gt;[es_exporter_image_version]: String(optional): For elasticsearch monitoring, the docker image version to use for the elasticsearch_exporter container (default: 1.0.2)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_exporter_port&lt;/code&gt;]: String(optional): For elasticsearch monitoring, the port the elasticsearch exporter listens to (default: 9108)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_exporter_path&lt;/code&gt;]: String(optional): For elasticsearch monitoring, the path the elasticsearch exporter will ommit metrics to (default: /metrics)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_monitor_all_nodes&lt;/code&gt;]: Boolean(optional): For elasticsearch monitoring, If true, query stats for all nodes in the cluster, rather than just the exporter is connected to (default: true)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_monitor_all_indices&lt;/code&gt;]: Boolean(optional): For elasticsearch monitoring, If true, query stats for all indices in the cluster (default: true)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_exporter_timeout&lt;/code&gt;]: String(optional): For elasticsearch monitoring, Timeout in seconds for trying to get stats from Elasticsearch (default: 30s)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_exporter_cpu&lt;/code&gt;]: String(optional): The cpu dedicated to elasticsearch_exporter. (default: 0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_exporter_memory&lt;/code&gt;]: String(optional): The hard limit (in MiB) of memory to present to the container elasticsearch_exporter. (default: 200)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_exporter_memory_reservation&lt;/code&gt;]: String(optional): The The soft limit (in MiB) of memory to reserve for the container elasticsearch_exporter. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_uri&lt;/code&gt;]: String(optional): Required if elasticsearch monitoring is enabled, endpoint (host and port) of the Elasticsearch node to be monitored (default: "")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_sg&lt;/code&gt;]: String(optional): Required if elasticsearch monitoring is enabled, Security Group of the Elasticsearch cluster to allow the elasticsearch exporter access to it. (default: 0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_aws_domain&lt;/code&gt;]: String(optional): Required if monitoring an AWS Elasticsearch service cluster , the AWS Elasticsearch domain name, needed for special cloudwatch metrics. (default: "")&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-example-3" class="anchor" aria-hidden="true" href="#example-3"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;module "monitoring" {
  source              = "monitoring"
  environment         = "${terraform.workspace}"
  project             = "${var.project}"
  cluster_name        = "cluster_name"
  ecs_service_role    = "arn:aws:iam:::role/ecs-service-role "
  ecs_sg              = "sg-123456789"
  vpc_id              = "vpc-123456789"
  r53_zone            = "production.example.com"
  alb_arn             = "arn:aws:elasticloadbalancing::::loadbalancer/app/xxxxxxxxxx/xxxxxxxxxxxx"
  alb_sg_id           = "sg-123456789"
  alb_ssl_cert        = "arn:aws:acm:"
  source_subnet_cidrs = ["1.1.1.1/32"]
  slack_channel       = "#example"
  slack_url           = "https://hooks.slack.com/services/xxxxxx/xxxxxxx"
  opsgenie_api_key    = "opsgenie_api_key"
  concourse_url       = "ci.example.com"
  efs_subnets         = ["subnet-12345678"]
  opsgenie_heartbeat  = "TestHeartbeat"
  # Elasticsearch monitoring
  enable_es_exporter = true
  es_uri             = "http://${data.terraform_remote_state.static.elasticsearch_dns[0]}:9200"
  es_sg              = "${data.terraform_remote_state.static.es_sg}"
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-scaling" class="anchor" aria-hidden="true" href="#scaling"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;scaling&lt;/h2&gt;
&lt;p&gt;Setup a ECS cluster and service scaling.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-available-variables-4" class="anchor" aria-hidden="true" href="#available-variables-4"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Available variables:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;cluster_name&lt;/code&gt;]: String(required): The name of the ECS cluster.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;service_name&lt;/code&gt;]: String(required): The name of the ECS service.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;evaluation_periods&lt;/code&gt;]: String(optional): Evaluation period for the cloudwatch alarms (default: 4)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;threshold_down&lt;/code&gt;]: String(optional): Threshold when scaling down needs to happen. (default: 25)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;threshold_up&lt;/code&gt;]: String(optional): Threshold when scaling up needs to happen. (default: 75)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;scale_up_adjustment&lt;/code&gt;]: String(optional): Amount of tasks per check (maximum) that will be added. (default: 1)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;scale_down_adjustment&lt;/code&gt;]: String(optional): Amount of tasks per check (maximum) that will be removed. (default: -1)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;period_down&lt;/code&gt;]: String(optional): How long the threshold needs to be reached before a downscale happens. (default: 120)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;period_up&lt;/code&gt;]: String(optional): How long the threshold needs to be reached before a upscale happens. (default: 60)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;statistic&lt;/code&gt;]: String(optional): On what statistic the scaling needs to be based upon. (default: Average)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;min_capacity&lt;/code&gt;]: String(optional): Minimum amount of ECS task to run for a service. (default: 1)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;max_capacity&lt;/code&gt;]: String(optional): Maximum amount of ECS task to run for a service. (default: 4)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;datapoints_to_alarm_up&lt;/code&gt;]: String(optional): ) The number of datapoints that must be breaching to trigger the alarm to scale up (default: 4)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;datapoints_to_alarm_down&lt;/code&gt;]: String(optional): The number of datapoints that must be breaching to trigger the alarm to scale down (default: 4)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-output-4" class="anchor" aria-hidden="true" href="#output-4"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Output&lt;/h3&gt;
&lt;h3&gt;&lt;a id="user-content-example-4" class="anchor" aria-hidden="true" href="#example-4"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;module "service-scaling" {
  source                   = "scaling"
  cluster_name             = "ecs-production"
  service_name             = "test-service"
  min_capacity             = "2"
  max_capacity             = "10"
  ecs_autoscale_group_name = "asg-production"
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-user-data" class="anchor" aria-hidden="true" href="#user-data"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;user-data&lt;/h2&gt;
&lt;p&gt;Setup a ECS cluster and service user-data.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-available-variables-5" class="anchor" aria-hidden="true" href="#available-variables-5"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Available variables:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;project&lt;/code&gt;]: String(optional): The project to tag EFS (default: "")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;environment&lt;/code&gt;]: String(required):  For what environment is this cluster needed (eg staging, production, ...)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cluster_name&lt;/code&gt;]: String(required): The name of the ECS cluster.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;teleport_version&lt;/code&gt;]: String(optional): The version of Teleport to be used (default: 4.1.1).&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;teleport_server&lt;/code&gt;]: String(optional): the name of the teleport server to connect to(default: "")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;teleport_auth_token&lt;/code&gt;]: String(optional): Teleport server node token (default: "")&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-output-5" class="anchor" aria-hidden="true" href="#output-5"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Output&lt;/h3&gt;
&lt;h3&gt;&lt;a id="user-content-example-5" class="anchor" aria-hidden="true" href="#example-5"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;module "service-user-data" {
  source                   = "user-data"
  project             = "${var.project}"
  environment         = "${terraform.workspace}"
  teleport_auth_token = "${data.aws_kms_secret.secret.auth_token}"
  teleport_version    = "${var.teleport_version}"
  teleport_server     = "${var.teleport_server}"
  cluster_name        = "${module.ecs_cluster.cluster_name}"
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-cicd" class="anchor" aria-hidden="true" href="#cicd"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CI/CD&lt;/h2&gt;
&lt;p&gt;In the &lt;code&gt;ci&lt;/code&gt; folder you can find some tasks definition for automating deployment with &lt;code&gt;concourse&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-ecs" class="anchor" aria-hidden="true" href="#ecs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ECS&lt;/h3&gt;
&lt;p&gt;This folder contians a script that can be used to automatically update the ecs AMI.
It also contains a concourse task definition that allows to use the script in a concourse pipeline.&lt;/p&gt;
&lt;p&gt;In order to add this task in a pipeline you need to specify the following inputs:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;terraform-ecs&lt;/code&gt;] : This git repo&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;terraform-repo&lt;/code&gt;] : The git repo with the terraform code that contains the ecs cluster&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;ami&lt;/code&gt;] : The ami resource that we want to deploy&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can customize your pipeline with the following params:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;AWS_ACCESS_KEY_ID&lt;/code&gt;] : The key id to use to authenticate to AWS&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;AWS_SECRET_ACCESS_KEY&lt;/code&gt;] : The secret key to use to authenticate to AWS&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;TF_PROJECT_FOLDER&lt;/code&gt;] : The folder that contains the ecs cluster definition&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;TF_VERSION&lt;/code&gt;] : The terraform version of the project&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;AWS_DEFAULT_REGION&lt;/code&gt;] : The AWS region where the ecs cluster has been deployed&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;TIMEOUT&lt;/code&gt;] : The time the script will wait for the container to migrate to the new instances&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;TF_ENVIRONMENT&lt;/code&gt;] : The terraform workspace to target&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;An example of a concourse pipeline can be found in the &lt;a href="ci/ecs/sample.yml"&gt;example pipeline&lt;/a&gt;&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>skyscrapers</author><guid isPermaLink="false">https://github.com/skyscrapers/terraform-ecs</guid><pubDate>Thu, 26 Dec 2019 00:08:00 GMT</pubDate></item></channel></rss>
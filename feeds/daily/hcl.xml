<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>GitHub Trending: HCL, Today</title><link>https://github.com/trending/hcl?since=daily</link><description>The top repositories on GitHub for hcl, measured daily</description><pubDate>Thu, 02 Jan 2020 01:11:00 GMT</pubDate><lastBuildDate>Thu, 02 Jan 2020 01:11:00 GMT</lastBuildDate><generator>PyRSS2Gen-1.1.0</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><ttl>720</ttl><item><title>terraform-aws-modules/terraform-aws-eks #1 in HCL, Today</title><link>https://github.com/terraform-aws-modules/terraform-aws-eks</link><description>&lt;p&gt;&lt;i&gt;A Terraform module to create an Elastic Kubernetes (EKS) cluster and associated worker instances on AWS.&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-terraform-aws-eks" class="anchor" aria-hidden="true" href="#terraform-aws-eks"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;terraform-aws-eks&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/actions"&gt;&lt;img src="https://github.com/terraform-aws-modules/terraform-aws-eks/workflows/Lint/badge.svg" alt="Lint Status" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/blob/master/LICENSE"&gt;&lt;img src="https://camo.githubusercontent.com/94dccda8d0a1cc85a9e0227e9fc1357a9c2cc5d5/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f7465727261666f726d2d6177732d6d6f64756c65732f7465727261666f726d2d6177732d656b73" alt="LICENSE" data-canonical-src="https://img.shields.io/github/license/terraform-aws-modules/terraform-aws-eks" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A terraform module to create a managed Kubernetes cluster on AWS EKS. Available
through the &lt;a href="https://registry.terraform.io/modules/terraform-aws-modules/eks/aws" rel="nofollow"&gt;Terraform registry&lt;/a&gt;.
Inspired by and adapted from &lt;a href="https://www.terraform.io/docs/providers/aws/guides/eks-getting-started.html" rel="nofollow"&gt;this doc&lt;/a&gt;
and its &lt;a href="https://github.com/terraform-providers/terraform-provider-aws/tree/master/examples/eks-getting-started"&gt;source code&lt;/a&gt;.
Read the &lt;a href="https://docs.aws.amazon.com/eks/latest/userguide/dashboard-tutorial.html" rel="nofollow"&gt;AWS docs on EKS to get connected to the k8s dashboard&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-assumptions" class="anchor" aria-hidden="true" href="#assumptions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Assumptions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;You want to create an EKS cluster and an autoscaling group of workers for the cluster.&lt;/li&gt;
&lt;li&gt;You want these resources to exist within security groups that allow communication and coordination. These can be user provided or created within the module.&lt;/li&gt;
&lt;li&gt;You've created a Virtual Private Cloud (VPC) and subnets where you intend to put the EKS resources. The VPC satisfies &lt;a href="https://docs.aws.amazon.com/eks/latest/userguide/network_reqs.html" rel="nofollow"&gt;EKS requirements&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;If &lt;code&gt;manage_aws_auth = true&lt;/code&gt;, it's required that both &lt;a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/#install-kubectl" rel="nofollow"&gt;&lt;code&gt;kubectl&lt;/code&gt;&lt;/a&gt; (&amp;gt;=1.10) and &lt;a href="https://github.com/kubernetes-sigs/aws-iam-authenticator#4-set-up-kubectl-to-use-authentication-tokens-provided-by-aws-iam-authenticator-for-kubernetes"&gt;&lt;code&gt;aws-iam-authenticator&lt;/code&gt;&lt;/a&gt; are installed and on your shell's PATH.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-usage-example" class="anchor" aria-hidden="true" href="#usage-example"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage example&lt;/h2&gt;
&lt;p&gt;A full example leveraging other community modules is contained in the &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/tree/master/examples/basic"&gt;examples/basic directory&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;data&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;aws_eks_cluster&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;cluster&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;name&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; module.eks.cluster_id
}

&lt;span class="pl-k"&gt;data&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;aws_eks_cluster_auth&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;cluster&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;name&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; module.eks.cluster_id
}

&lt;span class="pl-k"&gt;provider&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;kubernetes&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;host&lt;/span&gt;                   &lt;span class="pl-k"&gt;=&lt;/span&gt; data.aws_eks_cluster.cluster.endpoint
  &lt;span class="pl-smi"&gt;cluster_ca_certificate&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; base64decode(data.aws_eks_cluster.cluster.certificate_authority.&lt;span class="pl-c1"&gt;0&lt;/span&gt;.data)
  &lt;span class="pl-smi"&gt;token&lt;/span&gt;                  &lt;span class="pl-k"&gt;=&lt;/span&gt; data.aws_eks_cluster_auth.cluster.token
  &lt;span class="pl-smi"&gt;load_config_file&lt;/span&gt;       &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;
  &lt;span class="pl-smi"&gt;version&lt;/span&gt;                &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;~&amp;gt; &lt;span class="pl-s"&gt;1.9&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
}

&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;my-cluster&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;source&lt;/span&gt;          &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;terraform-aws-modules/eks/aws&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;cluster_name&lt;/span&gt;    &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;my-cluster&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;cluster_version&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;1.14&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;subnets&lt;/span&gt;         &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;subnet-abcde012&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;subnet-bcde012a&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;subnet-fghi345a&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
  &lt;span class="pl-smi"&gt;vpc_id&lt;/span&gt;          &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;vpc-1234556abcdef&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;worker_groups&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [
    {
      &lt;span class="pl-smi"&gt;instance_type&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;m4.large&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
      &lt;span class="pl-smi"&gt;asg_max_size&lt;/span&gt;  &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;5&lt;/span&gt;
    }
  ]
}&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-conditional-creation" class="anchor" aria-hidden="true" href="#conditional-creation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Conditional creation&lt;/h2&gt;
&lt;p&gt;Sometimes you need to have a way to create EKS resources conditionally but Terraform does not allow to use &lt;code&gt;count&lt;/code&gt; inside &lt;code&gt;module&lt;/code&gt; block, so the solution is to specify argument &lt;code&gt;create_eks&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Using this feature &lt;em&gt;and&lt;/em&gt; having &lt;code&gt;manage_aws_auth=true&lt;/code&gt; (the default) requires to set up the kubernetes provider in a way that allows the data sources to not exist.&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;data&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;aws_eks_cluster&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;cluster&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;count&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; var.create_eks ? &lt;span class="pl-c1"&gt;1&lt;/span&gt; : &lt;span class="pl-c1"&gt;0&lt;/span&gt;
  &lt;span class="pl-smi"&gt;name&lt;/span&gt;  &lt;span class="pl-k"&gt;=&lt;/span&gt; module.eks.cluster_id
}

&lt;span class="pl-k"&gt;data&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;aws_eks_cluster_auth&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;cluster&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;count&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; var.create_eks ? &lt;span class="pl-c1"&gt;1&lt;/span&gt; : &lt;span class="pl-c1"&gt;0&lt;/span&gt;
  &lt;span class="pl-smi"&gt;name&lt;/span&gt;  &lt;span class="pl-k"&gt;=&lt;/span&gt; module.eks.cluster_id
}

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; In case of not creating the cluster, this will be an incompletely configured, unused provider, which poses no problem.&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;provider&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;kubernetes&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;host&lt;/span&gt;                   &lt;span class="pl-k"&gt;=&lt;/span&gt; element(concat(data.aws_eks_cluster.cluster[*].endpoint, list(&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;)), &lt;span class="pl-c1"&gt;0&lt;/span&gt;)
  &lt;span class="pl-smi"&gt;cluster_ca_certificate&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; base64decode(element(concat(data.aws_eks_cluster.cluster[*].certificate_authority.&lt;span class="pl-c1"&gt;0&lt;/span&gt;.data, list(&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;)), &lt;span class="pl-c1"&gt;0&lt;/span&gt;))
  &lt;span class="pl-smi"&gt;token&lt;/span&gt;                  &lt;span class="pl-k"&gt;=&lt;/span&gt; element(concat(data.aws_eks_cluster_auth.cluster[*].token, list(&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;)), &lt;span class="pl-c1"&gt;0&lt;/span&gt;)
  &lt;span class="pl-smi"&gt;load_config_file&lt;/span&gt;       &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;
  &lt;span class="pl-smi"&gt;version&lt;/span&gt;                &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;~&amp;gt; &lt;span class="pl-s"&gt;1.10&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
}

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; This cluster will not be created&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;eks&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;source&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;terraform-aws-modules/eks/aws&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;create_eks&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ... omitted&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-other-documentation" class="anchor" aria-hidden="true" href="#other-documentation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Other documentation&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/blob/master/docs/autoscaling.md"&gt;Autoscaling&lt;/a&gt;: How to enable worker node autoscaling.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/blob/master/docs/enable-docker-bridge-network.md"&gt;Enable Docker Bridge Network&lt;/a&gt;: How to enable the docker bridge network when using the EKS-optimized AMI, which disables it by default.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/blob/master/docs/spot-instances.md"&gt;Spot instances&lt;/a&gt;: How to use spot instances with this module.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/blob/master/docs/iam-permissions.md"&gt;IAM Permissions&lt;/a&gt;: Minimum IAM permissions needed to setup EKS Cluster.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/blob/master/docs/faq.md"&gt;FAQ&lt;/a&gt;: Frequently Asked Questions&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-testing" class="anchor" aria-hidden="true" href="#testing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Testing&lt;/h2&gt;
&lt;p&gt;This module has been packaged with &lt;a href="https://github.com/k1LoW/awspec"&gt;awspec&lt;/a&gt; tests through &lt;a href="https://kitchen.ci/" rel="nofollow"&gt;kitchen&lt;/a&gt; and &lt;a href="https://newcontext-oss.github.io/kitchen-terraform/" rel="nofollow"&gt;kitchen-terraform&lt;/a&gt;. To run them:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Install &lt;a href="https://rvm.io/rvm/install" rel="nofollow"&gt;rvm&lt;/a&gt; and the ruby version specified in the &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/tree/master/Gemfile"&gt;Gemfile&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install bundler and the gems from our Gemfile:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;gem install bundler &lt;span class="pl-k"&gt;&amp;amp;&amp;amp;&lt;/span&gt; bundle install&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ensure your AWS environment is configured (i.e. credentials and region) for test.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Test using &lt;code&gt;bundle exec kitchen test&lt;/code&gt; from the root of the repo.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;For now, connectivity to the kubernetes cluster is not tested but will be in the
future. Once the test fixture has converged, you can query the test cluster from
that terminal session with&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;kubectl get nodes --watch --kubeconfig kubeconfig&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;(using default settings &lt;code&gt;config_output_path = "./"&lt;/code&gt; &amp;amp; &lt;code&gt;write_kubeconfig = true&lt;/code&gt;)&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-doc-generation" class="anchor" aria-hidden="true" href="#doc-generation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Doc generation&lt;/h2&gt;
&lt;p&gt;Code formatting and documentation for variables and outputs is generated using &lt;a href="https://github.com/antonbabenko/pre-commit-terraform"&gt;pre-commit-terraform hooks&lt;/a&gt; which uses &lt;a href="https://github.com/segmentio/terraform-docs"&gt;terraform-docs&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Follow &lt;a href="https://github.com/antonbabenko/pre-commit-terraform#how-to-install"&gt;these instructions&lt;/a&gt; to install pre-commit locally.&lt;/p&gt;
&lt;p&gt;And install &lt;code&gt;terraform-docs&lt;/code&gt; with &lt;code&gt;go get github.com/segmentio/terraform-docs&lt;/code&gt; or &lt;code&gt;brew install terraform-docs&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing&lt;/h2&gt;
&lt;p&gt;Report issues/questions/feature requests on in the &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/issues/new"&gt;issues&lt;/a&gt; section.&lt;/p&gt;
&lt;p&gt;Full contributing &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/blob/master/CONTRIBUTING.md"&gt;guidelines are covered here&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-change-log" class="anchor" aria-hidden="true" href="#change-log"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Change log&lt;/h2&gt;
&lt;p&gt;The &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/tree/master/CHANGELOG.md"&gt;changelog&lt;/a&gt; captures all important release notes.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-authors" class="anchor" aria-hidden="true" href="#authors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Authors&lt;/h2&gt;
&lt;p&gt;Created by &lt;a href="https://github.com/brandoconnor"&gt;Brandon O'Connor&lt;/a&gt; - &lt;a href="mailto:brandon@atscale.run"&gt;brandon@atscale.run&lt;/a&gt;.
Maintained by &lt;a href="https://github.com/max-rocket-internet"&gt;Max Williams&lt;/a&gt; and &lt;a href="https://github.com/barryib"&gt;Thierno IB. BARRY&lt;/a&gt;.
Many thanks to &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/graphs/contributors"&gt;the contributors listed here&lt;/a&gt;!&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;MIT Licensed. See &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/tree/master/LICENSE"&gt;LICENSE&lt;/a&gt; for full details.&lt;/p&gt;

&lt;h2&gt;&lt;a id="user-content-inputs" class="anchor" aria-hidden="true" href="#inputs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Inputs&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th align="center"&gt;Type&lt;/th&gt;
&lt;th align="center"&gt;Default&lt;/th&gt;
&lt;th align="center"&gt;Required&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;attach_worker_autoscaling_policy&lt;/td&gt;
&lt;td&gt;Whether to attach the module managed cluster autoscaling iam policy to the default worker IAM role. This requires &lt;code&gt;manage_worker_autoscaling_policy = true&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;attach_worker_cni_policy&lt;/td&gt;
&lt;td&gt;Whether to attach the Amazon managed &lt;code&gt;AmazonEKS_CNI_Policy&lt;/code&gt; IAM policy to the default worker IAM role. WARNING: If set &lt;code&gt;false&lt;/code&gt; the permissions must be assigned to the &lt;code&gt;aws-node&lt;/code&gt; DaemonSet pods via another method or nodes will not be able to join the cluster.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_create_timeout&lt;/td&gt;
&lt;td&gt;Timeout value when creating the EKS cluster.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"15m"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_delete_timeout&lt;/td&gt;
&lt;td&gt;Timeout value when deleting the EKS cluster.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"15m"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_enabled_log_types&lt;/td&gt;
&lt;td&gt;A list of the desired control plane logging to enable. For more information, see Amazon EKS Control Plane Logging documentation (&lt;a href="https://docs.aws.amazon.com/eks/latest/userguide/control-plane-logs.html" rel="nofollow"&gt;https://docs.aws.amazon.com/eks/latest/userguide/control-plane-logs.html&lt;/a&gt;)&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_endpoint_private_access&lt;/td&gt;
&lt;td&gt;Indicates whether or not the Amazon EKS private API server endpoint is enabled.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_endpoint_public_access&lt;/td&gt;
&lt;td&gt;Indicates whether or not the Amazon EKS public API server endpoint is enabled.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_iam_role_name&lt;/td&gt;
&lt;td&gt;IAM role name for the cluster. Only applicable if manage_cluster_iam_resources is set to false.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_log_kms_key_id&lt;/td&gt;
&lt;td&gt;If a KMS Key ARN is set, this key will be used to encrypt the corresponding log group. Please be sure that the KMS Key has an appropriate key policy (&lt;a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/encrypt-log-data-kms.html" rel="nofollow"&gt;https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/encrypt-log-data-kms.html&lt;/a&gt;)&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_log_retention_in_days&lt;/td&gt;
&lt;td&gt;Number of days to retain log events. Default retention - 90 days.&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"90"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_name&lt;/td&gt;
&lt;td&gt;Name of the EKS cluster. Also used as a prefix in names of related resources.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_security_group_id&lt;/td&gt;
&lt;td&gt;If provided, the EKS cluster will be attached to this security group. If not given, a security group will be created with necessary ingress/egress to work with the workers&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_version&lt;/td&gt;
&lt;td&gt;Kubernetes version to use for the EKS cluster.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"1.14"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;config_output_path&lt;/td&gt;
&lt;td&gt;Where to save the Kubectl config file (if &lt;code&gt;write_kubeconfig = true&lt;/code&gt;). Assumed to be a directory if the value ends with a forward slash &lt;code&gt;/&lt;/code&gt;.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"./"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;create_eks&lt;/td&gt;
&lt;td&gt;Controls if EKS resources should be created (it affects almost all resources)&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;eks_oidc_root_ca_thumbprint&lt;/td&gt;
&lt;td&gt;Thumbprint of Root CA for EKS OIDC, Valid until 2037&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"9e99a48a9960b14926bb7f3b02e22da2b0ab7280"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_irsa&lt;/td&gt;
&lt;td&gt;Whether to create OpenID Connect Provider for EKS to enable IRSA&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iam_path&lt;/td&gt;
&lt;td&gt;If provided, all IAM roles will be created on this path.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"/"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kubeconfig_aws_authenticator_additional_args&lt;/td&gt;
&lt;td&gt;Any additional arguments to pass to the authenticator such as the role to assume. e.g. ["-r", "MyEksRole"].&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kubeconfig_aws_authenticator_command&lt;/td&gt;
&lt;td&gt;Command to use to fetch AWS EKS credentials.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"aws-iam-authenticator"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kubeconfig_aws_authenticator_command_args&lt;/td&gt;
&lt;td&gt;Default arguments passed to the authenticator command. Defaults to [token -i $cluster_name].&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kubeconfig_aws_authenticator_env_variables&lt;/td&gt;
&lt;td&gt;Environment variables that should be used when executing the authenticator. e.g. { AWS_PROFILE = "eks"}.&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kubeconfig_name&lt;/td&gt;
&lt;td&gt;Override the default name used for items kubeconfig.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;local_exec_interpreter&lt;/td&gt;
&lt;td&gt;Command to run for local-exec resources. Must be a shell-style interpreter. If you are on Windows Git Bash is a good choice.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[ "/bin/sh", "-c" ]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;manage_aws_auth&lt;/td&gt;
&lt;td&gt;Whether to apply the aws-auth configmap file.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;manage_cluster_iam_resources&lt;/td&gt;
&lt;td&gt;Whether to let the module manage cluster IAM resources. If set to false, cluster_iam_role_name must be specified.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;manage_worker_autoscaling_policy&lt;/td&gt;
&lt;td&gt;Whether to let the module manage the cluster autoscaling iam policy.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;manage_worker_iam_resources&lt;/td&gt;
&lt;td&gt;Whether to let the module manage worker IAM resources. If set to false, iam_instance_profile_name must be specified for workers.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;map_accounts&lt;/td&gt;
&lt;td&gt;Additional AWS account numbers to add to the aws-auth configmap. See examples/basic/variables.tf for example format.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;map_roles&lt;/td&gt;
&lt;td&gt;Additional IAM roles to add to the aws-auth configmap. See examples/basic/variables.tf for example format.&lt;/td&gt;
&lt;td align="center"&gt;object&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;map_users&lt;/td&gt;
&lt;td&gt;Additional IAM users to add to the aws-auth configmap. See examples/basic/variables.tf for example format.&lt;/td&gt;
&lt;td align="center"&gt;object&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;node_groups&lt;/td&gt;
&lt;td&gt;A list of maps defining node group configurations to be defined using AWS EKS Managed Node Groups. See workers_group_defaults for valid keys.&lt;/td&gt;
&lt;td align="center"&gt;any&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;permissions_boundary&lt;/td&gt;
&lt;td&gt;If provided, all IAM roles will be created with this permissions boundary attached.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;subnets&lt;/td&gt;
&lt;td&gt;A list of subnets to place the EKS cluster and workers within.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tags&lt;/td&gt;
&lt;td&gt;A map of tags to add to all resources.&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_id&lt;/td&gt;
&lt;td&gt;VPC where the cluster and workers will be deployed.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_additional_security_group_ids&lt;/td&gt;
&lt;td&gt;A list of additional security group ids to attach to worker instances&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_ami_name_filter&lt;/td&gt;
&lt;td&gt;Name filter for AWS EKS worker AMI. If not provided, the latest official AMI for the specified 'cluster_version' is used.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_ami_name_filter_windows&lt;/td&gt;
&lt;td&gt;Name filter for AWS EKS Windows worker AMI. If not provided, the latest official AMI for the specified 'cluster_version' is used.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_ami_owner_id&lt;/td&gt;
&lt;td&gt;The ID of the owner for the AMI to use for the AWS EKS workers. Valid values are an AWS account ID, 'self' (the current account), or an AWS owner alias (e.g. 'amazon', 'aws-marketplace', 'microsoft').&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"602401143452"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_ami_owner_id_windows&lt;/td&gt;
&lt;td&gt;The ID of the owner for the AMI to use for the AWS EKS Windows workers. Valid values are an AWS account ID, 'self' (the current account), or an AWS owner alias (e.g. 'amazon', 'aws-marketplace', 'microsoft').&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"801119661308"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_create_initial_lifecycle_hooks&lt;/td&gt;
&lt;td&gt;Whether to create initial lifecycle hooks provided in worker groups.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_groups&lt;/td&gt;
&lt;td&gt;A list of maps defining worker group configurations to be defined using AWS Launch Configurations. See workers_group_defaults for valid keys.&lt;/td&gt;
&lt;td align="center"&gt;any&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_groups_launch_template&lt;/td&gt;
&lt;td&gt;A list of maps defining worker group configurations to be defined using AWS Launch Templates. See workers_group_defaults for valid keys.&lt;/td&gt;
&lt;td align="center"&gt;any&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_security_group_id&lt;/td&gt;
&lt;td&gt;If provided, all workers will be attached to this security group. If not given, a security group will be created with necessary ingress/egress to work with the EKS cluster.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_sg_ingress_from_port&lt;/td&gt;
&lt;td&gt;Minimum port number from which pods will accept communication. Must be changed to a lower value if some pods in your cluster will expose a port lower than 1025 (e.g. 22, 80, or 443).&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"1025"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;workers_additional_policies&lt;/td&gt;
&lt;td&gt;Additional policies to be added to workers&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;workers_group_defaults&lt;/td&gt;
&lt;td&gt;Override default values for target groups. See workers_group_defaults_defaults in local.tf for valid keys.&lt;/td&gt;
&lt;td align="center"&gt;any&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;workers_role_name&lt;/td&gt;
&lt;td&gt;User defined workers role name.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;write_kubeconfig&lt;/td&gt;
&lt;td&gt;Whether to write a Kubectl config file containing the cluster configuration. Saved to &lt;code&gt;config_output_path&lt;/code&gt;.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-outputs" class="anchor" aria-hidden="true" href="#outputs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Outputs&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;cloudwatch_log_group_name&lt;/td&gt;
&lt;td&gt;Name of cloudwatch log group created&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_arn&lt;/td&gt;
&lt;td&gt;The Amazon Resource Name (ARN) of the cluster.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_certificate_authority_data&lt;/td&gt;
&lt;td&gt;Nested attribute containing certificate-authority-data for your cluster. This is the base64 encoded certificate data required to communicate with your cluster.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_endpoint&lt;/td&gt;
&lt;td&gt;The endpoint for your EKS Kubernetes API.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_iam_role_arn&lt;/td&gt;
&lt;td&gt;IAM role ARN of the EKS cluster.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_iam_role_name&lt;/td&gt;
&lt;td&gt;IAM role name of the EKS cluster.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_id&lt;/td&gt;
&lt;td&gt;The name/id of the EKS cluster.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_oidc_issuer_url&lt;/td&gt;
&lt;td&gt;The URL on the EKS cluster OIDC Issuer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_security_group_id&lt;/td&gt;
&lt;td&gt;Security group ID attached to the EKS cluster.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_version&lt;/td&gt;
&lt;td&gt;The Kubernetes server version for the EKS cluster.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;config_map_aws_auth&lt;/td&gt;
&lt;td&gt;A kubernetes configuration to authenticate to this EKS cluster.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kubeconfig&lt;/td&gt;
&lt;td&gt;kubectl config file contents for this EKS cluster.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kubeconfig_filename&lt;/td&gt;
&lt;td&gt;The filename of the generated kubectl config.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;node_groups_iam_role_arns&lt;/td&gt;
&lt;td&gt;IAM role ARNs for EKS node groups&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_autoscaling_policy_arn&lt;/td&gt;
&lt;td&gt;ARN of the worker autoscaling IAM policy if &lt;code&gt;manage_worker_autoscaling_policy = true&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_autoscaling_policy_name&lt;/td&gt;
&lt;td&gt;Name of the worker autoscaling IAM policy if &lt;code&gt;manage_worker_autoscaling_policy = true&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_iam_instance_profile_arns&lt;/td&gt;
&lt;td&gt;default IAM instance profile ARN for EKS worker groups&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_iam_instance_profile_names&lt;/td&gt;
&lt;td&gt;default IAM instance profile name for EKS worker groups&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_iam_role_arn&lt;/td&gt;
&lt;td&gt;default IAM role ARN for EKS worker groups&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_iam_role_name&lt;/td&gt;
&lt;td&gt;default IAM role name for EKS worker groups&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_security_group_id&lt;/td&gt;
&lt;td&gt;Security group ID attached to the EKS workers.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;workers_asg_arns&lt;/td&gt;
&lt;td&gt;IDs of the autoscaling groups containing workers.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;workers_asg_names&lt;/td&gt;
&lt;td&gt;Names of the autoscaling groups containing workers.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;workers_default_ami_id&lt;/td&gt;
&lt;td&gt;ID of the default worker group AMI&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;workers_launch_template_arns&lt;/td&gt;
&lt;td&gt;ARNs of the worker launch templates.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;workers_launch_template_ids&lt;/td&gt;
&lt;td&gt;IDs of the worker launch templates.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;workers_launch_template_latest_versions&lt;/td&gt;
&lt;td&gt;Latest versions of the worker launch templates.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;workers_user_data&lt;/td&gt;
&lt;td&gt;User data of worker groups&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;/article&gt;&lt;/div&gt;</description><author>terraform-aws-modules</author><guid isPermaLink="false">https://github.com/terraform-aws-modules/terraform-aws-eks</guid><pubDate>Thu, 02 Jan 2020 00:01:00 GMT</pubDate></item><item><title>terraform-aws-modules/terraform-aws-vpc #2 in HCL, Today</title><link>https://github.com/terraform-aws-modules/terraform-aws-vpc</link><description>&lt;p&gt;&lt;i&gt;Terraform module which creates VPC resources on AWS&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-aws-vpc-terraform-module" class="anchor" aria-hidden="true" href="#aws-vpc-terraform-module"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;AWS VPC Terraform module&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://www.codetriage.com/terraform-aws-modules/terraform-aws-vpc" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/2b1f9786f5f10a5e7e9e95b52b114fa8265d3d65/68747470733a2f2f7777772e636f64657472696167652e636f6d2f7465727261666f726d2d6177732d6d6f64756c65732f7465727261666f726d2d6177732d7670632f6261646765732f75736572732e737667" alt="Help Contribute to Open Source" data-canonical-src="https://www.codetriage.com/terraform-aws-modules/terraform-aws-vpc/badges/users.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Terraform module which creates VPC resources on AWS.&lt;/p&gt;
&lt;p&gt;These types of resources are supported:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/vpc.html" rel="nofollow"&gt;VPC&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/subnet.html" rel="nofollow"&gt;Subnet&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/route.html" rel="nofollow"&gt;Route&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/route_table.html" rel="nofollow"&gt;Route table&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/internet_gateway.html" rel="nofollow"&gt;Internet Gateway&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/network_acl.html" rel="nofollow"&gt;Network ACL&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/nat_gateway.html" rel="nofollow"&gt;NAT Gateway&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/vpn_gateway.html" rel="nofollow"&gt;VPN Gateway&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/vpc_endpoint.html" rel="nofollow"&gt;VPC Endpoint&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Gateway: S3, DynamoDB&lt;/li&gt;
&lt;li&gt;Interface: EC2, SSM, EC2 Messages, SSM Messages, SQS, ECR API, ECR DKR, API Gateway, KMS,
ECS, ECS Agent, ECS Telemetry, SNS, STS, Glue, CloudWatch(Monitoring, Logs, Events),
Elastic Load Balancing, CloudTrail, Secrets Manager, Config, CodeBuild, CodeCommit,
Git-Codecommit, Transfer Server, Kinesis Streams, Kinesis Firehose, SageMaker(Notebook, Runtime, API),
CloudFormation, CodePipeline, Storage Gateway, AppMesh, Transfer, Service Catalog, AppStream,
Athena, Rekognition, Elastic File System (EFS), Cloud Directory&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/db_subnet_group.html" rel="nofollow"&gt;RDS DB Subnet Group&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/elasticache_subnet_group.html" rel="nofollow"&gt;ElastiCache Subnet Group&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/redshift_subnet_group.html" rel="nofollow"&gt;Redshift Subnet Group&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/vpc_dhcp_options.html" rel="nofollow"&gt;DHCP Options Set&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/default_vpc.html" rel="nofollow"&gt;Default VPC&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/default_network_acl.html" rel="nofollow"&gt;Default Network ACL&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Sponsored by &lt;a href="https://cloudcraft.co/?utm_source=terraform-aws-vpc" rel="nofollow"&gt;Cloudcraft - the best way to draw AWS diagrams&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://cloudcraft.co/?utm_source=terraform-aws-vpc" rel="nofollow"&gt;&lt;img src="https://raw.githubusercontent.com/antonbabenko/modules.tf-lambda/master/misc/cloudcraft-logo.png" alt="Cloudcraft - the best way to draw AWS diagrams" width="211" height="56" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-terraform-versions" class="anchor" aria-hidden="true" href="#terraform-versions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Terraform versions&lt;/h2&gt;
&lt;p&gt;Terraform 0.12. Pin module version to &lt;code&gt;~&amp;gt; v2.0&lt;/code&gt;. Submit pull-requests to &lt;code&gt;master&lt;/code&gt; branch.&lt;/p&gt;
&lt;p&gt;Terraform 0.11. Pin module version to &lt;code&gt;~&amp;gt; v1.0&lt;/code&gt;. Submit pull-requests to &lt;code&gt;terraform011&lt;/code&gt; branch.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h2&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;vpc&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;source&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;terraform-aws-modules/vpc/aws&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;name&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;my-vpc&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;cidr&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.0.0.0/16&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;azs&lt;/span&gt;             &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;eu-west-1a&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;eu-west-1b&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;eu-west-1c&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
  &lt;span class="pl-smi"&gt;private_subnets&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.0.1.0/24&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.0.2.0/24&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.0.3.0/24&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
  &lt;span class="pl-smi"&gt;public_subnets&lt;/span&gt;  &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.0.101.0/24&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.0.102.0/24&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.0.103.0/24&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]

  &lt;span class="pl-smi"&gt;enable_nat_gateway&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
  &lt;span class="pl-smi"&gt;enable_vpn_gateway&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;

  &lt;span class="pl-smi"&gt;tags&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; {
    &lt;span class="pl-smi"&gt;Terraform&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;true&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
    &lt;span class="pl-smi"&gt;Environment&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;dev&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-external-nat-gateway-ips" class="anchor" aria-hidden="true" href="#external-nat-gateway-ips"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;External NAT Gateway IPs&lt;/h2&gt;
&lt;p&gt;By default this module will provision new Elastic IPs for the VPC's NAT Gateways.
This means that when creating a new VPC, new IPs are allocated, and when that VPC is destroyed those IPs are released.
Sometimes it is handy to keep the same IPs even after the VPC is destroyed and re-created.
To that end, it is possible to assign existing IPs to the NAT Gateways.
This prevents the destruction of the VPC from releasing those IPs, while making it possible that a re-created VPC uses the same IPs.&lt;/p&gt;
&lt;p&gt;To achieve this, allocate the IPs outside the VPC module declaration.&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;resource&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;aws_eip&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;nat&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;count&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;3&lt;/span&gt;

  &lt;span class="pl-smi"&gt;vpc&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then, pass the allocated IPs as a parameter to this module.&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;vpc&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;source&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;terraform-aws-modules/vpc/aws&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; The rest of arguments are omitted for brevity&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;

  &lt;span class="pl-smi"&gt;enable_nat_gateway&lt;/span&gt;  &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
  &lt;span class="pl-smi"&gt;single_nat_gateway&lt;/span&gt;  &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;
  &lt;span class="pl-smi"&gt;reuse_nat_ips&lt;/span&gt;       &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;                    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; &amp;lt;= Skip creation of EIPs for the NAT Gateways&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-smi"&gt;external_nat_ip_ids&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s1"&gt;&lt;span class="pl-e"&gt;${&lt;/span&gt;aws_eip&lt;span class="pl-k"&gt;.&lt;/span&gt;nat&lt;span class="pl-k"&gt;.&lt;/span&gt;*&lt;span class="pl-k"&gt;.&lt;/span&gt;id&lt;span class="pl-e"&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;   &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; &amp;lt;= IPs specified here as input to the module&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note that in the example we allocate 3 IPs because we will be provisioning 3 NAT Gateways (due to &lt;code&gt;single_nat_gateway = false&lt;/code&gt; and having 3 subnets).
If, on the other hand, &lt;code&gt;single_nat_gateway = true&lt;/code&gt;, then &lt;code&gt;aws_eip.nat&lt;/code&gt; would only need to allocate 1 IP.
Passing the IPs into the module is done by setting two variables &lt;code&gt;reuse_nat_ips = true&lt;/code&gt; and &lt;code&gt;external_nat_ip_ids = "${aws_eip.nat.*.id}"&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-nat-gateway-scenarios" class="anchor" aria-hidden="true" href="#nat-gateway-scenarios"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;NAT Gateway Scenarios&lt;/h2&gt;
&lt;p&gt;This module supports three scenarios for creating NAT gateways. Each will be explained in further detail in the corresponding sections.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;One NAT Gateway per subnet (default behavior)
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;enable_nat_gateway = true&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;single_nat_gateway = false&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;one_nat_gateway_per_az = false&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Single NAT Gateway
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;enable_nat_gateway = true&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;single_nat_gateway = true&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;one_nat_gateway_per_az = false&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;One NAT Gateway per availability zone
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;enable_nat_gateway = true&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;single_nat_gateway = false&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;one_nat_gateway_per_az = true&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If both &lt;code&gt;single_nat_gateway&lt;/code&gt; and &lt;code&gt;one_nat_gateway_per_az&lt;/code&gt; are set to &lt;code&gt;true&lt;/code&gt;, then &lt;code&gt;single_nat_gateway&lt;/code&gt; takes precedence.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-one-nat-gateway-per-subnet-default" class="anchor" aria-hidden="true" href="#one-nat-gateway-per-subnet-default"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;One NAT Gateway per subnet (default)&lt;/h3&gt;
&lt;p&gt;By default, the module will determine the number of NAT Gateways to create based on the the &lt;code&gt;max()&lt;/code&gt; of the private subnet lists (&lt;code&gt;database_subnets&lt;/code&gt;, &lt;code&gt;elasticache_subnets&lt;/code&gt;, &lt;code&gt;private_subnets&lt;/code&gt;, and &lt;code&gt;redshift_subnets&lt;/code&gt;). The module &lt;strong&gt;does not&lt;/strong&gt; take into account the number of &lt;code&gt;intra_subnets&lt;/code&gt;, since the latter are designed to have no Internet access via NAT Gateway.  For example, if your configuration looks like the following:&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-smi"&gt;database_subnets&lt;/span&gt;    &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.0.21.0/24&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.0.22.0/24&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
&lt;span class="pl-smi"&gt;elasticache_subnets&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.0.31.0/24&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.0.32.0/24&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
&lt;span class="pl-smi"&gt;private_subnets&lt;/span&gt;     &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.0.1.0/24&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.0.2.0/24&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.0.3.0/24&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.0.4.0/24&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.0.5.0/24&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
&lt;span class="pl-smi"&gt;redshift_subnets&lt;/span&gt;    &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.0.41.0/24&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.0.42.0/24&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
&lt;span class="pl-smi"&gt;intra_subnets&lt;/span&gt;       &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.0.51.0/24&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.0.52.0/24&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.0.53.0/24&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then &lt;code&gt;5&lt;/code&gt; NAT Gateways will be created since &lt;code&gt;5&lt;/code&gt; private subnet CIDR blocks were specified.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-single-nat-gateway" class="anchor" aria-hidden="true" href="#single-nat-gateway"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Single NAT Gateway&lt;/h3&gt;
&lt;p&gt;If &lt;code&gt;single_nat_gateway = true&lt;/code&gt;, then all private subnets will route their Internet traffic through this single NAT gateway. The NAT gateway will be placed in the first public subnet in your &lt;code&gt;public_subnets&lt;/code&gt; block.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-one-nat-gateway-per-availability-zone" class="anchor" aria-hidden="true" href="#one-nat-gateway-per-availability-zone"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;One NAT Gateway per availability zone&lt;/h3&gt;
&lt;p&gt;If &lt;code&gt;one_nat_gateway_per_az = true&lt;/code&gt; and &lt;code&gt;single_nat_gateway = false&lt;/code&gt;, then the module will place one NAT gateway in each availability zone you specify in &lt;code&gt;var.azs&lt;/code&gt;. There are some requirements around using this feature flag:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The variable &lt;code&gt;var.azs&lt;/code&gt; &lt;strong&gt;must&lt;/strong&gt; be specified.&lt;/li&gt;
&lt;li&gt;The number of public subnet CIDR blocks specified in &lt;code&gt;public_subnets&lt;/code&gt; &lt;strong&gt;must&lt;/strong&gt; be greater than or equal to the number of availability zones specified in &lt;code&gt;var.azs&lt;/code&gt;. This is to ensure that each NAT Gateway has a dedicated public subnet to deploy to.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-private-versus-intra-subnets" class="anchor" aria-hidden="true" href="#private-versus-intra-subnets"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;"private" versus "intra" subnets&lt;/h2&gt;
&lt;p&gt;By default, if NAT Gateways are enabled, private subnets will be configured with routes for Internet traffic that point at the NAT Gateways configured by use of the above options.&lt;/p&gt;
&lt;p&gt;If you need private subnets that should have no Internet routing (in the sense of &lt;a href="https://tools.ietf.org/html/rfc1918" rel="nofollow"&gt;RFC1918 Category 1 subnets&lt;/a&gt;), &lt;code&gt;intra_subnets&lt;/code&gt; should be specified. An example use case is configuration of AWS Lambda functions within a VPC, where AWS Lambda functions only need to pass traffic to internal resources or VPC endpoints for AWS services.&lt;/p&gt;
&lt;p&gt;Since AWS Lambda functions allocate Elastic Network Interfaces in proportion to the traffic received (&lt;a href="https://docs.aws.amazon.com/lambda/latest/dg/vpc.html" rel="nofollow"&gt;read more&lt;/a&gt;), it can be useful to allocate a large private subnet for such allocations, while keeping the traffic they generate entirely internal to the VPC.&lt;/p&gt;
&lt;p&gt;You can add additional tags with &lt;code&gt;intra_subnet_tags&lt;/code&gt; as with other subnet types.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-conditional-creation" class="anchor" aria-hidden="true" href="#conditional-creation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Conditional creation&lt;/h2&gt;
&lt;p&gt;Sometimes you need to have a way to create VPC resources conditionally but Terraform does not allow to use &lt;code&gt;count&lt;/code&gt; inside &lt;code&gt;module&lt;/code&gt; block, so the solution is to specify argument &lt;code&gt;create_vpc&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; This VPC will not be created&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;vpc&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;source&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;terraform-aws-modules/vpc/aws&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;create_vpc&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ... omitted&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-public-access-to-rds-instances" class="anchor" aria-hidden="true" href="#public-access-to-rds-instances"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Public access to RDS instances&lt;/h2&gt;
&lt;p&gt;Sometimes it is handy to have public access to RDS instances (it is not recommended for production) by specifying these arguments:&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;  &lt;span class="pl-smi"&gt;create_database_subnet_group&lt;/span&gt;           &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
  &lt;span class="pl-smi"&gt;create_database_subnet_route_table&lt;/span&gt;     &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
  &lt;span class="pl-smi"&gt;create_database_internet_gateway_route&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;

  &lt;span class="pl-smi"&gt;enable_dns_hostnames&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
  &lt;span class="pl-smi"&gt;enable_dns_support&lt;/span&gt;   &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-network-access-control-lists-acl-or-nacl" class="anchor" aria-hidden="true" href="#network-access-control-lists-acl-or-nacl"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Network Access Control Lists (ACL or NACL)&lt;/h2&gt;
&lt;p&gt;This module can manage network ACL and rules. Once VPC is created, AWS creates the default network ACL, which can be controlled using this module (&lt;code&gt;manage_default_network_acl = true&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Also, each type of subnet may have its own network ACL with custom rules per subnet. Eg, set &lt;code&gt;public_dedicated_network_acl = true&lt;/code&gt; to use dedicated network ACL for the public subnets; set values of &lt;code&gt;public_inbound_acl_rules&lt;/code&gt; and &lt;code&gt;public_outbound_acl_rules&lt;/code&gt; to specify all the NACL rules you need to have on public subnets (see &lt;code&gt;variables.tf&lt;/code&gt; for default values and structures).&lt;/p&gt;
&lt;p&gt;By default, all subnets are associated with the default network ACL.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-public-access-to-redshift-cluster" class="anchor" aria-hidden="true" href="#public-access-to-redshift-cluster"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Public access to Redshift cluster&lt;/h2&gt;
&lt;p&gt;Sometimes it is handy to have public access to Redshift clusters (for example if you need to access it by Kinesis - VPC endpoint for Kinesis is not yet supported by Redshift) by specifying these arguments:&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;  &lt;span class="pl-smi"&gt;enable_public_redshift&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; &amp;lt;= By default Redshift subnets will be associated with the private route table&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-examples" class="anchor" aria-hidden="true" href="#examples"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Examples&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-vpc/tree/master/examples/simple-vpc"&gt;Simple VPC&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-vpc/tree/master/examples/secondary-cidr-blocks"&gt;Simple VPC with secondary CIDR blocks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-vpc/tree/master/examples/complete-vpc"&gt;Complete VPC&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-vpc/tree/master/examples/ipv6"&gt;VPC with IPv6 enabled&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-vpc/tree/master/examples/network-acls"&gt;Network ACL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-vpc/tree/master/examples/manage-default-vpc"&gt;Manage Default VPC&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Few tests and edge cases examples: &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-vpc/tree/master/examples/issue-46-no-private-subnets"&gt;#46&lt;/a&gt;, &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-vpc/tree/master/examples/issue-44-asymmetric-private-subnets"&gt;#44&lt;/a&gt;, &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-vpc/tree/master/examples/issue-108-route-already-exists"&gt;#108&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;&lt;a id="user-content-inputs" class="anchor" aria-hidden="true" href="#inputs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Inputs&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th align="center"&gt;Type&lt;/th&gt;
&lt;th align="center"&gt;Default&lt;/th&gt;
&lt;th align="center"&gt;Required&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;amazon_side_asn&lt;/td&gt;
&lt;td&gt;The Autonomous System Number (ASN) for the Amazon side of the gateway. By default the virtual private gateway is created with the current default Amazon ASN.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"64512"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;apigw_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for API GW endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;apigw_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for API GW  endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;apigw_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for API GW endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;appmesh_envoy_management_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for AppMesh endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;appmesh_envoy_management_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for AppMesh endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;appmesh_envoy_management_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for AppMesh endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;appstream_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for AppStream endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;appstream_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for AppStream endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;appstream_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for AppStream endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;assign_ipv6_address_on_creation&lt;/td&gt;
&lt;td&gt;Assign IPv6 address on subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;athena_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for Athena endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;athena_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for Athena endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;athena_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for Athena endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;azs&lt;/td&gt;
&lt;td&gt;A list of availability zones in the region&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cidr&lt;/td&gt;
&lt;td&gt;The CIDR block for the VPC. Default value is a valid CIDR, but not acceptable by AWS and should be overridden&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"0.0.0.0/0"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cloud_directory_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for Cloud Directory endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cloud_directory_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for Cloud Directory endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cloud_directory_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for Cloud Directory endpoint. Only a single subnet within an AZ is supported. Ifomitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cloudformation_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for Cloudformation endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cloudformation_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for Cloudformation endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cloudformation_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for Cloudformation endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cloudtrail_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for CloudTrail endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cloudtrail_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for CloudTrail endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cloudtrail_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for CloudTrail endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;codebuild_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for Codebuild endpoint&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;codebuild_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for Codebuild endpoint&lt;/td&gt;
&lt;td align="center"&gt;list&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;codebuild_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for Codebuilt endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;codecommit_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for Codecommit endpoint&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;codecommit_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for Codecommit endpoint&lt;/td&gt;
&lt;td align="center"&gt;list&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;codecommit_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for Codecommit endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;codepipeline_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for CodePipeline endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;codepipeline_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for CodePipeline endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;codepipeline_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for CodePipeline endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;config_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for config endpoint&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;config_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for config endpoint&lt;/td&gt;
&lt;td align="center"&gt;list&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;config_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for config endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;create_database_internet_gateway_route&lt;/td&gt;
&lt;td&gt;Controls if an internet gateway route for public database access should be created&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;create_database_nat_gateway_route&lt;/td&gt;
&lt;td&gt;Controls if a nat gateway route should be created to give internet access to the database subnets&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;create_database_subnet_group&lt;/td&gt;
&lt;td&gt;Controls if database subnet group should be created&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;create_database_subnet_route_table&lt;/td&gt;
&lt;td&gt;Controls if separate route table for database should be created&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;create_elasticache_subnet_group&lt;/td&gt;
&lt;td&gt;Controls if elasticache subnet group should be created&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;create_elasticache_subnet_route_table&lt;/td&gt;
&lt;td&gt;Controls if separate route table for elasticache should be created&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;create_redshift_subnet_group&lt;/td&gt;
&lt;td&gt;Controls if redshift subnet group should be created&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;create_redshift_subnet_route_table&lt;/td&gt;
&lt;td&gt;Controls if separate route table for redshift should be created&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;create_vpc&lt;/td&gt;
&lt;td&gt;Controls if VPC should be created (it affects almost all resources)&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;customer_gateway_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the Customer Gateway&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;customer_gateways&lt;/td&gt;
&lt;td&gt;Maps of Customer Gateway's attributes (BGP ASN and Gateway's Internet-routable external IP address)&lt;/td&gt;
&lt;td align="center"&gt;map(map(any))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;database_acl_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the database subnets network ACL&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;database_dedicated_network_acl&lt;/td&gt;
&lt;td&gt;Whether to use dedicated network ACL (not default) and custom rules for database subnets&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;database_inbound_acl_rules&lt;/td&gt;
&lt;td&gt;Database subnets inbound network ACL rules&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[ { "cidr_block": "0.0.0.0/0", "from_port": 0, "protocol": "-1", "rule_action": "allow", "rule_number": 100, "to_port": 0 } ]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;database_outbound_acl_rules&lt;/td&gt;
&lt;td&gt;Database subnets outbound network ACL rules&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[ { "cidr_block": "0.0.0.0/0", "from_port": 0, "protocol": "-1", "rule_action": "allow", "rule_number": 100, "to_port": 0 } ]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;database_route_table_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the database route tables&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;database_subnet_assign_ipv6_address_on_creation&lt;/td&gt;
&lt;td&gt;Assign IPv6 address on database subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;database_subnet_group_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the database subnet group&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;database_subnet_ipv6_prefixes&lt;/td&gt;
&lt;td&gt;Assigns IPv6 database subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list&lt;/td&gt;
&lt;td align="center"&gt;list&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;database_subnet_suffix&lt;/td&gt;
&lt;td&gt;Suffix to append to database subnets name&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"db"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;database_subnet_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the database subnets&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;database_subnets&lt;/td&gt;
&lt;td&gt;A list of database subnets&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default_network_acl_egress&lt;/td&gt;
&lt;td&gt;List of maps of egress rules to set on the Default Network ACL&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[ { "action": "allow", "cidr_block": "0.0.0.0/0", "from_port": 0, "protocol": "-1", "rule_no": 100, "to_port": 0 }, { "action": "allow", "from_port": 0, "ipv6_cidr_block": "::/0", "protocol": "-1", "rule_no": 101, "to_port": 0 } ]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default_network_acl_ingress&lt;/td&gt;
&lt;td&gt;List of maps of ingress rules to set on the Default Network ACL&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[ { "action": "allow", "cidr_block": "0.0.0.0/0", "from_port": 0, "protocol": "-1", "rule_no": 100, "to_port": 0 }, { "action": "allow", "from_port": 0, "ipv6_cidr_block": "::/0", "protocol": "-1", "rule_no": 101, "to_port": 0 } ]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default_network_acl_name&lt;/td&gt;
&lt;td&gt;Name to be used on the Default Network ACL&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default_network_acl_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the Default Network ACL&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default_vpc_enable_classiclink&lt;/td&gt;
&lt;td&gt;Should be true to enable ClassicLink in the Default VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default_vpc_enable_dns_hostnames&lt;/td&gt;
&lt;td&gt;Should be true to enable DNS hostnames in the Default VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default_vpc_enable_dns_support&lt;/td&gt;
&lt;td&gt;Should be true to enable DNS support in the Default VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default_vpc_name&lt;/td&gt;
&lt;td&gt;Name to be used on the Default VPC&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default_vpc_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the Default VPC&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dhcp_options_domain_name&lt;/td&gt;
&lt;td&gt;Specifies DNS name for DHCP options set (requires enable_dhcp_options set to true)&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dhcp_options_domain_name_servers&lt;/td&gt;
&lt;td&gt;Specify a list of DNS server addresses for DHCP options set, default to AWS provided (requires enable_dhcp_options set to true)&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[ "AmazonProvidedDNS" ]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dhcp_options_netbios_name_servers&lt;/td&gt;
&lt;td&gt;Specify a list of netbios servers for DHCP options set (requires enable_dhcp_options set to true)&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dhcp_options_netbios_node_type&lt;/td&gt;
&lt;td&gt;Specify netbios node_type for DHCP options set (requires enable_dhcp_options set to true)&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dhcp_options_ntp_servers&lt;/td&gt;
&lt;td&gt;Specify a list of NTP servers for DHCP options set (requires enable_dhcp_options set to true)&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;dhcp_options_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the DHCP option set (requires enable_dhcp_options set to true)&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ec2_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for EC2 endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ec2_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for EC2 endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ec2_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for EC2 endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ec2messages_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for EC2MESSAGES endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ec2messages_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for EC2MESSAGES endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ec2messages_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for EC2MESSAGES endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ecr_api_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for ECR API endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ecr_api_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for ECR API endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ecr_api_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for ECR api endpoint. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ecr_dkr_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for ECR DKR endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ecr_dkr_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for ECR DKR endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ecr_dkr_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for ECR dkr endpoint. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ecs_agent_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for ECS Agent endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ecs_agent_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for ECS Agent endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ecs_agent_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for ECS Agent endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ecs_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for ECS endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ecs_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for ECS endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ecs_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for ECS endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ecs_telemetry_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for ECS Telemetry endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ecs_telemetry_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for ECS Telemetry endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ecs_telemetry_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for ECS Telemetry endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;efs_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for EFS endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;efs_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for EFS endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;efs_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for EFS endpoint. Only a single subnet within an AZ is supported. Ifomitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;elasticache_acl_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the elasticache subnets network ACL&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;elasticache_dedicated_network_acl&lt;/td&gt;
&lt;td&gt;Whether to use dedicated network ACL (not default) and custom rules for elasticache subnets&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;elasticache_inbound_acl_rules&lt;/td&gt;
&lt;td&gt;Elasticache subnets inbound network ACL rules&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[ { "cidr_block": "0.0.0.0/0", "from_port": 0, "protocol": "-1", "rule_action": "allow", "rule_number": 100, "to_port": 0 } ]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;elasticache_outbound_acl_rules&lt;/td&gt;
&lt;td&gt;Elasticache subnets outbound network ACL rules&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[ { "cidr_block": "0.0.0.0/0", "from_port": 0, "protocol": "-1", "rule_action": "allow", "rule_number": 100, "to_port": 0 } ]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;elasticache_route_table_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the elasticache route tables&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;elasticache_subnet_assign_ipv6_address_on_creation&lt;/td&gt;
&lt;td&gt;Assign IPv6 address on elasticache subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;elasticache_subnet_ipv6_prefixes&lt;/td&gt;
&lt;td&gt;Assigns IPv6 elasticache subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list&lt;/td&gt;
&lt;td align="center"&gt;list&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;elasticache_subnet_suffix&lt;/td&gt;
&lt;td&gt;Suffix to append to elasticache subnets name&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"elasticache"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;elasticache_subnet_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the elasticache subnets&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;elasticache_subnets&lt;/td&gt;
&lt;td&gt;A list of elasticache subnets&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;elasticloadbalancing_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for Elastic Load Balancing endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;elasticloadbalancing_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for Elastic Load Balancing endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;elasticloadbalancing_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for Elastic Load Balancing endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_apigw_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision an api gateway endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_appmesh_envoy_management_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a AppMesh endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_appstream_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a AppStream endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_athena_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a Athena endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_classiclink&lt;/td&gt;
&lt;td&gt;Should be true to enable ClassicLink for the VPC. Only valid in regions and accounts that support EC2 Classic.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_classiclink_dns_support&lt;/td&gt;
&lt;td&gt;Should be true to enable ClassicLink DNS Support for the VPC. Only valid in regions and accounts that support EC2 Classic.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_cloud_directory_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision an Cloud Directory endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_cloudformation_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a Cloudformation endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_cloudtrail_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a CloudTrail endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_codebuild_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision an Codebuild endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_codecommit_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision an Codecommit endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_codepipeline_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a CodePipeline endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_config_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision an config endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_dhcp_options&lt;/td&gt;
&lt;td&gt;Should be true if you want to specify a DHCP options set with a custom domain name, DNS servers, NTP servers, netbios servers, and/or netbios server type&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_dns_hostnames&lt;/td&gt;
&lt;td&gt;Should be true to enable DNS hostnames in the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_dns_support&lt;/td&gt;
&lt;td&gt;Should be true to enable DNS support in the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_dynamodb_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a DynamoDB endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_ec2_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision an EC2 endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_ec2messages_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision an EC2MESSAGES endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_ecr_api_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision an ecr api endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_ecr_dkr_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision an ecr dkr endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_ecs_agent_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a ECS Agent endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_ecs_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a ECS endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_ecs_telemetry_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a ECS Telemetry endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_efs_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision an EFS endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_elasticloadbalancing_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a Elastic Load Balancing endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_events_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a CloudWatch Events endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_git_codecommit_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision an Git Codecommit endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_glue_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a Glue endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_ipv6&lt;/td&gt;
&lt;td&gt;Requests an Amazon-provided IPv6 CIDR block with a /56 prefix length for the VPC. You cannot specify the range of IP addresses, or the size of the CIDR block.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_kinesis_firehose_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a Kinesis Firehose endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_kinesis_streams_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a Kinesis Streams endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_kms_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a KMS endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_logs_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a CloudWatch Logs endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_monitoring_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a CloudWatch Monitoring endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_nat_gateway&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision NAT Gateways for each of your private networks&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_public_redshift&lt;/td&gt;
&lt;td&gt;Controls if redshift should have public routing table&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_rekognition_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a Rekognition endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_s3_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision an S3 endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_sagemaker_api_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a SageMaker API endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_sagemaker_notebook_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a Sagemaker Notebook endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_sagemaker_runtime_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a SageMaker Runtime endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_secretsmanager_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision an Secrets Manager endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_servicecatalog_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a Service Catalog endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_sns_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a SNS endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_sqs_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision an SQS endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_ssm_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision an SSM endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_ssmmessages_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a SSMMESSAGES endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_storagegateway_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a Storage Gateway endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_sts_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a STS endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_transfer_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a Transfer endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_transferserver_endpoint&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a Transfer Server endpoint to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_vpn_gateway&lt;/td&gt;
&lt;td&gt;Should be true if you want to create a new VPN Gateway resource and attach it to the VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;events_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for CloudWatch Events endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;events_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for CloudWatch Events endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;events_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for CloudWatch Events endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;external_nat_ip_ids&lt;/td&gt;
&lt;td&gt;List of EIP IDs to be assigned to the NAT Gateways (used in combination with reuse_nat_ips)&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;git_codecommit_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for Git Codecommit endpoint&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;git_codecommit_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for Git Codecommit endpoint&lt;/td&gt;
&lt;td align="center"&gt;list&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;git_codecommit_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for Git Codecommit endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;glue_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for Glue endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;glue_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for Glue endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;glue_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for Glue endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;igw_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the internet gateway&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;instance_tenancy&lt;/td&gt;
&lt;td&gt;A tenancy option for instances launched into the VPC&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"default"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;intra_acl_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the intra subnets network ACL&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;intra_dedicated_network_acl&lt;/td&gt;
&lt;td&gt;Whether to use dedicated network ACL (not default) and custom rules for intra subnets&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;intra_inbound_acl_rules&lt;/td&gt;
&lt;td&gt;Intra subnets inbound network ACLs&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[ { "cidr_block": "0.0.0.0/0", "from_port": 0, "protocol": "-1", "rule_action": "allow", "rule_number": 100, "to_port": 0 } ]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;intra_outbound_acl_rules&lt;/td&gt;
&lt;td&gt;Intra subnets outbound network ACLs&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[ { "cidr_block": "0.0.0.0/0", "from_port": 0, "protocol": "-1", "rule_action": "allow", "rule_number": 100, "to_port": 0 } ]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;intra_route_table_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the intra route tables&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;intra_subnet_assign_ipv6_address_on_creation&lt;/td&gt;
&lt;td&gt;Assign IPv6 address on intra subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;intra_subnet_ipv6_prefixes&lt;/td&gt;
&lt;td&gt;Assigns IPv6 intra subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list&lt;/td&gt;
&lt;td align="center"&gt;list&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;intra_subnet_suffix&lt;/td&gt;
&lt;td&gt;Suffix to append to intra subnets name&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"intra"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;intra_subnet_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the intra subnets&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;intra_subnets&lt;/td&gt;
&lt;td&gt;A list of intra subnets&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kinesis_firehose_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for Kinesis Firehose endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kinesis_firehose_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for Kinesis Firehose endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kinesis_firehose_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for Kinesis Firehose endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kinesis_streams_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for Kinesis Streams endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kinesis_streams_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for Kinesis Streams endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kinesis_streams_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for Kinesis Streams endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kms_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for KMS endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kms_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for KMS endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kms_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for KMS endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;logs_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for CloudWatch Logs endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;logs_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for CloudWatch Logs endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;logs_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for CloudWatch Logs endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;manage_default_network_acl&lt;/td&gt;
&lt;td&gt;Should be true to adopt and manage Default Network ACL&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;manage_default_vpc&lt;/td&gt;
&lt;td&gt;Should be true to adopt and manage Default VPC&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;map_public_ip_on_launch&lt;/td&gt;
&lt;td&gt;Should be false if you do not want to auto-assign public IP on launch&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;monitoring_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for CloudWatch Monitoring endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;monitoring_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for CloudWatch Monitoring endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;monitoring_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for CloudWatch Monitoring endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;name&lt;/td&gt;
&lt;td&gt;Name to be used on all the resources as identifier&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;nat_eip_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the NAT EIP&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;nat_gateway_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the NAT gateways&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;one_nat_gateway_per_az&lt;/td&gt;
&lt;td&gt;Should be true if you want only one NAT Gateway per availability zone. Requires &lt;code&gt;var.azs&lt;/code&gt; to be set, and the number of &lt;code&gt;public_subnets&lt;/code&gt; created to be greater than or equal to the number of availability zones specified in &lt;code&gt;var.azs&lt;/code&gt;.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_acl_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the private subnets network ACL&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_dedicated_network_acl&lt;/td&gt;
&lt;td&gt;Whether to use dedicated network ACL (not default) and custom rules for private subnets&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_inbound_acl_rules&lt;/td&gt;
&lt;td&gt;Private subnets inbound network ACLs&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[ { "cidr_block": "0.0.0.0/0", "from_port": 0, "protocol": "-1", "rule_action": "allow", "rule_number": 100, "to_port": 0 } ]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_outbound_acl_rules&lt;/td&gt;
&lt;td&gt;Private subnets outbound network ACLs&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[ { "cidr_block": "0.0.0.0/0", "from_port": 0, "protocol": "-1", "rule_action": "allow", "rule_number": 100, "to_port": 0 } ]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_route_table_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the private route tables&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_subnet_assign_ipv6_address_on_creation&lt;/td&gt;
&lt;td&gt;Assign IPv6 address on private subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_subnet_ipv6_prefixes&lt;/td&gt;
&lt;td&gt;Assigns IPv6 private subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list&lt;/td&gt;
&lt;td align="center"&gt;list&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_subnet_suffix&lt;/td&gt;
&lt;td&gt;Suffix to append to private subnets name&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"private"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_subnet_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the private subnets&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_subnets&lt;/td&gt;
&lt;td&gt;A list of private subnets inside the VPC&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;propagate_private_route_tables_vgw&lt;/td&gt;
&lt;td&gt;Should be true if you want route table propagation&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;propagate_public_route_tables_vgw&lt;/td&gt;
&lt;td&gt;Should be true if you want route table propagation&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;public_acl_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the public subnets network ACL&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;public_dedicated_network_acl&lt;/td&gt;
&lt;td&gt;Whether to use dedicated network ACL (not default) and custom rules for public subnets&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;public_inbound_acl_rules&lt;/td&gt;
&lt;td&gt;Public subnets inbound network ACLs&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[ { "cidr_block": "0.0.0.0/0", "from_port": 0, "protocol": "-1", "rule_action": "allow", "rule_number": 100, "to_port": 0 } ]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;public_outbound_acl_rules&lt;/td&gt;
&lt;td&gt;Public subnets outbound network ACLs&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[ { "cidr_block": "0.0.0.0/0", "from_port": 0, "protocol": "-1", "rule_action": "allow", "rule_number": 100, "to_port": 0 } ]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;public_route_table_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the public route tables&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;public_subnet_assign_ipv6_address_on_creation&lt;/td&gt;
&lt;td&gt;Assign IPv6 address on public subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;public_subnet_ipv6_prefixes&lt;/td&gt;
&lt;td&gt;Assigns IPv6 public subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list&lt;/td&gt;
&lt;td align="center"&gt;list&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;public_subnet_suffix&lt;/td&gt;
&lt;td&gt;Suffix to append to public subnets name&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"public"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;public_subnet_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the public subnets&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;public_subnets&lt;/td&gt;
&lt;td&gt;A list of public subnets inside the VPC&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;redshift_acl_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the redshift subnets network ACL&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;redshift_dedicated_network_acl&lt;/td&gt;
&lt;td&gt;Whether to use dedicated network ACL (not default) and custom rules for redshift subnets&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;redshift_inbound_acl_rules&lt;/td&gt;
&lt;td&gt;Redshift subnets inbound network ACL rules&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[ { "cidr_block": "0.0.0.0/0", "from_port": 0, "protocol": "-1", "rule_action": "allow", "rule_number": 100, "to_port": 0 } ]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;redshift_outbound_acl_rules&lt;/td&gt;
&lt;td&gt;Redshift subnets outbound network ACL rules&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[ { "cidr_block": "0.0.0.0/0", "from_port": 0, "protocol": "-1", "rule_action": "allow", "rule_number": 100, "to_port": 0 } ]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;redshift_route_table_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the redshift route tables&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;redshift_subnet_assign_ipv6_address_on_creation&lt;/td&gt;
&lt;td&gt;Assign IPv6 address on redshift subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;redshift_subnet_group_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the redshift subnet group&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;redshift_subnet_ipv6_prefixes&lt;/td&gt;
&lt;td&gt;Assigns IPv6 redshift subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list&lt;/td&gt;
&lt;td align="center"&gt;list&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;redshift_subnet_suffix&lt;/td&gt;
&lt;td&gt;Suffix to append to redshift subnets name&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"redshift"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;redshift_subnet_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the redshift subnets&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;redshift_subnets&lt;/td&gt;
&lt;td&gt;A list of redshift subnets&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;rekognition_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for Rekognition endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;rekognition_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for Rekognition endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;rekognition_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for Rekognition endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;reuse_nat_ips&lt;/td&gt;
&lt;td&gt;Should be true if you don't want EIPs to be created for your NAT Gateways and will instead pass them in via the 'external_nat_ip_ids' variable&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sagemaker_api_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for SageMaker API endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sagemaker_api_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for SageMaker API endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sagemaker_api_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for SageMaker API endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sagemaker_notebook_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for Sagemaker Notebook endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sagemaker_notebook_endpoint_region&lt;/td&gt;
&lt;td&gt;Region to use for Sagemaker Notebook endpoint&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sagemaker_notebook_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for Sagemaker Notebook endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sagemaker_notebook_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for Sagemaker Notebook endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sagemaker_runtime_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for SageMaker Runtime endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sagemaker_runtime_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for SageMaker Runtime endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sagemaker_runtime_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for SageMaker Runtime endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;secondary_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of secondary CIDR blocks to associate with the VPC to extend the IP Address pool&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;secretsmanager_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for Secrets Manager endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;secretsmanager_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for Secrets Manager endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;secretsmanager_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for Secrets Manager endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;servicecatalog_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for Service Catalog endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;servicecatalog_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for Service Catalog endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;servicecatalog_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for Service Catalog endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;single_nat_gateway&lt;/td&gt;
&lt;td&gt;Should be true if you want to provision a single shared NAT Gateway across all of your private networks&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sns_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for SNS endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sns_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for SNS endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sns_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for SNS endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sqs_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for SQS endpoint&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sqs_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for SQS endpoint&lt;/td&gt;
&lt;td align="center"&gt;list&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sqs_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for SQS endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ssm_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for SSM endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ssm_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for SSM endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ssm_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for SSM endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ssmmessages_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for SSMMESSAGES endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ssmmessages_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for SSMMESSAGES endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ssmmessages_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for SSMMESSAGES endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;storagegateway_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for Storage Gateway endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;storagegateway_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for Storage Gateway endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;storagegateway_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for Storage Gateway endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sts_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for STS endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sts_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for STS endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;sts_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for STS endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tags&lt;/td&gt;
&lt;td&gt;A map of tags to add to all resources&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;transfer_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for Transfer endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;transfer_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for Transfer endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;transfer_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for Transfer endpoint. Only a single subnet within an AZ is supported. Ifomitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;transferserver_endpoint_private_dns_enabled&lt;/td&gt;
&lt;td&gt;Whether or not to associate a private hosted zone with the specified VPC for Transfer Server endpoint&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;transferserver_endpoint_security_group_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more security groups to associate with the network interface for Transfer Server endpoint&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;transferserver_endpoint_subnet_ids&lt;/td&gt;
&lt;td&gt;The ID of one or more subnets in which to create a network interface for Transfer Server endpoint. Only a single subnet within an AZ is supported. If omitted, private subnets will be used.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the VPC Endpoints&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the VPC&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpn_gateway_id&lt;/td&gt;
&lt;td&gt;ID of VPN Gateway to attach to the VPC&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpn_gateway_tags&lt;/td&gt;
&lt;td&gt;Additional tags for the VPN gateway&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-outputs" class="anchor" aria-hidden="true" href="#outputs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Outputs&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;azs&lt;/td&gt;
&lt;td&gt;A list of availability zones specified as argument to this module&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cgw_ids&lt;/td&gt;
&lt;td&gt;List of IDs of Customer Gateway&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;database_network_acl_id&lt;/td&gt;
&lt;td&gt;ID of the database network ACL&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;database_route_table_ids&lt;/td&gt;
&lt;td&gt;List of IDs of database route tables&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;database_subnet_arns&lt;/td&gt;
&lt;td&gt;List of ARNs of database subnets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;database_subnet_group&lt;/td&gt;
&lt;td&gt;ID of database subnet group&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;database_subnets&lt;/td&gt;
&lt;td&gt;List of IDs of database subnets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;database_subnets_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of cidr_blocks of database subnets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;database_subnets_ipv6_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of IPv6 cidr_blocks of database subnets in an IPv6 enabled VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default_network_acl_id&lt;/td&gt;
&lt;td&gt;The ID of the default network ACL&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default_route_table_id&lt;/td&gt;
&lt;td&gt;The ID of the default route table&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default_security_group_id&lt;/td&gt;
&lt;td&gt;The ID of the security group created by default on VPC creation&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default_vpc_cidr_block&lt;/td&gt;
&lt;td&gt;The CIDR block of the VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default_vpc_default_network_acl_id&lt;/td&gt;
&lt;td&gt;The ID of the default network ACL&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default_vpc_default_route_table_id&lt;/td&gt;
&lt;td&gt;The ID of the default route table&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default_vpc_default_security_group_id&lt;/td&gt;
&lt;td&gt;The ID of the security group created by default on VPC creation&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default_vpc_enable_dns_hostnames&lt;/td&gt;
&lt;td&gt;Whether or not the VPC has DNS hostname support&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default_vpc_enable_dns_support&lt;/td&gt;
&lt;td&gt;Whether or not the VPC has DNS support&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default_vpc_id&lt;/td&gt;
&lt;td&gt;The ID of the VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default_vpc_instance_tenancy&lt;/td&gt;
&lt;td&gt;Tenancy of instances spin up within VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;default_vpc_main_route_table_id&lt;/td&gt;
&lt;td&gt;The ID of the main route table associated with this VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;egress_only_internet_gateway_id&lt;/td&gt;
&lt;td&gt;The ID of the egress only Internet Gateway&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;elasticache_network_acl_id&lt;/td&gt;
&lt;td&gt;ID of the elasticache network ACL&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;elasticache_route_table_ids&lt;/td&gt;
&lt;td&gt;List of IDs of elasticache route tables&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;elasticache_subnet_arns&lt;/td&gt;
&lt;td&gt;List of ARNs of elasticache subnets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;elasticache_subnet_group&lt;/td&gt;
&lt;td&gt;ID of elasticache subnet group&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;elasticache_subnet_group_name&lt;/td&gt;
&lt;td&gt;Name of elasticache subnet group&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;elasticache_subnets&lt;/td&gt;
&lt;td&gt;List of IDs of elasticache subnets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;elasticache_subnets_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of cidr_blocks of elasticache subnets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;elasticache_subnets_ipv6_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of IPv6 cidr_blocks of elasticache subnets in an IPv6 enabled VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;igw_id&lt;/td&gt;
&lt;td&gt;The ID of the Internet Gateway&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;intra_network_acl_id&lt;/td&gt;
&lt;td&gt;ID of the intra network ACL&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;intra_route_table_ids&lt;/td&gt;
&lt;td&gt;List of IDs of intra route tables&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;intra_subnet_arns&lt;/td&gt;
&lt;td&gt;List of ARNs of intra subnets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;intra_subnets&lt;/td&gt;
&lt;td&gt;List of IDs of intra subnets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;intra_subnets_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of cidr_blocks of intra subnets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;intra_subnets_ipv6_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of IPv6 cidr_blocks of intra subnets in an IPv6 enabled VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;name&lt;/td&gt;
&lt;td&gt;The name of the VPC specified as argument to this module&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;nat_ids&lt;/td&gt;
&lt;td&gt;List of allocation ID of Elastic IPs created for AWS NAT Gateway&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;nat_public_ips&lt;/td&gt;
&lt;td&gt;List of public Elastic IPs created for AWS NAT Gateway&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;natgw_ids&lt;/td&gt;
&lt;td&gt;List of NAT Gateway IDs&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_network_acl_id&lt;/td&gt;
&lt;td&gt;ID of the private network ACL&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_route_table_ids&lt;/td&gt;
&lt;td&gt;List of IDs of private route tables&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_subnet_arns&lt;/td&gt;
&lt;td&gt;List of ARNs of private subnets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_subnets&lt;/td&gt;
&lt;td&gt;List of IDs of private subnets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_subnets_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of cidr_blocks of private subnets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_subnets_ipv6_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of IPv6 cidr_blocks of private subnets in an IPv6 enabled VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;public_network_acl_id&lt;/td&gt;
&lt;td&gt;ID of the public network ACL&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;public_route_table_ids&lt;/td&gt;
&lt;td&gt;List of IDs of public route tables&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;public_subnet_arns&lt;/td&gt;
&lt;td&gt;List of ARNs of public subnets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;public_subnets&lt;/td&gt;
&lt;td&gt;List of IDs of public subnets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;public_subnets_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of cidr_blocks of public subnets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;public_subnets_ipv6_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of IPv6 cidr_blocks of public subnets in an IPv6 enabled VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;redshift_network_acl_id&lt;/td&gt;
&lt;td&gt;ID of the redshift network ACL&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;redshift_route_table_ids&lt;/td&gt;
&lt;td&gt;List of IDs of redshift route tables&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;redshift_subnet_arns&lt;/td&gt;
&lt;td&gt;List of ARNs of redshift subnets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;redshift_subnet_group&lt;/td&gt;
&lt;td&gt;ID of redshift subnet group&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;redshift_subnets&lt;/td&gt;
&lt;td&gt;List of IDs of redshift subnets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;redshift_subnets_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of cidr_blocks of redshift subnets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;redshift_subnets_ipv6_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of IPv6 cidr_blocks of redshift subnets in an IPv6 enabled VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_customer_gateway&lt;/td&gt;
&lt;td&gt;Map of Customer Gateway attributes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vgw_id&lt;/td&gt;
&lt;td&gt;The ID of the VPN Gateway&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_arn&lt;/td&gt;
&lt;td&gt;The ARN of the VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_cidr_block&lt;/td&gt;
&lt;td&gt;The CIDR block of the VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_enable_dns_hostnames&lt;/td&gt;
&lt;td&gt;Whether or not the VPC has DNS hostname support&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_enable_dns_support&lt;/td&gt;
&lt;td&gt;Whether or not the VPC has DNS support&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_apigw_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for APIGW.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_apigw_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for APIGW&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_apigw_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for APIGW.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_appmesh_envoy_management_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for AppMesh.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_appmesh_envoy_management_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for AppMesh&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_appmesh_envoy_management_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for AppMesh.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_appstream_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for AppStream.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_appstream_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for AppStream&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_appstream_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for AppStream.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_athena_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for Athena.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_athena_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for Athena&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_athena_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for Athena.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_cloud_directory_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for Cloud Directory.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_cloud_directory_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for Cloud Directory&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_cloud_directory_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for Cloud Directory.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_cloudformation_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for Cloudformation.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_cloudformation_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for Cloudformation&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_cloudformation_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for Cloudformation.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_cloudtrail_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for CloudTrail.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_cloudtrail_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for CloudTrail&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_cloudtrail_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for CloudTrail.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_codebuild_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for codebuild.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_codebuild_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for codebuild&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_codebuild_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for codebuild.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_codecommit_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for codecommit.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_codecommit_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for codecommit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_codecommit_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for codecommit.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_codepipeline_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for CodePipeline.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_codepipeline_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for CodePipeline&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_codepipeline_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for CodePipeline.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_config_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for config.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_config_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for config&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_config_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for config.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_dynamodb_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for DynamoDB&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_dynamodb_pl_id&lt;/td&gt;
&lt;td&gt;The prefix list for the DynamoDB VPC endpoint.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ec2_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for EC2.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ec2_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for EC2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ec2_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for EC2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ec2messages_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for EC2MESSAGES.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ec2messages_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for EC2MESSAGES&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ec2messages_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for EC2MESSAGES&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ecr_api_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for ECR API.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ecr_api_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for ECR API&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ecr_api_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for ECR API.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ecr_dkr_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for ECR DKR.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ecr_dkr_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for ECR DKR&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ecr_dkr_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for ECR DKR.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ecs_agent_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for ECS Agent.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ecs_agent_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for ECS Agent&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ecs_agent_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for ECS Agent.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ecs_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for ECS.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ecs_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for ECS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ecs_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for ECS.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ecs_telemetry_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for ECS Telemetry.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ecs_telemetry_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for ECS Telemetry&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ecs_telemetry_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for ECS Telemetry.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_efs_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for EFS.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_efs_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for EFS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_efs_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for EFS.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_elasticloadbalancing_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for Elastic Load Balancing.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_elasticloadbalancing_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for Elastic Load Balancing&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_elasticloadbalancing_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for Elastic Load Balancing.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_events_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for CloudWatch Events.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_events_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for CloudWatch Events&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_events_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for CloudWatch Events.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_git_codecommit_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for git_codecommit.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_git_codecommit_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for git_codecommit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_git_codecommit_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for git_codecommit.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_glue_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for Glue.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_glue_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for Glue&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_glue_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for Glue.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_kinesis_firehose_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for Kinesis Firehose.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_kinesis_firehose_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for Kinesis Firehose&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_kinesis_firehose_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for Kinesis Firehose.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_kinesis_streams_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for Kinesis Streams.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_kinesis_streams_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for Kinesis Streams&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_kinesis_streams_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for Kinesis Streams.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_kms_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for KMS.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_kms_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for KMS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_kms_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for KMS.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_logs_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for CloudWatch Logs.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_logs_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for CloudWatch Logs&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_logs_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for CloudWatch Logs.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_monitoring_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for CloudWatch Monitoring.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_monitoring_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for CloudWatch Monitoring&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_monitoring_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for CloudWatch Monitoring.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_rekognition_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for Rekognition.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_rekognition_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for Rekognition&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_rekognition_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for Rekognition.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_s3_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for S3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_s3_pl_id&lt;/td&gt;
&lt;td&gt;The prefix list for the S3 VPC endpoint.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_sagemaker_api_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for SageMaker API.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_sagemaker_api_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for SageMaker API&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_sagemaker_api_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for SageMaker API.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_sagemaker_runtime_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for SageMaker Runtime.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_sagemaker_runtime_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for SageMaker Runtime&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_sagemaker_runtime_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for SageMaker Runtime.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_secretsmanager_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for secretsmanager.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_secretsmanager_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for secretsmanager&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_secretsmanager_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for secretsmanager.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_servicecatalog_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for Service Catalog.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_servicecatalog_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for Service Catalog&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_servicecatalog_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for Service Catalog.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_sns_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for SNS.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_sns_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for SNS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_sns_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for SNS.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_sqs_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for SQS.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_sqs_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for SQS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_sqs_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for SQS.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ssm_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for SSM.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ssm_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for SSM&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ssm_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for SSM.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ssmmessages_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for SSMMESSAGES.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ssmmessages_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for SSMMESSAGES&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_ssmmessages_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for SSMMESSAGES.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_storagegateway_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for Storage Gateway.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_storagegateway_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for Storage Gateway&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_storagegateway_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for Storage Gateway.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_sts_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for STS.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_sts_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for STS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_sts_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for STS.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_transfer_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for Transfer.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_transfer_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for Transfer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_transfer_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for Transfer.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_transferserver_dns_entry&lt;/td&gt;
&lt;td&gt;The DNS entries for the VPC Endpoint for transferserver.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_transferserver_id&lt;/td&gt;
&lt;td&gt;The ID of VPC endpoint for transferserver&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_endpoint_transferserver_network_interface_ids&lt;/td&gt;
&lt;td&gt;One or more network interfaces for the VPC Endpoint for transferserver&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_id&lt;/td&gt;
&lt;td&gt;The ID of the VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_instance_tenancy&lt;/td&gt;
&lt;td&gt;Tenancy of instances spin up within VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_ipv6_association_id&lt;/td&gt;
&lt;td&gt;The association ID for the IPv6 CIDR block&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_ipv6_cidr_block&lt;/td&gt;
&lt;td&gt;The IPv6 CIDR block&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_main_route_table_id&lt;/td&gt;
&lt;td&gt;The ID of the main route table associated with this VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_secondary_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of secondary CIDR blocks of the VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2&gt;&lt;a id="user-content-tests" class="anchor" aria-hidden="true" href="#tests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Tests&lt;/h2&gt;
&lt;p&gt;This module has been packaged with &lt;a href="https://github.com/k1LoW/awspec"&gt;awspec&lt;/a&gt; tests through test kitchen. To run them:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Install &lt;a href="https://rvm.io/rvm/install" rel="nofollow"&gt;rvm&lt;/a&gt; and the ruby version specified in the &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-vpc/tree/master/Gemfile"&gt;Gemfile&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Install bundler and the gems from our Gemfile:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;gem install bundler; bundle install
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start="3"&gt;
&lt;li&gt;Test using &lt;code&gt;bundle exec kitchen test&lt;/code&gt; from the root of the repo.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;a id="user-content-authors" class="anchor" aria-hidden="true" href="#authors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Authors&lt;/h2&gt;
&lt;p&gt;Module is maintained by &lt;a href="https://github.com/antonbabenko"&gt;Anton Babenko&lt;/a&gt; with help from &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-vpc/graphs/contributors"&gt;these awesome contributors&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;Apache 2 Licensed. See LICENSE for full details.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>terraform-aws-modules</author><guid isPermaLink="false">https://github.com/terraform-aws-modules/terraform-aws-vpc</guid><pubDate>Thu, 02 Jan 2020 00:02:00 GMT</pubDate></item><item><title>kubernetes-sigs/kubespray #3 in HCL, Today</title><link>https://github.com/kubernetes-sigs/kubespray</link><description>&lt;p&gt;&lt;i&gt;Deploy a Production Ready Kubernetes Cluster&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-deploy-a-production-ready-kubernetes-cluster" class="anchor" aria-hidden="true" href="#deploy-a-production-ready-kubernetes-cluster"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deploy a Production Ready Kubernetes Cluster&lt;/h1&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://raw.githubusercontent.com/kubernetes-sigs/kubespray/master/docs/img/kubernetes-logo.png"&gt;&lt;img src="https://raw.githubusercontent.com/kubernetes-sigs/kubespray/master/docs/img/kubernetes-logo.png" alt="Kubernetes Logo" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If you have questions, check the &lt;a href="https://kubespray.io" rel="nofollow"&gt;documentation&lt;/a&gt; and join us on the &lt;a href="https://kubernetes.slack.com" rel="nofollow"&gt;kubernetes slack&lt;/a&gt;, channel &lt;strong&gt;#kubespray&lt;/strong&gt;.
You can get your invite &lt;a href="http://slack.k8s.io/" rel="nofollow"&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Can be deployed on &lt;strong&gt;AWS, GCE, Azure, OpenStack, vSphere, Packet (bare metal), Oracle Cloud Infrastructure (Experimental), or Baremetal&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Highly available&lt;/strong&gt; cluster&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Composable&lt;/strong&gt; (Choice of the network plugin for instance)&lt;/li&gt;
&lt;li&gt;Supports most popular &lt;strong&gt;Linux distributions&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Continuous integration tests&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-quick-start" class="anchor" aria-hidden="true" href="#quick-start"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;
&lt;p&gt;To deploy the cluster you can use :&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-ansible" class="anchor" aria-hidden="true" href="#ansible"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ansible&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h4&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;# &lt;span class="pl-s1"&gt;Install dependencies from &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;requirements.txt&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;sudo pip install -r requirements.txt&lt;/span&gt;

# &lt;span class="pl-s1"&gt;Copy &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;inventory/sample&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt; as &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;inventory/mycluster&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;cp -rfp inventory/sample inventory/mycluster&lt;/span&gt;

# &lt;span class="pl-s1"&gt;Update Ansible inventory file with inventory builder&lt;/span&gt;
&lt;span class="pl-c1"&gt;declare -a IPS=(10.10.1.3 10.10.1.4 10.10.1.5)&lt;/span&gt;
&lt;span class="pl-c1"&gt;CONFIG_FILE=inventory/mycluster/hosts.yaml python3 contrib/inventory_builder/inventory.py ${IPS[@]}&lt;/span&gt;

# &lt;span class="pl-s1"&gt;Review and change parameters under &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;inventory/mycluster/group_vars&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;cat inventory/mycluster/group_vars/all/all.yml&lt;/span&gt;
&lt;span class="pl-c1"&gt;cat inventory/mycluster/group_vars/k8s-cluster/k8s-cluster.yml&lt;/span&gt;

# &lt;span class="pl-s1"&gt;Deploy Kubespray with Ansible Playbook - run the playbook as root&lt;/span&gt;
# &lt;span class="pl-s1"&gt;The option &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;--become&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt; is required, as &lt;span class="pl-k"&gt;for&lt;/span&gt; &lt;span class="pl-smi"&gt;example writing SSL keys&lt;/span&gt; &lt;span class="pl-k"&gt;in&lt;/span&gt; /etc/,&lt;/span&gt;
# &lt;span class="pl-s1"&gt;installing packages and interacting with various systemd daemons.&lt;/span&gt;
# &lt;span class="pl-s1"&gt;Without --become the playbook will fail to run&lt;span class="pl-k"&gt;!&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;ansible-playbook -i inventory/mycluster/hosts.yaml  --become --become-user=root cluster.yml&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note: When Ansible is already installed via system packages on the control machine, other python packages installed via &lt;code&gt;sudo pip install -r requirements.txt&lt;/code&gt; will go to a different directory tree (e.g. &lt;code&gt;/usr/local/lib/python2.7/dist-packages&lt;/code&gt; on Ubuntu) from Ansible's (e.g. &lt;code&gt;/usr/lib/python2.7/dist-packages/ansible&lt;/code&gt; still on Ubuntu).
As a consequence, &lt;code&gt;ansible-playbook&lt;/code&gt; command will fail with:&lt;/p&gt;
&lt;pre lang="raw"&gt;&lt;code&gt;ERROR! no action detected in task. This often indicates a misspelled module name, or incorrect module path.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;probably pointing on a task depending on a module present in requirements.txt (i.e. "unseal vault").&lt;/p&gt;
&lt;p&gt;One way of solving this would be to uninstall the Ansible package and then, to install it via pip but it is not always possible.
A workaround consists of setting &lt;code&gt;ANSIBLE_LIBRARY&lt;/code&gt; and &lt;code&gt;ANSIBLE_MODULE_UTILS&lt;/code&gt; environment variables respectively to the &lt;code&gt;ansible/modules&lt;/code&gt; and &lt;code&gt;ansible/module_utils&lt;/code&gt; subdirectories of pip packages installation location, which can be found in the Location field of the output of &lt;code&gt;pip show [package]&lt;/code&gt; before executing &lt;code&gt;ansible-playbook&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-vagrant" class="anchor" aria-hidden="true" href="#vagrant"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Vagrant&lt;/h3&gt;
&lt;p&gt;For Vagrant we need to install python dependencies for provisioning tasks.
Check if Python and pip are installed:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;python -V &amp;amp;&amp;amp; pip -V&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If this returns the version of the software, you're good to go. If not, download and install Python from here &lt;a href="https://www.python.org/downloads/source/" rel="nofollow"&gt;https://www.python.org/downloads/source/&lt;/a&gt;
Install the necessary requirements&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;sudo pip install -r requirements.txt&lt;/span&gt;
&lt;span class="pl-c1"&gt;vagrant up&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-documents" class="anchor" aria-hidden="true" href="#documents"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Documents&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#requirements"&gt;Requirements&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/comparisons.md"&gt;Kubespray vs ...&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/getting-started.md"&gt;Getting started&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/ansible.md"&gt;Ansible inventory and tags&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/integration.md"&gt;Integration with existing ansible repo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/vars.md"&gt;Deployment data variables&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/dns-stack.md"&gt;DNS stack&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/ha-mode.md"&gt;HA mode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#network-plugins"&gt;Network plugins&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/vagrant.md"&gt;Vagrant install&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/coreos.md"&gt;CoreOS bootstrap&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/debian.md"&gt;Debian Jessie setup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/opensuse.md"&gt;openSUSE setup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/downloads.md"&gt;Downloaded artifacts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/cloud.md"&gt;Cloud providers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/openstack.md"&gt;OpenStack&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/aws.md"&gt;AWS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/azure.md"&gt;Azure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/vsphere.md"&gt;vSphere&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/packet.md"&gt;Packet Host&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/large-deployments.md"&gt;Large deployments&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/upgrades.md"&gt;Upgrades basics&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/roadmap.md"&gt;Roadmap&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-supported-linux-distributions" class="anchor" aria-hidden="true" href="#supported-linux-distributions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Supported Linux Distributions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Container Linux by CoreOS&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Debian&lt;/strong&gt; Buster, Jessie, Stretch, Wheezy&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ubuntu&lt;/strong&gt; 16.04, 18.04&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CentOS/RHEL&lt;/strong&gt; 7&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Fedora&lt;/strong&gt; 28&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Fedora/CentOS&lt;/strong&gt; Atomic&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;openSUSE&lt;/strong&gt; Leap 42.3/Tumbleweed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Oracle Linux&lt;/strong&gt; 7&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note: Upstart/SysV init based OS types are not supported.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-supported-components" class="anchor" aria-hidden="true" href="#supported-components"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Supported Components&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Core
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/kubernetes/kubernetes"&gt;kubernetes&lt;/a&gt; v1.16.3&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/coreos/etcd"&gt;etcd&lt;/a&gt; v3.3.10&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.docker.com/" rel="nofollow"&gt;docker&lt;/a&gt; v18.06 (see note)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://cri-o.io/" rel="nofollow"&gt;cri-o&lt;/a&gt; v1.14.0 (experimental: see &lt;a href="docs/cri-o.md"&gt;CRI-O Note&lt;/a&gt;. Only on centos based OS)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Network Plugin
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/containernetworking/plugins"&gt;cni-plugins&lt;/a&gt; v0.8.1&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/projectcalico/calico"&gt;calico&lt;/a&gt; v3.7.3&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/projectcalico/canal"&gt;canal&lt;/a&gt; (given calico/flannel versions)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/cilium/cilium"&gt;cilium&lt;/a&gt; v1.5.5&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/contiv/install"&gt;contiv&lt;/a&gt; v1.2.1&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/coreos/flannel"&gt;flanneld&lt;/a&gt; v0.11.0&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/cloudnativelabs/kube-router"&gt;kube-router&lt;/a&gt; v0.2.5&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/intel/multus-cni"&gt;multus&lt;/a&gt; v3.2.1&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/weaveworks/weave"&gt;weave&lt;/a&gt; v2.5.2&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Application
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/kubernetes-incubator/external-storage"&gt;cephfs-provisioner&lt;/a&gt; v2.1.0-k8s1.11&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kubernetes-incubator/external-storage"&gt;rbd-provisioner&lt;/a&gt; v2.1.1-k8s1.11&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jetstack/cert-manager"&gt;cert-manager&lt;/a&gt; v0.11.0&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/coredns/coredns"&gt;coredns&lt;/a&gt; v1.6.0&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kubernetes/ingress-nginx"&gt;ingress-nginx&lt;/a&gt; v0.26.1&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note: The list of validated &lt;a href="https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG-1.16.md"&gt;docker versions&lt;/a&gt; was updated to 1.13.1, 17.03, 17.06, 17.09, 18.06, 18.09. kubeadm now properly recognizes Docker 18.09.0 and newer, but still treats 18.06 as the default supported version. The kubelet might break on docker's non-standard version numbering (it no longer uses semantic versioning). To ensure auto-updates don't break your cluster look into e.g. yum versionlock plugin or apt pin).&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-requirements" class="anchor" aria-hidden="true" href="#requirements"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Requirements&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Minimum required version of Kubernetes is v1.15&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ansible v2.7.8 and python-netaddr is installed on the machine that will run Ansible commands&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Jinja 2.9 (or newer) is required to run the Ansible Playbooks&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;The target servers must have &lt;strong&gt;access to the Internet&lt;/strong&gt; in order to pull docker images. Otherwise, additional configuration is required (See &lt;a href="https://github.com/kubernetes-sigs/kubespray/blob/master/docs/downloads.md#offline-environment"&gt;Offline Environment&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;The target servers are configured to allow &lt;strong&gt;IPv4 forwarding&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Your ssh key must be copied&lt;/strong&gt; to all the servers part of your inventory.&lt;/li&gt;
&lt;li&gt;The &lt;strong&gt;firewalls are not managed&lt;/strong&gt;, you'll need to implement your own rules the way you used to.
in order to avoid any issue during deployment you should disable your firewall.&lt;/li&gt;
&lt;li&gt;If kubespray is ran from non-root user account, correct privilege escalation method
should be configured in the target servers. Then the &lt;code&gt;ansible_become&lt;/code&gt; flag
or command parameters &lt;code&gt;--become or -b&lt;/code&gt; should be specified.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Hardware:
These limits are safe guarded by Kubespray. Actual requirements for your workload can differ. For a sizing guide go to the &lt;a href="https://kubernetes.io/docs/setup/cluster-large/#size-of-master-and-master-components" rel="nofollow"&gt;Building Large Clusters&lt;/a&gt; guide.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Master
&lt;ul&gt;
&lt;li&gt;Memory: 1500 MB&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Node
&lt;ul&gt;
&lt;li&gt;Memory: 1024 MB&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-network-plugins" class="anchor" aria-hidden="true" href="#network-plugins"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Network Plugins&lt;/h2&gt;
&lt;p&gt;You can choose between 10 network plugins. (default: &lt;code&gt;calico&lt;/code&gt;, except Vagrant uses &lt;code&gt;flannel&lt;/code&gt;)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/flannel.md"&gt;flannel&lt;/a&gt;: gre/vxlan (layer 2) networking.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/calico.md"&gt;calico&lt;/a&gt;: bgp (layer 3) networking.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/projectcalico/canal"&gt;canal&lt;/a&gt;: a composition of calico and flannel plugins.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://docs.cilium.io/en/latest/" rel="nofollow"&gt;cilium&lt;/a&gt;: layer 3/4 networking (as well as layer 7 to protect and secure application protocols), supports dynamic insertion of BPF bytecode into the Linux kernel to implement security services, networking and visibility logic.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/contiv.md"&gt;contiv&lt;/a&gt;: supports vlan, vxlan, bgp and Cisco SDN networking. This plugin is able to
apply firewall policies, segregate containers in multiple network and bridging pods onto physical networks.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/weave.md"&gt;weave&lt;/a&gt;: Weave is a lightweight container overlay network that doesn't require an external K/V database cluster.
(Please refer to &lt;code&gt;weave&lt;/code&gt; &lt;a href="https://www.weave.works/docs/net/latest/troubleshooting/" rel="nofollow"&gt;troubleshooting documentation&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/kube-ovn.md"&gt;kube-ovn&lt;/a&gt;: Kube-OVN integrates the OVN-based Network Virtualization with Kubernetes. It offers an advanced Container Network Fabric for Enterprises.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/kube-router.md"&gt;kube-router&lt;/a&gt;: Kube-router is a L3 CNI for Kubernetes networking aiming to provide operational
simplicity and high performance: it uses IPVS to provide Kube Services Proxy (if setup to replace kube-proxy),
iptables for network policies, and BGP for ods L3 networking (with optionally BGP peering with out-of-cluster BGP peers).
It can also optionally advertise routes to Kubernetes cluster Pods CIDRs, ClusterIPs, ExternalIPs and LoadBalancerIPs.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/macvlan.md"&gt;macvlan&lt;/a&gt;: Macvlan is a Linux network driver. Pods have their own unique Mac and Ip address, connected directly the physical (layer 2) network.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/multus.md"&gt;multus&lt;/a&gt;: Multus is a meta CNI plugin that provides multiple network interface support to pods. For each interface Multus delegates CNI calls to secondary CNI plugins such as Calico, macvlan, etc.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The choice is defined with the variable &lt;code&gt;kube_network_plugin&lt;/code&gt;. There is also an
option to leverage built-in cloud provider networking instead.
See also &lt;a href="docs/netcheck.md"&gt;Network checker&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-community-docs-and-resources" class="anchor" aria-hidden="true" href="#community-docs-and-resources"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Community docs and resources&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://kubernetes.io/docs/setup/production-environment/tools/kubespray/" rel="nofollow"&gt;kubernetes.io/docs/setup/production-environment/tools/kubespray/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/gregbkr/kubernetes-kargo-logging-monitoring"&gt;kubespray, monitoring and logging&lt;/a&gt; by @gregbkr&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rsmitty.github.io/Terraform-Ansible-Kubernetes/" rel="nofollow"&gt;Deploy Kubernetes w/ Ansible &amp;amp; Terraform&lt;/a&gt; by @rsmitty&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=N9q51JgbWu8" rel="nofollow"&gt;Deploy a Kubernetes Cluster with Kubespray (video)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-tools-and-projects-on-top-of-kubespray" class="anchor" aria-hidden="true" href="#tools-and-projects-on-top-of-kubespray"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Tools and projects on top of Kubespray&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/digitalrebar/provision/blob/v4/doc/integrations/ansible.rst"&gt;Digital Rebar Provision&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kubernetes-sigs/kubespray/tree/master/contrib/terraform"&gt;Terraform Contrib&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-ci-tests" class="anchor" aria-hidden="true" href="#ci-tests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CI Tests&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://gitlab.com/kargo-ci/kubernetes-sigs-kubespray/pipelines" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/a28fbe788ec772a755e3e72243cd072b55090c83/68747470733a2f2f6769746c61622e636f6d2f6b6172676f2d63692f6b756265726e657465732d736967732d6b75626573707261792f6261646765732f6d61737465722f6275696c642e737667" alt="Build graphs" data-canonical-src="https://gitlab.com/kargo-ci/kubernetes-sigs-kubespray/badges/master/build.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;CI/end-to-end tests sponsored by Google (GCE)
See the &lt;a href="docs/test_cases.md"&gt;test matrix&lt;/a&gt; for details.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>kubernetes-sigs</author><guid isPermaLink="false">https://github.com/kubernetes-sigs/kubespray</guid><pubDate>Thu, 02 Jan 2020 00:03:00 GMT</pubDate></item><item><title>wardviaene/terraform-course #4 in HCL, Today</title><link>https://github.com/wardviaene/terraform-course</link><description>&lt;p&gt;&lt;i&gt;Course files for my Udemy course about Terraform&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-terraform-course" class="anchor" aria-hidden="true" href="#terraform-course"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;terraform-course&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;These files are part of my Udemy course about Terraform&lt;/li&gt;
&lt;li&gt;Course URL: &lt;a href="https://www.udemy.com/learn-devops-infrastructure-automation-with-terraform/?couponCode=TERRAFORM_GIT" rel="nofollow"&gt;https://www.udemy.com/learn-devops-infrastructure-automation-with-terraform/?couponCode=TERRAFORM_GIT&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-compatibility" class="anchor" aria-hidden="true" href="#compatibility"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Compatibility&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;This is the &amp;gt;=terraform-0.12 branch. For compatibility with older versions, use the terraform-0.11 branch.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-demo-overview" class="anchor" aria-hidden="true" href="#demo-overview"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Demo overview&lt;/h1&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Demo Directory&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;first-steps&lt;/td&gt;
&lt;td&gt;First steps&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-1&lt;/td&gt;
&lt;td&gt;First steps: Launching an EC2 instance&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-2&lt;/td&gt;
&lt;td&gt;Using provisioner&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-2b&lt;/td&gt;
&lt;td&gt;Using provisioner on a Windows instance&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-3&lt;/td&gt;
&lt;td&gt;Executing script locally&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-4&lt;/td&gt;
&lt;td&gt;Outputting&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-5&lt;/td&gt;
&lt;td&gt;Data Source&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-6&lt;/td&gt;
&lt;td&gt;Modules&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-7&lt;/td&gt;
&lt;td&gt;AWS VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-8&lt;/td&gt;
&lt;td&gt;EC2 instance within VPC with securitygroup&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-9&lt;/td&gt;
&lt;td&gt;EC2 instance with EBS volumes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-10&lt;/td&gt;
&lt;td&gt;Userdata and cloudinit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-11&lt;/td&gt;
&lt;td&gt;Route53 (DNS)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-12&lt;/td&gt;
&lt;td&gt;RDS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-13&lt;/td&gt;
&lt;td&gt;IAM&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-14&lt;/td&gt;
&lt;td&gt;IAM Roles with S3 bucket&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-15&lt;/td&gt;
&lt;td&gt;Autoscaling&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-16&lt;/td&gt;
&lt;td&gt;Autoscaling with ELB (Elastic Load Balancer)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-17&lt;/td&gt;
&lt;td&gt;Elastic Beanstalk PHP 7 stack with RDS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-18&lt;/td&gt;
&lt;td&gt;Interpolations, VPC module&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-18b&lt;/td&gt;
&lt;td&gt;Project structure, best practices&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;packer-demo&lt;/td&gt;
&lt;td&gt;Build AMIs with Packer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;jenkins-packer-demo&lt;/td&gt;
&lt;td&gt;Demo with jenkins and Packer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;docker-demo-1&lt;/td&gt;
&lt;td&gt;Using ECR - The EC2 Container Registry&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;docker-demo-2&lt;/td&gt;
&lt;td&gt;Using ECS - The EC2 Container Service&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;docker-demo-3&lt;/td&gt;
&lt;td&gt;Using ECR/ECS with Jenkins in a complete workflow&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;module-demo&lt;/td&gt;
&lt;td&gt;Using ECS + ALB in 4 modules to show how developing terraform modules work&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>wardviaene</author><guid isPermaLink="false">https://github.com/wardviaene/terraform-course</guid><pubDate>Thu, 02 Jan 2020 00:04:00 GMT</pubDate></item><item><title>terraform-aws-modules/terraform-aws-security-group #5 in HCL, Today</title><link>https://github.com/terraform-aws-modules/terraform-aws-security-group</link><description>&lt;p&gt;&lt;i&gt;Terraform module which creates EC2-VPC security groups on AWS&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-aws-ec2-vpc-security-group-terraform-module" class="anchor" aria-hidden="true" href="#aws-ec2-vpc-security-group-terraform-module"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;AWS EC2-VPC Security Group Terraform module&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://www.codetriage.com/terraform-aws-modules/terraform-aws-security-group" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/63a5f5fcc7605c18cf0efddc1a328f3445353c61/68747470733a2f2f7777772e636f64657472696167652e636f6d2f7465727261666f726d2d6177732d6d6f64756c65732f7465727261666f726d2d6177732d73656375726974792d67726f75702f6261646765732f75736572732e737667" alt="Help Contribute to Open Source" data-canonical-src="https://www.codetriage.com/terraform-aws-modules/terraform-aws-security-group/badges/users.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Terraform module which creates &lt;a href="http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_SecurityGroups.html" rel="nofollow"&gt;EC2 security group within VPC&lt;/a&gt; on AWS.&lt;/p&gt;
&lt;p&gt;These types of resources are supported:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/security_group.html" rel="nofollow"&gt;EC2-VPC Security Group&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/security_group_rule.html" rel="nofollow"&gt;EC2-VPC Security Group Rule&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-features" class="anchor" aria-hidden="true" href="#features"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Features&lt;/h2&gt;
&lt;p&gt;This module aims to implement &lt;strong&gt;ALL&lt;/strong&gt; combinations of arguments supported by AWS and latest stable version of Terraform:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IPv4/IPv6 CIDR blocks&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/vpc-endpoints.html" rel="nofollow"&gt;VPC endpoint prefix lists&lt;/a&gt; (use data source &lt;a href="https://www.terraform.io/docs/providers/aws/d/prefix_list.html" rel="nofollow"&gt;aws_prefix_list&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Access from source security groups&lt;/li&gt;
&lt;li&gt;Access from self&lt;/li&gt;
&lt;li&gt;Named rules (&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-security-group/blob/master/rules.tf"&gt;see the rules here&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Named groups of rules with ingress (inbound) and egress (outbound) ports open for common scenarios (eg, &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-security-group/tree/master/modules/ssh"&gt;ssh&lt;/a&gt;, &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-security-group/tree/master/modules/http-80"&gt;http-80&lt;/a&gt;, &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-security-group/tree/master/modules/mysql"&gt;mysql&lt;/a&gt;, see the whole list &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-security-group/blob/master/modules/README.md"&gt;here&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Conditionally create security group and all required security group rules ("single boolean switch").&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ingress and egress rules can be configured in a variety of ways. See &lt;a href="#inputs"&gt;inputs section&lt;/a&gt; for all supported arguments and &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-security-group/tree/master/examples/complete"&gt;complete example&lt;/a&gt; for the complete use-case.&lt;/p&gt;
&lt;p&gt;If there is a missing feature or a bug - &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-security-group/issues/new"&gt;open an issue&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-terraform-versions" class="anchor" aria-hidden="true" href="#terraform-versions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Terraform versions&lt;/h2&gt;
&lt;p&gt;For Terraform 0.12 use version &lt;code&gt;v3.*&lt;/code&gt; of this module.&lt;/p&gt;
&lt;p&gt;If you are using Terraform 0.11 you can use versions &lt;code&gt;v2.*&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h2&gt;
&lt;p&gt;There are two ways to create security groups using this module:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-security-group#security-group-with-predefined-rules"&gt;Specifying predefined rules (HTTP, SSH, etc)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-security-group#security-group-with-custom-rules"&gt;Specifying custom rules&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;&lt;a id="user-content-security-group-with-predefined-rules" class="anchor" aria-hidden="true" href="#security-group-with-predefined-rules"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Security group with predefined rules&lt;/h3&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;web_server_sg&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;source&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;terraform-aws-modules/security-group/aws//modules/http-80&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;name&lt;/span&gt;        &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;web-server&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;description&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;Security&lt;/span&gt; &lt;span class="pl-s"&gt;group&lt;/span&gt; &lt;span class="pl-s"&gt;for&lt;/span&gt; &lt;span class="pl-s"&gt;web-server&lt;/span&gt; &lt;span class="pl-s"&gt;with&lt;/span&gt; &lt;span class="pl-s"&gt;HTTP&lt;/span&gt; &lt;span class="pl-s"&gt;ports&lt;/span&gt; &lt;span class="pl-s"&gt;open&lt;/span&gt; &lt;span class="pl-s"&gt;within&lt;/span&gt; &lt;span class="pl-s"&gt;VPC&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;vpc_id&lt;/span&gt;      &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;vpc-12345678&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;ingress_cidr_blocks&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.10.0.0/16&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
}&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-security-group-with-custom-rules" class="anchor" aria-hidden="true" href="#security-group-with-custom-rules"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Security group with custom rules&lt;/h3&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;vote_service_sg&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;source&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;terraform-aws-modules/security-group/aws&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;name&lt;/span&gt;        &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;user-service&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;description&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;Security&lt;/span&gt; &lt;span class="pl-s"&gt;group&lt;/span&gt; &lt;span class="pl-s"&gt;for&lt;/span&gt; &lt;span class="pl-s"&gt;user-service&lt;/span&gt; &lt;span class="pl-s"&gt;with&lt;/span&gt; &lt;span class="pl-s"&gt;custom&lt;/span&gt; &lt;span class="pl-s"&gt;ports&lt;/span&gt; &lt;span class="pl-s"&gt;open&lt;/span&gt; &lt;span class="pl-s"&gt;within&lt;/span&gt; &lt;span class="pl-s"&gt;VPC&lt;/span&gt;, &lt;span class="pl-s"&gt;and&lt;/span&gt; &lt;span class="pl-s"&gt;PostgreSQL&lt;/span&gt; &lt;span class="pl-s"&gt;publicly&lt;/span&gt; &lt;span class="pl-s"&gt;open&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;vpc_id&lt;/span&gt;      &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;vpc-12345678&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;ingress_cidr_blocks&lt;/span&gt;      &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.10.0.0/16&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
  &lt;span class="pl-smi"&gt;ingress_rules&lt;/span&gt;            &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;https-443-tcp&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
  &lt;span class="pl-smi"&gt;ingress_with_cidr_blocks&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [
    {
      &lt;span class="pl-smi"&gt;from_port&lt;/span&gt;   &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;8080&lt;/span&gt;
      &lt;span class="pl-smi"&gt;to_port&lt;/span&gt;     &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;8090&lt;/span&gt;
      &lt;span class="pl-smi"&gt;protocol&lt;/span&gt;    &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;tcp&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
      &lt;span class="pl-smi"&gt;description&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;User-service&lt;/span&gt; &lt;span class="pl-s"&gt;ports&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
      &lt;span class="pl-smi"&gt;cidr_blocks&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.10.0.0/16&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
    },
    {
      &lt;span class="pl-smi"&gt;rule&lt;/span&gt;        &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;postgresql-tcp&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
      &lt;span class="pl-smi"&gt;cidr_blocks&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;0.0.0.0/0&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
    },
  ]
}&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-note-about-value-of-count-cannot-be-computed" class="anchor" aria-hidden="true" href="#note-about-value-of-count-cannot-be-computed"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Note about "value of 'count' cannot be computed"&lt;/h3&gt;
&lt;p&gt;Terraform 0.11 has a limitation which does not allow &lt;strong&gt;computed&lt;/strong&gt; values inside &lt;code&gt;count&lt;/code&gt; attribute on resources (issues: &lt;a href="https://github.com/hashicorp/terraform/issues/16712"&gt;#16712&lt;/a&gt;, &lt;a href="https://github.com/hashicorp/terraform/issues/18015"&gt;#18015&lt;/a&gt;, ...)&lt;/p&gt;
&lt;p&gt;Computed values are values provided as outputs from &lt;code&gt;module&lt;/code&gt;. Non-computed values are all others - static values, values referenced as &lt;code&gt;variable&lt;/code&gt; and from data-sources.&lt;/p&gt;
&lt;p&gt;When you need to specify computed value inside security group rule argument you need to specify it using an argument which starts with &lt;code&gt;computed_&lt;/code&gt; and provide a number of elements in the argument which starts with &lt;code&gt;number_of_computed_&lt;/code&gt;. See these examples:&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;http_sg&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;source&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;terraform-aws-modules/security-group/aws&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; omitted for brevity&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
}

&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;db_computed_source_sg&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; omitted for brevity&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;

  &lt;span class="pl-smi"&gt;vpc_id&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;vpc-12345678&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; these are valid values also - "${module.vpc.vpc_id}" and "${local.vpc_id}"&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;

  &lt;span class="pl-smi"&gt;computed_ingress_with_source_security_group_id&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [
    {
      &lt;span class="pl-smi"&gt;rule&lt;/span&gt;                     &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;mysql-tcp&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
      &lt;span class="pl-smi"&gt;source_security_group_id&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s1"&gt;&lt;span class="pl-e"&gt;${&lt;/span&gt;&lt;span class="pl-e"&gt;module.http_sg.this_security_group_id&lt;/span&gt;&lt;span class="pl-e"&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
    }
  ]
  &lt;span class="pl-smi"&gt;number_of_computed_ingress_with_source_security_group_id&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;
}

&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;db_computed_sg&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; omitted for brevity&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;

  &lt;span class="pl-smi"&gt;ingress_cidr_blocks&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.10.0.0/16&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s1"&gt;&lt;span class="pl-e"&gt;${&lt;/span&gt;&lt;span class="pl-e"&gt;data.aws_security_group.default.id&lt;/span&gt;&lt;span class="pl-e"&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]

  &lt;span class="pl-smi"&gt;computed_ingress_cidr_blocks&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s1"&gt;&lt;span class="pl-e"&gt;${&lt;/span&gt;&lt;span class="pl-e"&gt;module.vpc.vpc_cidr_block&lt;/span&gt;&lt;span class="pl-e"&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
  &lt;span class="pl-smi"&gt;number_of_computed_ingress_cidr_blocks&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;
}

&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;db_computed_merged_sg&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; omitted for brevity&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;

  &lt;span class="pl-smi"&gt;computed_ingress_cidr_blocks&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.10.0.0/16&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s1"&gt;&lt;span class="pl-e"&gt;${&lt;/span&gt;&lt;span class="pl-e"&gt;module.vpc.vpc_cidr_block&lt;/span&gt;&lt;span class="pl-e"&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
  &lt;span class="pl-smi"&gt;number_of_computed_ingress_cidr_blocks&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;2&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note that &lt;code&gt;db_computed_sg&lt;/code&gt; and &lt;code&gt;db_computed_merged_sg&lt;/code&gt; are equal, because it is possible to put both computed and non-computed values in arguments starting with &lt;code&gt;computed_&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-conditional-creation" class="anchor" aria-hidden="true" href="#conditional-creation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Conditional creation&lt;/h2&gt;
&lt;p&gt;Sometimes you need to have a way to create security group conditionally but Terraform does not allow to use &lt;code&gt;count&lt;/code&gt; inside &lt;code&gt;module&lt;/code&gt; block, so the solution is to specify argument &lt;code&gt;create&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; This security group will not be created&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;vote_service_sg&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;source&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;terraform-aws-modules/security-group/aws&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;create&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ... omitted&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-examples" class="anchor" aria-hidden="true" href="#examples"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Examples&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-security-group/tree/master/examples/complete"&gt;Complete Security Group example&lt;/a&gt; shows all available parameters to configure security group.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-security-group/tree/master/examples/http"&gt;HTTP Security Group example&lt;/a&gt; shows more applicable security groups for common web-servers.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-security-group/tree/master/examples/disabled"&gt;Disable creation of Security Group example&lt;/a&gt; shows how to disable creation of security group.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-security-group/tree/master/examples/dynamic"&gt;Dynamic values inside Security Group rules example&lt;/a&gt; shows how to specify values inside security group rules (data-sources and variables are allowed).&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-security-group/tree/master/examples/computed"&gt;Computed values inside Security Group rules example&lt;/a&gt; shows how to specify computed values inside security group rules (solution for &lt;code&gt;value of 'count' cannot be computed&lt;/code&gt; problem).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-how-to-addupdate-rulesgroups" class="anchor" aria-hidden="true" href="#how-to-addupdate-rulesgroups"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How to add/update rules/groups?&lt;/h2&gt;
&lt;p&gt;Rules and groups are defined in &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-security-group/blob/master/rules.tf"&gt;rules.tf&lt;/a&gt;. Run &lt;code&gt;update_groups.sh&lt;/code&gt; when content of that file has changed to recreate content of all automatic modules.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-known-issues" class="anchor" aria-hidden="true" href="#known-issues"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Known issues&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Due to an &lt;a href="https://github.com/terraform-providers/terraform-provider-aws/issues/1920"&gt;issue #1920&lt;/a&gt; in AWS provider, updates to the &lt;code&gt;description&lt;/code&gt; of security group rules are ignored by this module. If you need to update &lt;code&gt;description&lt;/code&gt; after the security group has been created you need to recreate security group rule.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;&lt;a id="user-content-inputs" class="anchor" aria-hidden="true" href="#inputs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Inputs&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th align="center"&gt;Type&lt;/th&gt;
&lt;th align="center"&gt;Default&lt;/th&gt;
&lt;th align="center"&gt;Required&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;auto_groups&lt;/td&gt;
&lt;td&gt;Map of groups of security group rules to use to generate modules (see update_groups.sh)&lt;/td&gt;
&lt;td align="center"&gt;map(map(list(string)))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{ "activemq": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "activemq-5671-tcp", "activemq-8883-tcp", "activemq-61614-tcp", "activemq-61617-tcp", "activemq-61619-tcp" ], "ingress_with_self": [ "all-all" ] } ], "carbon-relay-ng": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "carbon-line-in-tcp", "carbon-line-in-udp", "carbon-pickle-tcp", "carbon-pickle-udp", "carbon-gui-udp" ], "ingress_with_self": [ "all-all" ] } ], "cassandra": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "cassandra-clients-tcp", "cassandra-thrift-clients-tcp", "cassandra-jmx-tcp" ], "ingress_with_self": [ "all-all" ] } ], "consul": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "consul-tcp", "consul-cli-rpc-tcp", "consul-webui-tcp", "consul-dns-tcp", "consul-dns-udp", "consul-serf-lan-tcp", "consul-serf-lan-udp", "consul-serf-wan-tcp", "consul-serf-wan-udp" ], "ingress_with_self": [ "all-all" ] } ], "docker-swarm": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "docker-swarm-mngmt-tcp", "docker-swarm-node-tcp", "docker-swarm-node-udp", "docker-swarm-overlay-udp" ], "ingress_with_self": [ "all-all" ] } ], "elasticsearch": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "elasticsearch-rest-tcp", "elasticsearch-java-tcp" ], "ingress_with_self": [ "all-all" ] } ], "http-80": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "http-80-tcp" ], "ingress_with_self": [ "all-all" ] } ], "http-8080": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "http-8080-tcp" ], "ingress_with_self": [ "all-all" ] } ], "https-443": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "https-443-tcp" ], "ingress_with_self": [ "all-all" ] } ], "https-8443": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "https-8443-tcp" ], "ingress_with_self": [ "all-all" ] } ], "ipsec-4500": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "ipsec-4500-udp" ], "ingress_with_self": [ "all-all" ] } ], "ipsec-500": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "ipsec-500-udp" ], "ingress_with_self": [ "all-all" ] } ], "kafka": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "kafka-broker-tcp" ], "ingress_with_self": [ "all-all" ] } ], "ldaps": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "ldaps-tcp" ], "ingress_with_self": [ "all-all" ] } ], "memcached": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "memcached-tcp" ], "ingress_with_self": [ "all-all" ] } ], "mongodb": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "mongodb-27017-tcp", "mongodb-27018-tcp", "mongodb-27019-tcp" ], "ingress_with_self": [ "all-all" ] } ], "mssql": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "mssql-tcp", "mssql-udp", "mssql-analytics-tcp", "mssql-broker-tcp" ], "ingress_with_self": [ "all-all" ] } ], "mysql": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "mysql-tcp" ], "ingress_with_self": [ "all-all" ] } ], "nfs": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "nfs-tcp" ], "ingress_with_self": [ "all-all" ] } ], "nomad": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "nomad-http-tcp", "nomad-rpc-tcp", "nomad-serf-tcp", "nomad-serf-udp" ], "ingress_with_self": [ "all-all" ] } ], "ntp": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "ntp-udp" ], "ingress_with_self": [ "all-all" ] } ], "openvpn": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "openvpn-udp", "openvpn-tcp", "openvpn-https-tcp" ], "ingress_with_self": [ "all-all" ] } ], "oracle-db": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "oracle-db-tcp" ], "ingress_with_self": [ "all-all" ] } ], "postgresql": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "postgresql-tcp" ], "ingress_with_self": [ "all-all" ] } ], "puppet": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "puppet-tcp", "puppetdb-tcp" ], "ingress_with_self": [ "all-all" ] } ], "rabbitmq": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "rabbitmq-4369-tcp", "rabbitmq-5671-tcp", "rabbitmq-5672-tcp", "rabbitmq-15672-tcp", "rabbitmq-25672-tcp" ], "ingress_with_self": [ "all-all" ] } ], "rdp": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "rdp-tcp", "rdp-udp" ], "ingress_with_self": [ "all-all" ] } ], "redis": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "redis-tcp" ], "ingress_with_self": [ "all-all" ] } ], "redshift": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "redshift-tcp" ], "ingress_with_self": [ "all-all" ] } ], "splunk": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "splunk-indexer-tcp", "splunk-clients-tcp", "splunk-splunkd-tcp", "splunk-hec-tcp" ], "ingress_with_self": [ "all-all" ] } ], "squid": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "squid-proxy-tcp" ], "ingress_with_self": [ "all-all" ] } ], "ssh": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "ssh-tcp" ], "ingress_with_self": [ "all-all" ] } ], "storm": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "storm-nimbus-tcp", "storm-ui-tcp", "storm-supervisor-tcp" ], "ingress_with_self": [ "all-all" ] } ], "web": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "http-80-tcp", "http-8080-tcp", "https-443-tcp", "web-jmx-tcp" ], "ingress_with_self": [ "all-all" ] } ], "winrm": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "winrm-http-tcp", "winrm-https-tcp" ], "ingress_with_self": [ "all-all" ] } ], "zipkin": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "zipkin-admin-tcp", "zipkin-admin-query-tcp", "zipkin-admin-web-tcp", "zipkin-query-tcp", "zipkin-web-tcp" ], "ingress_with_self": [ "all-all" ] } ], "zookeeper": [ { "egress_rules": [ "all-all" ], "ingress_rules": [ "zookeeper-2181-tcp", "zookeeper-2888-tcp", "zookeeper-3888-tcp", "zookeeper-jmx-tcp" ], "ingress_with_self": [ "all-all" ] } ] }&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;computed_egress_rules&lt;/td&gt;
&lt;td&gt;List of computed egress rules to create by name&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;computed_egress_with_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of computed egress rules to create where 'cidr_blocks' is used&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;computed_egress_with_ipv6_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of computed egress rules to create where 'ipv6_cidr_blocks' is used&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;computed_egress_with_self&lt;/td&gt;
&lt;td&gt;List of computed egress rules to create where 'self' is defined&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;computed_egress_with_source_security_group_id&lt;/td&gt;
&lt;td&gt;List of computed egress rules to create where 'source_security_group_id' is used&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;computed_ingress_rules&lt;/td&gt;
&lt;td&gt;List of computed ingress rules to create by name&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;computed_ingress_with_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of computed ingress rules to create where 'cidr_blocks' is used&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;computed_ingress_with_ipv6_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of computed ingress rules to create where 'ipv6_cidr_blocks' is used&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;computed_ingress_with_self&lt;/td&gt;
&lt;td&gt;List of computed ingress rules to create where 'self' is defined&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;computed_ingress_with_source_security_group_id&lt;/td&gt;
&lt;td&gt;List of computed ingress rules to create where 'source_security_group_id' is used&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;create&lt;/td&gt;
&lt;td&gt;Whether to create security group and all rules&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;description&lt;/td&gt;
&lt;td&gt;Description of security group&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"Security Group managed by Terraform"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;egress_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of IPv4 CIDR ranges to use on all egress rules&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[ "0.0.0.0/0" ]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;egress_ipv6_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of IPv6 CIDR ranges to use on all egress rules&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[ "::/0" ]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;egress_prefix_list_ids&lt;/td&gt;
&lt;td&gt;List of prefix list IDs (for allowing access to VPC endpoints) to use on all egress rules&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;egress_rules&lt;/td&gt;
&lt;td&gt;List of egress rules to create by name&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;egress_with_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of egress rules to create where 'cidr_blocks' is used&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;egress_with_ipv6_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of egress rules to create where 'ipv6_cidr_blocks' is used&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;egress_with_self&lt;/td&gt;
&lt;td&gt;List of egress rules to create where 'self' is defined&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;egress_with_source_security_group_id&lt;/td&gt;
&lt;td&gt;List of egress rules to create where 'source_security_group_id' is used&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ingress_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of IPv4 CIDR ranges to use on all ingress rules&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ingress_ipv6_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of IPv6 CIDR ranges to use on all ingress rules&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ingress_prefix_list_ids&lt;/td&gt;
&lt;td&gt;List of prefix list IDs (for allowing access to VPC endpoints) to use on all ingress rules&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ingress_rules&lt;/td&gt;
&lt;td&gt;List of ingress rules to create by name&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ingress_with_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of ingress rules to create where 'cidr_blocks' is used&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ingress_with_ipv6_cidr_blocks&lt;/td&gt;
&lt;td&gt;List of ingress rules to create where 'ipv6_cidr_blocks' is used&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ingress_with_self&lt;/td&gt;
&lt;td&gt;List of ingress rules to create where 'self' is defined&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ingress_with_source_security_group_id&lt;/td&gt;
&lt;td&gt;List of ingress rules to create where 'source_security_group_id' is used&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;name&lt;/td&gt;
&lt;td&gt;Name of security group&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;number_of_computed_egress_rules&lt;/td&gt;
&lt;td&gt;Number of computed egress rules to create by name&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"0"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;number_of_computed_egress_with_cidr_blocks&lt;/td&gt;
&lt;td&gt;Number of computed egress rules to create where 'cidr_blocks' is used&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"0"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;number_of_computed_egress_with_ipv6_cidr_blocks&lt;/td&gt;
&lt;td&gt;Number of computed egress rules to create where 'ipv6_cidr_blocks' is used&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"0"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;number_of_computed_egress_with_self&lt;/td&gt;
&lt;td&gt;Number of computed egress rules to create where 'self' is defined&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"0"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;number_of_computed_egress_with_source_security_group_id&lt;/td&gt;
&lt;td&gt;Number of computed egress rules to create where 'source_security_group_id' is used&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"0"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;number_of_computed_ingress_rules&lt;/td&gt;
&lt;td&gt;Number of computed ingress rules to create by name&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"0"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;number_of_computed_ingress_with_cidr_blocks&lt;/td&gt;
&lt;td&gt;Number of computed ingress rules to create where 'cidr_blocks' is used&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"0"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;number_of_computed_ingress_with_ipv6_cidr_blocks&lt;/td&gt;
&lt;td&gt;Number of computed ingress rules to create where 'ipv6_cidr_blocks' is used&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"0"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;number_of_computed_ingress_with_self&lt;/td&gt;
&lt;td&gt;Number of computed ingress rules to create where 'self' is defined&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"0"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;number_of_computed_ingress_with_source_security_group_id&lt;/td&gt;
&lt;td&gt;Number of computed ingress rules to create where 'source_security_group_id' is used&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"0"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;rules&lt;/td&gt;
&lt;td&gt;Map of known security group rules (define as 'name' = ['from port', 'to port', 'protocol', 'description'])&lt;/td&gt;
&lt;td align="center"&gt;map(list(any))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{ "_": [ "", "", "" ], "activemq-5671-tcp": [ 5671, 5671, "tcp", "ActiveMQ AMQP" ], "activemq-61614-tcp": [ 61614, 61614, "tcp", "ActiveMQ STOMP" ], "activemq-61617-tcp": [ 61617, 61617, "tcp", "ActiveMQ OpenWire" ], "activemq-61619-tcp": [ 61619, 61619, "tcp", "ActiveMQ WebSocket" ], "activemq-8883-tcp": [ 8883, 8883, "tcp", "ActiveMQ MQTT" ], "all-all": [ -1, -1, "-1", "All protocols" ], "all-icmp": [ -1, -1, "icmp", "All IPV4 ICMP" ], "all-ipv6-icmp": [ -1, -1, 58, "All IPV6 ICMP" ], "all-tcp": [ 0, 65535, "tcp", "All TCP ports" ], "all-udp": [ 0, 65535, "udp", "All UDP ports" ], "carbon-admin-tcp": [ 2004, 2004, "tcp", "Carbon admin" ], "carbon-gui-udp": [ 8081, 8081, "tcp", "Carbon GUI" ], "carbon-line-in-tcp": [ 2003, 2003, "tcp", "Carbon line-in" ], "carbon-line-in-udp": [ 2003, 2003, "udp", "Carbon line-in" ], "carbon-pickle-tcp": [ 2013, 2013, "tcp", "Carbon pickle" ], "carbon-pickle-udp": [ 2013, 2013, "udp", "Carbon pickle" ], "cassandra-clients-tcp": [ 9042, 9042, "tcp", "Cassandra clients" ], "cassandra-jmx-tcp": [ 7199, 7199, "tcp", "JMX" ], "cassandra-thrift-clients-tcp": [ 9160, 9160, "tcp", "Cassandra Thrift clients" ], "consul-cli-rpc-tcp": [ 8400, 8400, "tcp", "Consul CLI RPC" ], "consul-dns-tcp": [ 8600, 8600, "tcp", "Consul DNS" ], "consul-dns-udp": [ 8600, 8600, "udp", "Consul DNS" ], "consul-serf-lan-tcp": [ 8301, 8301, "tcp", "Serf LAN" ], "consul-serf-lan-udp": [ 8301, 8301, "udp", "Serf LAN" ], "consul-serf-wan-tcp": [ 8302, 8302, "tcp", "Serf WAN" ], "consul-serf-wan-udp": [ 8302, 8302, "udp", "Serf WAN" ], "consul-tcp": [ 8300, 8300, "tcp", "Consul server" ], "consul-webui-tcp": [ 8500, 8500, "tcp", "Consul web UI" ], "dns-tcp": [ 53, 53, "tcp", "DNS" ], "dns-udp": [ 53, 53, "udp", "DNS" ], "docker-swarm-mngmt-tcp": [ 2377, 2377, "tcp", "Docker Swarm cluster management" ], "docker-swarm-node-tcp": [ 7946, 7946, "tcp", "Docker Swarm node" ], "docker-swarm-node-udp": [ 7946, 7946, "udp", "Docker Swarm node" ], "docker-swarm-overlay-udp": [ 4789, 4789, "udp", "Docker Swarm Overlay Network Traffic" ], "elasticsearch-java-tcp": [ 9300, 9300, "tcp", "Elasticsearch Java interface" ], "elasticsearch-rest-tcp": [ 9200, 9200, "tcp", "Elasticsearch REST interface" ], "http-80-tcp": [ 80, 80, "tcp", "HTTP" ], "http-8080-tcp": [ 8080, 8080, "tcp", "HTTP" ], "https-443-tcp": [ 443, 443, "tcp", "HTTPS" ], "https-8443-tcp": [ 8443, 8443, "tcp", "HTTPS" ], "ipsec-4500-udp": [ 4500, 4500, "udp", "IPSEC NAT-T" ], "ipsec-500-udp": [ 500, 500, "udp", "IPSEC ISAKMP" ], "kafka-broker-tcp": [ 9092, 9092, "tcp", "Kafka broker 0.8.2+" ], "ldaps-tcp": [ 636, 636, "tcp", "LDAPS" ], "memcached-tcp": [ 11211, 11211, "tcp", "Memcached" ], "mongodb-27017-tcp": [ 27017, 27017, "tcp", "MongoDB" ], "mongodb-27018-tcp": [ 27018, 27018, "tcp", "MongoDB shard" ], "mongodb-27019-tcp": [ 27019, 27019, "tcp", "MongoDB config server" ], "mssql-analytics-tcp": [ 2383, 2383, "tcp", "MSSQL Analytics" ], "mssql-broker-tcp": [ 4022, 4022, "tcp", "MSSQL Broker" ], "mssql-tcp": [ 1433, 1433, "tcp", "MSSQL Server" ], "mssql-udp": [ 1434, 1434, "udp", "MSSQL Browser" ], "mysql-tcp": [ 3306, 3306, "tcp", "MySQL/Aurora" ], "nfs-tcp": [ 2049, 2049, "tcp", "NFS/EFS" ], "nomad-http-tcp": [ 4646, 4646, "tcp", "Nomad HTTP" ], "nomad-rpc-tcp": [ 4647, 4647, "tcp", "Nomad RPC" ], "nomad-serf-tcp": [ 4648, 4648, "tcp", "Serf" ], "nomad-serf-udp": [ 4648, 4648, "udp", "Serf" ], "ntp-udp": [ 123, 123, "udp", "NTP" ], "openvpn-https-tcp": [ 443, 443, "tcp", "OpenVPN" ], "openvpn-tcp": [ 943, 943, "tcp", "OpenVPN" ], "openvpn-udp": [ 1194, 1194, "udp", "OpenVPN" ], "oracle-db-tcp": [ 1521, 1521, "tcp", "Oracle" ], "postgresql-tcp": [ 5432, 5432, "tcp", "PostgreSQL" ], "puppet-tcp": [ 8140, 8140, "tcp", "Puppet" ], "puppetdb-tcp": [ 8081, 8081, "tcp", "PuppetDB" ], "rabbitmq-15672-tcp": [ 15672, 15672, "tcp", "RabbitMQ" ], "rabbitmq-25672-tcp": [ 25672, 25672, "tcp", "RabbitMQ" ], "rabbitmq-4369-tcp": [ 4369, 4369, "tcp", "RabbitMQ epmd" ], "rabbitmq-5671-tcp": [ 5671, 5671, "tcp", "RabbitMQ" ], "rabbitmq-5672-tcp": [ 5672, 5672, "tcp", "RabbitMQ" ], "rdp-tcp": [ 3389, 3389, "tcp", "Remote Desktop" ], "rdp-udp": [ 3389, 3389, "udp", "Remote Desktop" ], "redis-tcp": [ 6379, 6379, "tcp", "Redis" ], "redshift-tcp": [ 5439, 5439, "tcp", "Redshift" ], "splunk-hec-tcp": [ 8088, 8088, "tcp", "Splunk HEC" ], "splunk-indexer-tcp": [ 9997, 9997, "tcp", "Splunk indexer" ], "splunk-splunkd-tcp": [ 8089, 8089, "tcp", "Splunkd" ], "splunk-web-tcp": [ 8000, 8000, "tcp", "Splunk Web" ], "squid-proxy-tcp": [ 3128, 3128, "tcp", "Squid default proxy" ], "ssh-tcp": [ 22, 22, "tcp", "SSH" ], "storm-nimbus-tcp": [ 6627, 6627, "tcp", "Nimbus" ], "storm-supervisor-tcp": [ 6700, 6703, "tcp", "Supervisor" ], "storm-ui-tcp": [ 8080, 8080, "tcp", "Storm UI" ], "web-jmx-tcp": [ 1099, 1099, "tcp", "JMX" ], "winrm-http-tcp": [ 5985, 5985, "tcp", "WinRM HTTP" ], "winrm-https-tcp": [ 5986, 5986, "tcp", "WinRM HTTPS" ], "zipkin-admin-query-tcp": [ 9901, 9901, "tcp", "Zipkin Admin port query" ], "zipkin-admin-tcp": [ 9990, 9990, "tcp", "Zipkin Admin port collector" ], "zipkin-admin-web-tcp": [ 9991, 9991, "tcp", "Zipkin Admin port web" ], "zipkin-query-tcp": [ 9411, 9411, "tcp", "Zipkin query port" ], "zipkin-web-tcp": [ 8080, 8080, "tcp", "Zipkin web port" ], "zookeeper-2181-tcp": [ 2181, 2181, "tcp", "Zookeeper" ], "zookeeper-2888-tcp": [ 2888, 2888, "tcp", "Zookeeper" ], "zookeeper-3888-tcp": [ 3888, 3888, "tcp", "Zookeeper" ], "zookeeper-jmx-tcp": [ 7199, 7199, "tcp", "JMX" ] }&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tags&lt;/td&gt;
&lt;td&gt;A mapping of tags to assign to security group&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;use_name_prefix&lt;/td&gt;
&lt;td&gt;Whether to use name_prefix or fixed name. Should be true to able to update security group name after initial creation&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_id&lt;/td&gt;
&lt;td&gt;ID of the VPC where to create security group&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-outputs" class="anchor" aria-hidden="true" href="#outputs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Outputs&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;this_security_group_description&lt;/td&gt;
&lt;td&gt;The description of the security group&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_security_group_id&lt;/td&gt;
&lt;td&gt;The ID of the security group&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_security_group_name&lt;/td&gt;
&lt;td&gt;The name of the security group&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_security_group_owner_id&lt;/td&gt;
&lt;td&gt;The owner ID&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_security_group_vpc_id&lt;/td&gt;
&lt;td&gt;The VPC ID&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2&gt;&lt;a id="user-content-authors" class="anchor" aria-hidden="true" href="#authors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Authors&lt;/h2&gt;
&lt;p&gt;Module managed by &lt;a href="https://github.com/antonbabenko"&gt;Anton Babenko&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;Apache 2 Licensed. See LICENSE for full details.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>terraform-aws-modules</author><guid isPermaLink="false">https://github.com/terraform-aws-modules/terraform-aws-security-group</guid><pubDate>Thu, 02 Jan 2020 00:05:00 GMT</pubDate></item><item><title>brikis98/terraform-up-and-running-code #6 in HCL, Today</title><link>https://github.com/brikis98/terraform-up-and-running-code</link><description>&lt;p&gt;&lt;i&gt;Code samples for the book "Terraform: Up &amp; Running" by Yevgeniy Brikman&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-terraform-up--running-code" class="anchor" aria-hidden="true" href="#terraform-up--running-code"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Terraform: Up &amp;amp; Running Code&lt;/h1&gt;
&lt;p&gt;This repo contains the code samples for the book &lt;em&gt;&lt;a href="http://www.terraformupandrunning.com" rel="nofollow"&gt;Terraform: Up and Running&lt;/a&gt;&lt;/em&gt;,
2nd edition, by &lt;a href="http://www.ybrikman.com" rel="nofollow"&gt;Yevgeniy Brikman&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-quick-start" class="anchor" aria-hidden="true" href="#quick-start"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Quick start&lt;/h2&gt;
&lt;p&gt;All the code is in the &lt;a href="/code"&gt;code&lt;/a&gt; folder. It is organized by language (terraform, bash, ruby, etc) and within each
language, by chapter. Since this code comes from a book about Terraform, the vast majority of the code consists of
Terraform examples in the &lt;a href="/code/terraform"&gt;code/terraform folder&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;For instructions on running the code, please consult the README in each folder, and, of course, the
&lt;em&gt;&lt;a href="http://www.terraformupandrunning.com" rel="nofollow"&gt;Terraform: Up and Running&lt;/a&gt;&lt;/em&gt; book.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-more-examples" class="anchor" aria-hidden="true" href="#more-examples"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;More examples&lt;/h2&gt;
&lt;p&gt;The example code in &lt;em&gt;Terraform: Up and Running&lt;/em&gt; are mostly for Amazon Web Services (AWS). There is a project underway
to translate these examples to their equivalents on other cloud providers, such as Google Cloud and Azure, here:
&lt;a href="https://github.com/mjuenema/Terraform-Up-and-Running-Code-Samples-Translated/"&gt;https://github.com/mjuenema/Terraform-Up-and-Running-Code-Samples-Translated/&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-looking-for-the-1st-edition" class="anchor" aria-hidden="true" href="#looking-for-the-1st-edition"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Looking for the 1st edition?&lt;/h2&gt;
&lt;p&gt;All the code examples in the &lt;code&gt;master&lt;/code&gt; branch are for the 2nd edition of &lt;em&gt;Terraform: Up &amp;amp; Running&lt;/em&gt;. If you're looking
for the code examples from the 1st edition, please head over to the
&lt;a href="https://github.com/brikis98/terraform-up-and-running-code/tree/1st-edition"&gt;1st-edition branch&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;This code is released under the MIT License. See LICENSE.txt.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>brikis98</author><guid isPermaLink="false">https://github.com/brikis98/terraform-up-and-running-code</guid><pubDate>Thu, 02 Jan 2020 00:06:00 GMT</pubDate></item><item><title>2ndWatch/tf-aws-awsman-fsx-demo #7 in HCL, Today</title><link>https://github.com/2ndWatch/tf-aws-awsman-fsx-demo</link><description>&lt;p&gt;&lt;i&gt;This demo will allow the user to setup a lab and review the use of a FSx setup&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-tf-aws-awsman-fsx-demo" class="anchor" aria-hidden="true" href="#tf-aws-awsman-fsx-demo"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;tf-aws-awsman-fsx-demo&lt;/h1&gt;
&lt;p&gt;AWS Managed Active Directory Services with FSx&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-features" class="anchor" aria-hidden="true" href="#features"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Features&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Basic 2012 windows domain/forest setup using AWS Managed Active Directory services&lt;/li&gt;
&lt;li&gt;In-Place, deployment no additional steps required other than a ssh key setup in AWS&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-purpose" class="anchor" aria-hidden="true" href="#purpose"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Purpose&lt;/h2&gt;
&lt;p&gt;Showcase how to setup and configure Amazon FSx with Active Directory services managed by AWS.  Attached to a windows systems and setup permissions/configuration.  Considerations for cost, backups, etc.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-quick-start" class="anchor" aria-hidden="true" href="#quick-start"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Download this repo to you local workstation, ensure you have terraform installed along with AWS CLI&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Modify the &lt;code&gt;./terraform/terraform.tfvars&lt;/code&gt; values&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Modify the &lt;code&gt;./terraform/providers.tf&lt;/code&gt; values as you will need to setup a remote backend or remove this section and run state locally. Also modify the provider details so it deploys to your region and uses your credentials.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Run terraform plan and prepare to build it will take up to 40 to 60 minutes for the build to finish. You will get the following resources essential to the project.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; - VPC (2x public, 2x private subnets)
 - 2 x Nat Gateways (located in the public subnets)
 - 1 Domain Serices Directory (2x Domain contollers in the private subnets of the VPC these are not listed in EC2 instances and can only be managed by a joined workstation/server)
 - 1 EC2 instance which is joined via a SSM document to the forest (build in the public subnet with a public IP locked down to the trusted_ip_address you set)
 - 1 FSx instance (build in the private subnet)
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;a id="user-content-aws-managed-active-directory" class="anchor" aria-hidden="true" href="#aws-managed-active-directory"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;AWS Managed Active Directory&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-description" class="anchor" aria-hidden="true" href="#description"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Description&lt;/h3&gt;
&lt;p&gt;AWS Directory Service allows us to quickly deploy a highly available, scalable Windows Active Directory infrastructure inside a VPC.&lt;/p&gt;
&lt;p&gt;Using AWS Directory Service, we are freed from configuring and maintaining the Windows servers where the Directory is hosted. The domain controllers are deployed in multiple subnets in different availability zones, making it tolerant of any failure in one availability zone. AD snapshots can also be taken through AWS console or CLI, which is very convenient. AWS Managed Active Directory supports the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AWS Managed Microsoft AD (Standard Edition) includes 1 GB of directory object storage. This capacity can support up to 5,000 users or 30,000 directory objects, including users, groups, and computers.&lt;/li&gt;
&lt;li&gt;AWS Managed Microsoft AD (Enterprise Edition) includes 17 GB of directory object storage, which can support up to 100,000 users or 500,000 objects.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AWS does not provide any migration tools to migrate a self-managed Active Directory to AWS Managed Microsoft AD. If this is the case we will need to work with internal IT to develop a migration strategy.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-management" class="anchor" aria-hidden="true" href="#management"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Management&lt;/h3&gt;
&lt;p&gt;Once your directory is created, you can use it to manage users and groups, provide single sign-on to applications and services, create and apply group policy, join Amazon EC2 instances to a domain, as well as simplify the deployment and management of cloud-based Linux and Microsoft Windows workloads. AWS Directory Service enables your end users to use their existing corporate credentials when accessing AWS applications, such as Amazon WorkSpaces, Amazon WorkDocs and Amazon WorkMail, as well as directory-aware Microsoft workloads, including custom .NET and SQL Server-based applications.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-compliance" class="anchor" aria-hidden="true" href="#compliance"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Compliance&lt;/h3&gt;
&lt;p&gt;AWS Managed Microsoft AD has implemented the controls necessary to enable you to meet the U.S. Health Insurance Portability and Accountability Act (HIPAA) requirements and is included as an in-scope service in the Payment Card Industry Data Security Standard (PCI DSS) Attestation of Compliance and Responsibility Summary. You can review the artifacts for audit at &lt;a href="https://aws.amazon.com/artifact/" rel="nofollow"&gt;AWS Artifact&lt;/a&gt; page.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-pricing" class="anchor" aria-hidden="true" href="#pricing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Pricing&lt;/h3&gt;
&lt;p&gt;For more &lt;a href="https://aws.amazon.com/directoryservice/pricing/" rel="nofollow"&gt;Pricing&lt;/a&gt; information can be found at AWS.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-fsx" class="anchor" aria-hidden="true" href="#fsx"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;FSx&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-description-1" class="anchor" aria-hidden="true" href="#description-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Description&lt;/h3&gt;
&lt;p&gt;Amazon FSx for Windows File Server provides a fully managed native Microsoft Windows file system so you can easily move your Windows-based applications that require file storage to AWS.&lt;/p&gt;
&lt;p&gt;Built on Windows Server, Amazon FSx provides shared file storage with the compatibility and features that your Windows-based applications rely on, including full support for the SMB protocol, Windows NTFS, and Active Directory (AD) integration. Amazon FSx uses SSD storage to provide the fast performance your Windows applications and users expect, with high levels of throughput and IOPS, and consistent sub-millisecond latencies.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-features-of-fsx" class="anchor" aria-hidden="true" href="#features-of-fsx"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Features of FSx&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-connectivity" class="anchor" aria-hidden="true" href="#connectivity"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Connectivity&lt;/h4&gt;
&lt;p&gt;With Amazon FSx, you can launch highly durable and available Windows file systems that can be accessed from up to thousands of compute instances using the industry-standard SMB protocol. Amazon FSx eliminates the typical administrative overhead of managing Windows file servers.&lt;/p&gt;
&lt;p&gt;By supporting the SMB protocol, Amazon FSx can connect your file system to Amazon EC2, VMware Cloud on AWS, Amazon WorkSpaces, and Amazon AppStream 2.0 instances. To ensure compatibility with your applications, Amazon FSx supports all Windows versions starting from Windows Server 2008 and Windows 7, and current versions of Linux (using the cifs-utils tool).&lt;/p&gt;
&lt;p&gt;Amazon FSx was designed for a broad set of use cases that require Windows shared file storage, like CRM, ERP, custom or .NET applications, home directories, data analytics, media and entertainment workflows, web serving and content management, software build environments, and Microsoft SQL Server.&lt;/p&gt;
&lt;p&gt;You can monitor storage capacity and file system activity using Amazon CloudWatch, and monitor all Amazon FSx API calls using AWS CloudTrail.&lt;/p&gt;
&lt;p&gt;Access to Amazon FSx file systems from your on-premises environment using an &lt;code&gt;AWS Direct Connect&lt;/code&gt; or &lt;code&gt;AWS VPN connection&lt;/code&gt; between your on-premises datacenter and your Amazon VPC. With support for AWS Direct Connect, Amazon FSx allows you to access your file system over a dedicated network connection from your on-premises environment. With support for AWS VPN, Amazon FSx allows you to access your file system from your on-premises devices over a secure and private tunnel. With on-premises access, you can use Amazon FSx for hosting user shares accessible by on-premises end-users, for cloud bursting workloads to offload your application processing to the cloud, and for backup and disaster recovery solutions.&lt;/p&gt;
&lt;p&gt;You can run up to thousands of Amazon FSx for Windows File Server file systems in your account, with each file system having up to 64 TB of data. To unify your data from multiple file systems into one common folder structure, Amazon FSx supports the use of &lt;code&gt;Microsoft’s Distributed File System (DFS)&lt;/code&gt; to organize shares into a single folder structure up to hundreds of PB in size.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-integration" class="anchor" aria-hidden="true" href="#integration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Integration&lt;/h4&gt;
&lt;p&gt;Amazon FSx works with Microsoft Active Directory (AD) to integrate with your existing Windows environments. When creating a file system with Amazon FSx, you join it to your Microsoft AD -- either an AWS Managed Microsoft AD or your self-managed Microsoft AD. Your users can then use their existing AD-based user identities to authenticate themselves and access the Amazon FSx ﬁle system, and to control access to individual ﬁles and folders.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-compliance-1" class="anchor" aria-hidden="true" href="#compliance-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Compliance&lt;/h4&gt;
&lt;p&gt;Amazon FSx for Windows File Server always encrypts your file system data and your backups at-rest using keys you manage through AWS Key Management Service (KMS). Amazon FSx encrypts data-in-transit using SMB Kerberos session keys, when you access your file system from clients that support SMB 3.0 (and higher). You can also choose to enforce in-transit encryption on all connections to your file system by limiting access to only those clients that support SMB 3.0 and higher to help meet compliance needs.&lt;/p&gt;
&lt;p&gt;Amazon FSx has been assessed to meet global and industry security standards. It complies with PCI DSS, ISO 9001, 27001, 27017, and 27018), and SOC 1, 2, and 3, in addition to being HIPAA eligible.&lt;/p&gt;
&lt;p&gt;Review &lt;a href="https://aws.amazon.com/compliance/services-in-scope/" rel="nofollow"&gt;services-in-scope&lt;/a&gt; for more information with this service and other services provided by AWS.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-availability-and-durability" class="anchor" aria-hidden="true" href="#availability-and-durability"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Availability and durability&lt;/h4&gt;
&lt;p&gt;High availability and durability are concerns for any enterprise, Amazon FSx automatically replicates your data within an Availability Zone (AZ) to protect it from component failure, continuously monitors for hardware failures, and automatically replaces infrastructure components in the event of a failure. You can also create a Multi-AZ file system, which provides redundancy across multiple AZs. Amazon FSx also takes highly durable backups (stored in S3) of your file system daily using Windows’s Volume Shadow Copy Service, and allows you to take additional backups at any point.&lt;/p&gt;
&lt;p&gt;Amazon FSx detects and automatically recovers from failures so that you can resume file system operations as quickly as possible without administrative intervention. When failing over from one file server to another, the new active file server will automatically begin serving all file system reads and write requests. Failovers, as defined by the interval between the detection of the failure on the active and promotion of the other file server to active, typically complete within 30 seconds. Failback will occur once the file server in the preferred subnet is fully recovered (typically under 20 minutes), and also completes within 30 seconds.&lt;/p&gt;
&lt;p&gt;Windows clients accessing Multi-AZ file systems automatically fail over and fail back with the file system, meaning that users or applications running on Windows clients automatically benefit from the enhanced availability of Multi-AZ file systems. Linux clients don’t automatically connect to the standby file server upon a failover, and will automatically resume file system operations once failback to the preferred file server is complete.&lt;/p&gt;
&lt;p&gt;Beyond automatically replicating your file system's data to ensure high durability, Amazon FSx provides you with two options to further protect the data stored on your file systems: Windows shadow copies to enable your end-users to easily undo file changes and compare file versions by restoring files to previous versions, and backups to support your backup retention and compliance needs.&lt;/p&gt;
&lt;p&gt;Creating regular backups for your file system is a best practice that complements the replication that Amazon FSx performs for your file system. Amazon FSx automatically takes backups of your file systems once a day. These daily backups are taken during the daily backup window that was established when you created the file system. At some point during the daily backup window, storage I/O might be suspended briefly while the backup process initializes (typically under a few seconds). When you choose your daily backup window, we recommend that you choose a convenient time of the day. This time ideally is outside of the normal operating hours for the applications that use the file system.&lt;/p&gt;
&lt;p&gt;Backups are kept for a certain period of time, known as a retention period. By default, backups are retained for 7 days. However, you can change the retention period to anywhere in a range of 0–35 days. Setting this to 0 however will turn of backups.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://calculator.aws/#/createCalculator?displayType=singleService&amp;amp;locale=en-US&amp;amp;region=us-east-1&amp;amp;serviceCode=amazonFSx" rel="nofollow"&gt;Pricing&lt;/a&gt; for Fsx can be found on AWS.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-walkthrough" class="anchor" aria-hidden="true" href="#walkthrough"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Walkthrough&lt;/h2&gt;
&lt;p&gt;This demo will show you how to connect to your environment using a newly created EC2 instance.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Review the output from terraform it will look something like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; Outputs:
 ad_admin_user = myapp.com\admin
 ad_password = P@$$w0rd
 windows_fsx_server_dns = \\fs-060da09a3432a21fd.myapp.com
 windows_server_ip = 54.224.166.197
 windows_server_local_admin = Administrator
 windows_server_password = $LcWa%l!l47b;l2b=&amp;amp;eETfuwhGrgNEd=
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You will need a remote desktop client to access the server. You will need three items for the client to work. IP address, Username and Password. You can use either the local username and password or active directory. Since we will be using FSx it is advised to use the active directory user and password to complete this demo.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Mac users can use (Microsoft Remote Desktop from the &lt;a href="https://apps.apple.com/us/app/microsoft-remote-desktop-10/id1295203466?mt=12" rel="nofollow"&gt;appstore&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Windows can use RDP by searching for it in start, here is a &lt;a href="https://support.microsoft.com/en-us/help/4028379/windows-10-how-to-use-remote-desktop" rel="nofollow"&gt;walkthrough&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Once you are logged into the server, you will need to install some tools. I plan on automating this later on but for the time being. We will go through the process of adding RSAT tools (Remote Server Administration Tools). Here is a short &lt;a href="https://docs.aws.amazon.com/directoryservice/latest/admin-guide/ms_ad_install_ad_tools.html#install_ad_tools_win2016" rel="nofollow"&gt;walkthrough&lt;/a&gt; on how to install the tools needed.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Now that we have the tools needed lets review Active Directory. Start by opening Server Manager Dashboard and clicking on tools then open Active Directory Users and Computers. We will do a slight review of the forest before moving on to later steps.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In the window you will notice two panels. On the left is your forst if you didn't modify that value in the variables section then it should be called myapp.com click on it and review the new forest. Here you will see some non standard folders AWS has added to the structure. The two being labeled AWS Delegated Groups and AWS Reserved. Your admin account will be given Delegated permissions to OU you described in the terraform.tfvars file in our case "OU=myapp,DC=myapp,DC=com". Here we will have computers or users joined to the domain. Any server joined using the SSM document will be located in the AWS Reserved section of AD. Computers joined via a direct connect or VPN connection to the vpc should appear in the computer section of your controlled OU. Users can be created along with other OU's for orginazation purposes.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Next create some users I suggest a minimum of two in AD for testing with FSx. Go ahead and create a group while your making new users.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Now we will check to see if we have access to our new share. Lets follow the directions provided by &lt;a href="https://docs.aws.amazon.com/fsx/latest/WindowsGuide/getting-started-step2.html" rel="nofollow"&gt;AWS&lt;/a&gt;. This will ensure we can connect and test map the drive.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Once we have verified we have access lets create a GPO that will allow us to map this drive to any user. Review this &lt;a href="https://blog.netwrix.com/2019/06/20/map-network-drives-or-shared-folders-using-group-policy-in-8-easy-steps/" rel="nofollow"&gt;blog&lt;/a&gt; entry for how to setup the GPO, you can ignore the targeting portion of the steps provided and make sure you create the new GPO in the OU we contol which is &lt;code&gt;"OU=myapp,DC=myapp,DC=com"&lt;/code&gt;. Ensure you run &lt;code&gt;gpupdate /force&lt;/code&gt; prior to logging in with the new user.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Now that we have our users setup, a group policy in place. Lets test to see if the newly mapped drive works. We will need to ensure that the user we want to test will will have access to the server to do this we need to add them to the remote desktop access list. To do this we will manually add them to the server, right click on start -&amp;gt; system -&amp;gt; remote settings -&amp;gt; add -&amp;gt; select user (search for user) -&amp;gt; click ok -&amp;gt; click ok again -&amp;gt; click ok once more. You user should now be able to remote into the server lets test this. You can keep your current session open and remote in with the new user you gave access.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Now we have at least an admin user and a test user to review how permissions will work on the share. Lets start by checking to see if the newly create GPO is doing the job.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Now head back to your admin user, lets create some folders in the new share. I created three folders everyone, test, admin. Here we will assign test to a specific user or group, everyone will be a basic folder and admin will be accessible only to admins.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Create the three folders then lets begin by right clicking on the folder and choosing properties. (Make sure this is on your admin account).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click on the security tab. Click Advanced, you should see three users/groups in the dialog box. We want to only allow a specific group or user to access this test folder. It is best practice to never use Deny unless we want to be explicit.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;In order to allow only test to have access we will remove the Authenticated Users group from the folder and add the test user. Click on Authenticated Users click remove. You will recieve a warning notice click ok. This is telling you the permissions are being inherited from the parent folder. We want to copy those permissions and then modify them.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Now, Click disable inheritance, then convert into explicit permissions. Now click on Authenticated Users, click remove. You should not see a notice this time.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click on Add then click select a principal, type in the user name we want to add click check name after we enter the name. If it came up with the domain name after it click OK otherwise doublecheck your username.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Now we want to give it modify access but not full ownership. This is generally best practice as it will not allow the user to change permissions on the folder. If you would like to give your users access to the entire folder make sure to give full access or click on advanced to get more in depth with requirements.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click ok.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You should now see the new permissions on the folder clicks apply them to the folder now by clicking ok.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;At the properties screen for the folder, click ok.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can now check to see if you have access to the folder using the test user.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Lets now do the same steps above but remove only the authenticated users for the admin folder. This will allow only admins to access the folder as they have to be apart of the AWS Delegate Admin's group.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Test this now on both admin and your test users.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;We have now make a share which has appropriate permissions for the end-users. We have validated that all is working and worked in both Active Directory along with FSx.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Lets ensure we tear down our environment. Using the same terminal you spun up the lab environment using run terraform destroy --force.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>2ndWatch</author><guid isPermaLink="false">https://github.com/2ndWatch/tf-aws-awsman-fsx-demo</guid><pubDate>Thu, 02 Jan 2020 00:07:00 GMT</pubDate></item><item><title>terraform-aws-modules/terraform-aws-s3-bucket #8 in HCL, Today</title><link>https://github.com/terraform-aws-modules/terraform-aws-s3-bucket</link><description>&lt;p&gt;&lt;i&gt;Terraform module which creates S3 bucket resources on AWS&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-aws-s3-bucket-terraform-module" class="anchor" aria-hidden="true" href="#aws-s3-bucket-terraform-module"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;AWS S3 bucket Terraform module&lt;/h1&gt;
&lt;p&gt;Terraform module which creates S3 bucket on AWS with all (or almost all) features provided by Terraform AWS provider.&lt;/p&gt;
&lt;p&gt;This type of resources are supported:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/s3_bucket.html" rel="nofollow"&gt;S3 Bucket&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/s3_bucket_policy.html" rel="nofollow"&gt;S3 Bucket Policy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These features of S3 bucket configurations are supported:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;static web-site hosting&lt;/li&gt;
&lt;li&gt;access logging&lt;/li&gt;
&lt;li&gt;versioning&lt;/li&gt;
&lt;li&gt;CORS&lt;/li&gt;
&lt;li&gt;lifecycle rules&lt;/li&gt;
&lt;li&gt;server-side encryption&lt;/li&gt;
&lt;li&gt;object locking&lt;/li&gt;
&lt;li&gt;Cross-Region Replication (CRR)&lt;/li&gt;
&lt;li&gt;ELB log delivery bucket policy&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-terraform-versions" class="anchor" aria-hidden="true" href="#terraform-versions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Terraform versions&lt;/h2&gt;
&lt;p&gt;Only Terraform 0.12 is supported.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-private-bucket-with-versioning-enabled" class="anchor" aria-hidden="true" href="#private-bucket-with-versioning-enabled"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Private bucket with versioning enabled&lt;/h3&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;s3_bucket&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;source&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;terraform-aws-modules/s3-bucket/aws&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;bucket&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;my-s3-bucket&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;acl&lt;/span&gt;    &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;private&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;versioning&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; {
    &lt;span class="pl-smi"&gt;enabled&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
  }

}&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-bucket-with-elb-access-log-delivery-policy-attached" class="anchor" aria-hidden="true" href="#bucket-with-elb-access-log-delivery-policy-attached"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bucket with ELB access log delivery policy attached&lt;/h3&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;s3_bucket_for_logs&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;source&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;terraform-aws-modules/s3-bucket/aws&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;bucket&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;my-s3-bucket-for-logs&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;acl&lt;/span&gt;    &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;log-delivery-write&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Allow deletion of non-empty bucket&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-smi"&gt;force_destroy&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;

  &lt;span class="pl-smi"&gt;attach_elb_log_delivery_policy&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-conditional-creation" class="anchor" aria-hidden="true" href="#conditional-creation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Conditional creation&lt;/h2&gt;
&lt;p&gt;Sometimes you need to have a way to create S3 resources conditionally but Terraform does not allow to use &lt;code&gt;count&lt;/code&gt; inside &lt;code&gt;module&lt;/code&gt; block, so the solution is to specify argument &lt;code&gt;create_bucket&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; This S3 bucket will not be created&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;s3_bucket&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;source&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;terraform-aws-modules/s3-bucket/aws&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;create_bucket&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ... omitted&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-examples" class="anchor" aria-hidden="true" href="#examples"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Examples:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-s3-bucket/tree/master/examples/complete"&gt;Complete&lt;/a&gt; - Complete S3 bucket with most of supported features enabled&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-s3-bucket/tree/master/examples/s3-replication"&gt;Cross-Region Replication&lt;/a&gt; - S3 bucket with Cross-Region Replication (CRR) enabled&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;&lt;a id="user-content-inputs" class="anchor" aria-hidden="true" href="#inputs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Inputs&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th align="center"&gt;Type&lt;/th&gt;
&lt;th align="center"&gt;Default&lt;/th&gt;
&lt;th align="center"&gt;Required&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;acceleration_status&lt;/td&gt;
&lt;td&gt;(Optional) Sets the accelerate configuration of an existing bucket. Can be Enabled or Suspended.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;acl&lt;/td&gt;
&lt;td&gt;(Optional) The canned ACL to apply. Defaults to 'private'.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"private"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;attach_elb_log_delivery_policy&lt;/td&gt;
&lt;td&gt;Controls if S3 bucket should have ELB log delivery policy attached&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;attach_policy&lt;/td&gt;
&lt;td&gt;Controls if S3 bucket should have bucket policy attached (set to &lt;code&gt;true&lt;/code&gt; to use value of &lt;code&gt;policy&lt;/code&gt; as bucket policy)&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bucket&lt;/td&gt;
&lt;td&gt;(Optional, Forces new resource) The name of the bucket. If omitted, Terraform will assign a random, unique name.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bucket_prefix&lt;/td&gt;
&lt;td&gt;(Optional, Forces new resource) Creates a unique bucket name beginning with the specified prefix. Conflicts with bucket.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cors_rule&lt;/td&gt;
&lt;td&gt;Map containing a rule of Cross-Origin Resource Sharing.&lt;/td&gt;
&lt;td align="center"&gt;any&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;create_bucket&lt;/td&gt;
&lt;td&gt;Controls if S3 bucket should be created&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;force_destroy&lt;/td&gt;
&lt;td&gt;(Optional, Default:false ) A boolean that indicates all objects should be deleted from the bucket so that the bucket can be destroyed without error. These objects are not recoverable.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lifecycle_rule&lt;/td&gt;
&lt;td&gt;List of maps containing configuration of object lifecycle management.&lt;/td&gt;
&lt;td align="center"&gt;any&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;logging&lt;/td&gt;
&lt;td&gt;Map containing access bucket logging configuration.&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;object_lock_configuration&lt;/td&gt;
&lt;td&gt;Map containing S3 object locking configuration.&lt;/td&gt;
&lt;td align="center"&gt;any&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;policy&lt;/td&gt;
&lt;td&gt;(Optional) A valid bucket policy JSON document. Note that if the policy document is not specific enough (but still valid), Terraform may view the policy as constantly changing in a terraform plan. In this case, please make sure you use the verbose/specific version of the policy. For more information about building AWS IAM policy documents with Terraform, see the AWS IAM Policy Document Guide.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;region&lt;/td&gt;
&lt;td&gt;(Optional) If specified, the AWS region this bucket should reside in. Otherwise, the region used by the callee.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;replication_configuration&lt;/td&gt;
&lt;td&gt;Map containing cross-region replication configuration.&lt;/td&gt;
&lt;td align="center"&gt;any&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;request_payer&lt;/td&gt;
&lt;td&gt;(Optional) Specifies who should bear the cost of Amazon S3 data transfer. Can be either BucketOwner or Requester. By default, the owner of the S3 bucket would incur the costs of any data transfer. See Requester Pays Buckets developer guide for more information.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;server_side_encryption_configuration&lt;/td&gt;
&lt;td&gt;Map containing server-side encryption configuration.&lt;/td&gt;
&lt;td align="center"&gt;any&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tags&lt;/td&gt;
&lt;td&gt;(Optional) A mapping of tags to assign to the bucket.&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;versioning&lt;/td&gt;
&lt;td&gt;Map containing versioning configuration.&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;website&lt;/td&gt;
&lt;td&gt;Map containing static web-site hosting or redirect configuration.&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-outputs" class="anchor" aria-hidden="true" href="#outputs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Outputs&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;this_s3_bucket_arn&lt;/td&gt;
&lt;td&gt;The ARN of the bucket. Will be of format arn:aws:s3:::bucketname.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_s3_bucket_bucket_domain_name&lt;/td&gt;
&lt;td&gt;The bucket domain name. Will be of format bucketname.s3.amazonaws.com.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_s3_bucket_bucket_regional_domain_name&lt;/td&gt;
&lt;td&gt;The bucket region-specific domain name. The bucket domain name including the region name, please refer here for format. Note: The AWS CloudFront allows specifying S3 region-specific endpoint when creating S3 origin, it will prevent redirect issues from CloudFront to S3 Origin URL.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_s3_bucket_hosted_zone_id&lt;/td&gt;
&lt;td&gt;The Route 53 Hosted Zone ID for this bucket's region.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_s3_bucket_id&lt;/td&gt;
&lt;td&gt;The name of the bucket.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_s3_bucket_region&lt;/td&gt;
&lt;td&gt;The AWS region this bucket resides in.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_s3_bucket_website_domain&lt;/td&gt;
&lt;td&gt;The domain of the website endpoint, if the bucket is configured with a website. If not, this will be an empty string. This is used to create Route 53 alias records.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;this_s3_bucket_website_endpoint&lt;/td&gt;
&lt;td&gt;The website endpoint, if the bucket is configured with a website. If not, this will be an empty string.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2&gt;&lt;a id="user-content-authors" class="anchor" aria-hidden="true" href="#authors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Authors&lt;/h2&gt;
&lt;p&gt;Module managed by &lt;a href="https://github.com/antonbabenko"&gt;Anton Babenko&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;Apache 2 Licensed. See LICENSE for full details.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>terraform-aws-modules</author><guid isPermaLink="false">https://github.com/terraform-aws-modules/terraform-aws-s3-bucket</guid><pubDate>Thu, 02 Jan 2020 00:08:00 GMT</pubDate></item><item><title>terraform-aws-modules/terraform-aws-ec2-instance #9 in HCL, Today</title><link>https://github.com/terraform-aws-modules/terraform-aws-ec2-instance</link><description>&lt;p&gt;&lt;i&gt;Terraform module which creates EC2 instance(s) on AWS&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-aws-ec2-instance-terraform-module" class="anchor" aria-hidden="true" href="#aws-ec2-instance-terraform-module"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;AWS EC2 Instance Terraform module&lt;/h1&gt;
&lt;p&gt;Terraform module which creates EC2 instance(s) on AWS.&lt;/p&gt;
&lt;p&gt;These types of resources are supported:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/instance.html" rel="nofollow"&gt;EC2 instance&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-terraform-versions" class="anchor" aria-hidden="true" href="#terraform-versions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Terraform versions&lt;/h2&gt;
&lt;p&gt;Terraform 0.12. Pin module version to &lt;code&gt;~&amp;gt; v2.0&lt;/code&gt;. Submit pull-requests to &lt;code&gt;master&lt;/code&gt; branch.&lt;/p&gt;
&lt;p&gt;Terraform 0.11. Pin module version to &lt;code&gt;~&amp;gt; v1.0&lt;/code&gt;. Submit pull-requests to &lt;code&gt;terraform011&lt;/code&gt; branch.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h2&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;ec2_cluster&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;source&lt;/span&gt;                 &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;terraform-aws-modules/ec2-instance/aws&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;version&lt;/span&gt;                &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;~&amp;gt; &lt;span class="pl-s"&gt;2.0&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;name&lt;/span&gt;                   &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;my-cluster&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;instance_count&lt;/span&gt;         &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;5&lt;/span&gt;

  &lt;span class="pl-smi"&gt;ami&lt;/span&gt;                    &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;ami-ebd02392&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;instance_type&lt;/span&gt;          &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;t2.micro&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;key_name&lt;/span&gt;               &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;user1&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;monitoring&lt;/span&gt;             &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
  &lt;span class="pl-smi"&gt;vpc_security_group_ids&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;sg-12345678&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
  &lt;span class="pl-smi"&gt;subnet_id&lt;/span&gt;              &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;subnet-eddcdzz4&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;tags&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; {
    &lt;span class="pl-smi"&gt;Terraform&lt;/span&gt;   &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;true&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
    &lt;span class="pl-smi"&gt;Environment&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;dev&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-examples" class="anchor" aria-hidden="true" href="#examples"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Examples&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-ec2-instance/tree/master/examples/basic"&gt;Basic EC2 instance&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-ec2-instance/tree/master/examples/volume-attachment"&gt;EC2 instance with EBS volume attachment&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-make-an-encrypted-ami-for-use" class="anchor" aria-hidden="true" href="#make-an-encrypted-ami-for-use"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Make an encrypted AMI for use&lt;/h2&gt;
&lt;p&gt;This module does not support encrypted AMI's out of the box however it is easy enough for you to generate one for use&lt;/p&gt;
&lt;p&gt;This example creates an encrypted image from the latest ubuntu 16.04 base image.&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;resource&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;aws_ami_copy&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;ubuntu-xenial-encrypted-ami&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;name&lt;/span&gt;              &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;ubuntu-xenial-encrypted-ami&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;description&lt;/span&gt;       &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;An&lt;/span&gt; &lt;span class="pl-s"&gt;encrypted&lt;/span&gt; &lt;span class="pl-s"&gt;root&lt;/span&gt; &lt;span class="pl-s"&gt;ami&lt;/span&gt; &lt;span class="pl-s"&gt;based&lt;/span&gt; &lt;span class="pl-s"&gt;off&lt;/span&gt; &lt;span class="pl-s1"&gt;&lt;span class="pl-e"&gt;${&lt;/span&gt;&lt;span class="pl-e"&gt;data.aws_ami.ubuntu&lt;/span&gt;-xenial&lt;span class="pl-k"&gt;.&lt;/span&gt;id&lt;span class="pl-e"&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;source_ami_id&lt;/span&gt;     &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s1"&gt;&lt;span class="pl-e"&gt;${&lt;/span&gt;&lt;span class="pl-e"&gt;data.aws_ami.ubuntu&lt;/span&gt;-xenial&lt;span class="pl-k"&gt;.&lt;/span&gt;id&lt;span class="pl-e"&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;source_ami_region&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;eu-west-2&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;encrypted&lt;/span&gt;         &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;true&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-en"&gt;tags&lt;/span&gt; {
    &lt;span class="pl-smi"&gt;Name&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;ubuntu-xenial-encrypted-ami&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  }
}

&lt;span class="pl-k"&gt;data&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;aws_ami&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;encrypted-ami&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;most_recent&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;

  &lt;span class="pl-en"&gt;filter&lt;/span&gt; {
    &lt;span class="pl-smi"&gt;name&lt;/span&gt;   &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;name&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
    &lt;span class="pl-smi"&gt;values&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;ubuntu-xenial-encrypted&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
  }

  &lt;span class="pl-smi"&gt;owners&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;self&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
}

&lt;span class="pl-k"&gt;data&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;aws_ami&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;ubuntu-xenial&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;most_recent&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;

  &lt;span class="pl-en"&gt;filter&lt;/span&gt; {
    &lt;span class="pl-smi"&gt;name&lt;/span&gt;   &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;name&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
    &lt;span class="pl-smi"&gt;values&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;ubuntu/images/hvm-ssd/ubuntu-xenial-16.04-amd64-server-&lt;/span&gt;*&lt;span class="pl-s"&gt;"&lt;/span&gt;]
  }

  &lt;span class="pl-smi"&gt;owners&lt;/span&gt;      &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;099720109477&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
}&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-notes" class="anchor" aria-hidden="true" href="#notes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Notes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;network_interface&lt;/code&gt; can't be specified together with &lt;code&gt;vpc_security_group_ids&lt;/code&gt;, &lt;code&gt;associate_public_ip_address&lt;/code&gt;, &lt;code&gt;subnet_id&lt;/code&gt;. See &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-ec2-instance/tree/master/examples/basic"&gt;basic example&lt;/a&gt; for details.&lt;/li&gt;
&lt;li&gt;Changes in &lt;code&gt;ebs_block_device&lt;/code&gt; argument will be ignored. Use &lt;a href="https://www.terraform.io/docs/providers/aws/r/volume_attachment.html" rel="nofollow"&gt;aws_volume_attachment&lt;/a&gt; resource to attach and detach volumes from AWS EC2 instances. See &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-ec2-instance/tree/master/examples/volume-attachment"&gt;this example&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;One of &lt;code&gt;subnet_id&lt;/code&gt; or &lt;code&gt;subnet_ids&lt;/code&gt; is required. If both are provided, the value of &lt;code&gt;subnet_id&lt;/code&gt; is prepended to the value of &lt;code&gt;subnet_ids&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;&lt;a id="user-content-inputs" class="anchor" aria-hidden="true" href="#inputs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Inputs&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th align="center"&gt;Type&lt;/th&gt;
&lt;th align="center"&gt;Default&lt;/th&gt;
&lt;th align="center"&gt;Required&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;ami&lt;/td&gt;
&lt;td&gt;ID of AMI to use for the instance&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;associate_public_ip_address&lt;/td&gt;
&lt;td&gt;If true, the EC2 instance will have associated public IP address&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpu_credits&lt;/td&gt;
&lt;td&gt;The credit option for CPU usage (unlimited or standard)&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"standard"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;disable_api_termination&lt;/td&gt;
&lt;td&gt;If true, enables EC2 Instance Termination Protection&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ebs_block_device&lt;/td&gt;
&lt;td&gt;Additional EBS block devices to attach to the instance&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ebs_optimized&lt;/td&gt;
&lt;td&gt;If true, the launched EC2 instance will be EBS-optimized&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ephemeral_block_device&lt;/td&gt;
&lt;td&gt;Customize Ephemeral (also known as Instance Store) volumes on the instance&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;get_password_data&lt;/td&gt;
&lt;td&gt;If true, wait for password data to become available and retrieve it.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iam_instance_profile&lt;/td&gt;
&lt;td&gt;The IAM Instance Profile to launch the instance with. Specified as the name of the Instance Profile.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;instance_count&lt;/td&gt;
&lt;td&gt;Number of instances to launch&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"1"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;instance_initiated_shutdown_behavior&lt;/td&gt;
&lt;td&gt;Shutdown behavior for the instance&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;instance_type&lt;/td&gt;
&lt;td&gt;The type of instance to start&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ipv6_address_count&lt;/td&gt;
&lt;td&gt;A number of IPv6 addresses to associate with the primary network interface. Amazon EC2 chooses the IPv6 addresses from the range of your subnet.&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ipv6_addresses&lt;/td&gt;
&lt;td&gt;Specify one or more IPv6 addresses from the range of the subnet to associate with the primary network interface&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;key_name&lt;/td&gt;
&lt;td&gt;The key name to use for the instance&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;monitoring&lt;/td&gt;
&lt;td&gt;If true, the launched EC2 instance will have detailed monitoring enabled&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;name&lt;/td&gt;
&lt;td&gt;Name to be used on all resources as prefix&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;network_interface&lt;/td&gt;
&lt;td&gt;Customize network interfaces to be attached at instance boot time&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;placement_group&lt;/td&gt;
&lt;td&gt;The Placement Group to start the instance in&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_ip&lt;/td&gt;
&lt;td&gt;Private IP address to associate with the instance in a VPC&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_ips&lt;/td&gt;
&lt;td&gt;A list of private IP address to associate with the instance in a VPC. Should match the number of instances.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;root_block_device&lt;/td&gt;
&lt;td&gt;Customize details about the root block device of the instance. See Block Devices below for details&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;source_dest_check&lt;/td&gt;
&lt;td&gt;Controls if traffic is routed to the instance when the destination address does not match the instance. Used for NAT or VPNs.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;subnet_id&lt;/td&gt;
&lt;td&gt;The VPC Subnet ID to launch in&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;subnet_ids&lt;/td&gt;
&lt;td&gt;A list of VPC Subnet IDs to launch in&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tags&lt;/td&gt;
&lt;td&gt;A mapping of tags to assign to the resource&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tenancy&lt;/td&gt;
&lt;td&gt;The tenancy of the instance (if the instance is running in a VPC). Available values: default, dedicated, host.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"default"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;use_num_suffix&lt;/td&gt;
&lt;td&gt;Always append numerical suffix to instance name, even if instance_count is 1&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;user_data&lt;/td&gt;
&lt;td&gt;The user data to provide when launching the instance. Do not pass gzip-compressed data via this argument; see user_data_base64 instead.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;user_data_base64&lt;/td&gt;
&lt;td&gt;Can be used instead of user_data to pass base64-encoded binary data directly. Use this instead of user_data whenever the value is not a valid UTF-8 string. For example, gzip-encoded user data must be base64-encoded and passed via this argument to avoid corruption.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;volume_tags&lt;/td&gt;
&lt;td&gt;A mapping of tags to assign to the devices created by the instance at launch time&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_security_group_ids&lt;/td&gt;
&lt;td&gt;A list of security group IDs to associate with&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-outputs" class="anchor" aria-hidden="true" href="#outputs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Outputs&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;arn&lt;/td&gt;
&lt;td&gt;List of ARNs of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;availability_zone&lt;/td&gt;
&lt;td&gt;List of availability zones of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;credit_specification&lt;/td&gt;
&lt;td&gt;List of credit specification of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ebs_block_device_volume_ids&lt;/td&gt;
&lt;td&gt;List of volume IDs of EBS block devices of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;id&lt;/td&gt;
&lt;td&gt;List of IDs of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;instance_count&lt;/td&gt;
&lt;td&gt;Number of instances to launch specified as argument to this module&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;instance_state&lt;/td&gt;
&lt;td&gt;List of instance states of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ipv6_addresses&lt;/td&gt;
&lt;td&gt;List of assigned IPv6 addresses of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;key_name&lt;/td&gt;
&lt;td&gt;List of key names of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;password_data&lt;/td&gt;
&lt;td&gt;List of Base-64 encoded encrypted password data for the instance&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;placement_group&lt;/td&gt;
&lt;td&gt;List of placement groups of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;primary_network_interface_id&lt;/td&gt;
&lt;td&gt;List of IDs of the primary network interface of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_dns&lt;/td&gt;
&lt;td&gt;List of private DNS names assigned to the instances. Can only be used inside the Amazon EC2, and only available if you've enabled DNS hostnames for your VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_ip&lt;/td&gt;
&lt;td&gt;List of private IP addresses assigned to the instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;public_dns&lt;/td&gt;
&lt;td&gt;List of public DNS names assigned to the instances. For EC2-VPC, this is only available if you've enabled DNS hostnames for your VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;public_ip&lt;/td&gt;
&lt;td&gt;List of public IP addresses assigned to the instances, if applicable&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;root_block_device_volume_ids&lt;/td&gt;
&lt;td&gt;List of volume IDs of root block devices of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;security_groups&lt;/td&gt;
&lt;td&gt;List of associated security groups of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;subnet_id&lt;/td&gt;
&lt;td&gt;List of IDs of VPC subnets of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tags&lt;/td&gt;
&lt;td&gt;List of tags of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;volume_tags&lt;/td&gt;
&lt;td&gt;List of tags of volumes of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_security_group_ids&lt;/td&gt;
&lt;td&gt;List of associated security groups of instances, if running in non-default VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2&gt;&lt;a id="user-content-authors" class="anchor" aria-hidden="true" href="#authors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Authors&lt;/h2&gt;
&lt;p&gt;Module managed by &lt;a href="https://github.com/antonbabenko"&gt;Anton Babenko&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;Apache 2 Licensed. See LICENSE for full details.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>terraform-aws-modules</author><guid isPermaLink="false">https://github.com/terraform-aws-modules/terraform-aws-ec2-instance</guid><pubDate>Thu, 02 Jan 2020 00:09:00 GMT</pubDate></item><item><title>skyscrapers/terraform-ecs #10 in HCL, Today</title><link>https://github.com/skyscrapers/terraform-ecs</link><description>&lt;p&gt;&lt;i&gt;Terraform ECS module&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-terraform-ecs" class="anchor" aria-hidden="true" href="#terraform-ecs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;terraform-ecs&lt;/h1&gt;
&lt;p&gt;Terraform ECS module&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-ecs-cluster" class="anchor" aria-hidden="true" href="#ecs-cluster"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ecs-cluster&lt;/h2&gt;
&lt;p&gt;Setup a basic ECS cluster with the needed IAM rights.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-available-variables" class="anchor" aria-hidden="true" href="#available-variables"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Available variables:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;project&lt;/code&gt;]: String(required): Project name&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;environment&lt;/code&gt;]: String(required):  For what environment is this cluster needed (eg staging, production, ...)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-output" class="anchor" aria-hidden="true" href="#output"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Output&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;cluster_name&lt;/code&gt;]: String: The name of the ECS cluster.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cluster_id&lt;/code&gt;]: String: The ID (ARN) of the ECS cluster.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;ecs-instance-profile&lt;/code&gt;]: IAM instance profile that you need to give to your instances.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;ecs_instance_profile_arn&lt;/code&gt;]: IAM instance profile arn that you need to give to your instances.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;ecs-service-role&lt;/code&gt;]: IAM service role for ECS to manage your loadbalancers&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;ecs-instance-role&lt;/code&gt;]: IAM instance role name, useful to attach extra policies&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-example" class="anchor" aria-hidden="true" href="#example"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;module "ecs_cluster" {
  source      = "ecs_cluster"
  project     = "${var.project}"
  environment = "${terraform.env}"
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-repository" class="anchor" aria-hidden="true" href="#repository"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Repository&lt;/h2&gt;
&lt;p&gt;Creates an Elastic Container Registry with associated pull &amp;amp; push policies.
The created pull &amp;amp; push policies can be used as policy attachments on AWS roles.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-available-variables-1" class="anchor" aria-hidden="true" href="#available-variables-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Available variables:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;repository_name&lt;/code&gt;]: String(required): The name of the ECR repository&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;expire_after&lt;/code&gt;]: Integer(optional): The amount of days after which untagged images expire. Set to 0 if you do not want a lifecycle policy. (default: 30)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-output-1" class="anchor" aria-hidden="true" href="#output-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Output&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;repository_url&lt;/code&gt;]: The url to the ECR repository&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;repository_push_policy&lt;/code&gt;]: The id of the push policy to this ECR repository.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;repository_pull_policy&lt;/code&gt;]: The id of the pull policy to this ECR repository.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-example-1" class="anchor" aria-hidden="true" href="#example-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;module "jenkins-repo" {
  source                 = "github.com/skyscrapers/terraform-ecs//repository"
  repository_name        = "jenkins"
  repository_description = "Jenkins Master"
  expire_after           = 14
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-efs" class="anchor" aria-hidden="true" href="#efs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;EFS&lt;/h2&gt;
&lt;p&gt;Creates an Elastic Filesystem, mount points and cloud-config to mount at boot&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-available-variables-2" class="anchor" aria-hidden="true" href="#available-variables-2"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Available variables:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;subnets&lt;/code&gt;]: String(required): The subnets to create the mount point in&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;subnet_amount&lt;/code&gt;]: String(required): The amount of subnets&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;project&lt;/code&gt;]: String(optional): The project to tag EFS (default: "")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;mount_point&lt;/code&gt;]: String(optional): The mount point of EFS on the system (default: /media/efs)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;name&lt;/code&gt;]: String(optional): The name to tag EFS (default: efs)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;security_groups&lt;/code&gt;]: List(optional): The security groups to associate with the mount points (default: [] adds default security group)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-output-2" class="anchor" aria-hidden="true" href="#output-2"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Output&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;cloud_config&lt;/code&gt;]: The cloud config to mount efs at boot&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;dns_name&lt;/code&gt;]: The DNS name of the elastic file system&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;efs_id&lt;/code&gt;]: ID of the EFS&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;kms_key_id&lt;/code&gt;]: KMS key used to encrypt EFS&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;mount_target_ids&lt;/code&gt;]: List of mount target ids&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;mount_target_interface_ids&lt;/code&gt;]: List of mount target interface ids&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-example-2" class="anchor" aria-hidden="true" href="#example-2"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;module "efs" {
  source          = "efs"
  project         = "myproject"
  subnets         = "${module.vpc.private_db}"
  subnet_amount   = 3
  security_groups = ["sg-ac66e1d6"]
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-monitoring" class="anchor" aria-hidden="true" href="#monitoring"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;monitoring&lt;/h2&gt;
&lt;p&gt;Configure prometheus monitoring with alerts in opsgenie for an ECS cluster.
The basic configuration includes the option to scrape for cloudwatch_metrics, and node-exporter metrics.
It also allows to scrape for concourse metrics and to add any custom configuration.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-available-variables-3" class="anchor" aria-hidden="true" href="#available-variables-3"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Available variables:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;environment&lt;/code&gt;]: String(required):  For what environment is this cluster needed (eg staging, production, ...)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;project&lt;/code&gt;]: String(required): The project to tag Monitoring values&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cluster_name&lt;/code&gt;]: String(required): The name of the ECS cluster.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;ecs_service_role&lt;/code&gt;]: String(required): The name of the ECS IAM service role.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;desired_count&lt;/code&gt;]: String(optional): The desired number of replicas of the ECS service for grafana and prometheus. (default: 1)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;prometheus_port&lt;/code&gt;]: String(optional): The port where prometheus listens to (default: 9090)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;vpc_id&lt;/code&gt;]: String(required): The VPC where the ECS cluster is&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;ecs_sg&lt;/code&gt;]: String(required):The ECS security group&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;r53_zone&lt;/code&gt;]: String(required): The DNS zone for prometheus and grafana&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;r53_zone_prefix&lt;/code&gt;]: String(optional): The DNS zone prefix for prometheus and grafana (default: "")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;prometheus_cpu&lt;/code&gt;]: String(optional): The cpu dedicated to prometheus. (default: 0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;prometheus_memory&lt;/code&gt;]: String(optional): The hard limit (in MiB) of memory to present to the container prometheus. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;prometheus_memory_reservation&lt;/code&gt;]: String(optional): The The soft limit (in MiB) of memory to reserve for the container prometheus. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;alertmanager_cpu&lt;/code&gt;]: String(optional): The cpu dedicated to alertmanager. (default: 0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;alertmanager_memory&lt;/code&gt;]: String(optional): The hard limit (in MiB) of memory to present to the container alertmanager. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;alertmanager_memory_reservation&lt;/code&gt;]: String(optional): The The soft limit (in MiB) of memory to reserve for the container alertmanager. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cloudwatch_exporter_cpu&lt;/code&gt;]: String(optional): The cpu dedicated to cloudwatch_exporter. (default: 0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cloudwatch_exporter_memory&lt;/code&gt;]: String(optional): The hard limit (in MiB) of memory to present to the container cloudwatch_exporter. (default: 200)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cloudwatch_exporter_memory_reservation&lt;/code&gt;]: String(optional): The The soft limit (in MiB) of memory to reserve for the container cloudwatch_exporter. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;grafana_cpu&lt;/code&gt;]:String(optional): The cpu dedicated to grafana. (default: 0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;grafana_memory&lt;/code&gt;]:String(optional): The hard limit (in MiB) of memory to present to the container grafana. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;grafana_memory_reservation&lt;/code&gt;]:String(optional): The The soft limit (in MiB) of memory to reserve for the container grafana. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;prometheus_version&lt;/code&gt;]: String(optional): The version of the prometheus docker image . (default: v2.4.0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;alertmanager_version&lt;/code&gt;]: String(optional): The version of the alertmanager docker image . (default: v0.15.1)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cloudwatch_exporter_version&lt;/code&gt;]: String(optional): The version of the cloudwatch exporter docker image . (default: cloudwatch_exporter-0.5.0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;grafana_version&lt;/code&gt;]: String(optional): The version of the grafana's docker image . (default: latest)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;alb_arn&lt;/code&gt;]: String(required): The arn of the alb.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;alb_sg_id&lt;/code&gt;]: String(required): The security group of the alb.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;alb_ssl_cert&lt;/code&gt;]:String(required): The certificate ARN of the alb.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;source_subnet_cidrs&lt;/code&gt;]: List(required): The public CIDRs from where the prometheus monitoring is accessible.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;grafana_port&lt;/code&gt;]: String(optional): The default grafana port the container is listening to. (default: 3000)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;opsgenie_api_key&lt;/code&gt;]: String(required): The opsgenie api key for alerting.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;slack_channel&lt;/code&gt;]:  String(required): The slack channel where the alerts will be sent.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;slack_url&lt;/code&gt;]: String(required): The slack webhook used to access slack alerting.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;concourse_url&lt;/code&gt;]: String(optional): Optional concourse URL to monitor. If not specified concourse won't be monitored. (default:"")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cloudwatch_metrics&lt;/code&gt;]: String(optional): Optional additional metrics scraping jobs. (default:"")
An example metric:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;&amp;lt;EOF
- aws_namespace: AWS/ELB
aws_metric_name: RequestCount
aws_dimensions: [AvailabilityZone, LoadBalancerName]
aws_dimension_select:
  LoadBalancerName: [myLB]
aws_statistics: [Sum]
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;custom_jobs&lt;/code&gt;]: String(optional): Optional additional prometheus scraping jobs (default:"")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;custom_alert_rules&lt;/code&gt;]: String(optional): Optional additional alert rules for alertmanager (default:"")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;efs_subnets&lt;/code&gt;]: List(required): The subnets where we want to deploy the required efs file system&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;mount_point&lt;/code&gt;]: String(optional): The mount point where we want to mount EFS in the ECS nodes. (default:"/monitoring")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;opsgenie_heartbeat&lt;/code&gt;]: String(required): The heartbeat Opsgenie Name for the ECS cluster.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-output-3" class="anchor" aria-hidden="true" href="#output-3"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Output&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;alb_listener&lt;/code&gt;]: The id of the ALB listener created for monitoring.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;efs_mount_point&lt;/code&gt;]: The mount point where we want to mount EFS in the ECS nodes.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;efs_dns_name&lt;/code&gt;]: The EFS DNS name&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;enable_es_exporter&lt;/code&gt;]: Boolean(optional): Enable elasticsearch exporter for monitoring an ES cluster. (default: false)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_exporter_image&lt;/code&gt;]: String(optional): For elasticsearch monitoring, the URI of the docker image to use for the elasticsearch_exporter container (default: justwatch/elasticsearch_exporter)&lt;/li&gt;
&lt;li&gt;[es_exporter_image_version]: String(optional): For elasticsearch monitoring, the docker image version to use for the elasticsearch_exporter container (default: 1.0.2)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_exporter_port&lt;/code&gt;]: String(optional): For elasticsearch monitoring, the port the elasticsearch exporter listens to (default: 9108)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_exporter_path&lt;/code&gt;]: String(optional): For elasticsearch monitoring, the path the elasticsearch exporter will ommit metrics to (default: /metrics)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_monitor_all_nodes&lt;/code&gt;]: Boolean(optional): For elasticsearch monitoring, If true, query stats for all nodes in the cluster, rather than just the exporter is connected to (default: true)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_monitor_all_indices&lt;/code&gt;]: Boolean(optional): For elasticsearch monitoring, If true, query stats for all indices in the cluster (default: true)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_exporter_timeout&lt;/code&gt;]: String(optional): For elasticsearch monitoring, Timeout in seconds for trying to get stats from Elasticsearch (default: 30s)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_exporter_cpu&lt;/code&gt;]: String(optional): The cpu dedicated to elasticsearch_exporter. (default: 0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_exporter_memory&lt;/code&gt;]: String(optional): The hard limit (in MiB) of memory to present to the container elasticsearch_exporter. (default: 200)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_exporter_memory_reservation&lt;/code&gt;]: String(optional): The The soft limit (in MiB) of memory to reserve for the container elasticsearch_exporter. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_uri&lt;/code&gt;]: String(optional): Required if elasticsearch monitoring is enabled, endpoint (host and port) of the Elasticsearch node to be monitored (default: "")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_sg&lt;/code&gt;]: String(optional): Required if elasticsearch monitoring is enabled, Security Group of the Elasticsearch cluster to allow the elasticsearch exporter access to it. (default: 0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_aws_domain&lt;/code&gt;]: String(optional): Required if monitoring an AWS Elasticsearch service cluster , the AWS Elasticsearch domain name, needed for special cloudwatch metrics. (default: "")&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-example-3" class="anchor" aria-hidden="true" href="#example-3"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;module "monitoring" {
  source              = "monitoring"
  environment         = "${terraform.workspace}"
  project             = "${var.project}"
  cluster_name        = "cluster_name"
  ecs_service_role    = "arn:aws:iam:::role/ecs-service-role "
  ecs_sg              = "sg-123456789"
  vpc_id              = "vpc-123456789"
  r53_zone            = "production.example.com"
  alb_arn             = "arn:aws:elasticloadbalancing::::loadbalancer/app/xxxxxxxxxx/xxxxxxxxxxxx"
  alb_sg_id           = "sg-123456789"
  alb_ssl_cert        = "arn:aws:acm:"
  source_subnet_cidrs = ["1.1.1.1/32"]
  slack_channel       = "#example"
  slack_url           = "https://hooks.slack.com/services/xxxxxx/xxxxxxx"
  opsgenie_api_key    = "opsgenie_api_key"
  concourse_url       = "ci.example.com"
  efs_subnets         = ["subnet-12345678"]
  opsgenie_heartbeat  = "TestHeartbeat"
  # Elasticsearch monitoring
  enable_es_exporter = true
  es_uri             = "http://${data.terraform_remote_state.static.elasticsearch_dns[0]}:9200"
  es_sg              = "${data.terraform_remote_state.static.es_sg}"
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-scaling" class="anchor" aria-hidden="true" href="#scaling"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;scaling&lt;/h2&gt;
&lt;p&gt;Setup a ECS cluster and service scaling.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-available-variables-4" class="anchor" aria-hidden="true" href="#available-variables-4"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Available variables:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;cluster_name&lt;/code&gt;]: String(required): The name of the ECS cluster.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;service_name&lt;/code&gt;]: String(required): The name of the ECS service.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;evaluation_periods&lt;/code&gt;]: String(optional): Evaluation period for the cloudwatch alarms (default: 4)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;threshold_down&lt;/code&gt;]: String(optional): Threshold when scaling down needs to happen. (default: 25)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;threshold_up&lt;/code&gt;]: String(optional): Threshold when scaling up needs to happen. (default: 75)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;scale_up_adjustment&lt;/code&gt;]: String(optional): Amount of tasks per check (maximum) that will be added. (default: 1)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;scale_down_adjustment&lt;/code&gt;]: String(optional): Amount of tasks per check (maximum) that will be removed. (default: -1)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;period_down&lt;/code&gt;]: String(optional): How long the threshold needs to be reached before a downscale happens. (default: 120)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;period_up&lt;/code&gt;]: String(optional): How long the threshold needs to be reached before a upscale happens. (default: 60)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;statistic&lt;/code&gt;]: String(optional): On what statistic the scaling needs to be based upon. (default: Average)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;min_capacity&lt;/code&gt;]: String(optional): Minimum amount of ECS task to run for a service. (default: 1)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;max_capacity&lt;/code&gt;]: String(optional): Maximum amount of ECS task to run for a service. (default: 4)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;datapoints_to_alarm_up&lt;/code&gt;]: String(optional): ) The number of datapoints that must be breaching to trigger the alarm to scale up (default: 4)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;datapoints_to_alarm_down&lt;/code&gt;]: String(optional): The number of datapoints that must be breaching to trigger the alarm to scale down (default: 4)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-output-4" class="anchor" aria-hidden="true" href="#output-4"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Output&lt;/h3&gt;
&lt;h3&gt;&lt;a id="user-content-example-4" class="anchor" aria-hidden="true" href="#example-4"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;module "service-scaling" {
  source                   = "scaling"
  cluster_name             = "ecs-production"
  service_name             = "test-service"
  min_capacity             = "2"
  max_capacity             = "10"
  ecs_autoscale_group_name = "asg-production"
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-user-data" class="anchor" aria-hidden="true" href="#user-data"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;user-data&lt;/h2&gt;
&lt;p&gt;Setup a ECS cluster and service user-data.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-available-variables-5" class="anchor" aria-hidden="true" href="#available-variables-5"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Available variables:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;project&lt;/code&gt;]: String(optional): The project to tag EFS (default: "")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;environment&lt;/code&gt;]: String(required):  For what environment is this cluster needed (eg staging, production, ...)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cluster_name&lt;/code&gt;]: String(required): The name of the ECS cluster.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;teleport_version&lt;/code&gt;]: String(optional): The version of Teleport to be used (default: 4.1.1).&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;teleport_server&lt;/code&gt;]: String(optional): the name of the teleport server to connect to(default: "")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;teleport_auth_token&lt;/code&gt;]: String(optional): Teleport server node token (default: "")&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-output-5" class="anchor" aria-hidden="true" href="#output-5"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Output&lt;/h3&gt;
&lt;h3&gt;&lt;a id="user-content-example-5" class="anchor" aria-hidden="true" href="#example-5"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;module "service-user-data" {
  source                   = "user-data"
  project             = "${var.project}"
  environment         = "${terraform.workspace}"
  teleport_auth_token = "${data.aws_kms_secret.secret.auth_token}"
  teleport_version    = "${var.teleport_version}"
  teleport_server     = "${var.teleport_server}"
  cluster_name        = "${module.ecs_cluster.cluster_name}"
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-cicd" class="anchor" aria-hidden="true" href="#cicd"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CI/CD&lt;/h2&gt;
&lt;p&gt;In the &lt;code&gt;ci&lt;/code&gt; folder you can find some tasks definition for automating deployment with &lt;code&gt;concourse&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-ecs" class="anchor" aria-hidden="true" href="#ecs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ECS&lt;/h3&gt;
&lt;p&gt;This folder contians a script that can be used to automatically update the ecs AMI.
It also contains a concourse task definition that allows to use the script in a concourse pipeline.&lt;/p&gt;
&lt;p&gt;In order to add this task in a pipeline you need to specify the following inputs:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;terraform-ecs&lt;/code&gt;] : This git repo&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;terraform-repo&lt;/code&gt;] : The git repo with the terraform code that contains the ecs cluster&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;ami&lt;/code&gt;] : The ami resource that we want to deploy&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can customize your pipeline with the following params:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;AWS_ACCESS_KEY_ID&lt;/code&gt;] : The key id to use to authenticate to AWS&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;AWS_SECRET_ACCESS_KEY&lt;/code&gt;] : The secret key to use to authenticate to AWS&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;TF_PROJECT_FOLDER&lt;/code&gt;] : The folder that contains the ecs cluster definition&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;TF_VERSION&lt;/code&gt;] : The terraform version of the project&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;AWS_DEFAULT_REGION&lt;/code&gt;] : The AWS region where the ecs cluster has been deployed&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;TIMEOUT&lt;/code&gt;] : The time the script will wait for the container to migrate to the new instances&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;TF_ENVIRONMENT&lt;/code&gt;] : The terraform workspace to target&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;An example of a concourse pipeline can be found in the &lt;a href="ci/ecs/sample.yml"&gt;example pipeline&lt;/a&gt;&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>skyscrapers</author><guid isPermaLink="false">https://github.com/skyscrapers/terraform-ecs</guid><pubDate>Thu, 02 Jan 2020 00:10:00 GMT</pubDate></item><item><title>pivotal-cf/terraforming-azure #11 in HCL, Today</title><link>https://github.com/pivotal-cf/terraforming-azure</link><description>&lt;p&gt;&lt;i&gt;use terraform, deploy yourself a pcf&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-terraforming-azure" class="anchor" aria-hidden="true" href="#terraforming-azure"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Terraforming Azure&lt;/h1&gt;
&lt;h2&gt;&lt;a id="user-content-how-does-one-use-this" class="anchor" aria-hidden="true" href="#how-does-one-use-this"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How Does One Use This?&lt;/h2&gt;
&lt;p&gt;Please note that the master branch is generally &lt;em&gt;unstable&lt;/em&gt;. If you are looking for something "tested", please consume one of our &lt;a href="https://github.com/pivotal-cf/terraforming-azure/releases"&gt;releases&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-what-does-this-do" class="anchor" aria-hidden="true" href="#what-does-this-do"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What Does This Do?&lt;/h2&gt;
&lt;p&gt;Will go from zero to having a deployed ops-manager. You'll get networking, a storage account, and
a booted ops-manager VM.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-looking-to-setup-a-different-iaas" class="anchor" aria-hidden="true" href="#looking-to-setup-a-different-iaas"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Looking to setup a different IAAS&lt;/h2&gt;
&lt;p&gt;We have other terraform templates to help you!&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/pivotal-cf/terraforming-aws"&gt;aws&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/pivotal-cf/terraforming-gcp"&gt;gcp&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-prerequisites" class="anchor" aria-hidden="true" href="#prerequisites"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Prerequisites&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://learn.hashicorp.com/terraform/getting-started/install.html" rel="nofollow"&gt;terraform&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://azure.microsoft.com/en-us/documentation/articles/xplat-cli-install/" rel="nofollow"&gt;azure cli&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;brew update
brew install terraform
brew install az
brew install jq&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-creating-a-service-principal" class="anchor" aria-hidden="true" href="#creating-a-service-principal"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Creating A Service Principal&lt;/h2&gt;
&lt;p&gt;You need a &lt;a href="https://docs.microsoft.com/en-us/cli/azure/create-an-azure-service-principal-azure-cli?view=azure-cli-latest#create-a-service-principal" rel="nofollow"&gt;service principal account&lt;/a&gt;
to deploy anything on top of Azure.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Login.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ az login
$ az account show &lt;span class="pl-k"&gt;|&lt;/span&gt; jq -r &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;.id, .tenantId&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
the-subscription-id
the-tenant-id&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create the service principal where the name is a valid URI.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ az ad sp create-for-rbac --name http://&lt;span class="pl-k"&gt;&amp;lt;&lt;/span&gt;service-principal-name&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; &lt;span class="pl-k"&gt;|&lt;/span&gt; jq -r &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;.appId, .password&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
the-app-id
the-password&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create a &lt;code&gt;terraform.tfvars&lt;/code&gt; file the following:&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-smi"&gt;subscription_id&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;the-subscription-id&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;tenant_id&lt;/span&gt;       &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;the-tenant-id&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;client_id&lt;/span&gt;       &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;the-app-id&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;client_secret&lt;/span&gt;   &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;the-password&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;a id="user-content-are-you-using-platform-automation" class="anchor" aria-hidden="true" href="#are-you-using-platform-automation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Are you using Platform Automation?&lt;/h2&gt;
&lt;p&gt;Be sure to skip the creation of the Ops Manager VM. Do not include the &lt;code&gt;ops_manager_image_uri&lt;/code&gt; var as a &lt;a href="/README.md#variables"&gt;variable&lt;/a&gt;. If you create your Ops Manager using terraform, you will not be able to manage it with &lt;a href="https://docs.pivotal.io/platform-automation" rel="nofollow"&gt;Platform Automation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Deployment of the infrastructure is still required.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-deploying-infrastructure" class="anchor" aria-hidden="true" href="#deploying-infrastructure"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deploying Infrastructure&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Note:&lt;/em&gt; If you're using Platform Automation, be sure to skip this step as explained &lt;a href="/README.md#variables"&gt;here&lt;/a&gt;. If you create your Ops Manager here, you will not be able to manage it with &lt;a href="https://docs.pivotal.io/platform-automation" rel="nofollow"&gt;Platform Automation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Depending if you're deploying PAS or PKS you need to perform the following steps:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;cd&lt;/code&gt; into the proper directory:
&lt;ul&gt;
&lt;li&gt;&lt;a href="terraforming-pas/"&gt;terraforming-pas/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Create &lt;a href="/README.md#var-file"&gt;&lt;code&gt;terraform.tfvars&lt;/code&gt;&lt;/a&gt; file&lt;/li&gt;
&lt;li&gt;Run terraform apply:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;terraform init
terraform plan -out=plan
terraform apply plan&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-var-file" class="anchor" aria-hidden="true" href="#var-file"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Var File&lt;/h3&gt;
&lt;p&gt;Copy the stub content below into a file called &lt;code&gt;terraform.tfvars&lt;/code&gt; and put it in the root of this project.
These vars will be used when you run &lt;code&gt;terraform  apply&lt;/code&gt;.
You should fill in the stub values with the correct content.&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-smi"&gt;subscription_id&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;the-subscription-id&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;tenant_id&lt;/span&gt;       &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;the-tenant-id&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;client_id&lt;/span&gt;       &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;the-app-id&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;client_secret&lt;/span&gt;   &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;the-password&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

&lt;span class="pl-smi"&gt;env_name&lt;/span&gt;              &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;banana&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;ops_manager_image_uri&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;url-to-opsman-image&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;location&lt;/span&gt;              &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;West&lt;/span&gt; &lt;span class="pl-s"&gt;US&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;dns_suffix&lt;/span&gt;            &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;domain.com&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; optional. if left blank, will default to the pattern `env_name.dns_suffix`.&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-smi"&gt;dns_subdomain&lt;/span&gt;         &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-variables" class="anchor" aria-hidden="true" href="#variables"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Variables&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;env_name: &lt;strong&gt;(required)&lt;/strong&gt; An arbitrary unique name for namespacing resources&lt;/li&gt;
&lt;li&gt;subscription_id: &lt;strong&gt;(required)&lt;/strong&gt; Azure account subscription id&lt;/li&gt;
&lt;li&gt;tenant_id: &lt;strong&gt;(required)&lt;/strong&gt; Azure account tenant id&lt;/li&gt;
&lt;li&gt;client_id: &lt;strong&gt;(required)&lt;/strong&gt; Azure automation account client id&lt;/li&gt;
&lt;li&gt;client_secret: &lt;strong&gt;(required)&lt;/strong&gt; Azure automation account client secret&lt;/li&gt;
&lt;li&gt;ops_manager_image_uri: &lt;strong&gt;(optional)&lt;/strong&gt; URL for an OpsMan image hosted on Azure (if not provided you get no Ops Manager)&lt;/li&gt;
&lt;li&gt;location: &lt;strong&gt;(required)&lt;/strong&gt; Azure location to stand up environment in&lt;/li&gt;
&lt;li&gt;dns_suffix: &lt;strong&gt;(required)&lt;/strong&gt; Domain to add environment subdomain to&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-optional" class="anchor" aria-hidden="true" href="#optional"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Optional&lt;/h3&gt;
&lt;p&gt;When deploying the isolation segments tile you can optionally route traffic through
a separate domain and load balancer by specifying:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;isolation_segment: &lt;strong&gt;(default false)&lt;/strong&gt; Creates a DNS record and load balancer for
isolation segment network traffic when set to true.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-running" class="anchor" aria-hidden="true" href="#running"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Running&lt;/h2&gt;
&lt;p&gt;Note: please make sure you have created the &lt;code&gt;terraform.tfvars&lt;/code&gt; file above as mentioned.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-standing-up-environment" class="anchor" aria-hidden="true" href="#standing-up-environment"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Standing up environment&lt;/h3&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;terraform init
terraform plan -out=plan
terraform apply plan&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-tearing-down-environment" class="anchor" aria-hidden="true" href="#tearing-down-environment"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Tearing down environment&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; This will only destroy resources deployed by Terraform. You will need to clean up anything deployed on top of that infrastructure yourself (e.g. by running &lt;code&gt;om delete-installation&lt;/code&gt;)&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;terraform destroy&lt;/pre&gt;&lt;/div&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>pivotal-cf</author><guid isPermaLink="false">https://github.com/pivotal-cf/terraforming-azure</guid><pubDate>Thu, 02 Jan 2020 00:11:00 GMT</pubDate></item><item><title>gardener/kubify-openstack-template #12 in HCL, Today</title><link>https://github.com/gardener/kubify-openstack-template</link><description>&lt;p&gt;&lt;i&gt;Template for Openstack Kubernetes Cluster Setup using Kubify &lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="../../../kubify/blob/master/docs/kubify.png"&gt;&lt;img align="left" src="../../../kubify/blob/master/docs/kubify.png" width="20%" height="20%" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-project-template-to-setup-an-openstack-kubernetes-cluster" class="anchor" aria-hidden="true" href="#project-template-to-setup-an-openstack-kubernetes-cluster"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Project Template to Setup an Openstack Kubernetes Cluster&lt;/h3&gt;
&lt;p&gt;Please refer to the &lt;a href="../../../kubify/blob/master/docs/README.md"&gt;Template Documentation&lt;/a&gt;.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>gardener</author><guid isPermaLink="false">https://github.com/gardener/kubify-openstack-template</guid><pubDate>Thu, 02 Jan 2020 00:12:00 GMT</pubDate></item><item><title>pivotal-cf/terraforming-aws #13 in HCL, Today</title><link>https://github.com/pivotal-cf/terraforming-aws</link><description>&lt;p&gt;&lt;i&gt;Templates to deploy PCF and PKS&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-terraforming-aws" class="anchor" aria-hidden="true" href="#terraforming-aws"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Terraforming AWS&lt;/h1&gt;
&lt;h2&gt;&lt;a id="user-content-what-is-this" class="anchor" aria-hidden="true" href="#what-is-this"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What is this?&lt;/h2&gt;
&lt;p&gt;Set of terraform modules for deploying Ops Manager, PAS and PKS infrastructure requirements like:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Friendly DNS entries in Route53&lt;/li&gt;
&lt;li&gt;A RDS instance (optional)&lt;/li&gt;
&lt;li&gt;A Virtual Private Network (VPC), subnets, Security Groups&lt;/li&gt;
&lt;li&gt;Necessary s3 buckets&lt;/li&gt;
&lt;li&gt;NAT Gateway services&lt;/li&gt;
&lt;li&gt;Network Load Balancers&lt;/li&gt;
&lt;li&gt;An IAM User with proper permissions&lt;/li&gt;
&lt;li&gt;Tagged resources&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note: This is not an exhaustive list of resources created, this will vary depending of your arguments and what you're deploying.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-prerequisites" class="anchor" aria-hidden="true" href="#prerequisites"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Prerequisites&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-terraform-cli" class="anchor" aria-hidden="true" href="#terraform-cli"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Terraform CLI&lt;/h3&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;brew update
brew install terraform&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-aws-permissions" class="anchor" aria-hidden="true" href="#aws-permissions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;AWS Permissions&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;AmazonEC2FullAccess&lt;/li&gt;
&lt;li&gt;AmazonRDSFullAccess&lt;/li&gt;
&lt;li&gt;AmazonRoute53FullAccess&lt;/li&gt;
&lt;li&gt;AmazonS3FullAccess&lt;/li&gt;
&lt;li&gt;AmazonVPCFullAccess&lt;/li&gt;
&lt;li&gt;IAMFullAccess&lt;/li&gt;
&lt;li&gt;AWSKeyManagementServicePowerUser&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note: You will also need to create a custom policy as the following and add to
the same user:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "KMSKeyDeletionAndUpdate",
            "Effect": "Allow",
            "Action": [
                "kms:UpdateKeyDescription",
                "kms:ScheduleKeyDeletion"
            ],
            "Resource": "*"
        }
    ]
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-are-you-using-platform-automation" class="anchor" aria-hidden="true" href="#are-you-using-platform-automation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Are you using Platform Automation?&lt;/h2&gt;
&lt;p&gt;Be sure to skip the creation of the Ops Manager VM. Do not include the vars listed &lt;a href="/README.md#ops-manager-optional"&gt;here&lt;/a&gt;. If you create your Ops Manager using terraform, you will not be able to manage it with &lt;a href="https://docs.pivotal.io/platform-automation" rel="nofollow"&gt;Platform Automation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Deployment of the infrastructure is still required.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-deploying-infrastructure" class="anchor" aria-hidden="true" href="#deploying-infrastructure"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deploying Infrastructure&lt;/h2&gt;
&lt;p&gt;First, you'll need to clone this repo. Then, depending on if you're deploying PAS or PKS you need to perform the following steps:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;cd&lt;/code&gt; into the proper directory:
&lt;ul&gt;
&lt;li&gt;&lt;a href="terraforming-pas/"&gt;terraforming-pas/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="terraforming-pks/"&gt;terraforming-pks/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="terraforming-control-plane/"&gt;terraforming-control-plane/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Create &lt;a href="/README.md#var-file"&gt;&lt;code&gt;terraform.tfvars&lt;/code&gt;&lt;/a&gt; file&lt;/li&gt;
&lt;li&gt;Populate &lt;a href="/README.md#credentials"&gt;credentials&lt;/a&gt; file or env variables&lt;/li&gt;
&lt;li&gt;Run terraform apply:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;terraform init
terraform plan -out=pcf.tfplan
terraform apply pcf.tfplan&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-var-file" class="anchor" aria-hidden="true" href="#var-file"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Var File&lt;/h3&gt;
&lt;p&gt;Copy the stub content below into a file called &lt;code&gt;terraform.tfvars&lt;/code&gt; and put it in the root of this project.
These vars will be used when you run &lt;code&gt;terraform apply&lt;/code&gt;.
You should fill in the stub values with the correct content.&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-smi"&gt;env_name&lt;/span&gt;           &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;some-environment-name&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;region&lt;/span&gt;             &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;us-west-1&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;availability_zones&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;us-west-1a&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;us-west-1c&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
&lt;span class="pl-smi"&gt;ops_manager_ami&lt;/span&gt;    &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;ami-4f291f2f&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;rds_instance_count&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;
&lt;span class="pl-smi"&gt;dns_suffix&lt;/span&gt;         &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;example.com&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;vpc_cidr&lt;/span&gt;           &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.0.0.0/16&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;use_route53&lt;/span&gt;        &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
&lt;span class="pl-smi"&gt;use_ssh_routes&lt;/span&gt;     &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
&lt;span class="pl-smi"&gt;use_tcp_routes&lt;/span&gt;     &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;

&lt;span class="pl-smi"&gt;ssl_cert&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;&amp;lt;&amp;lt;&lt;span class="pl-k"&gt;EOF&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;-----BEGIN CERTIFICATE-----&lt;/span&gt;
&lt;span class="pl-s"&gt;some cert&lt;/span&gt;
&lt;span class="pl-s"&gt;-----END CERTIFICATE-----&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;EOF&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-smi"&gt;ssl_private_key&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;&amp;lt;&amp;lt;&lt;span class="pl-k"&gt;EOF&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;-----BEGIN RSA PRIVATE KEY-----&lt;/span&gt;
&lt;span class="pl-s"&gt;some cert private key&lt;/span&gt;
&lt;span class="pl-s"&gt;-----END RSA PRIVATE KEY-----&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;EOF&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-smi"&gt;tags&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; {
    &lt;span class="pl-smi"&gt;Team&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;Dev&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
    &lt;span class="pl-smi"&gt;Project&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;WebApp3&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-credentials" class="anchor" aria-hidden="true" href="#credentials"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Credentials&lt;/h3&gt;
&lt;p&gt;Create a &lt;code&gt;credentials.yml&lt;/code&gt; file with the following contents:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;provider "aws" {
  access_key = "YOUR_AWS_ACCESS_KEY"
  secret_key = "YOUR_AWS_SECRET_KEY"
  region     = "YOUR_AWS_REGION"
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Alternatively, populate the following environment variables before running the &lt;code&gt;terraform plan&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ export AWS_ACCESS_KEY_ID="anaccesskey"
$ export AWS_SECRET_ACCESS_KEY="asecretkey"
$ export AWS_DEFAULT_REGION="us-west-2"
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;See Terraform documentation on the &lt;a href="https://www.terraform.io/docs/providers/aws/" rel="nofollow"&gt;AWS Provider&lt;/a&gt; for more ways on providing credentials, especially if using &lt;a href="https://www.terraform.io/docs/providers/aws/#ec2-role" rel="nofollow"&gt;EC2 Roles&lt;/a&gt; or &lt;a href="https://www.terraform.io/docs/providers/aws/#environment-variables" rel="nofollow"&gt;&lt;code&gt;AWS_SESSION_TOKEN&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-variables" class="anchor" aria-hidden="true" href="#variables"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Variables&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;env_name: &lt;strong&gt;(required)&lt;/strong&gt; An arbitrary unique name for namespacing resources&lt;/li&gt;
&lt;li&gt;region: &lt;strong&gt;(required)&lt;/strong&gt; Region you want to deploy your resources to&lt;/li&gt;
&lt;li&gt;availability_zones: &lt;strong&gt;(required)&lt;/strong&gt; List of AZs you want to deploy to&lt;/li&gt;
&lt;li&gt;dns_suffix: &lt;strong&gt;(required)&lt;/strong&gt; Domain to add environment subdomain to&lt;/li&gt;
&lt;li&gt;hosted_zone: &lt;strong&gt;(optional)&lt;/strong&gt; Parent domain &lt;em&gt;already&lt;/em&gt; managed by Route53. If specified, the DNS records will be added to this Route53 zone instead of a new zone.&lt;/li&gt;
&lt;li&gt;ssl_cert: &lt;strong&gt;(optional)&lt;/strong&gt; SSL certificate for HTTP load balancer configuration. Required unless &lt;code&gt;ssl_ca_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;li&gt;ssl_private_key: &lt;strong&gt;(optional)&lt;/strong&gt; Private key for above SSL certificate. Required unless &lt;code&gt;ssl_ca_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;li&gt;ssl_ca_cert: &lt;strong&gt;(optional)&lt;/strong&gt; SSL CA certificate used to generate self-signed HTTP load balancer certificate. Required unless &lt;code&gt;ssl_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;li&gt;ssl_ca_private_key: &lt;strong&gt;(optional)&lt;/strong&gt; Private key for above SSL CA certificate. Required unless &lt;code&gt;ssl_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;li&gt;tags: &lt;strong&gt;(optional)&lt;/strong&gt; A map of AWS tags that are applied to the created resources. By default, the following tags are set: Application = Cloud Foundry, Environment = $env_name&lt;/li&gt;
&lt;li&gt;vpc_cidr: &lt;strong&gt;(default: 10.0.0.0/16)&lt;/strong&gt; Internal CIDR block for the AWS VPC.&lt;/li&gt;
&lt;li&gt;use_route53: &lt;strong&gt;(default: true)&lt;/strong&gt; Controls whether or not Route53 DNS resources are created.&lt;/li&gt;
&lt;li&gt;use_ssh_routes: &lt;strong&gt;(default: true)&lt;/strong&gt; Enable ssh routing&lt;/li&gt;
&lt;li&gt;use_tcp_routes: &lt;strong&gt;(default: true)&lt;/strong&gt; Controls whether or not tcp routing is enabled.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-ops-manager-optional" class="anchor" aria-hidden="true" href="#ops-manager-optional"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ops Manager (optional)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ops_manager_ami: &lt;strong&gt;(optional)&lt;/strong&gt;  Ops Manager AMI, get the right AMI according to your region from the AWS guide downloaded from &lt;a href="https://network.pivotal.io/products/ops-manager" rel="nofollow"&gt;Pivotal Network&lt;/a&gt; (if set to &lt;code&gt;""&lt;/code&gt; no Ops Manager VM will be created)&lt;/li&gt;
&lt;li&gt;optional_ops_manager_ami: &lt;strong&gt;(optional)&lt;/strong&gt;  Additional Ops Manager AMI, get the right AMI according to your region from the AWS guide downloaded from &lt;a href="https://network.pivotal.io/products/ops-manager" rel="nofollow"&gt;Pivotal Network&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ops_manager_instance_type: &lt;strong&gt;(default: m4.large)&lt;/strong&gt; Ops Manager instance type&lt;/li&gt;
&lt;li&gt;ops_manager_private: &lt;strong&gt;(default: false)&lt;/strong&gt; Set to true if you want Ops Manager deployed in a private subnet instead of a public subnet&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-s3-buckets-optional-pas-only" class="anchor" aria-hidden="true" href="#s3-buckets-optional-pas-only"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;S3 Buckets (optional) (PAS only)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;create_backup_pas_buckets: &lt;strong&gt;(default: false)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;create_versioned_pas_buckets: &lt;strong&gt;(default: false)&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-rds-optional" class="anchor" aria-hidden="true" href="#rds-optional"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;RDS (optional)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;rds_instance_count: &lt;strong&gt;(default: 0)&lt;/strong&gt; Whether or not you would like an RDS for your deployment&lt;/li&gt;
&lt;li&gt;rds_instance_class: &lt;strong&gt;(default: db.m4.large)&lt;/strong&gt; Size of the RDS to deploy&lt;/li&gt;
&lt;li&gt;rds_db_username: &lt;strong&gt;(default: admin)&lt;/strong&gt; Username for RDS authentication&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-isolation-segments-optional--pas-only" class="anchor" aria-hidden="true" href="#isolation-segments-optional--pas-only"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Isolation Segments (optional)  (PAS only)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;create_isoseg_resources &lt;strong&gt;(optional)&lt;/strong&gt; Set to 1 to create HTTP load-balancer across 3 zones for isolation segments.&lt;/li&gt;
&lt;li&gt;isoseg_ssl_cert: &lt;strong&gt;(optional)&lt;/strong&gt; SSL certificate for Iso Seg HTTP load balancer configuration. Required unless &lt;code&gt;isoseg_ssl_ca_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;li&gt;isoseg_ssl_private_key: &lt;strong&gt;(optional)&lt;/strong&gt; Private key for above SSL certificate. Required unless &lt;code&gt;isoseg_ssl_ca_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;li&gt;isoseg_ssl_ca_cert: &lt;strong&gt;(optional)&lt;/strong&gt; SSL CA certificate used to generate self-signed Iso Seg HTTP load balancer certificate. Required unless &lt;code&gt;isoseg_ssl_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;li&gt;isoseg_ssl_ca_private_key: &lt;strong&gt;(optional)&lt;/strong&gt; Private key for above SSL CA certificate. Required unless &lt;code&gt;isoseg_ssl_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-notes" class="anchor" aria-hidden="true" href="#notes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Notes&lt;/h2&gt;
&lt;p&gt;You can choose whether you would like an RDS or not. By default we have
&lt;code&gt;rds_instance_count&lt;/code&gt; set to &lt;code&gt;0&lt;/code&gt; but setting it to &lt;code&gt;1&lt;/code&gt; will deploy an RDS instance.&lt;/p&gt;
&lt;p&gt;Note: RDS instances take a long time to deploy, keep that in mind. They're not required.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-tearing-down-environment" class="anchor" aria-hidden="true" href="#tearing-down-environment"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Tearing down environment&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; This will only destroy resources deployed by Terraform. You will need to clean up anything deployed on top of that infrastructure yourself (e.g. by running &lt;code&gt;om delete-installation&lt;/code&gt;)&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;terraform destroy&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-looking-to-setup-a-different-iaas" class="anchor" aria-hidden="true" href="#looking-to-setup-a-different-iaas"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Looking to setup a different IaaS&lt;/h2&gt;
&lt;p&gt;We have have other terraform templates:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/pivotal-cf/terraforming-azure"&gt;Azure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/pivotal-cf/terraforming-gcp"&gt;Google Cloud Platform&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/pivotal-cf/terraforming-vsphere"&gt;vSphere&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/pivotal-cf/terraforming-openstack"&gt;OpenStack&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>pivotal-cf</author><guid isPermaLink="false">https://github.com/pivotal-cf/terraforming-aws</guid><pubDate>Thu, 02 Jan 2020 00:13:00 GMT</pubDate></item><item><title>pivotal-cf/terraforming-gcp #14 in HCL, Today</title><link>https://github.com/pivotal-cf/terraforming-gcp</link><description>&lt;p&gt;&lt;i&gt;use terraform, deploy yourself a pcf&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-terraforming-gcp" class="anchor" aria-hidden="true" href="#terraforming-gcp"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Terraforming GCP&lt;/h1&gt;
&lt;h2&gt;&lt;a id="user-content-how-does-one-use-this" class="anchor" aria-hidden="true" href="#how-does-one-use-this"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How Does One Use This?&lt;/h2&gt;
&lt;p&gt;Please note that the master branch is generally &lt;em&gt;unstable&lt;/em&gt;. If you are looking for something
"tested", please consume one of our &lt;a href="https://github.com/pivotal-cf/terraforming-gcp/releases"&gt;releases&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-what-does-this-do" class="anchor" aria-hidden="true" href="#what-does-this-do"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What Does This Do?&lt;/h2&gt;
&lt;p&gt;You will get a booted ops-manager VM plus some networking, just the bare bones basically.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-looking-to-setup-a-different-iaas" class="anchor" aria-hidden="true" href="#looking-to-setup-a-different-iaas"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Looking to setup a different IAAS&lt;/h2&gt;
&lt;p&gt;We have have other terraform templates to help you!&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/pivotal-cf/terraforming-aws"&gt;aws&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/pivotal-cf/terraforming-azure"&gt;azure&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This list will be updated when more infrastructures come along.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-prerequisites" class="anchor" aria-hidden="true" href="#prerequisites"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Prerequisites&lt;/h2&gt;
&lt;p&gt;Your system needs the &lt;code&gt;gcloud&lt;/code&gt; cli, as well as &lt;code&gt;terraform&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;brew update
brew install Caskroom/cask/google-cloud-sdk
brew install terraform&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-are-you-using-platform-automation" class="anchor" aria-hidden="true" href="#are-you-using-platform-automation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Are you using Platform Automation?&lt;/h2&gt;
&lt;p&gt;Be sure to skip the creation of the Ops Manager VM. Do not include the vars listed &lt;a href="/README.md#ops-manager-optional"&gt;here&lt;/a&gt;. If you create your Ops Manager using terraform, you will not be able to manage it with &lt;a href="https://docs.pivotal.io/platform-automation" rel="nofollow"&gt;Platform Automation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Deployment of the infrastructure is still required.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-deploying-infrastructure" class="anchor" aria-hidden="true" href="#deploying-infrastructure"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deploying Infrastructure&lt;/h2&gt;
&lt;p&gt;Depending if you're deploying PAS, PKS or Control Plane you need to perform the following steps:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;cd&lt;/code&gt; into the proper directory:
&lt;ul&gt;
&lt;li&gt;&lt;a href="terraforming-pas/"&gt;terraforming-pas/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="terraforming-pks/"&gt;terraforming-pks/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="terraforming-control-plane/"&gt;terraforming-control-plane/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Create &lt;a href="/README.md#var-file"&gt;&lt;code&gt;terraform.tfvars&lt;/code&gt;&lt;/a&gt; file&lt;/li&gt;
&lt;li&gt;Run terraform apply:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;terraform init
terraform plan -out=plan
terraform apply plan&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-notes" class="anchor" aria-hidden="true" href="#notes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Notes&lt;/h2&gt;
&lt;p&gt;You will need a key file for your &lt;a href="https://cloud.google.com/iam/docs/service-accounts" rel="nofollow"&gt;service account&lt;/a&gt;
to allow terraform to deploy resources. If you don't have one, you can create a service account and a key for it:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;gcloud iam service-accounts create ACCOUNT_NAME --display-name &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Some Account Name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
gcloud iam service-accounts keys create &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;terraform.key.json&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; --iam-account &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;ACCOUNT_NAME@PROJECT_ID.iam.gserviceaccount.com&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
gcloud projects add-iam-policy-binding PROJECT_ID --member &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;serviceAccount:ACCOUNT_NAME@PROJECT_ID.iam.gserviceaccount.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; --role &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;roles/owner&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You will need to enable the following Google Cloud APIs:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://console.developers.google.com/apis/api/iam.googleapis.com" rel="nofollow"&gt;Identity and Access Management&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://console.developers.google.com/apis/api/cloudresourcemanager.googleapis.com/" rel="nofollow"&gt;Cloud Resource Manager&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://console.developers.google.com/apis/api/dns/overview" rel="nofollow"&gt;Cloud DNS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://console.developers.google.com/apis/api/sqladmin/overview" rel="nofollow"&gt;Cloud SQL API&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://console.developers.google.com/apis/library/compute.googleapis.com" rel="nofollow"&gt;Compute Engine API&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-var-file" class="anchor" aria-hidden="true" href="#var-file"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Var File&lt;/h3&gt;
&lt;p&gt;Copy the stub content below into a file called &lt;code&gt;terraform.tfvars&lt;/code&gt; and put it in the root of this project.
These vars will be used when you run &lt;code&gt;terraform  apply&lt;/code&gt;.
You should fill in the stub values with the correct content.&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-smi"&gt;env_name&lt;/span&gt;         &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;some-environment-name&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;project&lt;/span&gt;          &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;your-gcp-project&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;region&lt;/span&gt;           &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;us-central1&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;zones&lt;/span&gt;            &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;us-central1-a&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;us-central1-b&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;us-central1-c&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
&lt;span class="pl-smi"&gt;dns_suffix&lt;/span&gt;       &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;gcp.some-project.cf-app.com&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;opsman_image_url&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;https&lt;/span&gt;:&lt;span class="pl-s"&gt;//storage.googleapis.com/ops-manager-us/pcf-gcp-2.0-build.264.tar.gz&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

&lt;span class="pl-smi"&gt;buckets_location&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;US&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

&lt;span class="pl-smi"&gt;ssl_cert&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;&amp;lt;&amp;lt;&lt;span class="pl-k"&gt;SSL_CERT&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;-----BEGIN CERTIFICATE-----&lt;/span&gt;
&lt;span class="pl-s"&gt;some cert&lt;/span&gt;
&lt;span class="pl-s"&gt;-----END CERTIFICATE-----&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;SSL_CERT&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-smi"&gt;ssl_private_key&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;&amp;lt;&amp;lt;&lt;span class="pl-k"&gt;SSL_KEY&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;-----BEGIN RSA PRIVATE KEY-----&lt;/span&gt;
&lt;span class="pl-s"&gt;some cert private key&lt;/span&gt;
&lt;span class="pl-s"&gt;-----END RSA PRIVATE KEY-----&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;SSL_KEY&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-smi"&gt;service_account_key&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;&amp;lt;&amp;lt;&lt;span class="pl-k"&gt;SERVICE_ACCOUNT_KEY&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;{&lt;/span&gt;
&lt;span class="pl-s"&gt;  "type": "service_account",&lt;/span&gt;
&lt;span class="pl-s"&gt;  "project_id": "your-gcp-project",&lt;/span&gt;
&lt;span class="pl-s"&gt;  "private_key_id": "another-gcp-private-key",&lt;/span&gt;
&lt;span class="pl-s"&gt;  "private_key": "-----BEGIN PRIVATE KEY-----another gcp private key-----END PRIVATE KEY-----\n",&lt;/span&gt;
&lt;span class="pl-s"&gt;  "client_email": "something@example.com",&lt;/span&gt;
&lt;span class="pl-s"&gt;  "client_id": "11111111111111",&lt;/span&gt;
&lt;span class="pl-s"&gt;  "auth_uri": "https://accounts.google.com/o/oauth2/auth",&lt;/span&gt;
&lt;span class="pl-s"&gt;  "token_uri": "https://accounts.google.com/o/oauth2/token",&lt;/span&gt;
&lt;span class="pl-s"&gt;  "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",&lt;/span&gt;
&lt;span class="pl-s"&gt;  "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/"&lt;/span&gt;
&lt;span class="pl-s"&gt;}&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;SERVICE_ACCOUNT_KEY&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-var-details" class="anchor" aria-hidden="true" href="#var-details"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Var Details&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;env_name: &lt;strong&gt;(required)&lt;/strong&gt; An arbitrary unique name for namespacing resources. Max 23 characters.&lt;/li&gt;
&lt;li&gt;project: &lt;strong&gt;(required)&lt;/strong&gt; ID for your GCP project.&lt;/li&gt;
&lt;li&gt;region: &lt;strong&gt;(required)&lt;/strong&gt; Region in which to create resources (e.g. us-central1)&lt;/li&gt;
&lt;li&gt;zones: &lt;strong&gt;(required)&lt;/strong&gt; Zones in which to create resources. Must be within the given region. Currently you must specify exactly 3 unique Zones for this terraform configuration to work. (e.g. [us-central1-a, us-central1-b, us-central1-c])&lt;/li&gt;
&lt;li&gt;opsman_image_url &lt;strong&gt;(optional)&lt;/strong&gt; Source URL of the Ops Manager image you want to boot.&lt;/li&gt;
&lt;li&gt;service_account_key: &lt;strong&gt;(required)&lt;/strong&gt; Contents of your service account key file generated using the &lt;code&gt;gcloud iam service-accounts keys create&lt;/code&gt; command.&lt;/li&gt;
&lt;li&gt;dns_suffix: &lt;strong&gt;(required)&lt;/strong&gt; Domain to add environment subdomain to (e.g. foo.example.com). Trailing dots are not supported.&lt;/li&gt;
&lt;li&gt;buckets_location: &lt;strong&gt;(optional)&lt;/strong&gt; Loction in which to create buckets. Defaults to US.&lt;/li&gt;
&lt;li&gt;ssl_cert: &lt;strong&gt;(conditionally required)&lt;/strong&gt; SSL certificate for HTTP load balancer configuration. Required unless &lt;code&gt;ssl_ca_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;li&gt;ssl_private_key: &lt;strong&gt;(conditionally required)&lt;/strong&gt; Private key for above SSL certificate. Required unless &lt;code&gt;ssl_ca_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;li&gt;ssl_ca_cert: &lt;strong&gt;(conditionally required)&lt;/strong&gt; SSL CA certificate used to generate self-signed HTTP load balancer certificate. Required unless &lt;code&gt;ssl_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;li&gt;ssl_ca_private_key: &lt;strong&gt;(conditionally required)&lt;/strong&gt; Private key for above SSL CA certificate. Required unless &lt;code&gt;ssl_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;li&gt;opsman_storage_bucket_count: &lt;strong&gt;(optional)&lt;/strong&gt; Google Storage Bucket for BOSH's Blobstore.&lt;/li&gt;
&lt;li&gt;create_iam_service_account_members: &lt;strong&gt;(optional)&lt;/strong&gt; Create IAM Service Account project roles. Default to &lt;code&gt;true&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-dns-records" class="anchor" aria-hidden="true" href="#dns-records"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;DNS Records&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;pcf.&lt;em&gt;$env_name&lt;/em&gt;.&lt;em&gt;$dns_suffix&lt;/em&gt;: Points at the Ops Manager VM's public IP address.&lt;/li&gt;
&lt;li&gt;*.sys.&lt;em&gt;$env_name&lt;/em&gt;.&lt;em&gt;$dns_suffix&lt;/em&gt;: Points at the HTTP/S load balancer in front of the Router.&lt;/li&gt;
&lt;li&gt;doppler.sys.&lt;em&gt;$env_name&lt;/em&gt;.&lt;em&gt;$dns_suffix&lt;/em&gt;: Points at the TCP load balancer in front of the Router. This address is used to send websocket traffic to the Doppler server.&lt;/li&gt;
&lt;li&gt;loggregator.sys.&lt;em&gt;$env_name&lt;/em&gt;.&lt;em&gt;$dns_suffix&lt;/em&gt;: Points at the TCP load balancer in front of the Router. This address is used to send websocket traffic to the Loggregator Trafficcontroller.&lt;/li&gt;
&lt;li&gt;*.apps.&lt;em&gt;$env_name&lt;/em&gt;.&lt;em&gt;$dns_suffix&lt;/em&gt;: Points at the HTTP/S load balancer in front of the Router.&lt;/li&gt;
&lt;li&gt;*.ws.&lt;em&gt;$env_name&lt;/em&gt;.&lt;em&gt;$dns_suffix&lt;/em&gt;: Points at the TCP load balancer in front of the Router. This address can be used for application websocket traffic.&lt;/li&gt;
&lt;li&gt;ssh.sys.&lt;em&gt;$env_name&lt;/em&gt;.&lt;em&gt;$dns_suffix&lt;/em&gt;: Points at the TCP load balancer in front of the Diego brain.&lt;/li&gt;
&lt;li&gt;tcp.&lt;em&gt;$env_name&lt;/em&gt;.&lt;em&gt;$dns_suffix&lt;/em&gt;: Points at the TCP load balancer in front of the TCP router.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-isolation-segments-optional" class="anchor" aria-hidden="true" href="#isolation-segments-optional"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Isolation Segments (optional)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;isolation_segment: &lt;strong&gt;(optional)&lt;/strong&gt; When set to &lt;code&gt;true&lt;/code&gt; creates HTTP load-balancer across 3 zones for isolation segments.&lt;/li&gt;
&lt;li&gt;iso_seg_with_firewalls: &lt;strong&gt;(optional)&lt;/strong&gt; When set to &lt;code&gt;true&lt;/code&gt; creates firewall rules to lock down ports on the isolation segment.&lt;/li&gt;
&lt;li&gt;iso_seg_ssl_cert: &lt;strong&gt;(optional)&lt;/strong&gt; SSL certificate for Iso Seg HTTP load balancer configuration. Required unless &lt;code&gt;iso_seg_ssl_ca_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;li&gt;iso_seg_ssl_private_key: &lt;strong&gt;(optional)&lt;/strong&gt; Private key for above SSL certificate. Required unless &lt;code&gt;iso_seg_ssl_ca_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;li&gt;iso_seg_ssl_ca_cert: &lt;strong&gt;(optional)&lt;/strong&gt; SSL CA certificate used to generate self-signed Iso Seg HTTP load balancer certificate. Required unless &lt;code&gt;iso_seg_ssl_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;li&gt;iso_seg_ssl_ca_private_key: &lt;strong&gt;(optional)&lt;/strong&gt; Private key for above SSL CA certificate. Required unless &lt;code&gt;iso_seg_ssl_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-cloud-sql-configuration-optional" class="anchor" aria-hidden="true" href="#cloud-sql-configuration-optional"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Cloud SQL Configuration (optional)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;external_database: &lt;strong&gt;(optional)&lt;/strong&gt; When set to &lt;code&gt;true&lt;/code&gt;, a cloud SQL instance will be deployed for the Ops Manager and PAS.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-ops-manager-optional" class="anchor" aria-hidden="true" href="#ops-manager-optional"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ops Manager (optional)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;opsman_sql_db_host: &lt;strong&gt;(optional)&lt;/strong&gt; The host the user can connect from. Can be an IP address. Changing this forces a new resource to be created.&lt;/li&gt;
&lt;li&gt;opsman_image_url &lt;strong&gt;(optional)&lt;/strong&gt; Source URL of the Ops Manager image you want to boot (if not provided you get no Ops Manager).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-pas-optional" class="anchor" aria-hidden="true" href="#pas-optional"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;PAS (optional)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;pas_sql_db_host: &lt;strong&gt;(optional)&lt;/strong&gt; The host the user can connect from. Can be an IP address. Changing this forces a new resource to be created.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-pas-cloud-controllers-google-cloud-storage-buckets-optional" class="anchor" aria-hidden="true" href="#pas-cloud-controllers-google-cloud-storage-buckets-optional"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;PAS Cloud Controller's Google Cloud Storage Buckets (optional)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;create_gcs_buckets: &lt;strong&gt;(optional)&lt;/strong&gt; When set to &lt;code&gt;false&lt;/code&gt;, buckets will not be created for PAS Cloud Controller. Defaults to &lt;code&gt;true&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-internetless-optional" class="anchor" aria-hidden="true" href="#internetless-optional"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Internetless (optional)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;internetless: &lt;strong&gt;(optional)&lt;/strong&gt; When set to &lt;code&gt;true&lt;/code&gt;, all traffic going outside the 10.* network is denied. DNS records like '*.apps.DOMAIN' will be pointed to the HAProxy static IP rather than the LB address.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-running" class="anchor" aria-hidden="true" href="#running"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Running&lt;/h2&gt;
&lt;p&gt;Note: please make sure you have created the &lt;code&gt;terraform.tfvars&lt;/code&gt; file above as mentioned.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-tearing-down-environment" class="anchor" aria-hidden="true" href="#tearing-down-environment"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Tearing down environment&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; This will only destroy resources deployed by Terraform. You will need to clean up anything deployed on top of that infrastructure yourself (e.g. by running &lt;code&gt;om delete-installation&lt;/code&gt;)&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;terraform destroy&lt;/pre&gt;&lt;/div&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>pivotal-cf</author><guid isPermaLink="false">https://github.com/pivotal-cf/terraforming-gcp</guid><pubDate>Thu, 02 Jan 2020 00:14:00 GMT</pubDate></item></channel></rss>
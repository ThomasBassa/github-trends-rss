<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>GitHub Trending: HCL, Today</title><link>https://github.com/trending/hcl?since=daily</link><description>The top repositories on GitHub for hcl, measured daily</description><pubDate>Sat, 28 Dec 2019 01:08:08 GMT</pubDate><lastBuildDate>Sat, 28 Dec 2019 01:08:08 GMT</lastBuildDate><generator>PyRSS2Gen-1.1.0</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><ttl>720</ttl><item><title>terraform-aws-modules/terraform-aws-ec2-instance #1 in HCL, Today</title><link>https://github.com/terraform-aws-modules/terraform-aws-ec2-instance</link><description>&lt;p&gt;&lt;i&gt;Terraform module which creates EC2 instance(s) on AWS&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-aws-ec2-instance-terraform-module" class="anchor" aria-hidden="true" href="#aws-ec2-instance-terraform-module"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;AWS EC2 Instance Terraform module&lt;/h1&gt;
&lt;p&gt;Terraform module which creates EC2 instance(s) on AWS.&lt;/p&gt;
&lt;p&gt;These types of resources are supported:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.terraform.io/docs/providers/aws/r/instance.html" rel="nofollow"&gt;EC2 instance&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-terraform-versions" class="anchor" aria-hidden="true" href="#terraform-versions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Terraform versions&lt;/h2&gt;
&lt;p&gt;Terraform 0.12. Pin module version to &lt;code&gt;~&amp;gt; v2.0&lt;/code&gt;. Submit pull-requests to &lt;code&gt;master&lt;/code&gt; branch.&lt;/p&gt;
&lt;p&gt;Terraform 0.11. Pin module version to &lt;code&gt;~&amp;gt; v1.0&lt;/code&gt;. Submit pull-requests to &lt;code&gt;terraform011&lt;/code&gt; branch.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h2&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;ec2_cluster&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;source&lt;/span&gt;                 &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;terraform-aws-modules/ec2-instance/aws&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;version&lt;/span&gt;                &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;~&amp;gt; &lt;span class="pl-s"&gt;2.0&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;name&lt;/span&gt;                   &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;my-cluster&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;instance_count&lt;/span&gt;         &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;5&lt;/span&gt;

  &lt;span class="pl-smi"&gt;ami&lt;/span&gt;                    &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;ami-ebd02392&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;instance_type&lt;/span&gt;          &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;t2.micro&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;key_name&lt;/span&gt;               &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;user1&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;monitoring&lt;/span&gt;             &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
  &lt;span class="pl-smi"&gt;vpc_security_group_ids&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;sg-12345678&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
  &lt;span class="pl-smi"&gt;subnet_id&lt;/span&gt;              &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;subnet-eddcdzz4&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;tags&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; {
    &lt;span class="pl-smi"&gt;Terraform&lt;/span&gt;   &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;true&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
    &lt;span class="pl-smi"&gt;Environment&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;dev&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-examples" class="anchor" aria-hidden="true" href="#examples"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Examples&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-ec2-instance/tree/master/examples/basic"&gt;Basic EC2 instance&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-ec2-instance/tree/master/examples/volume-attachment"&gt;EC2 instance with EBS volume attachment&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-make-an-encrypted-ami-for-use" class="anchor" aria-hidden="true" href="#make-an-encrypted-ami-for-use"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Make an encrypted AMI for use&lt;/h2&gt;
&lt;p&gt;This module does not support encrypted AMI's out of the box however it is easy enough for you to generate one for use&lt;/p&gt;
&lt;p&gt;This example creates an encrypted image from the latest ubuntu 16.04 base image.&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;resource&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;aws_ami_copy&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;ubuntu-xenial-encrypted-ami&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;name&lt;/span&gt;              &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;ubuntu-xenial-encrypted-ami&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;description&lt;/span&gt;       &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;An&lt;/span&gt; &lt;span class="pl-s"&gt;encrypted&lt;/span&gt; &lt;span class="pl-s"&gt;root&lt;/span&gt; &lt;span class="pl-s"&gt;ami&lt;/span&gt; &lt;span class="pl-s"&gt;based&lt;/span&gt; &lt;span class="pl-s"&gt;off&lt;/span&gt; &lt;span class="pl-s1"&gt;&lt;span class="pl-e"&gt;${&lt;/span&gt;&lt;span class="pl-e"&gt;data.aws_ami.ubuntu&lt;/span&gt;-xenial&lt;span class="pl-k"&gt;.&lt;/span&gt;id&lt;span class="pl-e"&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;source_ami_id&lt;/span&gt;     &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s1"&gt;&lt;span class="pl-e"&gt;${&lt;/span&gt;&lt;span class="pl-e"&gt;data.aws_ami.ubuntu&lt;/span&gt;-xenial&lt;span class="pl-k"&gt;.&lt;/span&gt;id&lt;span class="pl-e"&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;source_ami_region&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;eu-west-2&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;encrypted&lt;/span&gt;         &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;true&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-en"&gt;tags&lt;/span&gt; {
    &lt;span class="pl-smi"&gt;Name&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;ubuntu-xenial-encrypted-ami&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  }
}

&lt;span class="pl-k"&gt;data&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;aws_ami&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;encrypted-ami&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;most_recent&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;

  &lt;span class="pl-en"&gt;filter&lt;/span&gt; {
    &lt;span class="pl-smi"&gt;name&lt;/span&gt;   &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;name&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
    &lt;span class="pl-smi"&gt;values&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;ubuntu-xenial-encrypted&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
  }

  &lt;span class="pl-smi"&gt;owners&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;self&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
}

&lt;span class="pl-k"&gt;data&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;aws_ami&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;ubuntu-xenial&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;most_recent&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;

  &lt;span class="pl-en"&gt;filter&lt;/span&gt; {
    &lt;span class="pl-smi"&gt;name&lt;/span&gt;   &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;name&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
    &lt;span class="pl-smi"&gt;values&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;ubuntu/images/hvm-ssd/ubuntu-xenial-16.04-amd64-server-&lt;/span&gt;*&lt;span class="pl-s"&gt;"&lt;/span&gt;]
  }

  &lt;span class="pl-smi"&gt;owners&lt;/span&gt;      &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;099720109477&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
}&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-notes" class="anchor" aria-hidden="true" href="#notes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Notes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;network_interface&lt;/code&gt; can't be specified together with &lt;code&gt;vpc_security_group_ids&lt;/code&gt;, &lt;code&gt;associate_public_ip_address&lt;/code&gt;, &lt;code&gt;subnet_id&lt;/code&gt;. See &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-ec2-instance/tree/master/examples/basic"&gt;basic example&lt;/a&gt; for details.&lt;/li&gt;
&lt;li&gt;Changes in &lt;code&gt;ebs_block_device&lt;/code&gt; argument will be ignored. Use &lt;a href="https://www.terraform.io/docs/providers/aws/r/volume_attachment.html" rel="nofollow"&gt;aws_volume_attachment&lt;/a&gt; resource to attach and detach volumes from AWS EC2 instances. See &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-ec2-instance/tree/master/examples/volume-attachment"&gt;this example&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;One of &lt;code&gt;subnet_id&lt;/code&gt; or &lt;code&gt;subnet_ids&lt;/code&gt; is required. If both are provided, the value of &lt;code&gt;subnet_id&lt;/code&gt; is prepended to the value of &lt;code&gt;subnet_ids&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;&lt;a id="user-content-inputs" class="anchor" aria-hidden="true" href="#inputs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Inputs&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th align="center"&gt;Type&lt;/th&gt;
&lt;th align="center"&gt;Default&lt;/th&gt;
&lt;th align="center"&gt;Required&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;ami&lt;/td&gt;
&lt;td&gt;ID of AMI to use for the instance&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;associate_public_ip_address&lt;/td&gt;
&lt;td&gt;If true, the EC2 instance will have associated public IP address&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cpu_credits&lt;/td&gt;
&lt;td&gt;The credit option for CPU usage (unlimited or standard)&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"standard"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;disable_api_termination&lt;/td&gt;
&lt;td&gt;If true, enables EC2 Instance Termination Protection&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ebs_block_device&lt;/td&gt;
&lt;td&gt;Additional EBS block devices to attach to the instance&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ebs_optimized&lt;/td&gt;
&lt;td&gt;If true, the launched EC2 instance will be EBS-optimized&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ephemeral_block_device&lt;/td&gt;
&lt;td&gt;Customize Ephemeral (also known as Instance Store) volumes on the instance&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;get_password_data&lt;/td&gt;
&lt;td&gt;If true, wait for password data to become available and retrieve it.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iam_instance_profile&lt;/td&gt;
&lt;td&gt;The IAM Instance Profile to launch the instance with. Specified as the name of the Instance Profile.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;instance_count&lt;/td&gt;
&lt;td&gt;Number of instances to launch&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"1"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;instance_initiated_shutdown_behavior&lt;/td&gt;
&lt;td&gt;Shutdown behavior for the instance&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;instance_type&lt;/td&gt;
&lt;td&gt;The type of instance to start&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ipv6_address_count&lt;/td&gt;
&lt;td&gt;A number of IPv6 addresses to associate with the primary network interface. Amazon EC2 chooses the IPv6 addresses from the range of your subnet.&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ipv6_addresses&lt;/td&gt;
&lt;td&gt;Specify one or more IPv6 addresses from the range of the subnet to associate with the primary network interface&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;key_name&lt;/td&gt;
&lt;td&gt;The key name to use for the instance&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;monitoring&lt;/td&gt;
&lt;td&gt;If true, the launched EC2 instance will have detailed monitoring enabled&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;name&lt;/td&gt;
&lt;td&gt;Name to be used on all resources as prefix&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;network_interface&lt;/td&gt;
&lt;td&gt;Customize network interfaces to be attached at instance boot time&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;placement_group&lt;/td&gt;
&lt;td&gt;The Placement Group to start the instance in&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_ip&lt;/td&gt;
&lt;td&gt;Private IP address to associate with the instance in a VPC&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_ips&lt;/td&gt;
&lt;td&gt;A list of private IP address to associate with the instance in a VPC. Should match the number of instances.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;root_block_device&lt;/td&gt;
&lt;td&gt;Customize details about the root block device of the instance. See Block Devices below for details&lt;/td&gt;
&lt;td align="center"&gt;list(map(string))&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;source_dest_check&lt;/td&gt;
&lt;td&gt;Controls if traffic is routed to the instance when the destination address does not match the instance. Used for NAT or VPNs.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;subnet_id&lt;/td&gt;
&lt;td&gt;The VPC Subnet ID to launch in&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;subnet_ids&lt;/td&gt;
&lt;td&gt;A list of VPC Subnet IDs to launch in&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tags&lt;/td&gt;
&lt;td&gt;A mapping of tags to assign to the resource&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tenancy&lt;/td&gt;
&lt;td&gt;The tenancy of the instance (if the instance is running in a VPC). Available values: default, dedicated, host.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"default"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;use_num_suffix&lt;/td&gt;
&lt;td&gt;Always append numerical suffix to instance name, even if instance_count is 1&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;user_data&lt;/td&gt;
&lt;td&gt;The user data to provide when launching the instance. Do not pass gzip-compressed data via this argument; see user_data_base64 instead.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;user_data_base64&lt;/td&gt;
&lt;td&gt;Can be used instead of user_data to pass base64-encoded binary data directly. Use this instead of user_data whenever the value is not a valid UTF-8 string. For example, gzip-encoded user data must be base64-encoded and passed via this argument to avoid corruption.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;volume_tags&lt;/td&gt;
&lt;td&gt;A mapping of tags to assign to the devices created by the instance at launch time&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_security_group_ids&lt;/td&gt;
&lt;td&gt;A list of security group IDs to associate with&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-outputs" class="anchor" aria-hidden="true" href="#outputs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Outputs&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;arn&lt;/td&gt;
&lt;td&gt;List of ARNs of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;availability_zone&lt;/td&gt;
&lt;td&gt;List of availability zones of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;credit_specification&lt;/td&gt;
&lt;td&gt;List of credit specification of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ebs_block_device_volume_ids&lt;/td&gt;
&lt;td&gt;List of volume IDs of EBS block devices of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;id&lt;/td&gt;
&lt;td&gt;List of IDs of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;instance_count&lt;/td&gt;
&lt;td&gt;Number of instances to launch specified as argument to this module&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;instance_state&lt;/td&gt;
&lt;td&gt;List of instance states of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ipv6_addresses&lt;/td&gt;
&lt;td&gt;List of assigned IPv6 addresses of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;key_name&lt;/td&gt;
&lt;td&gt;List of key names of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;password_data&lt;/td&gt;
&lt;td&gt;List of Base-64 encoded encrypted password data for the instance&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;placement_group&lt;/td&gt;
&lt;td&gt;List of placement groups of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;primary_network_interface_id&lt;/td&gt;
&lt;td&gt;List of IDs of the primary network interface of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_dns&lt;/td&gt;
&lt;td&gt;List of private DNS names assigned to the instances. Can only be used inside the Amazon EC2, and only available if you've enabled DNS hostnames for your VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;private_ip&lt;/td&gt;
&lt;td&gt;List of private IP addresses assigned to the instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;public_dns&lt;/td&gt;
&lt;td&gt;List of public DNS names assigned to the instances. For EC2-VPC, this is only available if you've enabled DNS hostnames for your VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;public_ip&lt;/td&gt;
&lt;td&gt;List of public IP addresses assigned to the instances, if applicable&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;root_block_device_volume_ids&lt;/td&gt;
&lt;td&gt;List of volume IDs of root block devices of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;security_groups&lt;/td&gt;
&lt;td&gt;List of associated security groups of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;subnet_id&lt;/td&gt;
&lt;td&gt;List of IDs of VPC subnets of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tags&lt;/td&gt;
&lt;td&gt;List of tags of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;volume_tags&lt;/td&gt;
&lt;td&gt;List of tags of volumes of instances&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_security_group_ids&lt;/td&gt;
&lt;td&gt;List of associated security groups of instances, if running in non-default VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2&gt;&lt;a id="user-content-authors" class="anchor" aria-hidden="true" href="#authors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Authors&lt;/h2&gt;
&lt;p&gt;Module managed by &lt;a href="https://github.com/antonbabenko"&gt;Anton Babenko&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;Apache 2 Licensed. See LICENSE for full details.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>terraform-aws-modules</author><guid isPermaLink="false">https://github.com/terraform-aws-modules/terraform-aws-ec2-instance</guid><pubDate>Sat, 28 Dec 2019 00:01:00 GMT</pubDate></item><item><title>terraform-aws-modules/terraform-aws-eks #2 in HCL, Today</title><link>https://github.com/terraform-aws-modules/terraform-aws-eks</link><description>&lt;p&gt;&lt;i&gt;A Terraform module to create an Elastic Kubernetes (EKS) cluster and associated worker instances on AWS.&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-terraform-aws-eks" class="anchor" aria-hidden="true" href="#terraform-aws-eks"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;terraform-aws-eks&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/actions"&gt;&lt;img src="https://github.com/terraform-aws-modules/terraform-aws-eks/workflows/Lint/badge.svg" alt="Lint Status" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/blob/master/LICENSE"&gt;&lt;img src="https://camo.githubusercontent.com/94dccda8d0a1cc85a9e0227e9fc1357a9c2cc5d5/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f7465727261666f726d2d6177732d6d6f64756c65732f7465727261666f726d2d6177732d656b73" alt="LICENSE" data-canonical-src="https://img.shields.io/github/license/terraform-aws-modules/terraform-aws-eks" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A terraform module to create a managed Kubernetes cluster on AWS EKS. Available
through the &lt;a href="https://registry.terraform.io/modules/terraform-aws-modules/eks/aws" rel="nofollow"&gt;Terraform registry&lt;/a&gt;.
Inspired by and adapted from &lt;a href="https://www.terraform.io/docs/providers/aws/guides/eks-getting-started.html" rel="nofollow"&gt;this doc&lt;/a&gt;
and its &lt;a href="https://github.com/terraform-providers/terraform-provider-aws/tree/master/examples/eks-getting-started"&gt;source code&lt;/a&gt;.
Read the &lt;a href="https://docs.aws.amazon.com/eks/latest/userguide/dashboard-tutorial.html" rel="nofollow"&gt;AWS docs on EKS to get connected to the k8s dashboard&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-assumptions" class="anchor" aria-hidden="true" href="#assumptions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Assumptions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;You want to create an EKS cluster and an autoscaling group of workers for the cluster.&lt;/li&gt;
&lt;li&gt;You want these resources to exist within security groups that allow communication and coordination. These can be user provided or created within the module.&lt;/li&gt;
&lt;li&gt;You've created a Virtual Private Cloud (VPC) and subnets where you intend to put the EKS resources. The VPC satisfies &lt;a href="https://docs.aws.amazon.com/eks/latest/userguide/network_reqs.html" rel="nofollow"&gt;EKS requirements&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;If &lt;code&gt;manage_aws_auth = true&lt;/code&gt;, it's required that both &lt;a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/#install-kubectl" rel="nofollow"&gt;&lt;code&gt;kubectl&lt;/code&gt;&lt;/a&gt; (&amp;gt;=1.10) and &lt;a href="https://github.com/kubernetes-sigs/aws-iam-authenticator#4-set-up-kubectl-to-use-authentication-tokens-provided-by-aws-iam-authenticator-for-kubernetes"&gt;&lt;code&gt;aws-iam-authenticator&lt;/code&gt;&lt;/a&gt; are installed and on your shell's PATH.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-usage-example" class="anchor" aria-hidden="true" href="#usage-example"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage example&lt;/h2&gt;
&lt;p&gt;A full example leveraging other community modules is contained in the &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/tree/master/examples/basic"&gt;examples/basic directory&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;data&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;aws_eks_cluster&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;cluster&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;name&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; module.eks.cluster_id
}

&lt;span class="pl-k"&gt;data&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;aws_eks_cluster_auth&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;cluster&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;name&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; module.eks.cluster_id
}

&lt;span class="pl-k"&gt;provider&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;kubernetes&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;host&lt;/span&gt;                   &lt;span class="pl-k"&gt;=&lt;/span&gt; data.aws_eks_cluster.cluster.endpoint
  &lt;span class="pl-smi"&gt;cluster_ca_certificate&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; base64decode(data.aws_eks_cluster.cluster.certificate_authority.&lt;span class="pl-c1"&gt;0&lt;/span&gt;.data)
  &lt;span class="pl-smi"&gt;token&lt;/span&gt;                  &lt;span class="pl-k"&gt;=&lt;/span&gt; data.aws_eks_cluster_auth.cluster.token
  &lt;span class="pl-smi"&gt;load_config_file&lt;/span&gt;       &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;
  &lt;span class="pl-smi"&gt;version&lt;/span&gt;                &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;~&amp;gt; &lt;span class="pl-s"&gt;1.9&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
}

&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;my-cluster&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;source&lt;/span&gt;          &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;terraform-aws-modules/eks/aws&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;cluster_name&lt;/span&gt;    &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;my-cluster&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;cluster_version&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;1.14&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
  &lt;span class="pl-smi"&gt;subnets&lt;/span&gt;         &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;subnet-abcde012&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;subnet-bcde012a&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;subnet-fghi345a&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
  &lt;span class="pl-smi"&gt;vpc_id&lt;/span&gt;          &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;vpc-1234556abcdef&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;worker_groups&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [
    {
      &lt;span class="pl-smi"&gt;instance_type&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;m4.large&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
      &lt;span class="pl-smi"&gt;asg_max_size&lt;/span&gt;  &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;5&lt;/span&gt;
    }
  ]
}&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-conditional-creation" class="anchor" aria-hidden="true" href="#conditional-creation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Conditional creation&lt;/h2&gt;
&lt;p&gt;Sometimes you need to have a way to create EKS resources conditionally but Terraform does not allow to use &lt;code&gt;count&lt;/code&gt; inside &lt;code&gt;module&lt;/code&gt; block, so the solution is to specify argument &lt;code&gt;create_eks&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Using this feature &lt;em&gt;and&lt;/em&gt; having &lt;code&gt;manage_aws_auth=true&lt;/code&gt; (the default) requires to set up the kubernetes provider in a way that allows the data sources to not exist.&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;data&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;aws_eks_cluster&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;cluster&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;count&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; var.create_eks ? &lt;span class="pl-c1"&gt;1&lt;/span&gt; : &lt;span class="pl-c1"&gt;0&lt;/span&gt;
  &lt;span class="pl-smi"&gt;name&lt;/span&gt;  &lt;span class="pl-k"&gt;=&lt;/span&gt; module.eks.cluster_id
}

&lt;span class="pl-k"&gt;data&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;aws_eks_cluster_auth&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;cluster&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;count&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; var.create_eks ? &lt;span class="pl-c1"&gt;1&lt;/span&gt; : &lt;span class="pl-c1"&gt;0&lt;/span&gt;
  &lt;span class="pl-smi"&gt;name&lt;/span&gt;  &lt;span class="pl-k"&gt;=&lt;/span&gt; module.eks.cluster_id
}

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; In case of not creating the cluster, this will be an incompletely configured, unused provider, which poses no problem.&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;provider&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;kubernetes&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;host&lt;/span&gt;                   &lt;span class="pl-k"&gt;=&lt;/span&gt; element(concat(data.aws_eks_cluster.cluster[*].endpoint, list(&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;)), &lt;span class="pl-c1"&gt;0&lt;/span&gt;)
  &lt;span class="pl-smi"&gt;cluster_ca_certificate&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; base64decode(element(concat(data.aws_eks_cluster.cluster[*].certificate_authority.&lt;span class="pl-c1"&gt;0&lt;/span&gt;.data, list(&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;)), &lt;span class="pl-c1"&gt;0&lt;/span&gt;))
  &lt;span class="pl-smi"&gt;token&lt;/span&gt;                  &lt;span class="pl-k"&gt;=&lt;/span&gt; element(concat(data.aws_eks_cluster_auth.cluster[*].token, list(&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;)), &lt;span class="pl-c1"&gt;0&lt;/span&gt;)
  &lt;span class="pl-smi"&gt;load_config_file&lt;/span&gt;       &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;
  &lt;span class="pl-smi"&gt;version&lt;/span&gt;                &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;~&amp;gt; &lt;span class="pl-s"&gt;1.10&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
}

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; This cluster will not be created&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-k"&gt;module&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;eks&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;source&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;terraform-aws-modules/eks/aws&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

  &lt;span class="pl-smi"&gt;create_eks&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;false&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; ... omitted&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-other-documentation" class="anchor" aria-hidden="true" href="#other-documentation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Other documentation&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/blob/master/docs/autoscaling.md"&gt;Autoscaling&lt;/a&gt;: How to enable worker node autoscaling.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/blob/master/docs/enable-docker-bridge-network.md"&gt;Enable Docker Bridge Network&lt;/a&gt;: How to enable the docker bridge network when using the EKS-optimized AMI, which disables it by default.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/blob/master/docs/spot-instances.md"&gt;Spot instances&lt;/a&gt;: How to use spot instances with this module.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/blob/master/docs/iam-permissions.md"&gt;IAM Permissions&lt;/a&gt;: Minimum IAM permissions needed to setup EKS Cluster.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/blob/master/docs/faq.md"&gt;FAQ&lt;/a&gt;: Frequently Asked Questions&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-testing" class="anchor" aria-hidden="true" href="#testing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Testing&lt;/h2&gt;
&lt;p&gt;This module has been packaged with &lt;a href="https://github.com/k1LoW/awspec"&gt;awspec&lt;/a&gt; tests through &lt;a href="https://kitchen.ci/" rel="nofollow"&gt;kitchen&lt;/a&gt; and &lt;a href="https://newcontext-oss.github.io/kitchen-terraform/" rel="nofollow"&gt;kitchen-terraform&lt;/a&gt;. To run them:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Install &lt;a href="https://rvm.io/rvm/install" rel="nofollow"&gt;rvm&lt;/a&gt; and the ruby version specified in the &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/tree/master/Gemfile"&gt;Gemfile&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install bundler and the gems from our Gemfile:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;gem install bundler &lt;span class="pl-k"&gt;&amp;amp;&amp;amp;&lt;/span&gt; bundle install&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ensure your AWS environment is configured (i.e. credentials and region) for test.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Test using &lt;code&gt;bundle exec kitchen test&lt;/code&gt; from the root of the repo.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;For now, connectivity to the kubernetes cluster is not tested but will be in the
future. Once the test fixture has converged, you can query the test cluster from
that terminal session with&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;kubectl get nodes --watch --kubeconfig kubeconfig&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;(using default settings &lt;code&gt;config_output_path = "./"&lt;/code&gt; &amp;amp; &lt;code&gt;write_kubeconfig = true&lt;/code&gt;)&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-doc-generation" class="anchor" aria-hidden="true" href="#doc-generation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Doc generation&lt;/h2&gt;
&lt;p&gt;Code formatting and documentation for variables and outputs is generated using &lt;a href="https://github.com/antonbabenko/pre-commit-terraform"&gt;pre-commit-terraform hooks&lt;/a&gt; which uses &lt;a href="https://github.com/segmentio/terraform-docs"&gt;terraform-docs&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Follow &lt;a href="https://github.com/antonbabenko/pre-commit-terraform#how-to-install"&gt;these instructions&lt;/a&gt; to install pre-commit locally.&lt;/p&gt;
&lt;p&gt;And install &lt;code&gt;terraform-docs&lt;/code&gt; with &lt;code&gt;go get github.com/segmentio/terraform-docs&lt;/code&gt; or &lt;code&gt;brew install terraform-docs&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing&lt;/h2&gt;
&lt;p&gt;Report issues/questions/feature requests on in the &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/issues/new"&gt;issues&lt;/a&gt; section.&lt;/p&gt;
&lt;p&gt;Full contributing &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/blob/master/CONTRIBUTING.md"&gt;guidelines are covered here&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-change-log" class="anchor" aria-hidden="true" href="#change-log"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Change log&lt;/h2&gt;
&lt;p&gt;The &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/tree/master/CHANGELOG.md"&gt;changelog&lt;/a&gt; captures all important release notes.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-authors" class="anchor" aria-hidden="true" href="#authors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Authors&lt;/h2&gt;
&lt;p&gt;Created by &lt;a href="https://github.com/brandoconnor"&gt;Brandon O'Connor&lt;/a&gt; - &lt;a href="mailto:brandon@atscale.run"&gt;brandon@atscale.run&lt;/a&gt;.
Maintained by &lt;a href="https://github.com/max-rocket-internet"&gt;Max Williams&lt;/a&gt; and &lt;a href="https://github.com/barryib"&gt;Thierno IB. BARRY&lt;/a&gt;.
Many thanks to &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/graphs/contributors"&gt;the contributors listed here&lt;/a&gt;!&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;MIT Licensed. See &lt;a href="https://github.com/terraform-aws-modules/terraform-aws-eks/tree/master/LICENSE"&gt;LICENSE&lt;/a&gt; for full details.&lt;/p&gt;

&lt;h2&gt;&lt;a id="user-content-inputs" class="anchor" aria-hidden="true" href="#inputs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Inputs&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;th align="center"&gt;Type&lt;/th&gt;
&lt;th align="center"&gt;Default&lt;/th&gt;
&lt;th align="center"&gt;Required&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;attach_worker_autoscaling_policy&lt;/td&gt;
&lt;td&gt;Whether to attach the module managed cluster autoscaling iam policy to the default worker IAM role. This requires &lt;code&gt;manage_worker_autoscaling_policy = true&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;attach_worker_cni_policy&lt;/td&gt;
&lt;td&gt;Whether to attach the Amazon managed &lt;code&gt;AmazonEKS_CNI_Policy&lt;/code&gt; IAM policy to the default worker IAM role. WARNING: If set &lt;code&gt;false&lt;/code&gt; the permissions must be assigned to the &lt;code&gt;aws-node&lt;/code&gt; DaemonSet pods via another method or nodes will not be able to join the cluster.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_create_timeout&lt;/td&gt;
&lt;td&gt;Timeout value when creating the EKS cluster.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"15m"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_delete_timeout&lt;/td&gt;
&lt;td&gt;Timeout value when deleting the EKS cluster.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"15m"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_enabled_log_types&lt;/td&gt;
&lt;td&gt;A list of the desired control plane logging to enable. For more information, see Amazon EKS Control Plane Logging documentation (&lt;a href="https://docs.aws.amazon.com/eks/latest/userguide/control-plane-logs.html" rel="nofollow"&gt;https://docs.aws.amazon.com/eks/latest/userguide/control-plane-logs.html&lt;/a&gt;)&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_endpoint_private_access&lt;/td&gt;
&lt;td&gt;Indicates whether or not the Amazon EKS private API server endpoint is enabled.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_endpoint_public_access&lt;/td&gt;
&lt;td&gt;Indicates whether or not the Amazon EKS public API server endpoint is enabled.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_iam_role_name&lt;/td&gt;
&lt;td&gt;IAM role name for the cluster. Only applicable if manage_cluster_iam_resources is set to false.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_log_kms_key_id&lt;/td&gt;
&lt;td&gt;If a KMS Key ARN is set, this key will be used to encrypt the corresponding log group. Please be sure that the KMS Key has an appropriate key policy (&lt;a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/encrypt-log-data-kms.html" rel="nofollow"&gt;https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/encrypt-log-data-kms.html&lt;/a&gt;)&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_log_retention_in_days&lt;/td&gt;
&lt;td&gt;Number of days to retain log events. Default retention - 90 days.&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"90"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_name&lt;/td&gt;
&lt;td&gt;Name of the EKS cluster. Also used as a prefix in names of related resources.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_security_group_id&lt;/td&gt;
&lt;td&gt;If provided, the EKS cluster will be attached to this security group. If not given, a security group will be created with necessary ingress/egress to work with the workers&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_version&lt;/td&gt;
&lt;td&gt;Kubernetes version to use for the EKS cluster.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"1.14"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;config_output_path&lt;/td&gt;
&lt;td&gt;Where to save the Kubectl config file (if &lt;code&gt;write_kubeconfig = true&lt;/code&gt;). Assumed to be a directory if the value ends with a forward slash &lt;code&gt;/&lt;/code&gt;.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"./"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;create_eks&lt;/td&gt;
&lt;td&gt;Controls if EKS resources should be created (it affects almost all resources)&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;eks_oidc_root_ca_thumbprint&lt;/td&gt;
&lt;td&gt;Thumbprint of Root CA for EKS OIDC, Valid until 2037&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"9e99a48a9960b14926bb7f3b02e22da2b0ab7280"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;enable_irsa&lt;/td&gt;
&lt;td&gt;Whether to create OpenID Connect Provider for EKS to enable IRSA&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iam_path&lt;/td&gt;
&lt;td&gt;If provided, all IAM roles will be created on this path.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"/"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kubeconfig_aws_authenticator_additional_args&lt;/td&gt;
&lt;td&gt;Any additional arguments to pass to the authenticator such as the role to assume. e.g. ["-r", "MyEksRole"].&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kubeconfig_aws_authenticator_command&lt;/td&gt;
&lt;td&gt;Command to use to fetch AWS EKS credentials.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"aws-iam-authenticator"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kubeconfig_aws_authenticator_command_args&lt;/td&gt;
&lt;td&gt;Default arguments passed to the authenticator command. Defaults to [token -i $cluster_name].&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kubeconfig_aws_authenticator_env_variables&lt;/td&gt;
&lt;td&gt;Environment variables that should be used when executing the authenticator. e.g. { AWS_PROFILE = "eks"}.&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kubeconfig_name&lt;/td&gt;
&lt;td&gt;Override the default name used for items kubeconfig.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;local_exec_interpreter&lt;/td&gt;
&lt;td&gt;Command to run for local-exec resources. Must be a shell-style interpreter. If you are on Windows Git Bash is a good choice.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[ "/bin/sh", "-c" ]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;manage_aws_auth&lt;/td&gt;
&lt;td&gt;Whether to apply the aws-auth configmap file.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;manage_cluster_iam_resources&lt;/td&gt;
&lt;td&gt;Whether to let the module manage cluster IAM resources. If set to false, cluster_iam_role_name must be specified.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;manage_worker_autoscaling_policy&lt;/td&gt;
&lt;td&gt;Whether to let the module manage the cluster autoscaling iam policy.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;manage_worker_iam_resources&lt;/td&gt;
&lt;td&gt;Whether to let the module manage worker IAM resources. If set to false, iam_instance_profile_name must be specified for workers.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;map_accounts&lt;/td&gt;
&lt;td&gt;Additional AWS account numbers to add to the aws-auth configmap. See examples/basic/variables.tf for example format.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;map_roles&lt;/td&gt;
&lt;td&gt;Additional IAM roles to add to the aws-auth configmap. See examples/basic/variables.tf for example format.&lt;/td&gt;
&lt;td align="center"&gt;object&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;map_users&lt;/td&gt;
&lt;td&gt;Additional IAM users to add to the aws-auth configmap. See examples/basic/variables.tf for example format.&lt;/td&gt;
&lt;td align="center"&gt;object&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;node_groups&lt;/td&gt;
&lt;td&gt;A list of maps defining node group configurations to be defined using AWS EKS Managed Node Groups. See workers_group_defaults for valid keys.&lt;/td&gt;
&lt;td align="center"&gt;any&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;permissions_boundary&lt;/td&gt;
&lt;td&gt;If provided, all IAM roles will be created with this permissions boundary attached.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"null"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;subnets&lt;/td&gt;
&lt;td&gt;A list of subnets to place the EKS cluster and workers within.&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tags&lt;/td&gt;
&lt;td&gt;A map of tags to add to all resources.&lt;/td&gt;
&lt;td align="center"&gt;map(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;vpc_id&lt;/td&gt;
&lt;td&gt;VPC where the cluster and workers will be deployed.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;n/a&lt;/td&gt;
&lt;td align="center"&gt;yes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_additional_security_group_ids&lt;/td&gt;
&lt;td&gt;A list of additional security group ids to attach to worker instances&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_ami_name_filter&lt;/td&gt;
&lt;td&gt;Name filter for AWS EKS worker AMI. If not provided, the latest official AMI for the specified 'cluster_version' is used.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_ami_name_filter_windows&lt;/td&gt;
&lt;td&gt;Name filter for AWS EKS Windows worker AMI. If not provided, the latest official AMI for the specified 'cluster_version' is used.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_ami_owner_id&lt;/td&gt;
&lt;td&gt;The ID of the owner for the AMI to use for the AWS EKS workers. Valid values are an AWS account ID, 'self' (the current account), or an AWS owner alias (e.g. 'amazon', 'aws-marketplace', 'microsoft').&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"602401143452"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_ami_owner_id_windows&lt;/td&gt;
&lt;td&gt;The ID of the owner for the AMI to use for the AWS EKS Windows workers. Valid values are an AWS account ID, 'self' (the current account), or an AWS owner alias (e.g. 'amazon', 'aws-marketplace', 'microsoft').&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"801119661308"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_create_initial_lifecycle_hooks&lt;/td&gt;
&lt;td&gt;Whether to create initial lifecycle hooks provided in worker groups.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"false"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_groups&lt;/td&gt;
&lt;td&gt;A list of maps defining worker group configurations to be defined using AWS Launch Configurations. See workers_group_defaults for valid keys.&lt;/td&gt;
&lt;td align="center"&gt;any&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_groups_launch_template&lt;/td&gt;
&lt;td&gt;A list of maps defining worker group configurations to be defined using AWS Launch Templates. See workers_group_defaults for valid keys.&lt;/td&gt;
&lt;td align="center"&gt;any&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_security_group_id&lt;/td&gt;
&lt;td&gt;If provided, all workers will be attached to this security group. If not given, a security group will be created with necessary ingress/egress to work with the EKS cluster.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_sg_ingress_from_port&lt;/td&gt;
&lt;td&gt;Minimum port number from which pods will accept communication. Must be changed to a lower value if some pods in your cluster will expose a port lower than 1025 (e.g. 22, 80, or 443).&lt;/td&gt;
&lt;td align="center"&gt;number&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"1025"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;workers_additional_policies&lt;/td&gt;
&lt;td&gt;Additional policies to be added to workers&lt;/td&gt;
&lt;td align="center"&gt;list(string)&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;[]&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;workers_group_defaults&lt;/td&gt;
&lt;td&gt;Override default values for target groups. See workers_group_defaults_defaults in local.tf for valid keys.&lt;/td&gt;
&lt;td align="center"&gt;any&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;{}&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;workers_role_name&lt;/td&gt;
&lt;td&gt;User defined workers role name.&lt;/td&gt;
&lt;td align="center"&gt;string&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;""&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;write_kubeconfig&lt;/td&gt;
&lt;td&gt;Whether to write a Kubectl config file containing the cluster configuration. Saved to &lt;code&gt;config_output_path&lt;/code&gt;.&lt;/td&gt;
&lt;td align="center"&gt;bool&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;"true"&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;no&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-outputs" class="anchor" aria-hidden="true" href="#outputs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Outputs&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;cloudwatch_log_group_name&lt;/td&gt;
&lt;td&gt;Name of cloudwatch log group created&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_arn&lt;/td&gt;
&lt;td&gt;The Amazon Resource Name (ARN) of the cluster.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_certificate_authority_data&lt;/td&gt;
&lt;td&gt;Nested attribute containing certificate-authority-data for your cluster. This is the base64 encoded certificate data required to communicate with your cluster.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_endpoint&lt;/td&gt;
&lt;td&gt;The endpoint for your EKS Kubernetes API.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_iam_role_arn&lt;/td&gt;
&lt;td&gt;IAM role ARN of the EKS cluster.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_iam_role_name&lt;/td&gt;
&lt;td&gt;IAM role name of the EKS cluster.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_id&lt;/td&gt;
&lt;td&gt;The name/id of the EKS cluster.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_oidc_issuer_url&lt;/td&gt;
&lt;td&gt;The URL on the EKS cluster OIDC Issuer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_security_group_id&lt;/td&gt;
&lt;td&gt;Security group ID attached to the EKS cluster.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;cluster_version&lt;/td&gt;
&lt;td&gt;The Kubernetes server version for the EKS cluster.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;config_map_aws_auth&lt;/td&gt;
&lt;td&gt;A kubernetes configuration to authenticate to this EKS cluster.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kubeconfig&lt;/td&gt;
&lt;td&gt;kubectl config file contents for this EKS cluster.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;kubeconfig_filename&lt;/td&gt;
&lt;td&gt;The filename of the generated kubectl config.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;node_groups_iam_role_arns&lt;/td&gt;
&lt;td&gt;IAM role ARNs for EKS node groups&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_autoscaling_policy_arn&lt;/td&gt;
&lt;td&gt;ARN of the worker autoscaling IAM policy if &lt;code&gt;manage_worker_autoscaling_policy = true&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_autoscaling_policy_name&lt;/td&gt;
&lt;td&gt;Name of the worker autoscaling IAM policy if &lt;code&gt;manage_worker_autoscaling_policy = true&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_iam_instance_profile_arns&lt;/td&gt;
&lt;td&gt;default IAM instance profile ARN for EKS worker groups&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_iam_instance_profile_names&lt;/td&gt;
&lt;td&gt;default IAM instance profile name for EKS worker groups&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_iam_role_arn&lt;/td&gt;
&lt;td&gt;default IAM role ARN for EKS worker groups&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_iam_role_name&lt;/td&gt;
&lt;td&gt;default IAM role name for EKS worker groups&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;worker_security_group_id&lt;/td&gt;
&lt;td&gt;Security group ID attached to the EKS workers.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;workers_asg_arns&lt;/td&gt;
&lt;td&gt;IDs of the autoscaling groups containing workers.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;workers_asg_names&lt;/td&gt;
&lt;td&gt;Names of the autoscaling groups containing workers.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;workers_default_ami_id&lt;/td&gt;
&lt;td&gt;ID of the default worker group AMI&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;workers_launch_template_arns&lt;/td&gt;
&lt;td&gt;ARNs of the worker launch templates.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;workers_launch_template_ids&lt;/td&gt;
&lt;td&gt;IDs of the worker launch templates.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;workers_launch_template_latest_versions&lt;/td&gt;
&lt;td&gt;Latest versions of the worker launch templates.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;workers_user_data&lt;/td&gt;
&lt;td&gt;User data of worker groups&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;/article&gt;&lt;/div&gt;</description><author>terraform-aws-modules</author><guid isPermaLink="false">https://github.com/terraform-aws-modules/terraform-aws-eks</guid><pubDate>Sat, 28 Dec 2019 00:02:00 GMT</pubDate></item><item><title>wardviaene/terraform-course #3 in HCL, Today</title><link>https://github.com/wardviaene/terraform-course</link><description>&lt;p&gt;&lt;i&gt;Course files for my Udemy course about Terraform&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-terraform-course" class="anchor" aria-hidden="true" href="#terraform-course"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;terraform-course&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;These files are part of my Udemy course about Terraform&lt;/li&gt;
&lt;li&gt;Course URL: &lt;a href="https://www.udemy.com/learn-devops-infrastructure-automation-with-terraform/?couponCode=TERRAFORM_GIT" rel="nofollow"&gt;https://www.udemy.com/learn-devops-infrastructure-automation-with-terraform/?couponCode=TERRAFORM_GIT&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-compatibility" class="anchor" aria-hidden="true" href="#compatibility"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Compatibility&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;This is the &amp;gt;=terraform-0.12 branch. For compatibility with older versions, use the terraform-0.11 branch.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-demo-overview" class="anchor" aria-hidden="true" href="#demo-overview"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Demo overview&lt;/h1&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Demo Directory&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;first-steps&lt;/td&gt;
&lt;td&gt;First steps&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-1&lt;/td&gt;
&lt;td&gt;First steps: Launching an EC2 instance&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-2&lt;/td&gt;
&lt;td&gt;Using provisioner&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-2b&lt;/td&gt;
&lt;td&gt;Using provisioner on a Windows instance&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-3&lt;/td&gt;
&lt;td&gt;Executing script locally&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-4&lt;/td&gt;
&lt;td&gt;Outputting&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-5&lt;/td&gt;
&lt;td&gt;Data Source&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-6&lt;/td&gt;
&lt;td&gt;Modules&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-7&lt;/td&gt;
&lt;td&gt;AWS VPC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-8&lt;/td&gt;
&lt;td&gt;EC2 instance within VPC with securitygroup&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-9&lt;/td&gt;
&lt;td&gt;EC2 instance with EBS volumes&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-10&lt;/td&gt;
&lt;td&gt;Userdata and cloudinit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-11&lt;/td&gt;
&lt;td&gt;Route53 (DNS)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-12&lt;/td&gt;
&lt;td&gt;RDS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-13&lt;/td&gt;
&lt;td&gt;IAM&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-14&lt;/td&gt;
&lt;td&gt;IAM Roles with S3 bucket&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-15&lt;/td&gt;
&lt;td&gt;Autoscaling&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-16&lt;/td&gt;
&lt;td&gt;Autoscaling with ELB (Elastic Load Balancer)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-17&lt;/td&gt;
&lt;td&gt;Elastic Beanstalk PHP 7 stack with RDS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-18&lt;/td&gt;
&lt;td&gt;Interpolations, VPC module&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;demo-18b&lt;/td&gt;
&lt;td&gt;Project structure, best practices&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;packer-demo&lt;/td&gt;
&lt;td&gt;Build AMIs with Packer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;jenkins-packer-demo&lt;/td&gt;
&lt;td&gt;Demo with jenkins and Packer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;docker-demo-1&lt;/td&gt;
&lt;td&gt;Using ECR - The EC2 Container Registry&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;docker-demo-2&lt;/td&gt;
&lt;td&gt;Using ECS - The EC2 Container Service&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;docker-demo-3&lt;/td&gt;
&lt;td&gt;Using ECR/ECS with Jenkins in a complete workflow&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;module-demo&lt;/td&gt;
&lt;td&gt;Using ECS + ALB in 4 modules to show how developing terraform modules work&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>wardviaene</author><guid isPermaLink="false">https://github.com/wardviaene/terraform-course</guid><pubDate>Sat, 28 Dec 2019 00:03:00 GMT</pubDate></item><item><title>kubernetes-sigs/kubespray #4 in HCL, Today</title><link>https://github.com/kubernetes-sigs/kubespray</link><description>&lt;p&gt;&lt;i&gt;Deploy a Production Ready Kubernetes Cluster&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-deploy-a-production-ready-kubernetes-cluster" class="anchor" aria-hidden="true" href="#deploy-a-production-ready-kubernetes-cluster"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deploy a Production Ready Kubernetes Cluster&lt;/h1&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://raw.githubusercontent.com/kubernetes-sigs/kubespray/master/docs/img/kubernetes-logo.png"&gt;&lt;img src="https://raw.githubusercontent.com/kubernetes-sigs/kubespray/master/docs/img/kubernetes-logo.png" alt="Kubernetes Logo" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If you have questions, check the &lt;a href="https://kubespray.io" rel="nofollow"&gt;documentation&lt;/a&gt; and join us on the &lt;a href="https://kubernetes.slack.com" rel="nofollow"&gt;kubernetes slack&lt;/a&gt;, channel &lt;strong&gt;#kubespray&lt;/strong&gt;.
You can get your invite &lt;a href="http://slack.k8s.io/" rel="nofollow"&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Can be deployed on &lt;strong&gt;AWS, GCE, Azure, OpenStack, vSphere, Packet (bare metal), Oracle Cloud Infrastructure (Experimental), or Baremetal&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Highly available&lt;/strong&gt; cluster&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Composable&lt;/strong&gt; (Choice of the network plugin for instance)&lt;/li&gt;
&lt;li&gt;Supports most popular &lt;strong&gt;Linux distributions&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Continuous integration tests&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-quick-start" class="anchor" aria-hidden="true" href="#quick-start"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;
&lt;p&gt;To deploy the cluster you can use :&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-ansible" class="anchor" aria-hidden="true" href="#ansible"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ansible&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h4&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;# &lt;span class="pl-s1"&gt;Install dependencies from &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;requirements.txt&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;sudo pip install -r requirements.txt&lt;/span&gt;

# &lt;span class="pl-s1"&gt;Copy &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;inventory/sample&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt; as &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;inventory/mycluster&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;cp -rfp inventory/sample inventory/mycluster&lt;/span&gt;

# &lt;span class="pl-s1"&gt;Update Ansible inventory file with inventory builder&lt;/span&gt;
&lt;span class="pl-c1"&gt;declare -a IPS=(10.10.1.3 10.10.1.4 10.10.1.5)&lt;/span&gt;
&lt;span class="pl-c1"&gt;CONFIG_FILE=inventory/mycluster/hosts.yaml python3 contrib/inventory_builder/inventory.py ${IPS[@]}&lt;/span&gt;

# &lt;span class="pl-s1"&gt;Review and change parameters under &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;inventory/mycluster/group_vars&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;cat inventory/mycluster/group_vars/all/all.yml&lt;/span&gt;
&lt;span class="pl-c1"&gt;cat inventory/mycluster/group_vars/k8s-cluster/k8s-cluster.yml&lt;/span&gt;

# &lt;span class="pl-s1"&gt;Deploy Kubespray with Ansible Playbook - run the playbook as root&lt;/span&gt;
# &lt;span class="pl-s1"&gt;The option &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;--become&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt; is required, as &lt;span class="pl-k"&gt;for&lt;/span&gt; &lt;span class="pl-smi"&gt;example writing SSL keys&lt;/span&gt; &lt;span class="pl-k"&gt;in&lt;/span&gt; /etc/,&lt;/span&gt;
# &lt;span class="pl-s1"&gt;installing packages and interacting with various systemd daemons.&lt;/span&gt;
# &lt;span class="pl-s1"&gt;Without --become the playbook will fail to run&lt;span class="pl-k"&gt;!&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c1"&gt;ansible-playbook -i inventory/mycluster/hosts.yaml  --become --become-user=root cluster.yml&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note: When Ansible is already installed via system packages on the control machine, other python packages installed via &lt;code&gt;sudo pip install -r requirements.txt&lt;/code&gt; will go to a different directory tree (e.g. &lt;code&gt;/usr/local/lib/python2.7/dist-packages&lt;/code&gt; on Ubuntu) from Ansible's (e.g. &lt;code&gt;/usr/lib/python2.7/dist-packages/ansible&lt;/code&gt; still on Ubuntu).
As a consequence, &lt;code&gt;ansible-playbook&lt;/code&gt; command will fail with:&lt;/p&gt;
&lt;pre lang="raw"&gt;&lt;code&gt;ERROR! no action detected in task. This often indicates a misspelled module name, or incorrect module path.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;probably pointing on a task depending on a module present in requirements.txt (i.e. "unseal vault").&lt;/p&gt;
&lt;p&gt;One way of solving this would be to uninstall the Ansible package and then, to install it via pip but it is not always possible.
A workaround consists of setting &lt;code&gt;ANSIBLE_LIBRARY&lt;/code&gt; and &lt;code&gt;ANSIBLE_MODULE_UTILS&lt;/code&gt; environment variables respectively to the &lt;code&gt;ansible/modules&lt;/code&gt; and &lt;code&gt;ansible/module_utils&lt;/code&gt; subdirectories of pip packages installation location, which can be found in the Location field of the output of &lt;code&gt;pip show [package]&lt;/code&gt; before executing &lt;code&gt;ansible-playbook&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-vagrant" class="anchor" aria-hidden="true" href="#vagrant"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Vagrant&lt;/h3&gt;
&lt;p&gt;For Vagrant we need to install python dependencies for provisioning tasks.
Check if Python and pip are installed:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;python -V &amp;amp;&amp;amp; pip -V&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If this returns the version of the software, you're good to go. If not, download and install Python from here &lt;a href="https://www.python.org/downloads/source/" rel="nofollow"&gt;https://www.python.org/downloads/source/&lt;/a&gt;
Install the necessary requirements&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;sudo pip install -r requirements.txt&lt;/span&gt;
&lt;span class="pl-c1"&gt;vagrant up&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-documents" class="anchor" aria-hidden="true" href="#documents"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Documents&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#requirements"&gt;Requirements&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/comparisons.md"&gt;Kubespray vs ...&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/getting-started.md"&gt;Getting started&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/ansible.md"&gt;Ansible inventory and tags&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/integration.md"&gt;Integration with existing ansible repo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/vars.md"&gt;Deployment data variables&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/dns-stack.md"&gt;DNS stack&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/ha-mode.md"&gt;HA mode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#network-plugins"&gt;Network plugins&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/vagrant.md"&gt;Vagrant install&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/coreos.md"&gt;CoreOS bootstrap&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/debian.md"&gt;Debian Jessie setup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/opensuse.md"&gt;openSUSE setup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/downloads.md"&gt;Downloaded artifacts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/cloud.md"&gt;Cloud providers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/openstack.md"&gt;OpenStack&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/aws.md"&gt;AWS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/azure.md"&gt;Azure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/vsphere.md"&gt;vSphere&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/packet.md"&gt;Packet Host&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/large-deployments.md"&gt;Large deployments&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/upgrades.md"&gt;Upgrades basics&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/roadmap.md"&gt;Roadmap&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-supported-linux-distributions" class="anchor" aria-hidden="true" href="#supported-linux-distributions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Supported Linux Distributions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Container Linux by CoreOS&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Debian&lt;/strong&gt; Buster, Jessie, Stretch, Wheezy&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ubuntu&lt;/strong&gt; 16.04, 18.04&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CentOS/RHEL&lt;/strong&gt; 7&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Fedora&lt;/strong&gt; 28&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Fedora/CentOS&lt;/strong&gt; Atomic&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;openSUSE&lt;/strong&gt; Leap 42.3/Tumbleweed&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Oracle Linux&lt;/strong&gt; 7&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note: Upstart/SysV init based OS types are not supported.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-supported-components" class="anchor" aria-hidden="true" href="#supported-components"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Supported Components&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Core
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/kubernetes/kubernetes"&gt;kubernetes&lt;/a&gt; v1.16.3&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/coreos/etcd"&gt;etcd&lt;/a&gt; v3.3.10&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.docker.com/" rel="nofollow"&gt;docker&lt;/a&gt; v18.06 (see note)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://cri-o.io/" rel="nofollow"&gt;cri-o&lt;/a&gt; v1.14.0 (experimental: see &lt;a href="docs/cri-o.md"&gt;CRI-O Note&lt;/a&gt;. Only on centos based OS)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Network Plugin
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/containernetworking/plugins"&gt;cni-plugins&lt;/a&gt; v0.8.1&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/projectcalico/calico"&gt;calico&lt;/a&gt; v3.7.3&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/projectcalico/canal"&gt;canal&lt;/a&gt; (given calico/flannel versions)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/cilium/cilium"&gt;cilium&lt;/a&gt; v1.5.5&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/contiv/install"&gt;contiv&lt;/a&gt; v1.2.1&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/coreos/flannel"&gt;flanneld&lt;/a&gt; v0.11.0&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/cloudnativelabs/kube-router"&gt;kube-router&lt;/a&gt; v0.2.5&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/intel/multus-cni"&gt;multus&lt;/a&gt; v3.2.1&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/weaveworks/weave"&gt;weave&lt;/a&gt; v2.5.2&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Application
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/kubernetes-incubator/external-storage"&gt;cephfs-provisioner&lt;/a&gt; v2.1.0-k8s1.11&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kubernetes-incubator/external-storage"&gt;rbd-provisioner&lt;/a&gt; v2.1.1-k8s1.11&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jetstack/cert-manager"&gt;cert-manager&lt;/a&gt; v0.11.0&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/coredns/coredns"&gt;coredns&lt;/a&gt; v1.6.0&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kubernetes/ingress-nginx"&gt;ingress-nginx&lt;/a&gt; v0.26.1&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note: The list of validated &lt;a href="https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG-1.16.md"&gt;docker versions&lt;/a&gt; was updated to 1.13.1, 17.03, 17.06, 17.09, 18.06, 18.09. kubeadm now properly recognizes Docker 18.09.0 and newer, but still treats 18.06 as the default supported version. The kubelet might break on docker's non-standard version numbering (it no longer uses semantic versioning). To ensure auto-updates don't break your cluster look into e.g. yum versionlock plugin or apt pin).&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-requirements" class="anchor" aria-hidden="true" href="#requirements"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Requirements&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Minimum required version of Kubernetes is v1.15&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ansible v2.7.8 and python-netaddr is installed on the machine that will run Ansible commands&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Jinja 2.9 (or newer) is required to run the Ansible Playbooks&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;The target servers must have &lt;strong&gt;access to the Internet&lt;/strong&gt; in order to pull docker images. Otherwise, additional configuration is required (See &lt;a href="https://github.com/kubernetes-sigs/kubespray/blob/master/docs/downloads.md#offline-environment"&gt;Offline Environment&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;The target servers are configured to allow &lt;strong&gt;IPv4 forwarding&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Your ssh key must be copied&lt;/strong&gt; to all the servers part of your inventory.&lt;/li&gt;
&lt;li&gt;The &lt;strong&gt;firewalls are not managed&lt;/strong&gt;, you'll need to implement your own rules the way you used to.
in order to avoid any issue during deployment you should disable your firewall.&lt;/li&gt;
&lt;li&gt;If kubespray is ran from non-root user account, correct privilege escalation method
should be configured in the target servers. Then the &lt;code&gt;ansible_become&lt;/code&gt; flag
or command parameters &lt;code&gt;--become or -b&lt;/code&gt; should be specified.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Hardware:
These limits are safe guarded by Kubespray. Actual requirements for your workload can differ. For a sizing guide go to the &lt;a href="https://kubernetes.io/docs/setup/cluster-large/#size-of-master-and-master-components" rel="nofollow"&gt;Building Large Clusters&lt;/a&gt; guide.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Master
&lt;ul&gt;
&lt;li&gt;Memory: 1500 MB&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Node
&lt;ul&gt;
&lt;li&gt;Memory: 1024 MB&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-network-plugins" class="anchor" aria-hidden="true" href="#network-plugins"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Network Plugins&lt;/h2&gt;
&lt;p&gt;You can choose between 10 network plugins. (default: &lt;code&gt;calico&lt;/code&gt;, except Vagrant uses &lt;code&gt;flannel&lt;/code&gt;)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/flannel.md"&gt;flannel&lt;/a&gt;: gre/vxlan (layer 2) networking.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/calico.md"&gt;calico&lt;/a&gt;: bgp (layer 3) networking.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/projectcalico/canal"&gt;canal&lt;/a&gt;: a composition of calico and flannel plugins.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://docs.cilium.io/en/latest/" rel="nofollow"&gt;cilium&lt;/a&gt;: layer 3/4 networking (as well as layer 7 to protect and secure application protocols), supports dynamic insertion of BPF bytecode into the Linux kernel to implement security services, networking and visibility logic.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/contiv.md"&gt;contiv&lt;/a&gt;: supports vlan, vxlan, bgp and Cisco SDN networking. This plugin is able to
apply firewall policies, segregate containers in multiple network and bridging pods onto physical networks.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/weave.md"&gt;weave&lt;/a&gt;: Weave is a lightweight container overlay network that doesn't require an external K/V database cluster.
(Please refer to &lt;code&gt;weave&lt;/code&gt; &lt;a href="https://www.weave.works/docs/net/latest/troubleshooting/" rel="nofollow"&gt;troubleshooting documentation&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/kube-ovn.md"&gt;kube-ovn&lt;/a&gt;: Kube-OVN integrates the OVN-based Network Virtualization with Kubernetes. It offers an advanced Container Network Fabric for Enterprises.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/kube-router.md"&gt;kube-router&lt;/a&gt;: Kube-router is a L3 CNI for Kubernetes networking aiming to provide operational
simplicity and high performance: it uses IPVS to provide Kube Services Proxy (if setup to replace kube-proxy),
iptables for network policies, and BGP for ods L3 networking (with optionally BGP peering with out-of-cluster BGP peers).
It can also optionally advertise routes to Kubernetes cluster Pods CIDRs, ClusterIPs, ExternalIPs and LoadBalancerIPs.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/macvlan.md"&gt;macvlan&lt;/a&gt;: Macvlan is a Linux network driver. Pods have their own unique Mac and Ip address, connected directly the physical (layer 2) network.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="docs/multus.md"&gt;multus&lt;/a&gt;: Multus is a meta CNI plugin that provides multiple network interface support to pods. For each interface Multus delegates CNI calls to secondary CNI plugins such as Calico, macvlan, etc.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The choice is defined with the variable &lt;code&gt;kube_network_plugin&lt;/code&gt;. There is also an
option to leverage built-in cloud provider networking instead.
See also &lt;a href="docs/netcheck.md"&gt;Network checker&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-community-docs-and-resources" class="anchor" aria-hidden="true" href="#community-docs-and-resources"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Community docs and resources&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://kubernetes.io/docs/setup/production-environment/tools/kubespray/" rel="nofollow"&gt;kubernetes.io/docs/setup/production-environment/tools/kubespray/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/gregbkr/kubernetes-kargo-logging-monitoring"&gt;kubespray, monitoring and logging&lt;/a&gt; by @gregbkr&lt;/li&gt;
&lt;li&gt;&lt;a href="https://rsmitty.github.io/Terraform-Ansible-Kubernetes/" rel="nofollow"&gt;Deploy Kubernetes w/ Ansible &amp;amp; Terraform&lt;/a&gt; by @rsmitty&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=N9q51JgbWu8" rel="nofollow"&gt;Deploy a Kubernetes Cluster with Kubespray (video)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-tools-and-projects-on-top-of-kubespray" class="anchor" aria-hidden="true" href="#tools-and-projects-on-top-of-kubespray"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Tools and projects on top of Kubespray&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/digitalrebar/provision/blob/v4/doc/integrations/ansible.rst"&gt;Digital Rebar Provision&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kubernetes-sigs/kubespray/tree/master/contrib/terraform"&gt;Terraform Contrib&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-ci-tests" class="anchor" aria-hidden="true" href="#ci-tests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CI Tests&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://gitlab.com/kargo-ci/kubernetes-sigs-kubespray/pipelines" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/a28fbe788ec772a755e3e72243cd072b55090c83/68747470733a2f2f6769746c61622e636f6d2f6b6172676f2d63692f6b756265726e657465732d736967732d6b75626573707261792f6261646765732f6d61737465722f6275696c642e737667" alt="Build graphs" data-canonical-src="https://gitlab.com/kargo-ci/kubernetes-sigs-kubespray/badges/master/build.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;CI/end-to-end tests sponsored by Google (GCE)
See the &lt;a href="docs/test_cases.md"&gt;test matrix&lt;/a&gt; for details.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>kubernetes-sigs</author><guid isPermaLink="false">https://github.com/kubernetes-sigs/kubespray</guid><pubDate>Sat, 28 Dec 2019 00:04:00 GMT</pubDate></item><item><title>pivotal-cf/terraforming-aws #5 in HCL, Today</title><link>https://github.com/pivotal-cf/terraforming-aws</link><description>&lt;p&gt;&lt;i&gt;Templates to deploy PCF and PKS&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-terraforming-aws" class="anchor" aria-hidden="true" href="#terraforming-aws"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Terraforming AWS&lt;/h1&gt;
&lt;h2&gt;&lt;a id="user-content-what-is-this" class="anchor" aria-hidden="true" href="#what-is-this"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What is this?&lt;/h2&gt;
&lt;p&gt;Set of terraform modules for deploying Ops Manager, PAS and PKS infrastructure requirements like:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Friendly DNS entries in Route53&lt;/li&gt;
&lt;li&gt;A RDS instance (optional)&lt;/li&gt;
&lt;li&gt;A Virtual Private Network (VPC), subnets, Security Groups&lt;/li&gt;
&lt;li&gt;Necessary s3 buckets&lt;/li&gt;
&lt;li&gt;NAT Gateway services&lt;/li&gt;
&lt;li&gt;Network Load Balancers&lt;/li&gt;
&lt;li&gt;An IAM User with proper permissions&lt;/li&gt;
&lt;li&gt;Tagged resources&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note: This is not an exhaustive list of resources created, this will vary depending of your arguments and what you're deploying.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-prerequisites" class="anchor" aria-hidden="true" href="#prerequisites"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Prerequisites&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-terraform-cli" class="anchor" aria-hidden="true" href="#terraform-cli"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Terraform CLI&lt;/h3&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;brew update
brew install terraform&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-aws-permissions" class="anchor" aria-hidden="true" href="#aws-permissions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;AWS Permissions&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;AmazonEC2FullAccess&lt;/li&gt;
&lt;li&gt;AmazonRDSFullAccess&lt;/li&gt;
&lt;li&gt;AmazonRoute53FullAccess&lt;/li&gt;
&lt;li&gt;AmazonS3FullAccess&lt;/li&gt;
&lt;li&gt;AmazonVPCFullAccess&lt;/li&gt;
&lt;li&gt;IAMFullAccess&lt;/li&gt;
&lt;li&gt;AWSKeyManagementServicePowerUser&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note: You will also need to create a custom policy as the following and add to
the same user:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "KMSKeyDeletionAndUpdate",
            "Effect": "Allow",
            "Action": [
                "kms:UpdateKeyDescription",
                "kms:ScheduleKeyDeletion"
            ],
            "Resource": "*"
        }
    ]
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-are-you-using-platform-automation" class="anchor" aria-hidden="true" href="#are-you-using-platform-automation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Are you using Platform Automation?&lt;/h2&gt;
&lt;p&gt;Be sure to skip the creation of the Ops Manager VM. Do not include the vars listed &lt;a href="/README.md#ops-manager-optional"&gt;here&lt;/a&gt;. If you create your Ops Manager using terraform, you will not be able to manage it with &lt;a href="https://docs.pivotal.io/platform-automation" rel="nofollow"&gt;Platform Automation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Deployment of the infrastructure is still required.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-deploying-infrastructure" class="anchor" aria-hidden="true" href="#deploying-infrastructure"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deploying Infrastructure&lt;/h2&gt;
&lt;p&gt;First, you'll need to clone this repo. Then, depending on if you're deploying PAS or PKS you need to perform the following steps:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;cd&lt;/code&gt; into the proper directory:
&lt;ul&gt;
&lt;li&gt;&lt;a href="terraforming-pas/"&gt;terraforming-pas/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="terraforming-pks/"&gt;terraforming-pks/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="terraforming-control-plane/"&gt;terraforming-control-plane/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Create &lt;a href="/README.md#var-file"&gt;&lt;code&gt;terraform.tfvars&lt;/code&gt;&lt;/a&gt; file&lt;/li&gt;
&lt;li&gt;Populate &lt;a href="/README.md#credentials"&gt;credentials&lt;/a&gt; file or env variables&lt;/li&gt;
&lt;li&gt;Run terraform apply:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;terraform init
terraform plan -out=pcf.tfplan
terraform apply pcf.tfplan&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-var-file" class="anchor" aria-hidden="true" href="#var-file"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Var File&lt;/h3&gt;
&lt;p&gt;Copy the stub content below into a file called &lt;code&gt;terraform.tfvars&lt;/code&gt; and put it in the root of this project.
These vars will be used when you run &lt;code&gt;terraform apply&lt;/code&gt;.
You should fill in the stub values with the correct content.&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-smi"&gt;env_name&lt;/span&gt;           &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;some-environment-name&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;region&lt;/span&gt;             &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;us-west-1&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;availability_zones&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; [&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;us-west-1a&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;, &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;us-west-1c&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;]
&lt;span class="pl-smi"&gt;ops_manager_ami&lt;/span&gt;    &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;ami-4f291f2f&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;rds_instance_count&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;1&lt;/span&gt;
&lt;span class="pl-smi"&gt;dns_suffix&lt;/span&gt;         &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;example.com&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;vpc_cidr&lt;/span&gt;           &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;10.0.0.0/16&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;use_route53&lt;/span&gt;        &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
&lt;span class="pl-smi"&gt;use_ssh_routes&lt;/span&gt;     &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;
&lt;span class="pl-smi"&gt;use_tcp_routes&lt;/span&gt;     &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-c1"&gt;true&lt;/span&gt;

&lt;span class="pl-smi"&gt;ssl_cert&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;&amp;lt;&amp;lt;&lt;span class="pl-k"&gt;EOF&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;-----BEGIN CERTIFICATE-----&lt;/span&gt;
&lt;span class="pl-s"&gt;some cert&lt;/span&gt;
&lt;span class="pl-s"&gt;-----END CERTIFICATE-----&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;EOF&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-smi"&gt;ssl_private_key&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;&amp;lt;&amp;lt;&lt;span class="pl-k"&gt;EOF&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;-----BEGIN RSA PRIVATE KEY-----&lt;/span&gt;
&lt;span class="pl-s"&gt;some cert private key&lt;/span&gt;
&lt;span class="pl-s"&gt;-----END RSA PRIVATE KEY-----&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;EOF&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-smi"&gt;tags&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; {
    &lt;span class="pl-smi"&gt;Team&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;Dev&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
    &lt;span class="pl-smi"&gt;Project&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;WebApp3&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-credentials" class="anchor" aria-hidden="true" href="#credentials"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Credentials&lt;/h3&gt;
&lt;p&gt;Create a &lt;code&gt;credentials.yml&lt;/code&gt; file with the following contents:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;provider "aws" {
  access_key = "YOUR_AWS_ACCESS_KEY"
  secret_key = "YOUR_AWS_SECRET_KEY"
  region     = "YOUR_AWS_REGION"
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Alternatively, populate the following environment variables before running the &lt;code&gt;terraform plan&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ export AWS_ACCESS_KEY_ID="anaccesskey"
$ export AWS_SECRET_ACCESS_KEY="asecretkey"
$ export AWS_DEFAULT_REGION="us-west-2"
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;See Terraform documentation on the &lt;a href="https://www.terraform.io/docs/providers/aws/" rel="nofollow"&gt;AWS Provider&lt;/a&gt; for more ways on providing credentials, especially if using &lt;a href="https://www.terraform.io/docs/providers/aws/#ec2-role" rel="nofollow"&gt;EC2 Roles&lt;/a&gt; or &lt;a href="https://www.terraform.io/docs/providers/aws/#environment-variables" rel="nofollow"&gt;&lt;code&gt;AWS_SESSION_TOKEN&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-variables" class="anchor" aria-hidden="true" href="#variables"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Variables&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;env_name: &lt;strong&gt;(required)&lt;/strong&gt; An arbitrary unique name for namespacing resources&lt;/li&gt;
&lt;li&gt;region: &lt;strong&gt;(required)&lt;/strong&gt; Region you want to deploy your resources to&lt;/li&gt;
&lt;li&gt;availability_zones: &lt;strong&gt;(required)&lt;/strong&gt; List of AZs you want to deploy to&lt;/li&gt;
&lt;li&gt;dns_suffix: &lt;strong&gt;(required)&lt;/strong&gt; Domain to add environment subdomain to&lt;/li&gt;
&lt;li&gt;hosted_zone: &lt;strong&gt;(optional)&lt;/strong&gt; Parent domain &lt;em&gt;already&lt;/em&gt; managed by Route53. If specified, the DNS records will be added to this Route53 zone instead of a new zone.&lt;/li&gt;
&lt;li&gt;ssl_cert: &lt;strong&gt;(optional)&lt;/strong&gt; SSL certificate for HTTP load balancer configuration. Required unless &lt;code&gt;ssl_ca_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;li&gt;ssl_private_key: &lt;strong&gt;(optional)&lt;/strong&gt; Private key for above SSL certificate. Required unless &lt;code&gt;ssl_ca_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;li&gt;ssl_ca_cert: &lt;strong&gt;(optional)&lt;/strong&gt; SSL CA certificate used to generate self-signed HTTP load balancer certificate. Required unless &lt;code&gt;ssl_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;li&gt;ssl_ca_private_key: &lt;strong&gt;(optional)&lt;/strong&gt; Private key for above SSL CA certificate. Required unless &lt;code&gt;ssl_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;li&gt;tags: &lt;strong&gt;(optional)&lt;/strong&gt; A map of AWS tags that are applied to the created resources. By default, the following tags are set: Application = Cloud Foundry, Environment = $env_name&lt;/li&gt;
&lt;li&gt;vpc_cidr: &lt;strong&gt;(default: 10.0.0.0/16)&lt;/strong&gt; Internal CIDR block for the AWS VPC.&lt;/li&gt;
&lt;li&gt;use_route53: &lt;strong&gt;(default: true)&lt;/strong&gt; Controls whether or not Route53 DNS resources are created.&lt;/li&gt;
&lt;li&gt;use_ssh_routes: &lt;strong&gt;(default: true)&lt;/strong&gt; Enable ssh routing&lt;/li&gt;
&lt;li&gt;use_tcp_routes: &lt;strong&gt;(default: true)&lt;/strong&gt; Controls whether or not tcp routing is enabled.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-ops-manager-optional" class="anchor" aria-hidden="true" href="#ops-manager-optional"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ops Manager (optional)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ops_manager_ami: &lt;strong&gt;(optional)&lt;/strong&gt;  Ops Manager AMI, get the right AMI according to your region from the AWS guide downloaded from &lt;a href="https://network.pivotal.io/products/ops-manager" rel="nofollow"&gt;Pivotal Network&lt;/a&gt; (if set to &lt;code&gt;""&lt;/code&gt; no Ops Manager VM will be created)&lt;/li&gt;
&lt;li&gt;optional_ops_manager_ami: &lt;strong&gt;(optional)&lt;/strong&gt;  Additional Ops Manager AMI, get the right AMI according to your region from the AWS guide downloaded from &lt;a href="https://network.pivotal.io/products/ops-manager" rel="nofollow"&gt;Pivotal Network&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ops_manager_instance_type: &lt;strong&gt;(default: m4.large)&lt;/strong&gt; Ops Manager instance type&lt;/li&gt;
&lt;li&gt;ops_manager_private: &lt;strong&gt;(default: false)&lt;/strong&gt; Set to true if you want Ops Manager deployed in a private subnet instead of a public subnet&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-s3-buckets-optional-pas-only" class="anchor" aria-hidden="true" href="#s3-buckets-optional-pas-only"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;S3 Buckets (optional) (PAS only)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;create_backup_pas_buckets: &lt;strong&gt;(default: false)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;create_versioned_pas_buckets: &lt;strong&gt;(default: false)&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-rds-optional" class="anchor" aria-hidden="true" href="#rds-optional"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;RDS (optional)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;rds_instance_count: &lt;strong&gt;(default: 0)&lt;/strong&gt; Whether or not you would like an RDS for your deployment&lt;/li&gt;
&lt;li&gt;rds_instance_class: &lt;strong&gt;(default: db.m4.large)&lt;/strong&gt; Size of the RDS to deploy&lt;/li&gt;
&lt;li&gt;rds_db_username: &lt;strong&gt;(default: admin)&lt;/strong&gt; Username for RDS authentication&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-isolation-segments-optional--pas-only" class="anchor" aria-hidden="true" href="#isolation-segments-optional--pas-only"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Isolation Segments (optional)  (PAS only)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;create_isoseg_resources &lt;strong&gt;(optional)&lt;/strong&gt; Set to 1 to create HTTP load-balancer across 3 zones for isolation segments.&lt;/li&gt;
&lt;li&gt;isoseg_ssl_cert: &lt;strong&gt;(optional)&lt;/strong&gt; SSL certificate for Iso Seg HTTP load balancer configuration. Required unless &lt;code&gt;isoseg_ssl_ca_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;li&gt;isoseg_ssl_private_key: &lt;strong&gt;(optional)&lt;/strong&gt; Private key for above SSL certificate. Required unless &lt;code&gt;isoseg_ssl_ca_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;li&gt;isoseg_ssl_ca_cert: &lt;strong&gt;(optional)&lt;/strong&gt; SSL CA certificate used to generate self-signed Iso Seg HTTP load balancer certificate. Required unless &lt;code&gt;isoseg_ssl_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;li&gt;isoseg_ssl_ca_private_key: &lt;strong&gt;(optional)&lt;/strong&gt; Private key for above SSL CA certificate. Required unless &lt;code&gt;isoseg_ssl_cert&lt;/code&gt; is specified.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-notes" class="anchor" aria-hidden="true" href="#notes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Notes&lt;/h2&gt;
&lt;p&gt;You can choose whether you would like an RDS or not. By default we have
&lt;code&gt;rds_instance_count&lt;/code&gt; set to &lt;code&gt;0&lt;/code&gt; but setting it to &lt;code&gt;1&lt;/code&gt; will deploy an RDS instance.&lt;/p&gt;
&lt;p&gt;Note: RDS instances take a long time to deploy, keep that in mind. They're not required.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-tearing-down-environment" class="anchor" aria-hidden="true" href="#tearing-down-environment"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Tearing down environment&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; This will only destroy resources deployed by Terraform. You will need to clean up anything deployed on top of that infrastructure yourself (e.g. by running &lt;code&gt;om delete-installation&lt;/code&gt;)&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;terraform destroy&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-looking-to-setup-a-different-iaas" class="anchor" aria-hidden="true" href="#looking-to-setup-a-different-iaas"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Looking to setup a different IaaS&lt;/h2&gt;
&lt;p&gt;We have have other terraform templates:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/pivotal-cf/terraforming-azure"&gt;Azure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/pivotal-cf/terraforming-gcp"&gt;Google Cloud Platform&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/pivotal-cf/terraforming-vsphere"&gt;vSphere&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/pivotal-cf/terraforming-openstack"&gt;OpenStack&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>pivotal-cf</author><guid isPermaLink="false">https://github.com/pivotal-cf/terraforming-aws</guid><pubDate>Sat, 28 Dec 2019 00:05:00 GMT</pubDate></item><item><title>pivotal-cf/terraforming-azure #6 in HCL, Today</title><link>https://github.com/pivotal-cf/terraforming-azure</link><description>&lt;p&gt;&lt;i&gt;use terraform, deploy yourself a pcf&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-terraforming-azure" class="anchor" aria-hidden="true" href="#terraforming-azure"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Terraforming Azure&lt;/h1&gt;
&lt;h2&gt;&lt;a id="user-content-how-does-one-use-this" class="anchor" aria-hidden="true" href="#how-does-one-use-this"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How Does One Use This?&lt;/h2&gt;
&lt;p&gt;Please note that the master branch is generally &lt;em&gt;unstable&lt;/em&gt;. If you are looking for something "tested", please consume one of our &lt;a href="https://github.com/pivotal-cf/terraforming-azure/releases"&gt;releases&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-what-does-this-do" class="anchor" aria-hidden="true" href="#what-does-this-do"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What Does This Do?&lt;/h2&gt;
&lt;p&gt;Will go from zero to having a deployed ops-manager. You'll get networking, a storage account, and
a booted ops-manager VM.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-looking-to-setup-a-different-iaas" class="anchor" aria-hidden="true" href="#looking-to-setup-a-different-iaas"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Looking to setup a different IAAS&lt;/h2&gt;
&lt;p&gt;We have other terraform templates to help you!&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/pivotal-cf/terraforming-aws"&gt;aws&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/pivotal-cf/terraforming-gcp"&gt;gcp&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-prerequisites" class="anchor" aria-hidden="true" href="#prerequisites"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Prerequisites&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://learn.hashicorp.com/terraform/getting-started/install.html" rel="nofollow"&gt;terraform&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://azure.microsoft.com/en-us/documentation/articles/xplat-cli-install/" rel="nofollow"&gt;azure cli&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;brew update
brew install terraform
brew install az
brew install jq&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-creating-a-service-principal" class="anchor" aria-hidden="true" href="#creating-a-service-principal"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Creating A Service Principal&lt;/h2&gt;
&lt;p&gt;You need a &lt;a href="https://docs.microsoft.com/en-us/cli/azure/create-an-azure-service-principal-azure-cli?view=azure-cli-latest#create-a-service-principal" rel="nofollow"&gt;service principal account&lt;/a&gt;
to deploy anything on top of Azure.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Login.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ az login
$ az account show &lt;span class="pl-k"&gt;|&lt;/span&gt; jq -r &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;.id, .tenantId&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
the-subscription-id
the-tenant-id&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create the service principal where the name is a valid URI.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ az ad sp create-for-rbac --name http://&lt;span class="pl-k"&gt;&amp;lt;&lt;/span&gt;service-principal-name&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; &lt;span class="pl-k"&gt;|&lt;/span&gt; jq -r &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;.appId, .password&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
the-app-id
the-password&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create a &lt;code&gt;terraform.tfvars&lt;/code&gt; file the following:&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-smi"&gt;subscription_id&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;the-subscription-id&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;tenant_id&lt;/span&gt;       &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;the-tenant-id&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;client_id&lt;/span&gt;       &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;the-app-id&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;client_secret&lt;/span&gt;   &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;the-password&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;a id="user-content-are-you-using-platform-automation" class="anchor" aria-hidden="true" href="#are-you-using-platform-automation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Are you using Platform Automation?&lt;/h2&gt;
&lt;p&gt;Be sure to skip the creation of the Ops Manager VM. Do not include the &lt;code&gt;ops_manager_image_uri&lt;/code&gt; var as a &lt;a href="/README.md#variables"&gt;variable&lt;/a&gt;. If you create your Ops Manager using terraform, you will not be able to manage it with &lt;a href="https://docs.pivotal.io/platform-automation" rel="nofollow"&gt;Platform Automation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Deployment of the infrastructure is still required.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-deploying-infrastructure" class="anchor" aria-hidden="true" href="#deploying-infrastructure"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deploying Infrastructure&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Note:&lt;/em&gt; If you're using Platform Automation, be sure to skip this step as explained &lt;a href="/README.md#variables"&gt;here&lt;/a&gt;. If you create your Ops Manager here, you will not be able to manage it with &lt;a href="https://docs.pivotal.io/platform-automation" rel="nofollow"&gt;Platform Automation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Depending if you're deploying PAS or PKS you need to perform the following steps:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;cd&lt;/code&gt; into the proper directory:
&lt;ul&gt;
&lt;li&gt;&lt;a href="terraforming-pas/"&gt;terraforming-pas/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Create &lt;a href="/README.md#var-file"&gt;&lt;code&gt;terraform.tfvars&lt;/code&gt;&lt;/a&gt; file&lt;/li&gt;
&lt;li&gt;Run terraform apply:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;terraform init
terraform plan -out=plan
terraform apply plan&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-var-file" class="anchor" aria-hidden="true" href="#var-file"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Var File&lt;/h3&gt;
&lt;p&gt;Copy the stub content below into a file called &lt;code&gt;terraform.tfvars&lt;/code&gt; and put it in the root of this project.
These vars will be used when you run &lt;code&gt;terraform  apply&lt;/code&gt;.
You should fill in the stub values with the correct content.&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-smi"&gt;subscription_id&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;the-subscription-id&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;tenant_id&lt;/span&gt;       &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;the-tenant-id&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;client_id&lt;/span&gt;       &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;the-app-id&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;client_secret&lt;/span&gt;   &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;the-password&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

&lt;span class="pl-smi"&gt;env_name&lt;/span&gt;              &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;banana&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;ops_manager_image_uri&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;url-to-opsman-image&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;location&lt;/span&gt;              &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;West&lt;/span&gt; &lt;span class="pl-s"&gt;US&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
&lt;span class="pl-smi"&gt;dns_suffix&lt;/span&gt;            &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;domain.com&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; optional. if left blank, will default to the pattern `env_name.dns_suffix`.&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-smi"&gt;dns_subdomain&lt;/span&gt;         &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-variables" class="anchor" aria-hidden="true" href="#variables"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Variables&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;env_name: &lt;strong&gt;(required)&lt;/strong&gt; An arbitrary unique name for namespacing resources&lt;/li&gt;
&lt;li&gt;subscription_id: &lt;strong&gt;(required)&lt;/strong&gt; Azure account subscription id&lt;/li&gt;
&lt;li&gt;tenant_id: &lt;strong&gt;(required)&lt;/strong&gt; Azure account tenant id&lt;/li&gt;
&lt;li&gt;client_id: &lt;strong&gt;(required)&lt;/strong&gt; Azure automation account client id&lt;/li&gt;
&lt;li&gt;client_secret: &lt;strong&gt;(required)&lt;/strong&gt; Azure automation account client secret&lt;/li&gt;
&lt;li&gt;ops_manager_image_uri: &lt;strong&gt;(optional)&lt;/strong&gt; URL for an OpsMan image hosted on Azure (if not provided you get no Ops Manager)&lt;/li&gt;
&lt;li&gt;location: &lt;strong&gt;(required)&lt;/strong&gt; Azure location to stand up environment in&lt;/li&gt;
&lt;li&gt;dns_suffix: &lt;strong&gt;(required)&lt;/strong&gt; Domain to add environment subdomain to&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-optional" class="anchor" aria-hidden="true" href="#optional"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Optional&lt;/h3&gt;
&lt;p&gt;When deploying the isolation segments tile you can optionally route traffic through
a separate domain and load balancer by specifying:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;isolation_segment: &lt;strong&gt;(default false)&lt;/strong&gt; Creates a DNS record and load balancer for
isolation segment network traffic when set to true.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-running" class="anchor" aria-hidden="true" href="#running"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Running&lt;/h2&gt;
&lt;p&gt;Note: please make sure you have created the &lt;code&gt;terraform.tfvars&lt;/code&gt; file above as mentioned.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-standing-up-environment" class="anchor" aria-hidden="true" href="#standing-up-environment"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Standing up environment&lt;/h3&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;terraform init
terraform plan -out=plan
terraform apply plan&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-tearing-down-environment" class="anchor" aria-hidden="true" href="#tearing-down-environment"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Tearing down environment&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; This will only destroy resources deployed by Terraform. You will need to clean up anything deployed on top of that infrastructure yourself (e.g. by running &lt;code&gt;om delete-installation&lt;/code&gt;)&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;terraform destroy&lt;/pre&gt;&lt;/div&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>pivotal-cf</author><guid isPermaLink="false">https://github.com/pivotal-cf/terraforming-azure</guid><pubDate>Sat, 28 Dec 2019 00:06:00 GMT</pubDate></item><item><title>ThoughtWorks-DPS/tf-modules #7 in HCL, Today</title><link>https://github.com/ThoughtWorks-DPS/tf-modules</link><description>&lt;p&gt;&lt;i&gt;Terraform modules for mass consumption&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-tf-modules" class="anchor" aria-hidden="true" href="#tf-modules"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;tf-modules&lt;/h1&gt;
&lt;p&gt;BEFORE PUSHING TO THIS REPO:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;curl https://thoughtworks.github.io/talisman/install.sh &amp;gt; ~/install-talisman.sh
chmod +x ~/install-talisman.sh
cd ~
./install-talisman.sh
[...follow instructions..]
rm ~/install-talisman.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>ThoughtWorks-DPS</author><guid isPermaLink="false">https://github.com/ThoughtWorks-DPS/tf-modules</guid><pubDate>Sat, 28 Dec 2019 00:07:00 GMT</pubDate></item><item><title>skyscrapers/terraform-ecs #8 in HCL, Today</title><link>https://github.com/skyscrapers/terraform-ecs</link><description>&lt;p&gt;&lt;i&gt;Terraform ECS module&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-terraform-ecs" class="anchor" aria-hidden="true" href="#terraform-ecs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;terraform-ecs&lt;/h1&gt;
&lt;p&gt;Terraform ECS module&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-ecs-cluster" class="anchor" aria-hidden="true" href="#ecs-cluster"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ecs-cluster&lt;/h2&gt;
&lt;p&gt;Setup a basic ECS cluster with the needed IAM rights.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-available-variables" class="anchor" aria-hidden="true" href="#available-variables"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Available variables:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;project&lt;/code&gt;]: String(required): Project name&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;environment&lt;/code&gt;]: String(required):  For what environment is this cluster needed (eg staging, production, ...)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-output" class="anchor" aria-hidden="true" href="#output"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Output&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;cluster_name&lt;/code&gt;]: String: The name of the ECS cluster.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cluster_id&lt;/code&gt;]: String: The ID (ARN) of the ECS cluster.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;ecs-instance-profile&lt;/code&gt;]: IAM instance profile that you need to give to your instances.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;ecs_instance_profile_arn&lt;/code&gt;]: IAM instance profile arn that you need to give to your instances.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;ecs-service-role&lt;/code&gt;]: IAM service role for ECS to manage your loadbalancers&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;ecs-instance-role&lt;/code&gt;]: IAM instance role name, useful to attach extra policies&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-example" class="anchor" aria-hidden="true" href="#example"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;module "ecs_cluster" {
  source      = "ecs_cluster"
  project     = "${var.project}"
  environment = "${terraform.env}"
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-repository" class="anchor" aria-hidden="true" href="#repository"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Repository&lt;/h2&gt;
&lt;p&gt;Creates an Elastic Container Registry with associated pull &amp;amp; push policies.
The created pull &amp;amp; push policies can be used as policy attachments on AWS roles.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-available-variables-1" class="anchor" aria-hidden="true" href="#available-variables-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Available variables:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;repository_name&lt;/code&gt;]: String(required): The name of the ECR repository&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;expire_after&lt;/code&gt;]: Integer(optional): The amount of days after which untagged images expire. Set to 0 if you do not want a lifecycle policy. (default: 30)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-output-1" class="anchor" aria-hidden="true" href="#output-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Output&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;repository_url&lt;/code&gt;]: The url to the ECR repository&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;repository_push_policy&lt;/code&gt;]: The id of the push policy to this ECR repository.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;repository_pull_policy&lt;/code&gt;]: The id of the pull policy to this ECR repository.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-example-1" class="anchor" aria-hidden="true" href="#example-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;module "jenkins-repo" {
  source                 = "github.com/skyscrapers/terraform-ecs//repository"
  repository_name        = "jenkins"
  repository_description = "Jenkins Master"
  expire_after           = 14
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-efs" class="anchor" aria-hidden="true" href="#efs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;EFS&lt;/h2&gt;
&lt;p&gt;Creates an Elastic Filesystem, mount points and cloud-config to mount at boot&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-available-variables-2" class="anchor" aria-hidden="true" href="#available-variables-2"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Available variables:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;subnets&lt;/code&gt;]: String(required): The subnets to create the mount point in&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;subnet_amount&lt;/code&gt;]: String(required): The amount of subnets&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;project&lt;/code&gt;]: String(optional): The project to tag EFS (default: "")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;mount_point&lt;/code&gt;]: String(optional): The mount point of EFS on the system (default: /media/efs)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;name&lt;/code&gt;]: String(optional): The name to tag EFS (default: efs)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;security_groups&lt;/code&gt;]: List(optional): The security groups to associate with the mount points (default: [] adds default security group)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-output-2" class="anchor" aria-hidden="true" href="#output-2"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Output&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;cloud_config&lt;/code&gt;]: The cloud config to mount efs at boot&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;dns_name&lt;/code&gt;]: The DNS name of the elastic file system&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;efs_id&lt;/code&gt;]: ID of the EFS&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;kms_key_id&lt;/code&gt;]: KMS key used to encrypt EFS&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;mount_target_ids&lt;/code&gt;]: List of mount target ids&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;mount_target_interface_ids&lt;/code&gt;]: List of mount target interface ids&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-example-2" class="anchor" aria-hidden="true" href="#example-2"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;module "efs" {
  source          = "efs"
  project         = "myproject"
  subnets         = "${module.vpc.private_db}"
  subnet_amount   = 3
  security_groups = ["sg-ac66e1d6"]
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-monitoring" class="anchor" aria-hidden="true" href="#monitoring"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;monitoring&lt;/h2&gt;
&lt;p&gt;Configure prometheus monitoring with alerts in opsgenie for an ECS cluster.
The basic configuration includes the option to scrape for cloudwatch_metrics, and node-exporter metrics.
It also allows to scrape for concourse metrics and to add any custom configuration.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-available-variables-3" class="anchor" aria-hidden="true" href="#available-variables-3"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Available variables:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;environment&lt;/code&gt;]: String(required):  For what environment is this cluster needed (eg staging, production, ...)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;project&lt;/code&gt;]: String(required): The project to tag Monitoring values&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cluster_name&lt;/code&gt;]: String(required): The name of the ECS cluster.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;ecs_service_role&lt;/code&gt;]: String(required): The name of the ECS IAM service role.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;desired_count&lt;/code&gt;]: String(optional): The desired number of replicas of the ECS service for grafana and prometheus. (default: 1)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;prometheus_port&lt;/code&gt;]: String(optional): The port where prometheus listens to (default: 9090)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;vpc_id&lt;/code&gt;]: String(required): The VPC where the ECS cluster is&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;ecs_sg&lt;/code&gt;]: String(required):The ECS security group&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;r53_zone&lt;/code&gt;]: String(required): The DNS zone for prometheus and grafana&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;r53_zone_prefix&lt;/code&gt;]: String(optional): The DNS zone prefix for prometheus and grafana (default: "")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;prometheus_cpu&lt;/code&gt;]: String(optional): The cpu dedicated to prometheus. (default: 0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;prometheus_memory&lt;/code&gt;]: String(optional): The hard limit (in MiB) of memory to present to the container prometheus. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;prometheus_memory_reservation&lt;/code&gt;]: String(optional): The The soft limit (in MiB) of memory to reserve for the container prometheus. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;alertmanager_cpu&lt;/code&gt;]: String(optional): The cpu dedicated to alertmanager. (default: 0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;alertmanager_memory&lt;/code&gt;]: String(optional): The hard limit (in MiB) of memory to present to the container alertmanager. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;alertmanager_memory_reservation&lt;/code&gt;]: String(optional): The The soft limit (in MiB) of memory to reserve for the container alertmanager. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cloudwatch_exporter_cpu&lt;/code&gt;]: String(optional): The cpu dedicated to cloudwatch_exporter. (default: 0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cloudwatch_exporter_memory&lt;/code&gt;]: String(optional): The hard limit (in MiB) of memory to present to the container cloudwatch_exporter. (default: 200)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cloudwatch_exporter_memory_reservation&lt;/code&gt;]: String(optional): The The soft limit (in MiB) of memory to reserve for the container cloudwatch_exporter. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;grafana_cpu&lt;/code&gt;]:String(optional): The cpu dedicated to grafana. (default: 0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;grafana_memory&lt;/code&gt;]:String(optional): The hard limit (in MiB) of memory to present to the container grafana. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;grafana_memory_reservation&lt;/code&gt;]:String(optional): The The soft limit (in MiB) of memory to reserve for the container grafana. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;prometheus_version&lt;/code&gt;]: String(optional): The version of the prometheus docker image . (default: v2.4.0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;alertmanager_version&lt;/code&gt;]: String(optional): The version of the alertmanager docker image . (default: v0.15.1)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cloudwatch_exporter_version&lt;/code&gt;]: String(optional): The version of the cloudwatch exporter docker image . (default: cloudwatch_exporter-0.5.0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;grafana_version&lt;/code&gt;]: String(optional): The version of the grafana's docker image . (default: latest)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;alb_arn&lt;/code&gt;]: String(required): The arn of the alb.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;alb_sg_id&lt;/code&gt;]: String(required): The security group of the alb.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;alb_ssl_cert&lt;/code&gt;]:String(required): The certificate ARN of the alb.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;source_subnet_cidrs&lt;/code&gt;]: List(required): The public CIDRs from where the prometheus monitoring is accessible.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;grafana_port&lt;/code&gt;]: String(optional): The default grafana port the container is listening to. (default: 3000)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;opsgenie_api_key&lt;/code&gt;]: String(required): The opsgenie api key for alerting.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;slack_channel&lt;/code&gt;]:  String(required): The slack channel where the alerts will be sent.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;slack_url&lt;/code&gt;]: String(required): The slack webhook used to access slack alerting.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;concourse_url&lt;/code&gt;]: String(optional): Optional concourse URL to monitor. If not specified concourse won't be monitored. (default:"")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cloudwatch_metrics&lt;/code&gt;]: String(optional): Optional additional metrics scraping jobs. (default:"")
An example metric:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;&amp;lt;EOF
- aws_namespace: AWS/ELB
aws_metric_name: RequestCount
aws_dimensions: [AvailabilityZone, LoadBalancerName]
aws_dimension_select:
  LoadBalancerName: [myLB]
aws_statistics: [Sum]
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;custom_jobs&lt;/code&gt;]: String(optional): Optional additional prometheus scraping jobs (default:"")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;custom_alert_rules&lt;/code&gt;]: String(optional): Optional additional alert rules for alertmanager (default:"")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;efs_subnets&lt;/code&gt;]: List(required): The subnets where we want to deploy the required efs file system&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;mount_point&lt;/code&gt;]: String(optional): The mount point where we want to mount EFS in the ECS nodes. (default:"/monitoring")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;opsgenie_heartbeat&lt;/code&gt;]: String(required): The heartbeat Opsgenie Name for the ECS cluster.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-output-3" class="anchor" aria-hidden="true" href="#output-3"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Output&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;alb_listener&lt;/code&gt;]: The id of the ALB listener created for monitoring.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;efs_mount_point&lt;/code&gt;]: The mount point where we want to mount EFS in the ECS nodes.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;efs_dns_name&lt;/code&gt;]: The EFS DNS name&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;enable_es_exporter&lt;/code&gt;]: Boolean(optional): Enable elasticsearch exporter for monitoring an ES cluster. (default: false)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_exporter_image&lt;/code&gt;]: String(optional): For elasticsearch monitoring, the URI of the docker image to use for the elasticsearch_exporter container (default: justwatch/elasticsearch_exporter)&lt;/li&gt;
&lt;li&gt;[es_exporter_image_version]: String(optional): For elasticsearch monitoring, the docker image version to use for the elasticsearch_exporter container (default: 1.0.2)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_exporter_port&lt;/code&gt;]: String(optional): For elasticsearch monitoring, the port the elasticsearch exporter listens to (default: 9108)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_exporter_path&lt;/code&gt;]: String(optional): For elasticsearch monitoring, the path the elasticsearch exporter will ommit metrics to (default: /metrics)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_monitor_all_nodes&lt;/code&gt;]: Boolean(optional): For elasticsearch monitoring, If true, query stats for all nodes in the cluster, rather than just the exporter is connected to (default: true)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_monitor_all_indices&lt;/code&gt;]: Boolean(optional): For elasticsearch monitoring, If true, query stats for all indices in the cluster (default: true)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_exporter_timeout&lt;/code&gt;]: String(optional): For elasticsearch monitoring, Timeout in seconds for trying to get stats from Elasticsearch (default: 30s)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_exporter_cpu&lt;/code&gt;]: String(optional): The cpu dedicated to elasticsearch_exporter. (default: 0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_exporter_memory&lt;/code&gt;]: String(optional): The hard limit (in MiB) of memory to present to the container elasticsearch_exporter. (default: 200)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_exporter_memory_reservation&lt;/code&gt;]: String(optional): The The soft limit (in MiB) of memory to reserve for the container elasticsearch_exporter. (default: 100)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_uri&lt;/code&gt;]: String(optional): Required if elasticsearch monitoring is enabled, endpoint (host and port) of the Elasticsearch node to be monitored (default: "")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_sg&lt;/code&gt;]: String(optional): Required if elasticsearch monitoring is enabled, Security Group of the Elasticsearch cluster to allow the elasticsearch exporter access to it. (default: 0)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;es_aws_domain&lt;/code&gt;]: String(optional): Required if monitoring an AWS Elasticsearch service cluster , the AWS Elasticsearch domain name, needed for special cloudwatch metrics. (default: "")&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-example-3" class="anchor" aria-hidden="true" href="#example-3"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;module "monitoring" {
  source              = "monitoring"
  environment         = "${terraform.workspace}"
  project             = "${var.project}"
  cluster_name        = "cluster_name"
  ecs_service_role    = "arn:aws:iam:::role/ecs-service-role "
  ecs_sg              = "sg-123456789"
  vpc_id              = "vpc-123456789"
  r53_zone            = "production.example.com"
  alb_arn             = "arn:aws:elasticloadbalancing::::loadbalancer/app/xxxxxxxxxx/xxxxxxxxxxxx"
  alb_sg_id           = "sg-123456789"
  alb_ssl_cert        = "arn:aws:acm:"
  source_subnet_cidrs = ["1.1.1.1/32"]
  slack_channel       = "#example"
  slack_url           = "https://hooks.slack.com/services/xxxxxx/xxxxxxx"
  opsgenie_api_key    = "opsgenie_api_key"
  concourse_url       = "ci.example.com"
  efs_subnets         = ["subnet-12345678"]
  opsgenie_heartbeat  = "TestHeartbeat"
  # Elasticsearch monitoring
  enable_es_exporter = true
  es_uri             = "http://${data.terraform_remote_state.static.elasticsearch_dns[0]}:9200"
  es_sg              = "${data.terraform_remote_state.static.es_sg}"
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-scaling" class="anchor" aria-hidden="true" href="#scaling"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;scaling&lt;/h2&gt;
&lt;p&gt;Setup a ECS cluster and service scaling.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-available-variables-4" class="anchor" aria-hidden="true" href="#available-variables-4"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Available variables:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;cluster_name&lt;/code&gt;]: String(required): The name of the ECS cluster.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;service_name&lt;/code&gt;]: String(required): The name of the ECS service.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;evaluation_periods&lt;/code&gt;]: String(optional): Evaluation period for the cloudwatch alarms (default: 4)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;threshold_down&lt;/code&gt;]: String(optional): Threshold when scaling down needs to happen. (default: 25)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;threshold_up&lt;/code&gt;]: String(optional): Threshold when scaling up needs to happen. (default: 75)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;scale_up_adjustment&lt;/code&gt;]: String(optional): Amount of tasks per check (maximum) that will be added. (default: 1)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;scale_down_adjustment&lt;/code&gt;]: String(optional): Amount of tasks per check (maximum) that will be removed. (default: -1)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;period_down&lt;/code&gt;]: String(optional): How long the threshold needs to be reached before a downscale happens. (default: 120)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;period_up&lt;/code&gt;]: String(optional): How long the threshold needs to be reached before a upscale happens. (default: 60)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;statistic&lt;/code&gt;]: String(optional): On what statistic the scaling needs to be based upon. (default: Average)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;min_capacity&lt;/code&gt;]: String(optional): Minimum amount of ECS task to run for a service. (default: 1)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;max_capacity&lt;/code&gt;]: String(optional): Maximum amount of ECS task to run for a service. (default: 4)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;datapoints_to_alarm_up&lt;/code&gt;]: String(optional): ) The number of datapoints that must be breaching to trigger the alarm to scale up (default: 4)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;datapoints_to_alarm_down&lt;/code&gt;]: String(optional): The number of datapoints that must be breaching to trigger the alarm to scale down (default: 4)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-output-4" class="anchor" aria-hidden="true" href="#output-4"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Output&lt;/h3&gt;
&lt;h3&gt;&lt;a id="user-content-example-4" class="anchor" aria-hidden="true" href="#example-4"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;module "service-scaling" {
  source                   = "scaling"
  cluster_name             = "ecs-production"
  service_name             = "test-service"
  min_capacity             = "2"
  max_capacity             = "10"
  ecs_autoscale_group_name = "asg-production"
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-user-data" class="anchor" aria-hidden="true" href="#user-data"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;user-data&lt;/h2&gt;
&lt;p&gt;Setup a ECS cluster and service user-data.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-available-variables-5" class="anchor" aria-hidden="true" href="#available-variables-5"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Available variables:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;project&lt;/code&gt;]: String(optional): The project to tag EFS (default: "")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;environment&lt;/code&gt;]: String(required):  For what environment is this cluster needed (eg staging, production, ...)&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;cluster_name&lt;/code&gt;]: String(required): The name of the ECS cluster.&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;teleport_version&lt;/code&gt;]: String(optional): The version of Teleport to be used (default: 4.1.1).&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;teleport_server&lt;/code&gt;]: String(optional): the name of the teleport server to connect to(default: "")&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;teleport_auth_token&lt;/code&gt;]: String(optional): Teleport server node token (default: "")&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-output-5" class="anchor" aria-hidden="true" href="#output-5"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Output&lt;/h3&gt;
&lt;h3&gt;&lt;a id="user-content-example-5" class="anchor" aria-hidden="true" href="#example-5"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;module "service-user-data" {
  source                   = "user-data"
  project             = "${var.project}"
  environment         = "${terraform.workspace}"
  teleport_auth_token = "${data.aws_kms_secret.secret.auth_token}"
  teleport_version    = "${var.teleport_version}"
  teleport_server     = "${var.teleport_server}"
  cluster_name        = "${module.ecs_cluster.cluster_name}"
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-cicd" class="anchor" aria-hidden="true" href="#cicd"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CI/CD&lt;/h2&gt;
&lt;p&gt;In the &lt;code&gt;ci&lt;/code&gt; folder you can find some tasks definition for automating deployment with &lt;code&gt;concourse&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-ecs" class="anchor" aria-hidden="true" href="#ecs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ECS&lt;/h3&gt;
&lt;p&gt;This folder contians a script that can be used to automatically update the ecs AMI.
It also contains a concourse task definition that allows to use the script in a concourse pipeline.&lt;/p&gt;
&lt;p&gt;In order to add this task in a pipeline you need to specify the following inputs:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;terraform-ecs&lt;/code&gt;] : This git repo&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;terraform-repo&lt;/code&gt;] : The git repo with the terraform code that contains the ecs cluster&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;ami&lt;/code&gt;] : The ami resource that we want to deploy&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can customize your pipeline with the following params:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;[&lt;code&gt;AWS_ACCESS_KEY_ID&lt;/code&gt;] : The key id to use to authenticate to AWS&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;AWS_SECRET_ACCESS_KEY&lt;/code&gt;] : The secret key to use to authenticate to AWS&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;TF_PROJECT_FOLDER&lt;/code&gt;] : The folder that contains the ecs cluster definition&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;TF_VERSION&lt;/code&gt;] : The terraform version of the project&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;AWS_DEFAULT_REGION&lt;/code&gt;] : The AWS region where the ecs cluster has been deployed&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;TIMEOUT&lt;/code&gt;] : The time the script will wait for the container to migrate to the new instances&lt;/li&gt;
&lt;li&gt;[&lt;code&gt;TF_ENVIRONMENT&lt;/code&gt;] : The terraform workspace to target&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;An example of a concourse pipeline can be found in the &lt;a href="ci/ecs/sample.yml"&gt;example pipeline&lt;/a&gt;&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>skyscrapers</author><guid isPermaLink="false">https://github.com/skyscrapers/terraform-ecs</guid><pubDate>Sat, 28 Dec 2019 00:08:00 GMT</pubDate></item><item><title>gruntwork-io/terraform-kubernetes-helm #9 in HCL, Today</title><link>https://github.com/gruntwork-io/terraform-kubernetes-helm</link><description>&lt;p&gt;&lt;i&gt;Terraform code and scripts for deploying Helm Server (Helm v2) on a Kubernetes cluster. https://www.gruntwork.io&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;p&gt;&lt;a href="https://gruntwork.io/?ref=repo_terraform_kubernetes_helm" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/09a62e7f2dcb8b64a44ff0fd7b7ff7c901640ba2/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6d61696e7461696e656425323062792d6772756e74776f726b2e696f2d2532333538343961362e737667" alt="Maintained by Gruntwork.io" data-canonical-src="https://img.shields.io/badge/maintained%20by-gruntwork.io-%235849a6.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://github.com/gruntwork-io/terraform-kubernetes-helm/releases/latest"&gt;&lt;img src="https://camo.githubusercontent.com/ca57930a0ba19e9f69c189c4f2480ff6c529f24f/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f7461672f6772756e74776f726b2d696f2f7465727261666f726d2d6b756265726e657465732d68656c6d2e7376673f6c6162656c3d6c6174657374" alt="GitHub tag (latest SemVer)" data-canonical-src="https://img.shields.io/github/tag/gruntwork-io/terraform-kubernetes-helm.svg?label=latest" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/626eaf5669319d32dbe5b91ed23601282ce806fc/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f74662d253345253344302e31322e302d626c75652e737667"&gt;&lt;img src="https://camo.githubusercontent.com/626eaf5669319d32dbe5b91ed23601282ce806fc/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f74662d253345253344302e31322e302d626c75652e737667" alt="Terraform Version" data-canonical-src="https://img.shields.io/badge/tf-%3E%3D0.12.0-blue.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-tiller-module" class="anchor" aria-hidden="true" href="#tiller-module"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Tiller Module&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;NOTE: This is for deploying Tiller, a major component of Helm v2. Tiller has been removed in Helm v3 and is no longer necesssary. You do NOT need this module to use Helm v3.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;This repo contains a Module for deploying Tiller (the server component of Helm) on Kubernetes clusters with
&lt;a href="https://www.terraform.io" rel="nofollow"&gt;Terraform&lt;/a&gt;.  This repo is a part of &lt;a href="https://gruntwork.io/infrastructure-as-code-library/" rel="nofollow"&gt;the Gruntwork Infrastructure as Code
Library&lt;/a&gt;, a collection of reusable, battle-tested, production
ready infrastructure code. Read the &lt;a href="https://github.com/gruntwork-io/terraform-kubernetes-helm/blob/master/GRUNTWORK_PHILOSOPHY.md"&gt;Gruntwork
Philosophy&lt;/a&gt; document to
learn more about how Gruntwork builds production grade infrastructure code.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-quickstart-guide" class="anchor" aria-hidden="true" href="#quickstart-guide"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Quickstart Guide&lt;/h2&gt;
&lt;p&gt;The general idea is to:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Deploy a Kubernetes cluster. You can use one of the following:
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://kubernetes.io/docs/tasks/tools/install-minikube/" rel="nofollow"&gt;minikube&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/gruntwork-io/terraform-google-gke/"&gt;Our GKE module&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/gruntwork-io/terraform-aws-eks/"&gt;Our EKS module&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Setup a &lt;code&gt;kubectl&lt;/code&gt; config context that is configured to authenticate to the deployed cluster.&lt;/li&gt;
&lt;li&gt;Install the necessary prerequisites tools:
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://docs.helm.sh/using_helm/#install-helm" rel="nofollow"&gt;&lt;code&gt;helm&lt;/code&gt; client&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;(Optional) &lt;a href="https://github.com/gruntwork-io/kubergrunt#installation"&gt;&lt;code&gt;kubergrunt&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Provision a &lt;a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/" rel="nofollow"&gt;&lt;code&gt;Namespace&lt;/code&gt;&lt;/a&gt; and
&lt;a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/" rel="nofollow"&gt;&lt;code&gt;ServiceAccount&lt;/code&gt;&lt;/a&gt; to house the
Tiller instance.&lt;/li&gt;
&lt;li&gt;Deploy Tiller.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;You can checkout the &lt;a href="https://github.com/gruntwork-io/terraform-kubernetes-helm/tree/master/examples/k8s-tiller-minikube"&gt;&lt;code&gt;k8s-tiller-minikube&lt;/code&gt; example
documentation&lt;/a&gt; for
detailed instructions on deploying against &lt;code&gt;minikube&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-what-is-in-this-repo" class="anchor" aria-hidden="true" href="#what-is-in-this-repo"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What is in this repo&lt;/h2&gt;
&lt;p&gt;This repo provides a Gruntwork IaC Package and has the following folder structure:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/gruntwork-io/terraform-kubernetes-helm"&gt;root&lt;/a&gt;: The root folder contains an example of how to
deploy Tiller using &lt;a href="https://github.com/gruntwork-io/kubergrunt"&gt;&lt;code&gt;kubergrunt&lt;/code&gt;&lt;/a&gt;, which implements all the logic for
deploying Tiller with all the security best practices.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/gruntwork-io/terraform-kubernetes-helm/tree/master/modules"&gt;modules&lt;/a&gt;: This folder contains the
main implementation code for this Module, broken down into multiple standalone Submodules.&lt;/p&gt;
&lt;p&gt;The primary module is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/gruntwork-io/terraform-kubernetes-helm/tree/master/modules/k8s-tiller"&gt;k8s-tiller&lt;/a&gt;: Deploy
Tiller with all the security features turned on. This includes using &lt;code&gt;Secrets&lt;/code&gt; for storing state and enabling TLS
verification.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The deployed Tiller requires TLS certificate key pairs to operate. Additionally, clients will each need to their
own TLS certificate key pairs to authenticate to the deployed Tiller instance. This is based on &lt;a href="https://github.com/gruntwork-io/kubergrunt/blob/master/HELM_GUIDE.md"&gt;kubergrunt model of
deploying helm&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;There are also several supporting modules that help with setting up the deployment:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/gruntwork-io/terraform-kubernetes-helm/tree/master/modules/k8s-namespace"&gt;k8s-namespace&lt;/a&gt;:
Provision a Kubernetes &lt;code&gt;Namespace&lt;/code&gt; with a default set of RBAC roles.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/gruntwork-io/terraform-kubernetes-helm/tree/master/modules/k8s-namespace-roles"&gt;k8s-namespace-roles&lt;/a&gt;:
Provision a default set of RBAC roles to use in a &lt;code&gt;Namespace&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/gruntwork-io/terraform-kubernetes-helm/tree/master/modules/k8s-service-account"&gt;k8s-service-account&lt;/a&gt;:
Provision a Kubernetes &lt;code&gt;ServiceAccount&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/gruntwork-io/terraform-kubernetes-helm/tree/master/modules/k8s-tiller-tls-certs"&gt;k8s-tiller-tls-certs&lt;/a&gt;:
Generate a TLS Certificate Authority (CA) and using that, generate signed TLS certificate key pairs that can be
used for TLS verification of Tiller. The certs are managed on the cluster using Kubernetes &lt;code&gt;Secrets&lt;/code&gt;. &lt;strong&gt;NOTE&lt;/strong&gt;:
This module uses the &lt;code&gt;tls&lt;/code&gt; provider, which means the generated certificate key pairs are stored in plain text in
the Terraform state file. If you are sensitive to secrets in Terraform state, consider using &lt;code&gt;kubergrunt&lt;/code&gt; for TLS
management.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/gruntwork-io/terraform-kubernetes-helm/tree/master/modules/k8s-helm-client-tls-certs"&gt;k8s-helm-client-tls-certs&lt;/a&gt;:
Generate a signed TLS certificate key pair from a previously generated CA certificate key pair. This TLS key pair
can be used to authenticate a helm client to access a deployed Tiller instance. &lt;strong&gt;NOTE&lt;/strong&gt;: This module uses the
&lt;code&gt;tls&lt;/code&gt; provider, which means the generated certificate key pairs are stored in plain text in the Terraform state
file. If you are sensitive to secrets in Terraform state, consider using &lt;code&gt;kubergrunt&lt;/code&gt; for TLS management.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/gruntwork-io/terraform-kubernetes-helm/tree/master/examples"&gt;examples&lt;/a&gt;: This folder contains
examples of how to use the Submodules.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/gruntwork-io/terraform-kubernetes-helm/tree/master/test"&gt;test&lt;/a&gt;: Automated tests for the Submodules
and examples.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-what-is-kubernetes" class="anchor" aria-hidden="true" href="#what-is-kubernetes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What is Kubernetes?&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://kubernetes.io" rel="nofollow"&gt;Kubernetes&lt;/a&gt; is an open source container management system for deploying, scaling, and managing
containerized applications. Kubernetes is built by Google based on their internal proprietary container management
systems (Borg and Omega). Kubernetes provides a cloud agnostic platform to deploy your containerized applications with
built in support for common operational tasks such as replication, autoscaling, self-healing, and rolling deployments.&lt;/p&gt;
&lt;p&gt;You can learn more about Kubernetes from &lt;a href="https://kubernetes.io/docs/tutorials/kubernetes-basics/" rel="nofollow"&gt;the official documentation&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-what-is-helm" class="anchor" aria-hidden="true" href="#what-is-helm"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What is Helm?&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://helm.sh/" rel="nofollow"&gt;Helm&lt;/a&gt; is a package and module manager for Kubernetes that allows you to define, install, and manage
Kubernetes applications as reusable packages called Charts. Helm provides support for official charts in their
repository that contains various applications such as Jenkins, MySQL, and Consul to name a few. Gruntwork uses Helm
under the hood for the Kubernetes modules in this package.&lt;/p&gt;
&lt;p&gt;For a background on Helm and its security model, check out &lt;a href="https://github.com/gruntwork-io/kubergrunt/blob/master/HELM_GUIDE.md"&gt;our Helm Guide
document&lt;/a&gt;.&lt;/p&gt;

&lt;h2&gt;&lt;a id="user-content-whats-a-module" class="anchor" aria-hidden="true" href="#whats-a-module"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What's a Module?&lt;/h2&gt;
&lt;p&gt;A Module is a canonical, reusable, best-practices definition for how to run a single piece of infrastructure, such
as a database or server cluster. Each Module is written using a combination of &lt;a href="https://www.terraform.io/" rel="nofollow"&gt;Terraform&lt;/a&gt;
and scripts (mostly bash) and include automated tests, documentation, and examples. It is maintained both by the open
source community and companies that provide commercial support.&lt;/p&gt;
&lt;p&gt;Instead of figuring out the details of how to run a piece of infrastructure from scratch, you can reuse
existing code that has been proven in production. And instead of maintaining all that infrastructure code yourself,
you can leverage the work of the Module community to pick up infrastructure improvements through
a version number bump.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-who-maintains-this-module" class="anchor" aria-hidden="true" href="#who-maintains-this-module"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Who maintains this Module?&lt;/h2&gt;
&lt;p&gt;This Module and its Submodules are maintained by &lt;a href="http://www.gruntwork.io/" rel="nofollow"&gt;Gruntwork&lt;/a&gt;. If you are looking for help or
commercial support, send an email to
&lt;a href="mailto:support@gruntwork.io?Subject=Tiller%20Module"&gt;support@gruntwork.io&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Gruntwork can help with:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Setup, customization, and support for this Module.&lt;/li&gt;
&lt;li&gt;Modules and submodules for other types of infrastructure in major cloud providers, such as VPCs, Docker clusters,
databases, and continuous integration.&lt;/li&gt;
&lt;li&gt;Modules and Submodules that meet compliance requirements, such as HIPAA.&lt;/li&gt;
&lt;li&gt;Consulting &amp;amp; Training on AWS, GCP, Terraform, and DevOps.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-how-do-i-contribute-to-this-module" class="anchor" aria-hidden="true" href="#how-do-i-contribute-to-this-module"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How do I contribute to this Module?&lt;/h2&gt;
&lt;p&gt;Contributions are very welcome! Check out the &lt;a href="https://github.com/gruntwork-io/terraform-kubernetes-helm/blob/master/CONTRIBUTING.md"&gt;Contribution
Guidelines&lt;/a&gt; for instructions.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-how-is-this-module-versioned" class="anchor" aria-hidden="true" href="#how-is-this-module-versioned"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How is this Module versioned?&lt;/h2&gt;
&lt;p&gt;This Module follows the principles of &lt;a href="http://semver.org/" rel="nofollow"&gt;Semantic Versioning&lt;/a&gt;. You can find each new release, along
with the changelog, in the &lt;a href="https://github.com/gruntwork-io/terraform-kubernetes-helm/releases"&gt;Releases Page&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;During initial development, the major version will be 0 (e.g., &lt;code&gt;0.x.y&lt;/code&gt;), which indicates the code does not yet have a
stable API. Once we hit &lt;code&gt;1.0.0&lt;/code&gt;, we will make every effort to maintain a backwards compatible API and use the MAJOR,
MINOR, and PATCH versions on each release to indicate any incompatibilities.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;Please see &lt;a href="https://github.com/gruntwork-io/terraform-kubernetes-helm/blob/master/LICENSE"&gt;LICENSE&lt;/a&gt; for how the code in
this repo is licensed.&lt;/p&gt;
&lt;p&gt;Copyright  2019 Gruntwork, Inc.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>gruntwork-io</author><guid isPermaLink="false">https://github.com/gruntwork-io/terraform-kubernetes-helm</guid><pubDate>Sat, 28 Dec 2019 00:09:00 GMT</pubDate></item></channel></rss>
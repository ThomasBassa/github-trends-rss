<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>GitHub Trending: Shell, Today</title><link>https://github.com/trending/shell?since=daily</link><description>The top repositories on GitHub for shell, measured daily</description><pubDate>Wed, 11 Dec 2019 01:06:14 GMT</pubDate><lastBuildDate>Wed, 11 Dec 2019 01:06:14 GMT</lastBuildDate><generator>PyRSS2Gen-1.1.0</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><ttl>720</ttl><item><title>pirate/wireguard-docs #1 in Shell, Today</title><link>https://github.com/pirate/wireguard-docs</link><description>&lt;p&gt;&lt;i&gt;📖 Unofficial WireGuard Documentation: Setup, Usage, Configuration, and full example setups for VPNs supporting both servers &amp; roaming clients.&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;div align="center"&gt;
&lt;h1&gt;&lt;a id="user-content-some-unofficial-wireguard-documentation" class="anchor" aria-hidden="true" href="#some-unofficial-wireguard-documentation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Some Unofficial WireGuard Documentation&lt;/h1&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/53211720ce61375a2a277b6be6074d46d63bbba6/68747470733a2f2f692e696d6775722e636f6d2f786550743371702e706e67"&gt;&lt;img src="https://camo.githubusercontent.com/53211720ce61375a2a277b6be6074d46d63bbba6/68747470733a2f2f692e696d6775722e636f6d2f786550743371702e706e67" data-canonical-src="https://i.imgur.com/xePt3qp.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;API reference guide for WireGuard including Setup, Configuration, and Usage, with examples.&lt;/p&gt;
&lt;p&gt;&lt;i&gt;All credit goes to the WireGuard project, &lt;a href="https://www.zx2c4.com/" rel="nofollow"&gt;zx2c4&lt;/a&gt;, &lt;a href="https://www.edgesecurity.com/" rel="nofollow"&gt;Edge Security&lt;/a&gt;, and the &lt;a href="https://github.com/WireGuard/WireGuard/graphs/contributors"&gt;open source contributors&lt;/a&gt; for the original software,&lt;br&gt; this is my solo unofficial attempt at providing more comprehensive documentation, API references, and examples.&lt;/i&gt;&lt;/p&gt;

&lt;p&gt;Source for these docs, example code, and issue tracker: &lt;a href="https://github.com/pirate/wireguard-docs"&gt;https://github.com/pirate/wireguard-docs&lt;/a&gt;    
Nicer HTML page version: &lt;a href="https://docs.sweeting.me/s/wireguard" rel="nofollow"&gt;https://docs.sweeting.me/s/wireguard&lt;/a&gt;&lt;/p&gt;

&lt;/div&gt;
&lt;hr&gt;
&lt;p&gt;&lt;a href="https://www.wireguard.com/" rel="nofollow"&gt;WireGuard&lt;/a&gt; is a BETA/WIP open-source VPN solution written in C by &lt;a href="https://www.jasondonenfeld.com" rel="nofollow"&gt;Jason Donenfeld&lt;/a&gt; and &lt;a href="https://github.com/WireGuard/WireGuard/graphs/contributors"&gt;others&lt;/a&gt;, aiming to fix many of the problems that have plagued other modern server-to-server VPN offerings like IPSec/IKEv2, OpenVPN, or L2TP. It shares some similarities with other modern VPN offerings like &lt;a href="https://www.tinc-vpn.org/" rel="nofollow"&gt;Tinc&lt;/a&gt; and &lt;a href="https://github.com/meshbird/meshbird"&gt;MeshBird&lt;/a&gt;, namely good cipher suites and minimal config.&lt;/p&gt;
&lt;p&gt;This is my attempt at writing "The Unofficial WireGuard Documentation" to make up for the somewhat sparse official docs on an otherwise great piece of software.&lt;/p&gt;
&lt;p&gt;(This repo used to be called "The Missing WireGuard Documentation" but I felt bad about implying that WireGuard has no docs (they do have docs, they're just hidden away in the manpages). I figred I could combine it with some example setup configs, and some of the secret tips and tricks shared only on mailing lists and make a documentation resource.)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Official Links&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Homepage: &lt;a href="https://www.wireguard.com" rel="nofollow"&gt;https://www.wireguard.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Install: &lt;a href="https://www.wireguard.com/install/" rel="nofollow"&gt;https://www.wireguard.com/install/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;QuickStart: &lt;a href="https://www.wireguard.com/quickstart/" rel="nofollow"&gt;https://www.wireguard.com/quickstart/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Main Git repo: &lt;a href="https://git.zx2c4.com/WireGuard/" rel="nofollow"&gt;https://git.zx2c4.com/WireGuard/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Github Mirror: &lt;a href="https://github.com/WireGuard/WireGuard"&gt;https://github.com/WireGuard/WireGuard&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Mailing List: &lt;a href="https://lists.zx2c4.com/mailman/listinfo/wireguard" rel="nofollow"&gt;https://lists.zx2c4.com/mailman/listinfo/wireguard&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;WireGuard Goals&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;strong, modern security by default&lt;/li&gt;
&lt;li&gt;minimal config and key management&lt;/li&gt;
&lt;li&gt;fast, both low-latency and high-bandwidth&lt;/li&gt;
&lt;li&gt;simple internals and small protocol surface area&lt;/li&gt;
&lt;li&gt;simple CLI and seamless integration with system networking&lt;/li&gt;
&lt;/ul&gt;
&lt;div align="center"&gt;
&lt;a href="https://www.ckn.io/blog/2017/11/14/wireguard-vpn-typical-setup/" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/907b408d818e9522afe5168c3f6014eb82773cb2/68747470733a2f2f7777772e636b6e2e696f2f696d616765732f7769726567756172645f636f6d7061726973696f6e732e706e67" width="600px" data-canonical-src="https://www.ckn.io/images/wireguard_comparisions.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;br&gt;
It's also &lt;i&gt;fast as hell&lt;/i&gt;. I routinely get sub 0.5ms pings and 900mbps+ on good connections.&lt;br&gt;
(See &lt;a href="https://www.ckn.io/blog/2017/11/14/wireguard-vpn-typical-setup/" rel="nofollow"&gt;https://www.ckn.io/blog/2017/11/14/wireguard-vpn-typical-setup/&lt;/a&gt;)

&lt;/div&gt;
&lt;hr&gt;
&lt;h1&gt;&lt;a id="user-content-table-of-contents" class="anchor" aria-hidden="true" href="#table-of-contents"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Table of Contents&lt;/h1&gt;
&lt;p&gt;See &lt;a href="https://github.com/pirate/wireguard-docs"&gt;https://github.com/pirate/wireguard-docs&lt;/a&gt; for example code and documentation source.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#Table-of-Contents"&gt;Table of Contents&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Intro"&gt;Intro&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#My-Personal-Requirements-for-a-VPN-Solution"&gt;My Personal Requirements for a VPN Solution&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#List-of-Possible-VPN-Solutions"&gt;List of Possible VPN Solutions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#WireGuard-Documentation"&gt;WireGuard Documentation&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#Glossary"&gt;Glossary&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#PeerNodeDevice"&gt;Peer/Node/Device&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Bounce-Server"&gt;Bounce Server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Subnet"&gt;Subnet&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#CIDR-Notation"&gt;CIDR Notation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#NAT"&gt;NAT&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Public-Endpoint"&gt;Public Endpoint&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Private-key"&gt;Private key&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Public-key"&gt;Public key&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#DNS"&gt;DNS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Example-Strings"&gt;Example Strings&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#How-WireGuard-Works"&gt;How WireGuard Works&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#How-Public-Relay-Servers-Work"&gt;How Public Relay Servers Work&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#How-WireGuard-Routes-Packets"&gt;How WireGuard Routes Packets&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#What-WireGuard-Traffic-Looks-Like"&gt;What WireGuard Traffic Looks Like&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#WireGuard-Performance"&gt;WireGuard Performance&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#WireGuard-Security-Model"&gt;WireGuard Security Model&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#How-WireGuard-Manages-Keys"&gt;How WireGuard Manages Keys&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#Usage"&gt;Usage&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#Quickstart"&gt;Quickstart&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Setup"&gt;Setup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Config-Creation"&gt;Config Creation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Key-Generation"&gt;Key Generation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Start--Stop"&gt;Start / Stop&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Inspect"&gt;Inspect&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Testing"&gt;Testing&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#Config-Reference"&gt;Config Reference&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#Interface"&gt;[Interface]&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Peer"&gt;[Peer]&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#Advanced-Topics"&gt;Advanced Topics&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#IPv6"&gt;IPv6&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Forwarding-All-Traffic"&gt;Forwarding All Traffic&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#NAT-to-NAT-Connections"&gt;NAT-to-NAT Connections&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Dynamic-IP-Allocation"&gt;Dynamic IP Allocation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Other-WireGuard-Implementations"&gt;Other WireGuard Implementations&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#WireGuard-Setup-tools"&gt;WireGuard Setup Tools&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Config-Shortcuts"&gt;Config Shortcuts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Containerization"&gt;Containerization&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#Further-Reading"&gt;Further Reading&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#Reference-Docs"&gt;Reference Docs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Tutorials"&gt;Tutorials&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Papers-Articles-and-Talks"&gt;Papers, Articles, and Talks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Related-Projects"&gt;Related Projects&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Docker"&gt;Docker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Other"&gt;Other&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Discussions"&gt;Discussions&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-intro" class="anchor" aria-hidden="true" href="#intro"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Intro&lt;/h1&gt;
&lt;p&gt;Over the last 8+ years I've tried a wide range of VPN solutions.  Somewhat out of necessity, since the city I was living in was behind the Great Wall of China.  Everything from old-school PPTP to crazy round-robin GoAgent AppEngine proxy setups were common back in the early 2010's to break through the GFW, these days it's mostly OpenVPN, StealthVPN, IPSec/IKEv2 and others.  From the recommendation of a few people in the &lt;a href="https://recurse.com" rel="nofollow"&gt;RC&lt;/a&gt; Zulip community, I decided to try WireGuard and was surprised to find it checked almost all the boxes.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-my-personal-requirements-for-a-vpn-solution" class="anchor" aria-hidden="true" href="#my-personal-requirements-for-a-vpn-solution"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;My Personal Requirements for a VPN Solution&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;minimal config, low config surface area and few exposed tunables&lt;/li&gt;
&lt;li&gt;minimal key management overhead, 1 or 2 preshared keys or certs is ok, but ideally not both&lt;/li&gt;
&lt;li&gt;ability to easily create a LAN like 192.0.2.0/24 between all my servers, every peer can connect to every peer,&lt;/li&gt;
&lt;li&gt;ability to bust through NATs with a signalling server, routing nat-to-nat instead of through a relay (WebRTC-style)&lt;/li&gt;
&lt;li&gt;fallback to relay server when nat-to-nat busting is unavailable or unreliable&lt;/li&gt;
&lt;li&gt;ability to route to a fixed list of ips/hosts with 1 keypair per host (not needed, but nice to have: ability to route arbitrary local traffic or &lt;em&gt;all&lt;/em&gt; internet traffic to a given host)&lt;/li&gt;
&lt;li&gt;robust automatic reconnects after reboots / network downtime / NAT connection table drops&lt;/li&gt;
&lt;li&gt;fast (lowest possible latency and line-rate bandwidth)&lt;/li&gt;
&lt;li&gt;encrypted, and secure by default (not needed, nice to have: short copy-pastable key pairs)&lt;/li&gt;
&lt;li&gt;ideally support for any type of Level 2 and control traffic, e.g. ARP/DHCP/ICMP (or ideally raw ethernet frames), not just TCP/HTTP&lt;/li&gt;
&lt;li&gt;ability to join the VPN from Ubuntu, FreeBSD, iOS, macOS (Windows/Android not needed but would be nice)&lt;/li&gt;
&lt;li&gt;not a requirement, but ideally it would support running in docker with a single container, config file, and preshared key on each server, but with a full network interface exposed to the host system (maybe with tun/tap on the host passing traffic to the container, but ideally just a single container + config file without outside dependencies)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-list-of-possible-vpn-solutions" class="anchor" aria-hidden="true" href="#list-of-possible-vpn-solutions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;List of Possible VPN Solutions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.wireguard.com/" rel="nofollow"&gt;WireGuard&lt;/a&gt;: the subject of this post&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jawj/IKEv2-setup"&gt;IPSec (IKEv2)&lt;/a&gt;/strongSwan: lots of brittle config that's different for each OS, NAT busting setup is very manual and involves updating the central server and starting all the others in the correct order, not great at reconnecting after network downtime, had to be manually restarted often
with that if it's the only option&lt;/li&gt;
&lt;li&gt;&lt;a href="https://openvpn.net/vpn-server-resources/site-to-site-routing-explained-in-detail/" rel="nofollow"&gt;OpenVPN&lt;/a&gt;: I don't like it from past experience but could be convinced if it's the only option&lt;/li&gt;
&lt;li&gt;StealthVPN: haven't tried it&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jedisct1/dsvpn"&gt;DsVPN&lt;/a&gt;: does TCP-over-TCP which usually doesn't end well...&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.softether.org/" rel="nofollow"&gt;SoftEther&lt;/a&gt; (&lt;a href="https://en.wikipedia.org/wiki/Secure_Socket_Tunneling_Protocol" rel="nofollow"&gt;SSTP&lt;/a&gt;): haven't tried it yet, should I? (also does TCP-over-TCP)&lt;/li&gt;
&lt;li&gt;PPTP: ancient, inflexible, insecure, doesn't solve all the requirements&lt;/li&gt;
&lt;li&gt;L2TP: meh&lt;/li&gt;
&lt;li&gt;SOCKS: proxy tunnel, not a VPN, not great for this use case&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-mesh-vpn-solutions" class="anchor" aria-hidden="true" href="#mesh-vpn-solutions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Mesh VPN Solutions&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.tinc-vpn.org/" rel="nofollow"&gt;TINC&lt;/a&gt;: haven't tried it yet, but it doesn't work on iOS, worst case scenario I could live&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/dswd/vpncloud"&gt;VPNCloud&lt;/a&gt;: similar properties to WireGuard, with more auto-mesh features&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/cjdelisle/cjdns"&gt;cjdns&lt;/a&gt;: haven't tried it yet, should I?&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.zerotier.com" rel="nofollow"&gt;ZeroTier&lt;/a&gt;: haven't tried it yet, should I&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/meshbird/meshbird"&gt;MeshBird&lt;/a&gt;: "Cloud native" VPN/networking layer&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-setup-tools" class="anchor" aria-hidden="true" href="#setup-tools"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setup Tools&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/trailofbits/algo"&gt;Algo&lt;/a&gt; WireGuard setup tool&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/StreisandEffect/streisand"&gt;Striesand&lt;/a&gt; Multi-protocol setup tool&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jawj/IKEv2-setup"&gt;IKEv2-setup&lt;/a&gt; IKEv2 server setup script&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1&gt;&lt;a id="user-content-wireguard-documentation" class="anchor" aria-hidden="true" href="#wireguard-documentation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;WireGuard Documentation&lt;/h1&gt;
&lt;hr&gt;
&lt;h2&gt;&lt;a id="user-content-glossary" class="anchor" aria-hidden="true" href="#glossary"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Glossary&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-example-strings" class="anchor" aria-hidden="true" href="#example-strings"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example Strings&lt;/h3&gt;
&lt;p&gt;These are demo hostnames, domain names, ip addresses, and ranges used in the documentation and example configs.
Replace them with your preferred values when doing your own setup.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Example domain: &lt;code&gt;example-vpn.dev&lt;/code&gt; can be replaced with any publicly accessible domain you control&lt;/li&gt;
&lt;li&gt;Example hostnames: &lt;code&gt;public-server1&lt;/code&gt;, &lt;code&gt;public-server2&lt;/code&gt;, &lt;code&gt;home-server&lt;/code&gt;, &lt;code&gt;laptop&lt;/code&gt;, &lt;code&gt;phone&lt;/code&gt; can be changed to your device hostnames&lt;/li&gt;
&lt;li&gt;IP addresses &amp;amp; ranges: &lt;code&gt;192.0.2.1/24&lt;/code&gt;, &lt;code&gt;192.0.2.3&lt;/code&gt;, &lt;code&gt;192.0.2.3/32&lt;/code&gt;, &lt;code&gt;2001:DB8::/64&lt;/code&gt; can be replaced with your preferred subnets and addresses (e.g. &lt;code&gt;192.168.5.1/24&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Wherever you see these strings below, they're just being used as placeholder values to illustrate an example and have no special meaning.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Make sure to change the IP addresses in your configs!&lt;/strong&gt; The blocks used in these docs
are reserved for example purposes by the IETF and should never be used in real network setups.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;192.0.2.0/24&lt;/code&gt;&lt;/strong&gt; (TEST-NET-1) IPv4 example range &lt;a href="https://tools.ietf.org/html/rfc5737" rel="nofollow"&gt;RFC5737&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;2001:DB8::/32&lt;/code&gt;&lt;/strong&gt; IPv6 example range &lt;a href="https://tools.ietf.org/html/rfc3849" rel="nofollow"&gt;RFC3849&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can use any private range you want for your own setups, e.g. &lt;code&gt;10.0.44.0/24&lt;/code&gt;, just make sure
they don't conflict with any of the LAN subnet ranges your peers are on.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-peernodedevice" class="anchor" aria-hidden="true" href="#peernodedevice"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Peer/Node/Device&lt;/h3&gt;
&lt;p&gt;A host that connects to the VPN and registers a VPN subnet address such as &lt;code&gt;192.0.2.3&lt;/code&gt; for itself. It can also optionally route traffic for more than its own address(es) by specifying subnet ranges in comma-separated CIDR notation.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-bounce-server" class="anchor" aria-hidden="true" href="#bounce-server"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bounce Server&lt;/h3&gt;
&lt;p&gt;A publicly reachable peer/node that serves as a fallback to relay traffic for other VPN peers behind NATs.  A bounce server is not a special type of server, it's a normal peer just like all the others, the only difference is that it has a public IP and has kernel-level IP forwarding turned on which allows it to bounce traffic back down the VPN to other clients.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-subnet" class="anchor" aria-hidden="true" href="#subnet"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Subnet&lt;/h3&gt;
&lt;p&gt;A group of IPs separate from the public internet, e.g. 192.0.2.1-255 or 192.168.1.1/24. Generally behind a NAT provided by a router, e.g. in office internet LAN or a home WiFi network.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-cidr-notation" class="anchor" aria-hidden="true" href="#cidr-notation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CIDR Notation&lt;/h3&gt;
&lt;p&gt;A way of defining a subnet and its size with a "mask", a smaller mask = more  address bits usable by the subnet &amp;amp; more IPs in the range. Most common ones:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;192.0.2.1/32&lt;/code&gt; (a single ip address, &lt;code&gt;192.0.2.1&lt;/code&gt;) netmask = &lt;code&gt;255.255.255.255&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;192.0.2.1/24&lt;/code&gt; (255 ips from &lt;code&gt;192.0.2.1&lt;/code&gt;-&lt;code&gt;255&lt;/code&gt;) netmask = &lt;code&gt; 255.255.255.0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;192.0.2.1/16&lt;/code&gt; (65,536 ips from &lt;code&gt;192.0.2.0&lt;/code&gt; - &lt;code&gt;192.0.255.255&lt;/code&gt;) netmask = &lt;code&gt;255.255.0.0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;192.0.2.1/8&lt;/code&gt; (16,777,216 ips from &lt;code&gt;192.0.2.0&lt;/code&gt; - &lt;code&gt;192.255.255.255&lt;/code&gt;) netmask = &lt;code&gt;255.0.0.0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;0.0.0.1/0&lt;/code&gt; (4,294,967,296 ips from &lt;code&gt;0.0.0.0&lt;/code&gt; - &lt;code&gt;255.255.255.255&lt;/code&gt;) netmask = &lt;code&gt;0.0.0.0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;IPv6 CIDR notation is also supported e.g. &lt;code&gt;2001:DB8::/64&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing" rel="nofollow"&gt;https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;To people just getting started &lt;code&gt;192.0.2.1/32&lt;/code&gt; may seem like a weird and confusing way to refer to a single IP.  This design is nice though because it allows peers to expose multiple IPs if needed without needing multiple notations.  Just know that anywhere you see something like &lt;code&gt;192.0.2.3/32&lt;/code&gt;, it really just means &lt;code&gt;192.0.2.3&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-nat" class="anchor" aria-hidden="true" href="#nat"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;NAT&lt;/h3&gt;
&lt;p&gt;A subnet with private IPs provided by a router standing in front of them doing Network Address Translation, individual nodes are not publicly accessible from the internet, instead the router keeps track of outgoing connections and forwards responses to the correct internal ip (e.g. standard office networks, home wifi networks, free public wifi networks, etc)&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-public-endpoint" class="anchor" aria-hidden="true" href="#public-endpoint"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Public Endpoint&lt;/h3&gt;
&lt;p&gt;The publicly accessible address:port for a node, e.g. &lt;code&gt;123.124.125.126:1234&lt;/code&gt; or &lt;code&gt;some.domain.tld:1234&lt;/code&gt; (must be accessible via the public internet, generally can't be a private ip like &lt;code&gt;192.0.2.1&lt;/code&gt; or &lt;code&gt;192.168.1.1&lt;/code&gt; unless it's directly accessible using that address by other peers on the same subnet).&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-private-key" class="anchor" aria-hidden="true" href="#private-key"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Private key&lt;/h3&gt;
&lt;p&gt;A WireGuard private key for a single node, generated with:
&lt;code&gt;wg genkey &amp;gt; example.key&lt;/code&gt;
(never leaves the node it's generated on)&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-public-key" class="anchor" aria-hidden="true" href="#public-key"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Public key&lt;/h3&gt;
&lt;p&gt;A WireGuard public key for a single node, generated with:
&lt;code&gt;wg pubkey &amp;lt; example.key &amp;gt; example.key.pub &lt;/code&gt;
(shared with other peers)&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-dns" class="anchor" aria-hidden="true" href="#dns"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;DNS&lt;/h3&gt;
&lt;p&gt;Domain Name Server, used to resolve hostnames to IPs for VPN clients, instead of allowing DNS requests to leak outside the VPN and reveal traffic.  Leaks are testable with &lt;a href="http://dnsleak.com" rel="nofollow"&gt;http://dnsleak.com&lt;/a&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;&lt;a id="user-content-how-wireguard-works" class="anchor" aria-hidden="true" href="#how-wireguard-works"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How WireGuard Works&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-how-public-relay-servers-work" class="anchor" aria-hidden="true" href="#how-public-relay-servers-work"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How Public Relay Servers Work&lt;/h3&gt;
&lt;p&gt;Public relays are just normal VPN peers that are able to act as an intermediate relay server between any VPN clients behind NATs, they can forward any VPN subnet traffic they receive to the correct peer at the system level (WireGuard doesn't care how this happens, it's handled by the kernel &lt;code&gt;net.ipv4.ip_forward = 1&lt;/code&gt; and the iptables routing rules).&lt;/p&gt;
&lt;p&gt;If all peers are publicly accessible, you don't have to worry about special treatment to make one of them a relay server, it's only needed if you have any peers connecting from behind a NAT.&lt;/p&gt;
&lt;p&gt;Each client only needs to define the publicly accessible servers/peers in its config, any traffic bound to other peers behind NATs will go to the catchall VPN subnet (e.g. &lt;code&gt;192.0.2.1/24&lt;/code&gt;) in the public relays &lt;code&gt;AllowedIPs&lt;/code&gt; route and will be forwarded accordingly once it hits the relay server.&lt;/p&gt;
&lt;p&gt;In summary: only direct connections between clients should be configured, any connections that need to be bounced should not be defined as peers, as they should head to the bounce server first and be routed from there back down the vpn to the correct client.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-how-wireguard-routes-packets" class="anchor" aria-hidden="true" href="#how-wireguard-routes-packets"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How WireGuard Routes Packets&lt;/h3&gt;
&lt;p&gt;More complex topologies are definitely achievable, but these are the basic routing methods used in typical WireGuard setups:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Direct node-to-node&lt;/strong&gt;&lt;br&gt;
In the simplest case, the nodes will either be on the same LAN or both be publicly accessible. Define directly accessible nodes with hardcoded &lt;code&gt;Endpoint&lt;/code&gt; addresses and ports so that WireGuard can connect straight to the open port and route UDP packets without intermediate hops.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Node behind local NAT to public node&lt;/strong&gt;&lt;br&gt;
When 1 of the 2 parties is behind remote NAT (e.g. when a laptop behind NAT connects to &lt;code&gt;public-server2&lt;/code&gt;), define the publicly accessible node with a hardcoded &lt;code&gt;Endpoint&lt;/code&gt; and the NAT-ed node without. The connection will be opened from NAT client -&amp;gt; public client, then traffic will route directly between them in both directions as long as the connection is kept alive by outgoing &lt;code&gt;PersistentKeepalive&lt;/code&gt; pings from the NAT-ed client.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Node behind local NAT to node behind remote NAT (via relay)&lt;/strong&gt;&lt;br&gt;
Most of the time when both parties are behind NATs, the NATs do srcport randomization making direct connections infeasible, so they will both have to open a connection to &lt;code&gt;public-server1&lt;/code&gt;, and traffic will forward through the intermediary bounce server as long as the connections are kept alive.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Node behind local NAT to node behind remote NAT (via UDP NAT hole-punching)&lt;/strong&gt;&lt;br&gt;
While sometimes possible, it's generally infeasible to do direct NAT-to-NAT connections on modern networks, because most NAT routers are quite strict about randomizing the srcport, making it impossible to coordinate an open port for both sides ahead of time.  Instead, a signaling server (STUN) must be used that stands in the middle and communicates which random srcports are assigned to the other side. Both clients make an initial connection to the public signaling server, then it records the random srcports and sends them back to the clients. This is how WebRTC works in modern P2P web apps.  Even with a signalling server and known srcports for both ends, sometimes direct connections are not possible because the NAT routers are strict about only accepting traffic from the original destination address (the signalling server), and will require a new random srcport to be opened to accept traffic from other IPs (e.g. the other client attempting to use the originally communicated srcport). This is especially true for "carrier-grade NATs" like cellular networks and some enterprise networks, which are designed specifically to prevent this sort of hole-punching connection. See the full section below on &lt;a href="#NAT-to-NAT-Connections"&gt;&lt;strong&gt;NAT to NAT Connections&lt;/strong&gt;&lt;/a&gt; for more information.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;More specific (also usually more direct) routes provided by other peers will take precedence when available, otherwise traffic will fall back to the least specific route and use the &lt;code&gt;192.0.2.1/24&lt;/code&gt; catchall to forward traffic to the bounce server, where it will in turn be routed by the relay server's system routing table (&lt;code&gt;net.ipv4.ip_forward = 1&lt;/code&gt;) back down the VPN to the specific peer that's accepting routes for that traffic.  WireGuard does not automatically find the fastest route or attempt to form direct connections between peers if not already defined, it just goes from the most specific route in &lt;code&gt;[Peers]&lt;/code&gt; to least specific.&lt;/p&gt;
&lt;p&gt;You can figure out which routing method WireGuard is using for a given address by measuring the ping times to figure out the unique length of each hop, and by inspecting the output of:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;wg show wg0&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-what-wireguard-traffic-looks-like" class="anchor" aria-hidden="true" href="#what-wireguard-traffic-looks-like"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What WireGuard Traffic Looks Like&lt;/h3&gt;
&lt;p&gt;WireGuard uses encrypted UDP packets for all traffic, it does not provide guarantees around packet delivery or ordering, as that is handled by TCP connections within the encrypted tunnel.&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://github.com/Lekensteyn/wireguard-dissector/raw/master/wireshark-wg.png"&gt;&lt;img src="https://github.com/Lekensteyn/wireguard-dissector/raw/master/wireshark-wg.png" width="400px" style="max-width:100%;"&gt;&lt;/a&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;Further reading:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.wireshark.org/docs/dfref/w/wg.html" rel="nofollow"&gt;https://www.wireshark.org/docs/dfref/w/wg.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Lekensteyn/wireguard-dissector"&gt;https://github.com/Lekensteyn/wireguard-dissector&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://nbsoftsolutions.com/blog/viewing-wireguard-traffic-with-tcpdump" rel="nofollow"&gt;https://nbsoftsolutions.com/blog/viewing-wireguard-traffic-with-tcpdump&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-wireguard-performance" class="anchor" aria-hidden="true" href="#wireguard-performance"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;WireGuard Performance&lt;/h3&gt;
&lt;p&gt;WireGuard claims faster performance than most other competing VPN solutions, though the exact numbers are sometimes debated and may depend on whether hardware-level acceleration is available for certain cryptographic ciphers.&lt;/p&gt;
&lt;p&gt;WireGuard's performance gains are achieved by handling routing at the kernel level, and by using modern cipher suites running on all cores to encrypt traffic. WireGuard also gains a significant advantage by using UDP with no delivery/ordering guarantees (compared to VPNs that run over TCP or implement their own guaranteed delivery mechanisms).&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/2486c0cfdaf3d4c058df7bd373b530ab54a427f2/68747470733a2f2f692e696d6775722e636f6d2f686545596735392e706e67"&gt;&lt;img src="https://camo.githubusercontent.com/2486c0cfdaf3d4c058df7bd373b530ab54a427f2/68747470733a2f2f692e696d6775722e636f6d2f686545596735392e706e67" width="400px" data-canonical-src="https://i.imgur.com/heEYg59.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Further reading:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.wireguard.com/performance/" rel="nofollow"&gt;https://www.wireguard.com/performance/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.reddit.com/r/linux/comments/9bnowo/wireguard_benchmark_between_two_servers_with_10/" rel="nofollow"&gt;https://www.reddit.com/r/linux/comments/9bnowo/wireguard_benchmark_between_two_servers_with_10/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://restoreprivacy.com/openvpn-ipsec-wireguard-l2tp-ikev2-protocols/" rel="nofollow"&gt;https://restoreprivacy.com/openvpn-ipsec-wireguard-l2tp-ikev2-protocols/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-wireguard-security-model" class="anchor" aria-hidden="true" href="#wireguard-security-model"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;WireGuard Security Model&lt;/h3&gt;
&lt;p&gt;WireGuard uses the following protocols and primitives to secure traffic:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ChaCha20 for symmetric encryption, authenticated with Poly1305, using RFC7539’s AEAD construction&lt;/li&gt;
&lt;li&gt;Curve25519 for ECDH&lt;/li&gt;
&lt;li&gt;BLAKE2s for hashing and keyed hashing, described in RFC7693&lt;/li&gt;
&lt;li&gt;SipHash24 for hashtable keys&lt;/li&gt;
&lt;li&gt;HKDF for key derivation, as described in RFC5869&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;WireGuard's cryptography is essentially an instantiation of Trevor Perrin's Noise framework. It's modern and, again, simple. Every other VPN option is a mess of negotiation and handshaking and complicated state machines. WireGuard is like the Signal/Axolotl of VPNs, except it's much simpler and easier to reason about (cryptographically, in this case) than double ratchet messaging protocols.
It is basically the qmail of VPN software.
And it's ~4000 lines of code. It is plural orders of magnitude smaller than its competitors.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href="https://news.ycombinator.com/item?id=14599834" rel="nofollow"&gt;https://news.ycombinator.com/item?id=14599834&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Further reading:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.wireguard.com/papers/wireguard.pdf" rel="nofollow"&gt;https://www.wireguard.com/papers/wireguard.pdf&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://eprint.iacr.org/2018/080.pdf" rel="nofollow"&gt;https://eprint.iacr.org/2018/080.pdf&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://courses.csail.mit.edu/6.857/2018/project/He-Xu-Xu-WireGuard.pdf" rel="nofollow"&gt;https://courses.csail.mit.edu/6.857/2018/project/He-Xu-Xu-WireGuard.pdf&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.wireguard.com/talks/blackhat2018-slides.pdf" rel="nofollow"&gt;https://www.wireguard.com/talks/blackhat2018-slides.pdf&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://arstechnica.com/gadgets/2018/08/wireguard-vpn-review-fast-connections-amaze-but-windows-support-needs-to-happen/" rel="nofollow"&gt;https://arstechnica.com/gadgets/2018/08/wireguard-vpn-review-fast-connections-amaze-but-windows-support-needs-to-happen/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-how-wireguard-manages-keys" class="anchor" aria-hidden="true" href="#how-wireguard-manages-keys"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How WireGuard Manages Keys&lt;/h3&gt;
&lt;p&gt;Authentication in both directions is achieved with a simple public/private keypair for each peer. Each peer generates these keys during the setup phase, and shares only the public key with other peers.&lt;/p&gt;
&lt;p&gt;No other certificates or preshared keys are needed beyond the public/private keys for each node.&lt;/p&gt;
&lt;p&gt;Key generation, distribution, and revocation can be handled in larger deployments using a separate service like Ansible or Kubernetes Secrets.&lt;/p&gt;
&lt;p&gt;Some services that help with key distribution and deployment:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://pypi.org/project/wireguard-p2p/" rel="nofollow"&gt;https://pypi.org/project/wireguard-p2p/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/trailofbits/algo"&gt;https://github.com/trailofbits/algo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/StreisandEffect/streisand"&gt;https://github.com/StreisandEffect/streisand&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/its0x08/wg-install"&gt;https://github.com/its0x08/wg-install&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/brittson/wireguard_config_maker"&gt;https://github.com/brittson/wireguard_config_maker&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can also read in keys from a file or via command if you don't want to hardcode them in &lt;code&gt;wg0.conf&lt;/code&gt;, this makes managing keys via 3rd party service much easier:&lt;/p&gt;
&lt;div class="highlight highlight-source-ini"&gt;&lt;pre&gt;&lt;span class="pl-en"&gt;[Interface]&lt;/span&gt;
...
&lt;span class="pl-k"&gt;PostUp&lt;/span&gt; = wg set %i private-key /etc/wireguard/wg0.key &amp;lt;(cat /some/path/%i/privkey)&lt;/pre&gt;&lt;/div&gt;
&lt;hr&gt;
&lt;h2&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-quickstart" class="anchor" aria-hidden="true" href="#quickstart"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Quickstart&lt;/h3&gt;
&lt;p&gt;Overview of the general process:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Install &lt;code&gt;apt install wireguard&lt;/code&gt; or &lt;code&gt;pkg/brew install wireguard-tools&lt;/code&gt; on each node&lt;/li&gt;
&lt;li&gt;Generate public and private keys locally on each node &lt;code&gt;wg genkey&lt;/code&gt;+&lt;code&gt;wg pubkey&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Create a &lt;code&gt;wg0.conf&lt;/code&gt; WireGuard config file on the main relay server
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;[Interface]&lt;/code&gt; Make sure to specify a CIDR range for the entire VPN subnet when defining the address the server accepts routes for &lt;code&gt;Address = 192.0.2.1/24&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[Peer]&lt;/code&gt; Create a peer section for every client joining the VPN, using their corresponding remote public keys&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Create a &lt;code&gt;wg0.conf&lt;/code&gt; on each client node
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;[Interface]&lt;/code&gt; Make sure to specify only a single IP for client peers that don't relay traffic &lt;code&gt;Address = 192.0.2.3/32&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[Peer]&lt;/code&gt; Create a peer section for each public peer not behind a NAT, make sure to specify a CIDR range for the entire VPN subnet when defining the remote peer acting as the bounce server &lt;code&gt;AllowedIPs = 192.0.2.1/24&lt;/code&gt;. Make sure to specify individual IPs for remote peers that don't relay traffic and only act as simple clients &lt;code&gt;AllowedIPs = 192.0.2.3/32&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Start WireGuard on the main relay server with &lt;code&gt;wg-quick up /full/path/to/wg0.conf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Start WireGuard on all the client peers with &lt;code&gt;wg-quick up /full/path/to/wg0.conf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Traffic is routed from peer to peer using most specific route first over the WireGuard interface, e.g. &lt;code&gt;ping 192.0.2.3&lt;/code&gt; checks for a direct route to a peer with &lt;code&gt;AllowedIPs = 192.0.2.3/32&lt;/code&gt; first, then falls back to a relay server that's accepting ips in the whole subnet&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;&lt;a id="user-content-setup" class="anchor" aria-hidden="true" href="#setup"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setup&lt;/h3&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; install on Ubuntu&lt;/span&gt;
sudo add-apt-repository ppa:wireguard/wireguard
apt install wireguard

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; install on macOS&lt;/span&gt;
brew install wireguard-tools

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; install on FreeBSD&lt;/span&gt;
pkg install wireguard

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; install on iOS/Android using Apple App Store/Google Play Store&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; install on other systems using https://www.wireguard.com/install/#installation&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; to enable kernel relaying/forwarding ability on bounce servers&lt;/span&gt;
&lt;span class="pl-c1"&gt;echo&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;net.ipv4.ip_forward = 1&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;&amp;gt;&amp;gt;&lt;/span&gt; /etc/sysctl.conf
&lt;span class="pl-c1"&gt;echo&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;net.ipv4.conf.all.proxy_arp = 1&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;&amp;gt;&amp;gt;&lt;/span&gt; /etc/sysctl.conf
sudo sysctl -p /etc/sysctl.conf

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; to add iptables forwarding rules on bounce servers&lt;/span&gt;
iptables -A INPUT -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
iptables -A FORWARD -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
iptables -A FORWARD -i wg0 -o wg0 -m conntrack --ctstate NEW -j ACCEPT
iptables -t nat -A POSTROUTING -s 192.0.2.0/24 -o eth0 -j MASQUERADE&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-config-creation" class="anchor" aria-hidden="true" href="#config-creation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Config Creation&lt;/h3&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;nano wg0.conf  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; can be placed anywhere, must be referred to using absolute path&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-key-generation" class="anchor" aria-hidden="true" href="#key-generation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Key Generation&lt;/h3&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; generate private key&lt;/span&gt;
wg genkey &lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; example.key

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; generate public key&lt;/span&gt;
wg pubkey &lt;span class="pl-k"&gt;&amp;lt;&lt;/span&gt; example.key &lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; example.key.pub&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-start--stop" class="anchor" aria-hidden="true" href="#start--stop"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Start / Stop&lt;/h3&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;wg-quick up /full/path/to/wg0.conf
wg-quick down /full/path/to/wg0.conf
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Note: you must specify the absolute path to wg0.conf, relative paths won't work&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; start/stop VPN network interface&lt;/span&gt;
ip link &lt;span class="pl-c1"&gt;set&lt;/span&gt; wg0 up
ip link &lt;span class="pl-c1"&gt;set&lt;/span&gt; wg0 down

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; register/unregister VPN network interface&lt;/span&gt;
ip link add dev wg0 &lt;span class="pl-c1"&gt;type&lt;/span&gt; wireguard
ip link delete dev wg0

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; register/unregister local VPN address&lt;/span&gt;
ip address add dev wg0 192.0.2.3/32
ip address delete dev wg0 192.0.2.3/32

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; register/unregister VPN route&lt;/span&gt;
ip route add 192.0.2.3/32 dev wg0
ip route delete 192.0.2.3/32 dev wg0&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-inspect" class="anchor" aria-hidden="true" href="#inspect"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Inspect&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-interfaces" class="anchor" aria-hidden="true" href="#interfaces"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Interfaces&lt;/h4&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; show system LAN and WAN network interfaces&lt;/span&gt;
ifconfig
ip address show

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; show system VPN network interfaces&lt;/span&gt;
ifconfig wg0
ip link show wg0

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; show WireGuard VPN interfaces&lt;/span&gt;
wg show all
wg show wg0&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-addresses" class="anchor" aria-hidden="true" href="#addresses"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Addresses&lt;/h4&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; show public ip address&lt;/span&gt;
ifconfig eth0
ip address show eth0
dig -4 +short myip.opendns.com @resolver1.opendns.com

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; show VPN ip address&lt;/span&gt;
ip address show wg0&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-routes" class="anchor" aria-hidden="true" href="#routes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Routes&lt;/h4&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; show WireGuard routing table and peer connections&lt;/span&gt;
wg show
wg show wg0 allowed-ips

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; show system routing table&lt;/span&gt;
ip route show table main
ip route show table &lt;span class="pl-k"&gt;local&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; show system route to specific address&lt;/span&gt;
ip route get 192.0.2.3&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-testing" class="anchor" aria-hidden="true" href="#testing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Testing&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-ping-speed" class="anchor" aria-hidden="true" href="#ping-speed"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ping Speed&lt;/h4&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; check that main relay server is accessible directly via public internet&lt;/span&gt;
ping public-server1.example-vpn.dev

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; check that the main relay server is available via VPN&lt;/span&gt;
ping 192.0.2.1

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; check that public peers are available via VPN&lt;/span&gt;
ping 192.0.2.2

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; check that remote NAT-ed peers are available via VPN&lt;/span&gt;
ping 192.0.2.3

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; check that NAT-ed peers in your local lan are available via VPN&lt;/span&gt;
ping 192.0.2.4&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-bandwidth" class="anchor" aria-hidden="true" href="#bandwidth"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bandwidth&lt;/h4&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; install iperf using your preferred package manager&lt;/span&gt;
apt/brew/pkg install iperf

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; check bandwidth over public internet to relay server&lt;/span&gt;
iperf -s &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; on public relay server&lt;/span&gt;
iperf -c public-server1.example-vpn.dev &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; on local client&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; check bandwidth over VPN to relay server&lt;/span&gt;
iperf -s &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; on public relay server&lt;/span&gt;
iperf -c 192.0.2.1 &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; on local client&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; check bandwidth over VPN to remote public peer&lt;/span&gt;
iperf -s &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; on remote public peer&lt;/span&gt;
iperf -c 192.0.2.2 &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; on local client&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; check bandwidth over VPN to remote NAT-ed peer&lt;/span&gt;
iperf -s &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; on remote NAT-ed peer&lt;/span&gt;
iperf -c 192.0.2.3 &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; on local client&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; check bandwidth over VPN to local NAT-ed peer (on same LAN)&lt;/span&gt;
iperf -s &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; on local NAT-ed peer&lt;/span&gt;
iperf -c 192.0.2.4 &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; on local client&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-dns-1" class="anchor" aria-hidden="true" href="#dns-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;DNS&lt;/h4&gt;
&lt;p&gt;Check for DNS leaks using &lt;a href="http://dnsleak.com" rel="nofollow"&gt;http://dnsleak.com&lt;/a&gt;, or by checking the resolver on a lookup:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;dig example.com A&lt;/pre&gt;&lt;/div&gt;
&lt;hr&gt;
&lt;h2&gt;&lt;a id="user-content-config-reference" class="anchor" aria-hidden="true" href="#config-reference"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Config Reference&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-overview" class="anchor" aria-hidden="true" href="#overview"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Overview&lt;/h3&gt;
&lt;p&gt;WireGuard config is in INI syntax, defined in a file usually called &lt;code&gt;wg0.conf&lt;/code&gt;.  It can be placed anywhere on the system, but is often placed in &lt;code&gt;/etc/wireguard/wg0.conf&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The config path is specified as an argument when running any &lt;code&gt;wg-quick&lt;/code&gt; command, e.g:&lt;br&gt;
&lt;code&gt;wg-quick up /etc/wireguard/wg0.conf&lt;/code&gt; (always specify the full, absolute path)&lt;/p&gt;
&lt;p&gt;Config files can opt to use the limited set of &lt;code&gt;wg&lt;/code&gt; config options, or the more extended &lt;code&gt;wg-quick&lt;/code&gt; options, depending on what command is preferred to start WireGuard.  These docs recommend sticking to &lt;code&gt;wg-quick&lt;/code&gt; as it provides a more powerful and user-friendly config experience.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Jump to definition:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;¶ &lt;a href="#Interface"&gt;&lt;code&gt;[Interface]&lt;/code&gt;&lt;/a&gt;&lt;br&gt;
¶ &lt;a href="#-Name"&gt;&lt;code&gt;# Name = node1.example.tld&lt;/code&gt;&lt;/a&gt;&lt;br&gt;
¶ &lt;a href="#Address"&gt;&lt;code&gt;Address = 192.0.2.3/32&lt;/code&gt;&lt;/a&gt;&lt;br&gt;
¶ &lt;a href="#ListenPort"&gt;&lt;code&gt;ListenPort = 51820&lt;/code&gt;&lt;/a&gt;&lt;br&gt;
¶ &lt;a href="#PrivateKey"&gt;&lt;code&gt;PrivateKey = localPrivateKeyAbcAbcAbc=&lt;/code&gt;&lt;/a&gt;&lt;br&gt;
¶ &lt;a href="#DNS"&gt;&lt;code&gt;DNS = 1.1.1.1,8.8.8.8&lt;/code&gt;&lt;/a&gt;&lt;br&gt;
¶ &lt;a href="#Table"&gt;&lt;code&gt;Table = 12345&lt;/code&gt;&lt;/a&gt;&lt;br&gt;
¶ &lt;a href="#MTU"&gt;&lt;code&gt;MTU = 1500&lt;/code&gt;&lt;/a&gt;&lt;br&gt;
¶ &lt;a href="#PreUp"&gt;&lt;code&gt;PreUp = /bin/example arg1 arg2 %i&lt;/code&gt;&lt;/a&gt;&lt;br&gt;
¶ &lt;a href="#PostUp"&gt;&lt;code&gt;PostUp = /bin/example arg1 arg2 %i&lt;/code&gt;&lt;/a&gt;&lt;br&gt;
¶ &lt;a href="#PreDown"&gt;&lt;code&gt;PreDown = /bin/example arg1 arg2 %i&lt;/code&gt;&lt;/a&gt;&lt;br&gt;
¶ &lt;a href="#PostDown"&gt;&lt;code&gt;PostDown = /bin/example arg1 arg2 %i&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;¶ &lt;a href="#Peer-"&gt;&lt;code&gt;[Peer]&lt;/code&gt;&lt;/a&gt;&lt;br&gt;
¶ &lt;a href="#-Name1"&gt;&lt;code&gt;# Name = node2-node.example.tld&lt;/code&gt;&lt;/a&gt;&lt;br&gt;
¶ &lt;a href="#AllowedIPs"&gt;&lt;code&gt;AllowedIPs = 192.0.2.1/24&lt;/code&gt;&lt;/a&gt;&lt;br&gt;
¶ &lt;a href="#ListenPort"&gt;&lt;code&gt;Endpoint = node1.example.tld:51820&lt;/code&gt;&lt;/a&gt;&lt;br&gt;
¶ &lt;a href="#PublicKey"&gt;&lt;code&gt;PublicKey = remotePublicKeyAbcAbcAbc=&lt;/code&gt;&lt;/a&gt;&lt;br&gt;
¶ &lt;a href="#PersistentKeepalive"&gt;&lt;code&gt;PersistentKeepalive = 25&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-interface" class="anchor" aria-hidden="true" href="#interface"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;[Interface]&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;Defines the VPN settings for the local node.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Examples&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Node is a client that only routes traffic for itself and only exposes one IP&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-ini"&gt;&lt;pre&gt;&lt;span class="pl-en"&gt;[Interface]&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Name = phone.example-vpn.dev&lt;/span&gt;
&lt;span class="pl-k"&gt;Address&lt;/span&gt; = 192.0.2.5/32
&lt;span class="pl-k"&gt;PrivateKey&lt;/span&gt; = &amp;lt;private key for phone.example-vpn.dev&amp;gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Node is a public bounce server that can relay traffic to other peers and exposes route for entire VPN subnet&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-ini"&gt;&lt;pre&gt;&lt;span class="pl-en"&gt;[Interface]&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Name = public-server1.example-vpn.tld&lt;/span&gt;
&lt;span class="pl-k"&gt;Address&lt;/span&gt; = 192.0.2.1/24
&lt;span class="pl-k"&gt;ListenPort&lt;/span&gt; = 51820
&lt;span class="pl-k"&gt;PrivateKey&lt;/span&gt; = &amp;lt;private key for public-server1.example-vpn.tld&amp;gt;
&lt;span class="pl-k"&gt;DNS&lt;/span&gt; = 1.1.1.1&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content--name" class="anchor" aria-hidden="true" href="#-name"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;# Name&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;This is just a standard comment in INI syntax used to help keep track of which config section belongs to which node, it's completely ignored by WireGuard and has no effect on VPN behavior.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-address" class="anchor" aria-hidden="true" href="#address"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;Address&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;Defines what address range the local node should route traffic for. Depending on whether the node is a simple client joining the VPN subnet, or a bounce server that's relaying traffic between multiple clients, this can be set to a single IP of the node itself (specified with CIDR notation), e.g. 192.0.2.3/32), or a range of IPv4/IPv6 subnets that the node can route traffic for.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Examples&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Node is a client that only routes traffic for itself&lt;br&gt;
&lt;code&gt;Address = 192.0.2.3/32&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Node is a public bounce server that can relay traffic to other peers&lt;br&gt;
When the node is acting as the public bounce server, it should set this to be the entire subnet that it can route traffic, not just a single IP for itself.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;Address = 192.0.2.1/24&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You can also specify multiple subnets or IPv6 subnets like so:&lt;br&gt;
&lt;code&gt;Address = 192.0.2.1/24,2001:DB8::/64&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-listenport" class="anchor" aria-hidden="true" href="#listenport"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;ListenPort&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;When the node is acting as a public bounce server, it should hardcode a port to listen for incoming VPN connections from the public internet.  Clients not acting as relays should not set this value.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Examples&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Using default WireGuard port&lt;br&gt;
&lt;code&gt;ListenPort = 51820&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Using custom WireGuard port&lt;br&gt;
&lt;code&gt;ListenPort = 7000&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-privatekey" class="anchor" aria-hidden="true" href="#privatekey"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;PrivateKey&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;This is the private key for the local node, never shared with other servers.
All nodes must have a private key set, regardless of whether they are public bounce servers relaying traffic, or simple clients joining the VPN.&lt;/p&gt;
&lt;p&gt;This key can be generated with &lt;code&gt;wg genkey &amp;gt; example.key&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Examples&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;PrivateKey = somePrivateKeyAbcdAbcdAbcdAbcd=&lt;/code&gt;&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-dns-2" class="anchor" aria-hidden="true" href="#dns-2"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;DNS&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;The DNS server(s) to announce to VPN clients via DHCP, most clients will use this server for DNS requests over the VPN, but clients can also override this value locally on their nodes&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Examples&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The value can be left unconfigured to use system default DNS servers&lt;/li&gt;
&lt;li&gt;A single DNS server can be provided&lt;br&gt;
&lt;code&gt;DNS = 1.1.1.1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;or multiple DNS servers can be provided&lt;br&gt;
&lt;code&gt;DNS = 1.1.1.1,8.8.8.8&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-table" class="anchor" aria-hidden="true" href="#table"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;Table&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;Optionally defines which routing table to use for the WireGuard routes, not necessary to configure for most setups.&lt;/p&gt;
&lt;p&gt;There are two special values: ‘off’ disables the creation of routes altogether, and ‘auto’ (the default) adds routes to the default table and enables special handling of default routes.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://git.zx2c4.com/WireGuard/about/src/tools/man/wg-quick.8" rel="nofollow"&gt;https://git.zx2c4.com/WireGuard/about/src/tools/man/wg-quick.8&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Examples&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight highlight-source-ini"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;Table&lt;/span&gt; = 1234&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-mtu" class="anchor" aria-hidden="true" href="#mtu"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;MTU&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;Optionally defines the maximum transmission unit (MTU, aka packet/frame size) to use when connecting to the peer, not necessary to configure for most setups.&lt;/p&gt;
&lt;p&gt;The MTU is automatically determined from the endpoint addresses or the system default route, which is usually a sane choice.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://git.zx2c4.com/WireGuard/about/src/tools/man/wg-quick.8" rel="nofollow"&gt;https://git.zx2c4.com/WireGuard/about/src/tools/man/wg-quick.8&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Examples&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight highlight-source-ini"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;MTU&lt;/span&gt; = 1500&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-preup" class="anchor" aria-hidden="true" href="#preup"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;PreUp&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;Optionally run a command before the interface is brought up.
This option can be specified multiple times, with commands executed in the order they appear in the file.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Examples&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Add an ip route
&lt;code&gt;PreUp = ip rule add ipproto tcp dport 22 table 1234&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-postup" class="anchor" aria-hidden="true" href="#postup"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;PostUp&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;Optionally run a command after the interface is brought up.
This option can appear multiple times, as with &lt;a href="#PreUp"&gt;PreUp&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Examples&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Read in a config value from a file or some command's output&lt;br&gt;
&lt;code&gt;PostUp = wg set %i private-key /etc/wireguard/wg0.key &amp;lt;(some command here)&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Log a line to a file&lt;br&gt;
&lt;code&gt;PostUp = echo "$(date +%s) WireGuard Started" &amp;gt;&amp;gt; /var/log/wireguard.log&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Hit a webhook on another server&lt;br&gt;
&lt;code&gt;PostUp = curl https://events.example.dev/wireguard/started/?key=abcdefg&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add a route to the system routing table&lt;br&gt;
&lt;code&gt;PostUp = ip rule add ipproto tcp dport 22 table 1234&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add an iptables rule to enable packet forwarding on the WireGuard interface&lt;br&gt;
&lt;code&gt;PostUp   = iptables -A FORWARD -i %i -j ACCEPT; iptables -A FORWARD -o %i -j ACCEPT; iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Force WireGuard to re-resolve IP address for peer domain&lt;br&gt;
&lt;code&gt;PostUp = resolvectl domain %i "~."; resolvectl dns %i 192.0.2.1; resolvectl dnssec %i yes&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-predown" class="anchor" aria-hidden="true" href="#predown"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;PreDown&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;Optionally run a command before the interface is brought down.
This option can appear multiple times, as with &lt;a href="#PreUp"&gt;PreUp&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Examples&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Log a line to a file&lt;br&gt;
&lt;code&gt;PostDown = echo "$(date +%s) WireGuard Going Down" &amp;gt;&amp;gt; /var/log/wireguard.log&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Hit a webhook on another server&lt;br&gt;
&lt;code&gt;PostDown = curl https://events.example.dev/wireguard/stopping/?key=abcdefg&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-postdown" class="anchor" aria-hidden="true" href="#postdown"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;PostDown&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;Optionally run a command after the interface is brought down.
This option can appear multiple times, as with &lt;a href="#PreUp"&gt;PreUp&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Examples&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Log a line to a file&lt;br&gt;
&lt;code&gt;PostDown = echo "$(date +%s) WireGuard Stopped" &amp;gt;&amp;gt; /var/log/wireguard.log&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Hit a webhook on another server&lt;br&gt;
&lt;code&gt;PostDown = curl https://events.example.dev/wireguard/stopped/?key=abcdefg&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Remove the iptables rule that forwards packets on the WireGuard interface&lt;br&gt;
&lt;code&gt;PostDown = iptables -D FORWARD -i %i -j ACCEPT; iptables -D FORWARD -o %i -j ACCEPT; iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-peer" class="anchor" aria-hidden="true" href="#peer"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;[Peer]&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;Defines the VPN settings for a remote peer capable of routing traffic for one or more addresses (itself and/or other peers). Peers can be either a public bounce server that relays traffic to other peers, or a directly accessible client via lan/internet that is not behind a NAT and only routes traffic for itself.&lt;/p&gt;
&lt;p&gt;All clients must be defined as peers on the public bounce server. Simple clients that only route traffic for themselves, only need to define peers for the public relay, and any other nodes directly accessible.  Nodes that are behind separate NATs should &lt;em&gt;not&lt;/em&gt; be defined as peers outside of the public server config, as no direct route is available between separate NATs. Instead, nodes behind NATs should only define the public relay servers and other public clients as their peers, and should specify &lt;code&gt;AllowedIPs = 192.0.2.1/24&lt;/code&gt; on the public server that accept routes and bounce traffic for the VPN subnet to the remote NAT-ed peers.&lt;/p&gt;
&lt;p&gt;In summary, all nodes must be defined on the main bounce server.  On client servers, only peers that are directly accessible from a node should be defined as peers of that node, any peers that must be relayed by a bounce sherver should be left out and will be handled by the relay server's catchall route.&lt;/p&gt;
&lt;p&gt;In the configuration outlined in the docs below, a single server &lt;code&gt;public-server1&lt;/code&gt; acts as the relay bounce server for a mix of publicly accessible and NAT-ed clients, and peers are configured on each node accordingly:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;in &lt;code&gt;public-server1&lt;/code&gt; &lt;code&gt;wg0.conf&lt;/code&gt; (bounce server)&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;[peer]&lt;/code&gt; list: &lt;code&gt;public-server2&lt;/code&gt;, &lt;code&gt;home-server&lt;/code&gt;, &lt;code&gt;laptop&lt;/code&gt;, &lt;code&gt;phone&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;in &lt;code&gt;public-server2&lt;/code&gt; &lt;code&gt;wg0.conf&lt;/code&gt; (simple public client)&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;[peer]&lt;/code&gt; list: &lt;code&gt;public-server1&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;in &lt;code&gt;home-server&lt;/code&gt; &lt;code&gt;wg0.conf&lt;/code&gt; (simple client behind nat)&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;[peer]&lt;/code&gt; list: &lt;code&gt;public-server1&lt;/code&gt;, &lt;code&gt;public-server2&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;in &lt;code&gt;laptop&lt;/code&gt; &lt;code&gt;wg0.conf&lt;/code&gt; (simple client behind nat)&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;[peer]&lt;/code&gt; list: &lt;code&gt;public-server1&lt;/code&gt;, &lt;code&gt;public-server2&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;in &lt;code&gt;phone&lt;/code&gt; &lt;code&gt;wg0.conf&lt;/code&gt; (simple client behind nat)&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;[peer]&lt;/code&gt; list: &lt;code&gt;public-server1&lt;/code&gt;, &lt;code&gt;public-server2&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Examples&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Peer is a simple public client that only routes traffic for itself&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-ini"&gt;&lt;pre&gt;&lt;span class="pl-en"&gt;[Peer]&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Name = public-server2.example-vpn.dev&lt;/span&gt;
&lt;span class="pl-k"&gt;Endpoint&lt;/span&gt; = public-server2.example-vpn.dev:51820
&lt;span class="pl-k"&gt;PublicKey&lt;/span&gt; = &amp;lt;public key for public-server2.example-vpn.dev&amp;gt;
&lt;span class="pl-k"&gt;AllowedIPs&lt;/span&gt; = 192.0.2.2/32&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Peer is a simple client behind a NAT that only routes traffic for itself&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-ini"&gt;&lt;pre&gt;&lt;span class="pl-en"&gt;[Peer]&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Name = home-server.example-vpn.dev&lt;/span&gt;
&lt;span class="pl-k"&gt;Endpoint&lt;/span&gt; = home-server.example-vpn.dev:51820
&lt;span class="pl-k"&gt;PublicKey&lt;/span&gt; = &amp;lt;public key for home-server.example-vpn.dev&amp;gt;
&lt;span class="pl-k"&gt;AllowedIPs&lt;/span&gt; = 192.0.2.3/32&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Peer is a public bounce server that can relay traffic to other peers&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-ini"&gt;&lt;pre&gt;&lt;span class="pl-en"&gt;[Peer]&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Name = public-server1.example-vpn.tld&lt;/span&gt;
&lt;span class="pl-k"&gt;Endpoint&lt;/span&gt; = public-server1.example-vpn.tld:51820
&lt;span class="pl-k"&gt;PublicKey&lt;/span&gt; = &amp;lt;public key for public-server1.example-vpn.tld&amp;gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; routes traffic to itself and entire subnet of peers as bounce server&lt;/span&gt;
&lt;span class="pl-k"&gt;AllowedIPs&lt;/span&gt; = 192.0.2.1/24
&lt;span class="pl-k"&gt;PersistentKeepalive&lt;/span&gt; = 25&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content--name-1" class="anchor" aria-hidden="true" href="#-name-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;# Name&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;This is just a standard comment in INI syntax used to help keep track of which config section belongs to which node, it's completely ignored by WireGuard and has no effect on VPN behavior.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-endpoint" class="anchor" aria-hidden="true" href="#endpoint"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;Endpoint&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;Defines the publicly accessible address for a remote peer.  This should be left out for peers behind a NAT or peers that don't have a stable publicly accessible IP:PORT pair.  Typically, this only needs to be defined on the main bounce server, but it can also be defined on other public nodes with stable IPs like &lt;code&gt;public-server2&lt;/code&gt; in the example config below.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Examples&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Endpoint is an IP address&lt;br&gt;
&lt;code&gt;Endpoint = 123.124.125.126:51820&lt;/code&gt;  (IPv6 is also supported)&lt;/li&gt;
&lt;li&gt;Endpoint is a hostname/FQDN&lt;br&gt;
&lt;code&gt;Endpoint = public-server1.example-vpn.tld:51820&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-allowedips" class="anchor" aria-hidden="true" href="#allowedips"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;AllowedIPs&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;This defines the IP ranges for which a peer will route traffic.  On simple clients, this is usually a single address (the VPN address of the simple client itself). For bounce servers this will be a range of the IPs or subnets that the relay server is capable of routing traffic for.  Multiple IPs and subnets may be specified using comma-separated IPv4 or IPv6 CIDR notation (from a single /32 or /128 address, all the way up to &lt;code&gt;0.0.0.0/0&lt;/code&gt; and &lt;code&gt;::/0&lt;/code&gt; to indicate a default route to send all internet and VPN traffic through that peer).  This option may be specified multiple times.&lt;/p&gt;
&lt;p&gt;When deciding how to route a packet, the system chooses the most specific route first, and falls back to broader routes. So for a packet destined to &lt;code&gt;192.0.2.3&lt;/code&gt;, the system would first look for a peer advertising &lt;code&gt;192.0.2.3/32&lt;/code&gt; specifically, and would fall back to a peer advertising &lt;code&gt;192.0.2.1/24&lt;/code&gt; or a larger range like &lt;code&gt;0.0.0.0/0&lt;/code&gt; as a last resort.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Examples&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;peer is a simple client that only accepts traffic to/from itself&lt;br&gt;
&lt;code&gt;AllowedIPs = 192.0.2.3/32&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;peer is a relay server that can bounce VPN traffic to all other peers&lt;br&gt;
&lt;code&gt;AllowedIPs = 192.0.2.1/24&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;peer is a relay server that bounces all internet &amp;amp; VPN traffic (like a proxy), including IPv6&lt;br&gt;
&lt;code&gt;AllowedIPs = 0.0.0.0/0,::/0&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;peer is a relay server that routes to itself and only one other peer&lt;br&gt;
&lt;code&gt;AllowedIPs = 192.0.2.3/32,192.0.2.4/32&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;peer is a relay server that routes to itself and all nodes on its local LAN&lt;br&gt;
&lt;code&gt;AllowedIPs = 192.0.2.3/32,192.168.1.1/24&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-publickey" class="anchor" aria-hidden="true" href="#publickey"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;PublicKey&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;This is the public key for the remote node, shareable with all peers.
All nodes must have a public key set, regardless of whether they are public bounce servers relaying traffic, or simple clients joining the VPN.&lt;/p&gt;
&lt;p&gt;This key can be generated with &lt;code&gt;wg pubkey &amp;lt; example.key &amp;gt; example.key.pub&lt;/code&gt;.
(see above for how to generate the private key &lt;code&gt;example.key&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Examples&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;PublicKey = somePublicKeyAbcdAbcdAbcdAbcd=&lt;/code&gt;&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-persistentkeepalive" class="anchor" aria-hidden="true" href="#persistentkeepalive"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;PersistentKeepalive&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;If the connection is going from a NAT-ed peer to a public peer, the node behind the NAT must regularly send an outgoing ping in order to keep the bidirectional connection alive in the NAT router's connection table.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Examples&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;local public node to remote public node&lt;br&gt;
This value should be left undefined as persistent pings are not needed.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;local public node to remote NAT-ed node&lt;br&gt;
This value should be left undefined as it's the client's responsibility to keep the connection alive because the server cannot reopen a dead connection to the client if it times out.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;local NAT-ed node to remote public node&lt;br&gt;
&lt;code&gt;PersistentKeepalive = 25&lt;/code&gt; this will send a ping to every 25 seconds keeping the connection open in the local NAT router's connection table.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;&lt;a id="user-content-advanced-topics" class="anchor" aria-hidden="true" href="#advanced-topics"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Advanced Topics&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-ipv6" class="anchor" aria-hidden="true" href="#ipv6"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;IPv6&lt;/h3&gt;
&lt;p&gt;The examples in these docs primarily use IPv4, but WireGuard natively supports IPv6 CIDR notation and addresses everywhere that it supports IPv4, simply add them as you would any other subnet range or address.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Example&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight highlight-source-ini"&gt;&lt;pre&gt;&lt;span class="pl-en"&gt;[Interface]&lt;/span&gt;
&lt;span class="pl-k"&gt;AllowedIps&lt;/span&gt; = 192.0.2.3/24, 2001:DB8::/64

&lt;span class="pl-en"&gt;[Peer]&lt;/span&gt;
...
&lt;span class="pl-k"&gt;AllowedIPs&lt;/span&gt; = 0.0.0.0/0, ::/0&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-forwarding-all-traffic" class="anchor" aria-hidden="true" href="#forwarding-all-traffic"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Forwarding All Traffic&lt;/h3&gt;
&lt;p&gt;If you want to forward &lt;em&gt;all&lt;/em&gt; internet traffic through the VPN, and not just use it as a server-to-server subnet, you can add &lt;code&gt;0.0.0.0/0, ::/0&lt;/code&gt; to the &lt;code&gt;AllowedIPs&lt;/code&gt; definition of the peer you want to pipe your traffic through.&lt;/p&gt;
&lt;p&gt;Make sure to also specify an IPv6 catchall even when only forwarding IPv4 traffic in order to avoid leaking IPv6 packets outside the VPN, see:&lt;br&gt;
&lt;a href="https://www.reddit.com/r/WireGuard/comments/b0m5g2/ipv6_leaks_psa_for_anyone_here_using_wireguard_to/" rel="nofollow"&gt;https://www.reddit.com/r/WireGuard/comments/b0m5g2/ipv6_leaks_psa_for_anyone_here_using_wireguard_to/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Example&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight highlight-source-ini"&gt;&lt;pre&gt;&lt;span class="pl-en"&gt;[Interface]&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Name = phone.example-vpn.dev&lt;/span&gt;
&lt;span class="pl-k"&gt;Address&lt;/span&gt; = 192.0.2.3/32
&lt;span class="pl-k"&gt;PrivateKey&lt;/span&gt; = &amp;lt;private key for phone.example-vpn.dev&amp;gt;

&lt;span class="pl-en"&gt;[Peer]&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Name = public-server1.example-vpn.dev&lt;/span&gt;
&lt;span class="pl-k"&gt;PublicKey&lt;/span&gt; = &amp;lt;public key for public-server1.example-vpn.dev&amp;gt;
&lt;span class="pl-k"&gt;Endpoint&lt;/span&gt; = public-server1.example-vpn.dev:51820
&lt;span class="pl-k"&gt;AllowedIPs&lt;/span&gt; = 0.0.0.0/0, ::/0&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-nat-to-nat-connections" class="anchor" aria-hidden="true" href="#nat-to-nat-connections"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;NAT To NAT Connections&lt;/h3&gt;
&lt;p&gt;WireGuard can sometimes natively make connections between two clients behind NATs without the need for a public relay server, but in most cases this is not possible. NAT-to-NAT connections are only possible if at least one host has a stable, publicly-accessible IP address:port pair that can be hardcoded ahead of time, whether thats using a FQDN updated with Dynamic DNS, or a static public IP with a non-randomized NAT port opened by outgoing packets, anything works as long as all peers can communicate it beforehand and it doesn't change once the connection is initiated.&lt;/p&gt;
&lt;p&gt;A known port and address need to be configured ahead of time because Wireguard doesn't have a signalling layer or public STUN servers that can be used to search for other hosts dynamically.  WebRTC is an example of a protocol that can dynamically configure a connection between two NATs, but it does this by using an out-of-band signaling server to detect the ip:port combo of each host. WireGuard doesn't have this, so it only works with a hardcoded &lt;code&gt;Endpoint&lt;/code&gt; + &lt;code&gt;ListenPort&lt;/code&gt; (and &lt;code&gt;PersistentKeepalive&lt;/code&gt; so it doesn't drop after inactivity).&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-requirements-for-nat-to-nat-setups" class="anchor" aria-hidden="true" href="#requirements-for-nat-to-nat-setups"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Requirements for NAT-to-NAT setups&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;At least one peer has to have to have a hardcoded, directly-accessible &lt;code&gt;Endpoint&lt;/code&gt; defined. If they're both behind NATs without stable IP addresses, then you'll need to use Dynamic DNS or another solution to have a stable, publicly accessibly domain/IP for at least one peer&lt;/li&gt;
&lt;li&gt;At least one peer has to have a hardcoded UDP &lt;code&gt;ListenPort&lt;/code&gt; defined, and it's NAT router must not do UDP source port randomization, otherwise return packets will be sent to the hardocded &lt;code&gt;ListenPort&lt;/code&gt; and dropped by the router, instead of using the random port assigned by the NAT on the outgoing packet&lt;/li&gt;
&lt;li&gt;All NAT'ed peers must have &lt;code&gt;PersistentKeepalive&lt;/code&gt; enabled on all other peers, so that they continually send outgoing pings to keep connections persisted in their NAT's routing table&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-the-hole-punching-connection-process" class="anchor" aria-hidden="true" href="#the-hole-punching-connection-process"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The hole-punching connection process&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;Peer1 sends a UDP packet to Peer2, it's rejected Peer2's NAT router immediately, but that's ok, the only purpose was to get Peer1's NAT to start forwarding any expected UDP responses back to Peer1 behind its NAT&lt;/li&gt;
&lt;li&gt;Peer2 sends a UDP packet to Peer1, it's accepted and forwarded to Peer1 as Peer1's NAT server is already expecting responses from Peer2 because of the initial outgoing packet&lt;/li&gt;
&lt;li&gt;Peer1 sends a UDP response to Peer2's packet, it's accepted and forwarded by Peer2's NAT server as it's also expecting responses because of the initial outgoing packet&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;This process of sending an initial packet that gets rejected, then using the fact that the router has now created a forwarding rule to accept responses is called "UDP hole-punching".&lt;/p&gt;
&lt;p&gt;When you send a UDP packet out, the router (usually) creates a temporary rule mapping your source address and port to the destination address and port, and vice versa. UDP packets returning from the destination address and port (and no other) are passed through to the original source address and port (and no other). This is how most UDP applications function behind NATs (e.g. Bittorent, Skype, etc). This rule will timeout after some minutes of inactivity, so the client behind the NAT must send regular outgoing packets to keep it open (see &lt;code&gt;PersistentKeepalive&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Getting this to work when both end-points are behind NATs or firewalls requires that both end-points send packets to each-other at about the same time. This means that both sides need to know each-other's public IP addresses and port numbers ahead of time, in WireGuard's case this is achieved by hard-coding pre-defined ports for both sides in &lt;code&gt;wg0.conf&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-drawbacks-and-limitations" class="anchor" aria-hidden="true" href="#drawbacks-and-limitations"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Drawbacks and limitations&lt;/h4&gt;
&lt;p&gt;As of 2019, many of the old hole-punching methods used that used to work are no longer effective.  One example was a novel method pioneered by &lt;a href="https://github.com/samyk/pwnat"&gt;pwnat&lt;/a&gt; that faked an ICMP Time Exceeded response from outside the NAT to get a packet back through to a NAT'ed peer, thereby leaking its own srcport. Hardcoding UDP ports and public IPs for both sides of a NAT-to-NAT connection (as described above) still works on a small percentage of networks. Generally the more "enterprisey" a network is, the less likely you'll be able to hole puch public UDP ports (commercial public wifi and cell data NATs often don't work for example).&lt;/p&gt;
&lt;h5&gt;&lt;a id="user-content-source-port-randomization" class="anchor" aria-hidden="true" href="#source-port-randomization"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Source port randomization&lt;/h5&gt;
&lt;p&gt;NAT-to-NAT connections are not possible if all endpoints are behind NAT's with strict UDP source port randomization (e.g. most cellular data networks).  Since neither side is able to hardcode a &lt;code&gt;ListenPort&lt;/code&gt; and guarantee that their NAT will accept traffic on that port after the outgoing ping, you cannot coordinate a port for the initial hole-punch between peers and connections will fail.  For this reason, you generally cannot do phone-to-phone connections on LTE/3g networks, but you might be able to do phone-to-office or phone-to-home where the office or home has a stable public IP and doesn't do source port randomization.&lt;/p&gt;
&lt;h5&gt;&lt;a id="user-content-dynamic-ip-addresses" class="anchor" aria-hidden="true" href="#dynamic-ip-addresses"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Dynamic IP addresses&lt;/h5&gt;
&lt;p&gt;Many users report having to restart WireGuard whenever a dynamic IP changes, as it only resolves hostnames on startup. To force WireGuard to re-resolve dynamic DNS &lt;code&gt;Endpoint&lt;/code&gt; hostnames more often, you may want to use a &lt;code&gt;PostUp&lt;/code&gt; hook to restart WireGuard every few minutes or hours.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-testing-it-out" class="anchor" aria-hidden="true" href="#testing-it-out"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Testing it out&lt;/h4&gt;
&lt;p&gt;You can see if a hole-punching setup is feasible by using netcat on the client and server to see what ports and connection order work to get a bidirectional connection open: run &lt;code&gt;nc -v -u -p 51820 &amp;lt;address of peer2&amp;gt; 51820&lt;/code&gt; (on peer1) and &lt;code&gt;nc -v -u -l 0.0.0.0 51820&lt;/code&gt; (on peer2), then type in both windows to see if you can get bidirectional traffic going.  If it doesn't work regardless of which peer sends the initial packet, then WireGuard won't be unable to work between the peers without a public relay server.&lt;/p&gt;
&lt;p&gt;NAT-to-NAT connections are often more unstable and have other limitations, which is why having a fallback public relay server is still advised.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-further-reading" class="anchor" aria-hidden="true" href="#further-reading"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Further reading&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/samyk/pwnat"&gt;https://github.com/samyk/pwnat&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://en.wikipedia.org/wiki/UDP_hole_punching" rel="nofollow"&gt;https://en.wikipedia.org/wiki/UDP_hole_punching&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://stackoverflow.com/questions/8892142/udp-hole-punching-algorithm" rel="nofollow"&gt;https://stackoverflow.com/questions/8892142/udp-hole-punching-algorithm&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://stackoverflow.com/questions/12359502/udp-hole-punching-not-going-through-on-3g" rel="nofollow"&gt;https://stackoverflow.com/questions/12359502/udp-hole-punching-not-going-through-on-3g&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://stackoverflow.com/questions/11819349/udp-hole-punching-not-possible-with-mobile-provider" rel="nofollow"&gt;https://stackoverflow.com/questions/11819349/udp-hole-punching-not-possible-with-mobile-provider&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/WireGuard/WireGuard/tree/master/contrib/examples/nat-hole-punching"&gt;https://github.com/WireGuard/WireGuard/tree/master/contrib/examples/nat-hole-punching&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://staaldraad.github.io/2017/04/17/nat-to-nat-with-wireguard/" rel="nofollow"&gt;https://staaldraad.github.io/2017/04/17/nat-to-nat-with-wireguard/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Example&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Peer1:&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight highlight-source-ini"&gt;&lt;pre&gt;&lt;span class="pl-en"&gt;[Interface]&lt;/span&gt;
...
ListenPort 12000

&lt;span class="pl-en"&gt;[Peer]&lt;/span&gt;
...
&lt;span class="pl-k"&gt;Endpoint&lt;/span&gt; = peer2.example-vpn.dev:12000
&lt;span class="pl-k"&gt;PersistentKeepalive&lt;/span&gt; = 25&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Peer2:&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight highlight-source-ini"&gt;&lt;pre&gt;&lt;span class="pl-en"&gt;[Interface]&lt;/span&gt;
...
ListenPort 12000

&lt;span class="pl-en"&gt;[Peer]&lt;/span&gt;
...
&lt;span class="pl-k"&gt;Endpoint&lt;/span&gt; = peer1.example-vpn.dev:12000
&lt;span class="pl-k"&gt;PersistentKeepalive&lt;/span&gt; = 25&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-dynamic-ip-allocation" class="anchor" aria-hidden="true" href="#dynamic-ip-allocation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Dynamic IP Allocation&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;Note: this section is about dynamic peer IPs within the VPN subnet, not dynamic public &lt;code&gt;Endpoint&lt;/code&gt; addresses&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Dynamic allocation of peer IPs (instead of only having fixed peers) is being developed, the WIP implementation is available here:
&lt;a href="https://github.com/WireGuard/wg-dynamic"&gt;https://github.com/WireGuard/wg-dynamic&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You can also build a dynamic allocation system yourself by reading in IP values from files at runtime by using &lt;code&gt;PostUp&lt;/code&gt; (see below).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Example&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight highlight-source-ini"&gt;&lt;pre&gt;&lt;span class="pl-en"&gt;[Interface]&lt;/span&gt;
...
&lt;span class="pl-k"&gt;PostUp&lt;/span&gt; = wg set %i allowed-ips /etc/wireguard/wg0.key &amp;lt;(some command)&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-other-wireguard-implementations" class="anchor" aria-hidden="true" href="#other-wireguard-implementations"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Other WireGuard Implementations&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://git.zx2c4.com/wireguard-go/about/" rel="nofollow"&gt;https://git.zx2c4.com/wireguard-go/about/&lt;/a&gt;&lt;br&gt;
A compliant userland WireGuard implementation written in Go.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://git.zx2c4.com/wireguard-rs/about/" rel="nofollow"&gt;https://git.zx2c4.com/wireguard-rs/about/&lt;/a&gt;&lt;br&gt;
An incomplete, insecure userspace implementation of WireGuard written in Rust (not ready for the public).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://git.zx2c4.com/wireguard-hs/about/" rel="nofollow"&gt;https://git.zx2c4.com/wireguard-hs/about/&lt;/a&gt;&lt;br&gt;
An incomplete, insecure userspace implementation of WireGuard written in Haskell (not ready for the public).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/cloudflare/boringtun"&gt;https://github.com/cloudflare/boringtun&lt;/a&gt;&lt;br&gt;
A compliant, working WireGuard implementation with the exact same API, written in Rust.
See &lt;a href="https://blog.cloudflare.com/boringtun-userspace-wireguard-rust/" rel="nofollow"&gt;https://blog.cloudflare.com/boringtun-userspace-wireguard-rust/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Platform-specific WireGuard apps&lt;br&gt;
&lt;a href="https://git.zx2c4.com/wireguard-ios/about/" rel="nofollow"&gt;https://git.zx2c4.com/wireguard-ios/about/&lt;/a&gt;&lt;br&gt;
&lt;a href="https://git.zx2c4.com/wireguard-android/about/" rel="nofollow"&gt;https://git.zx2c4.com/wireguard-android/about/&lt;/a&gt;&lt;br&gt;
&lt;a href="https://git.zx2c4.com/wireguard-windows/about/" rel="nofollow"&gt;https://git.zx2c4.com/wireguard-windows/about/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;All of the userspace implementations are slower than the native C version that runs in kernel-land, but provide other benefits by running in userland (e.g. easier containerization, compatibility, etc.).&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-wireguard-setup-tools" class="anchor" aria-hidden="true" href="#wireguard-setup-tools"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;WireGuard Setup Tools&lt;/h3&gt;
&lt;p&gt;These are some GUI and CLI tools that wrap WireGuard to assist with config, deployment, key management, and connection.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/subspacecloud/subspace"&gt;https://github.com/subspacecloud/subspace&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/corrad1nho/qomui"&gt;https://github.com/corrad1nho/qomui&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/max-moser/network-manager-wireguard"&gt;https://github.com/max-moser/network-manager-wireguard&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/its0x08/wg-install"&gt;https://github.com/its0x08/wg-install&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sowbug/mkwgconf"&gt;https://github.com/sowbug/mkwgconf&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/brittson/wireguard_config_maker"&gt;https://github.com/brittson/wireguard_config_maker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/SirToffski/WireGuard-Ligase/"&gt;https://github.com/SirToffski/WireGuard-Ligase/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://pypi.org/project/wireguard-p2p/" rel="nofollow"&gt;https://pypi.org/project/wireguard-p2p/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/trailofbits/algo"&gt;https://github.com/trailofbits/algo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/StreisandEffect/streisand"&gt;https://github.com/StreisandEffect/streisand&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.veeam.com/blog/veeam-pn-v2-wireguard.html" rel="nofollow"&gt;https://www.veeam.com/blog/veeam-pn-v2-wireguard.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/wg-dashboard/wg-dashboard"&gt;https://github.com/wg-dashboard/wg-dashboard&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-config-shortcuts" class="anchor" aria-hidden="true" href="#config-shortcuts"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Config Shortcuts&lt;/h3&gt;
&lt;p&gt;Credit for these shortcuts goes to:
&lt;a href="https://www.ericlight.com/new-things-i-didnt-know-about-wireguard.html" rel="nofollow"&gt;https://www.ericlight.com/new-things-i-didnt-know-about-wireguard.html&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-sharing-a-single-peersconf-file" class="anchor" aria-hidden="true" href="#sharing-a-single-peersconf-file"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Sharing a single peers.conf file&lt;/h4&gt;
&lt;p&gt;WireGuard will ignore a peer whose public key matches the interface's private key. So you can distribute a single list of peers everywhere, and only define the &lt;code&gt;[Interface]&lt;/code&gt; separately on each server.&lt;/p&gt;
&lt;p&gt;See: &lt;a href="https://lists.zx2c4.com/pipermail/wireguard/2018-December/003703.html" rel="nofollow"&gt;https://lists.zx2c4.com/pipermail/wireguard/2018-December/003703.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You can combine this with &lt;code&gt;wg addconf&lt;/code&gt; like this:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Each peer has its own &lt;code&gt;/etc/wireguard/wg0.conf&lt;/code&gt; file, which only contains its &lt;code&gt;[Interface]&lt;/code&gt; section.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Each peer also has a shared &lt;code&gt;/etc/wireguard/peers.conf&lt;/code&gt; file, which contains all the peers.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;wg0.conf&lt;/code&gt; file also has a &lt;code&gt;PostUp&lt;/code&gt; hook: &lt;code&gt;PostUp = wg addconf /etc/wireguard/peers.conf&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It's up to you to decide how you want to share the &lt;code&gt;peers.conf&lt;/code&gt;, be it via a proper orchestration platform, something much more pedestrian like Dropbox, or something kinda wild like Ceph. I dunno, but it's pretty great that you can just wildly fling a peer section around, without worrying whether it's the same as the interface.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-setting-config-values-from-files-or-command-outputs" class="anchor" aria-hidden="true" href="#setting-config-values-from-files-or-command-outputs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setting config values from files or command outputs&lt;/h4&gt;
&lt;p&gt;You can set config values from arbitrary commands or by reading in values from files, this makes key management and deployment much easier as you can read in keys at runtime from a 3rd party service like Kubernetes Secrets or AWS KMS.&lt;/p&gt;
&lt;p&gt;See: &lt;a href="https://lists.zx2c4.com/pipermail/wireguard/2018-December/003702.html" rel="nofollow"&gt;https://lists.zx2c4.com/pipermail/wireguard/2018-December/003702.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Example&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;You can read in a file as the &lt;code&gt;PrivateKey&lt;/code&gt; by doing something like:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;PostUp = wg set %i private-key /etc/wireguard/wg0.key &amp;lt;(some command)&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-containerization" class="anchor" aria-hidden="true" href="#containerization"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Containerization&lt;/h3&gt;
&lt;p&gt;WireGuard can be run in Docker with varying degrees of ease. In the simplest case, &lt;code&gt;--privileged&lt;/code&gt; and &lt;code&gt;--cap-add=all&lt;/code&gt; args can be added to the docker commands to enable the loading of the kernel module.&lt;/p&gt;
&lt;p&gt;Setups can get somewhat complex and are highly dependent on what you're trying to achieve. You can have WireGuard itself run in a container and expose a network interface to the host, or you can have WireGuard running on the host exposing an interface to specific containers.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Further Reading&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.wireguard.com/#ready-for-containers" rel="nofollow"&gt;https://www.wireguard.com/#ready-for-containers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://medium.com/@mdp/securing-docker-with-wireguard-82ad45004f4d" rel="nofollow"&gt;https://medium.com/@mdp/securing-docker-with-wireguard-82ad45004f4d&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://blog.jessfraz.com/post/installing-and-using-wireguard/" rel="nofollow"&gt;https://blog.jessfraz.com/post/installing-and-using-wireguard/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/cmulk/wireguard-docker"&gt;https://github.com/cmulk/wireguard-docker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/activeeos/wireguard-docker"&gt;https://github.com/activeeos/wireguard-docker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ironhalik/docker-wireguard"&gt;https://github.com/ironhalik/docker-wireguard&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://nbsoftsolutions.com/blog/routing-select-docker-containers-through-wireguard-vpn" rel="nofollow"&gt;https://nbsoftsolutions.com/blog/routing-select-docker-containers-through-wireguard-vpn&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1&gt;&lt;a id="user-content-further-reading-1" class="anchor" aria-hidden="true" href="#further-reading-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Further Reading&lt;/h1&gt;
&lt;h3&gt;&lt;a id="user-content-reference-docs" class="anchor" aria-hidden="true" href="#reference-docs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Reference Docs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.wireguard.com/install/#installation" rel="nofollow"&gt;https://www.wireguard.com/install/#installation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://git.zx2c4.com/WireGuard/about/src/tools/man/wg.8" rel="nofollow"&gt;https://git.zx2c4.com/WireGuard/about/src/tools/man/wg.8&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://git.zx2c4.com/WireGuard/about/src/tools/man/wg-quick.8" rel="nofollow"&gt;https://git.zx2c4.com/WireGuard/about/src/tools/man/wg-quick.8&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://wiki.archlinux.org/index.php/WireGuard" rel="nofollow"&gt;https://wiki.archlinux.org/index.php/WireGuard&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://wiki.debian.org/Wireguard#Configuration" rel="nofollow"&gt;https://wiki.debian.org/Wireguard#Configuration&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-tutorials" class="anchor" aria-hidden="true" href="#tutorials"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Tutorials&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.wireguard.com/quickstart/" rel="nofollow"&gt;https://www.wireguard.com/quickstart/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.stavros.io/posts/how-to-configure-wireguard/" rel="nofollow"&gt;https://www.stavros.io/posts/how-to-configure-wireguard/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://nbsoftsolutions.com/blog/wireguard-vpn-walkthrough" rel="nofollow"&gt;https://nbsoftsolutions.com/blog/wireguard-vpn-walkthrough&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://proprivacy.com/guides/wireguard-hands-on-guide" rel="nofollow"&gt;https://proprivacy.com/guides/wireguard-hands-on-guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://angristan.xyz/how-to-setup-vpn-server-wireguard-nat-ipv6/" rel="nofollow"&gt;https://angristan.xyz/how-to-setup-vpn-server-wireguard-nat-ipv6/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://medium.com/@headquartershq/setting-up-wireguard-on-a-mac-8a121bfe9d86" rel="nofollow"&gt;https://medium.com/@headquartershq/setting-up-wireguard-on-a-mac-8a121bfe9d86&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://grh.am/2018/wireguard-setup-guide-for-ios/" rel="nofollow"&gt;https://grh.am/2018/wireguard-setup-guide-for-ios/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://techcrunch.com/2018/07/28/how-i-made-my-own-wireguard-vpn-server/" rel="nofollow"&gt;https://techcrunch.com/2018/07/28/how-i-made-my-own-wireguard-vpn-server/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.ckn.io/blog/2017/11/14/wireguard-vpn-typical-setup/" rel="nofollow"&gt;https://www.ckn.io/blog/2017/11/14/wireguard-vpn-typical-setup/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://jrs-s.net/2018/08/05/routing-between-wg-interfaces-with-wireguard/" rel="nofollow"&gt;https://jrs-s.net/2018/08/05/routing-between-wg-interfaces-with-wireguard/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.stavros.io/posts/how-to-configure-wireguard/" rel="nofollow"&gt;https://www.stavros.io/posts/how-to-configure-wireguard/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://vincent.bernat.ch/en/blog/2018-route-based-vpn-wireguard" rel="nofollow"&gt;https://vincent.bernat.ch/en/blog/2018-route-based-vpn-wireguard&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://staaldraad.github.io/2017/04/17/nat-to-nat-with-wireguard" rel="nofollow"&gt;https://staaldraad.github.io/2017/04/17/nat-to-nat-with-wireguard&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://try.popho.be/wg.html" rel="nofollow"&gt;https://try.popho.be/wg.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.artemix.org/sysadmin/wireguard-management/" rel="nofollow"&gt;https://docs.artemix.org/sysadmin/wireguard-management/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/adrianmihalko/raspberrypiwireguard"&gt;https://github.com/adrianmihalko/raspberrypiwireguard&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.ericlight.com/wireguard-part-one-installation.html" rel="nofollow"&gt;https://www.ericlight.com/wireguard-part-one-installation.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.ericlight.com/wireguard-part-two-vpn-routing.html" rel="nofollow"&gt;https://www.ericlight.com/wireguard-part-two-vpn-routing.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.ericlight.com/wireguard-part-three-troubleshooting.html" rel="nofollow"&gt;https://www.ericlight.com/wireguard-part-three-troubleshooting.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://wiki.dd-wrt.com/wiki/index.php/The_Easiest_Tunnel_Ever" rel="nofollow"&gt;https://wiki.dd-wrt.com/wiki/index.php/The_Easiest_Tunnel_Ever&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.reddit.com/r/pihole/comments/bnihyz/guide_how_to_install_wireguard_on_a_raspberry_pi/" rel="nofollow"&gt;https://www.reddit.com/r/pihole/comments/bnihyz/guide_how_to_install_wireguard_on_a_raspberry_pi/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://jwillmer.de/blog/tutorial/wireguard-proxy-configuration" rel="nofollow"&gt;https://jwillmer.de/blog/tutorial/wireguard-proxy-configuration&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-papers-articles-and-talks" class="anchor" aria-hidden="true" href="#papers-articles-and-talks"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Papers, Articles, and Talks&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.wireguard.com/papers/wireguard.pdf" rel="nofollow"&gt;https://www.wireguard.com/papers/wireguard.pdf&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.wireguard.com/presentations/" rel="nofollow"&gt;https://www.wireguard.com/presentations/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://eprint.iacr.org/2018/080.pdf" rel="nofollow"&gt;https://eprint.iacr.org/2018/080.pdf&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://courses.csail.mit.edu/6.857/2018/project/He-Xu-Xu-WireGuard.pdf" rel="nofollow"&gt;https://courses.csail.mit.edu/6.857/2018/project/He-Xu-Xu-WireGuard.pdf&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://arstechnica.com/gadgets/2018/08/wireguard-vpn-review-fast-connections-amaze-but-windows-support-needs-to-happen/" rel="nofollow"&gt;https://arstechnica.com/gadgets/2018/08/wireguard-vpn-review-fast-connections-amaze-but-windows-support-needs-to-happen/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.wireguard.com/talks/blackhat2018-slides.pdf" rel="nofollow"&gt;https://www.wireguard.com/talks/blackhat2018-slides.pdf&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-related-projects" class="anchor" aria-hidden="true" href="#related-projects"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Related Projects&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/complexorganizations/wireguard-install"&gt;https://github.com/complexorganizations/wireguard-install&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/subspacecloud/subspace"&gt;https://github.com/subspacecloud/subspace&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/trailofbits/algo"&gt;https://github.com/trailofbits/algo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/StreisandEffect/streisand"&gt;https://github.com/StreisandEffect/streisand&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/its0x08/wg-install"&gt;https://github.com/its0x08/wg-install&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sowbug/mkwgconf"&gt;https://github.com/sowbug/mkwgconf&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/brittson/wireguard_config_maker"&gt;https://github.com/brittson/wireguard_config_maker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/SirToffski/WireGuard-Ligase/"&gt;https://github.com/SirToffski/WireGuard-Ligase/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://pypi.org/project/wireguard-p2p/" rel="nofollow"&gt;https://pypi.org/project/wireguard-p2p/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/cloudflare/boringtun"&gt;https://github.com/cloudflare/boringtun&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://git.zx2c4.com/wireguard-go/about/" rel="nofollow"&gt;https://git.zx2c4.com/wireguard-go/about/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/WireGuard/wg-dynamic"&gt;https://github.com/WireGuard/wg-dynamic&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/WireGuard/wireguard-ios"&gt;https://github.com/WireGuard/wireguard-ios&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/WireGuard/wireguard-windows"&gt;https://github.com/WireGuard/wireguard-windows&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/WireGuard/wireguard-rs"&gt;https://github.com/WireGuard/wireguard-rs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/WireGuard/wireguard-go"&gt;https://github.com/WireGuard/wireguard-go&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.veeam.com/blog/veeam-pn-v2-wireguard.html" rel="nofollow"&gt;https://www.veeam.com/blog/veeam-pn-v2-wireguard.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/wg-dashboard/wg-dashboard"&gt;https://github.com/wg-dashboard/wg-dashboard&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-docker" class="anchor" aria-hidden="true" href="#docker"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Docker&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.wireguard.com/#ready-for-containers" rel="nofollow"&gt;https://www.wireguard.com/#ready-for-containers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://medium.com/@mdp/securing-docker-with-wireguard-82ad45004f4d" rel="nofollow"&gt;https://medium.com/@mdp/securing-docker-with-wireguard-82ad45004f4d&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://blog.jessfraz.com/post/installing-and-using-wireguard/" rel="nofollow"&gt;https://blog.jessfraz.com/post/installing-and-using-wireguard/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://nbsoftsolutions.com/blog/leaning-on-algo-to-route-docker-traffic-through-wireguard" rel="nofollow"&gt;https://nbsoftsolutions.com/blog/leaning-on-algo-to-route-docker-traffic-through-wireguard&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/cmulk/wireguard-docker"&gt;https://github.com/cmulk/wireguard-docker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/activeeos/wireguard-docker"&gt;https://github.com/activeeos/wireguard-docker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ironhalik/docker-wireguard"&gt;https://github.com/ironhalik/docker-wireguard&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://nbsoftsolutions.com/blog/routing-select-docker-containers-through-wireguard-vpn" rel="nofollow"&gt;https://nbsoftsolutions.com/blog/routing-select-docker-containers-through-wireguard-vpn&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.net.in.tum.de/fileadmin/bibtex/publications/theses/2018-pudelko-vpn-performance.pdf" rel="nofollow"&gt;https://www.net.in.tum.de/fileadmin/bibtex/publications/theses/2018-pudelko-vpn-performance.pdf&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-other" class="anchor" aria-hidden="true" href="#other"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Other&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://blog.cloudflare.com/boringtun-userspace-wireguard-rust/" rel="nofollow"&gt;https://blog.cloudflare.com/boringtun-userspace-wireguard-rust/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://jrs-s.net/category/open-source/wireguard/" rel="nofollow"&gt;https://jrs-s.net/category/open-source/wireguard/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://restoreprivacy.com/openvpn-ipsec-wireguard-l2tp-ikev2-protocols/" rel="nofollow"&gt;https://restoreprivacy.com/openvpn-ipsec-wireguard-l2tp-ikev2-protocols/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://restoreprivacy.com/wireguard/" rel="nofollow"&gt;https://restoreprivacy.com/wireguard/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.ericlight.com/new-things-i-didnt-know-about-wireguard.html" rel="nofollow"&gt;https://www.ericlight.com/new-things-i-didnt-know-about-wireguard.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.ericlight.com/tag/wireguard.html" rel="nofollow"&gt;https://www.ericlight.com/tag/wireguard.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.linode.com/docs/networking/vpn/set-up-wireguard-vpn-on-ubuntu/" rel="nofollow"&gt;https://www.linode.com/docs/networking/vpn/set-up-wireguard-vpn-on-ubuntu/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.reddit.com/r/linux/comments/9bnowo/wireguard_benchmark_between_two_servers_with_10/" rel="nofollow"&gt;https://www.reddit.com/r/linux/comments/9bnowo/wireguard_benchmark_between_two_servers_with_10/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.wireguard.com/netns/" rel="nofollow"&gt;https://www.wireguard.com/netns/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.wireguard.com/performance/" rel="nofollow"&gt;https://www.wireguard.com/performance/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://blogs.gnome.org/thaller/2019/03/15/wireguard-in-networkmanager/" rel="nofollow"&gt;https://blogs.gnome.org/thaller/2019/03/15/wireguard-in-networkmanager/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/max-moser/network-manager-wireguard"&gt;https://github.com/max-moser/network-manager-wireguard&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-discussions" class="anchor" aria-hidden="true" href="#discussions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Discussions&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.reddit.com/r/WireGuard" rel="nofollow"&gt;https://www.reddit.com/r/WireGuard&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://lists.zx2c4.com/mailman/listinfo/wireguard" rel="nofollow"&gt;https://lists.zx2c4.com/mailman/listinfo/wireguard&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.reddit.com/r/VPN/comments/a914mr/can_you_explain_the_difference_between_openvpn/" rel="nofollow"&gt;https://www.reddit.com/r/VPN/comments/a914mr/can_you_explain_the_difference_between_openvpn/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.reddit.com/r/WireGuard/comments/b0m5g2/ipv6_leaks_psa_for_anyone_here_using_wireguard_to/?utm_source=reddit&amp;amp;utm_medium=usertext&amp;amp;utm_name=WireGuard&amp;amp;utm_content=t1_ep8tv0o" rel="nofollow"&gt;https://www.reddit.com/r/WireGuard/comments/b0m5g2/ipv6_leaks_psa_for_anyone_here_using_wireguard_to/?utm_source=reddit&amp;amp;utm_medium=usertext&amp;amp;utm_name=WireGuard&amp;amp;utm_content=t1_ep8tv0o&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.reddit.com/r/VPN/comments/au4owb/how_secure_is_wireguard_vpn_protocol/" rel="nofollow"&gt;https://www.reddit.com/r/VPN/comments/au4owb/how_secure_is_wireguard_vpn_protocol/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.reddit.com/r/WireGuard/comments/ap33df/wireguard_what_is_so_special_about_it_and_why/" rel="nofollow"&gt;https://www.reddit.com/r/WireGuard/comments/ap33df/wireguard_what_is_so_special_about_it_and_why/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.reddit.com/r/VPN/comments/9hgs2x/what_is_the_difference_between_wireguard_openvpn/" rel="nofollow"&gt;https://www.reddit.com/r/VPN/comments/9hgs2x/what_is_the_difference_between_wireguard_openvpn/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.reddit.com/r/privacytoolsIO/comments/8l0vxt/what_do_you_think_guys_of_wireguard/" rel="nofollow"&gt;https://www.reddit.com/r/privacytoolsIO/comments/8l0vxt/what_do_you_think_guys_of_wireguard/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://news.ycombinator.com/item?id=20036194" rel="nofollow"&gt;https://news.ycombinator.com/item?id=20036194&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://news.ycombinator.com/item?id=17659983" rel="nofollow"&gt;https://news.ycombinator.com/item?id=17659983&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://news.ycombinator.com/item?id=17846387" rel="nofollow"&gt;https://news.ycombinator.com/item?id=17846387&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For more detailed instructions, see the &lt;a href="#Quickstart"&gt;Quickstart&lt;/a&gt; guide and API reference above. You can also download the complete example setup here: &lt;a href="https://github.com/pirate/wireguard-example"&gt;https://github.com/pirate/wireguard-example&lt;/a&gt;.&lt;/p&gt;
&lt;hr&gt;

&lt;p&gt;Suggest changes: &lt;a href="https://github.com/pirate/wireguard-docs/issues"&gt;https://github.com/pirate/wireguard-docs/issues&lt;/a&gt;&lt;/p&gt;

&lt;/article&gt;&lt;/div&gt;</description><author>pirate</author><guid isPermaLink="false">https://github.com/pirate/wireguard-docs</guid><pubDate>Wed, 11 Dec 2019 00:01:00 GMT</pubDate></item><item><title>espnet/espnet #2 in Shell, Today</title><link>https://github.com/espnet/espnet</link><description>&lt;p&gt;&lt;i&gt;End-to-End Speech Processing Toolkit&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;div align="left"&gt;&lt;a target="_blank" rel="noopener noreferrer" href="doc/image/espnet_logo1.png"&gt;&lt;img src="doc/image/espnet_logo1.png" width="550" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/div&gt;
&lt;h1&gt;&lt;a id="user-content-espnet-end-to-end-speech-processing-toolkit" class="anchor" aria-hidden="true" href="#espnet-end-to-end-speech-processing-toolkit"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ESPnet: end-to-end speech processing toolkit&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://travis-ci.org/espnet/espnet" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/12634f244828f3ff315c035a40d6cdb20fb5608f/68747470733a2f2f7472617669732d63692e6f72672f6573706e65742f6573706e65742e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/espnet/espnet.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://circleci.com/gh/espnet/espnet" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/70723aef4aebb3aec5ab4deb88491979231f2af0/68747470733a2f2f636972636c6563692e636f6d2f67682f6573706e65742f6573706e65742e7376673f7374796c653d737667" alt="CircleCI" data-canonical-src="https://circleci.com/gh/espnet/espnet.svg?style=svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://codecov.io/gh/espnet/espnet" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/d6f6848b1e0c08d37821f874a2b966528bc093a5/68747470733a2f2f636f6465636f762e696f2f67682f6573706e65742f6573706e65742f6272616e63682f6d61737465722f67726170682f62616467652e737667" alt="codecov" data-canonical-src="https://codecov.io/gh/espnet/espnet/branch/master/graph/badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://gitter.im/espnet-en/community?utm_source=badge&amp;amp;utm_medium=badge&amp;amp;utm_campaign=pr-badge" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/06b0d48e0c66b1827954398094470043cfea23d8/68747470733a2f2f6261646765732e6769747465722e696d2f6573706e65742d656e2f636f6d6d756e6974792e737667" alt="Gitter" data-canonical-src="https://badges.gitter.im/espnet-en/community.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ESPnet is an end-to-end speech processing toolkit, mainly focuses on end-to-end speech recognition and end-to-end text-to-speech.
ESPnet uses &lt;a href="https://chainer.org/" rel="nofollow"&gt;chainer&lt;/a&gt; and &lt;a href="http://pytorch.org/" rel="nofollow"&gt;pytorch&lt;/a&gt; as a main deep learning engine,
and also follows &lt;a href="http://kaldi-asr.org/" rel="nofollow"&gt;Kaldi&lt;/a&gt; style data processing, feature extraction/format, and recipes to provide a complete setup for speech recognition and other speech processing experiments.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#key-features"&gt;Key Features&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#requirements"&gt;Requirements&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#installation"&gt;Installation&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#step-1-setting-of-the-environment-for-gpu-support"&gt;Step 1) setting of the environment for GPU support&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#step-2-a-installation-with-compiled-kaldi"&gt;Step 2-A) installation with compiled Kaldi&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#using-miniconda-default"&gt;using miniconda (default)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#using-existing-python"&gt;using existing python&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#step-2-b-installation-including-kaldi-installation"&gt;Step 2-B) installation including Kaldi installation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#step-2-c-installation-for-cpu-only"&gt;Step 2-C) installation for CPU-only&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#step-3-installation-check"&gt;Step 3) installation check&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#execution-of-example-scripts"&gt;Execution of example scripts&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#use-of-gpu"&gt;Use of GPU&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#changing-the-configuration"&gt;Changing the configuration&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#how-to-set-minibatch"&gt;How to set minibatch&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#setup-in-your-cluster"&gt;Setup in your cluster&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ctc-attention-and-hybrid-ctcattention"&gt;CTC, attention, and hybrid CTC/attention&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#known-issues"&gt;Known issues&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#error-due-to-acs-multiple-gpus"&gt;Error due to ACS (Multiple GPUs)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#error-due-to-matplotlib"&gt;Error due to matplotlib&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#docker-container"&gt;Docker Container&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#results-and-demo"&gt;Results and demo&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#asr-results"&gt;ASR results&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#asr-demo"&gt;ASR demo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#tts-results"&gt;TTS results&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#tts-demo"&gt;TTS demo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#chainer-and-pytorch-backends"&gt;Chainer and Pytorch backends&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#references"&gt;References&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#citation"&gt;Citation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-key-features" class="anchor" aria-hidden="true" href="#key-features"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Key Features&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Hybrid CTC/attention based end-to-end ASR
&lt;ul&gt;
&lt;li&gt;Fast/accurate training with CTC/attention multitask training&lt;/li&gt;
&lt;li&gt;CTC/attention joint decoding to boost monotonic alignment decoding&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Encoder: VGG-like CNN + BiRNN (LSTM/GRU), sub-sampling BiRNN (LSTM/GRU) or Transformer&lt;/li&gt;
&lt;li&gt;Attention: Dot product, location-aware attention, variants of multihead&lt;/li&gt;
&lt;li&gt;Incorporate RNNLM/LSTMLM trained only with text data&lt;/li&gt;
&lt;li&gt;Batch GPU decoding&lt;/li&gt;
&lt;li&gt;Tacotron2 based end-to-end TTS&lt;/li&gt;
&lt;li&gt;Transformer based end-to-end TTS&lt;/li&gt;
&lt;li&gt;Feed-forward Transformer (a.k.a. FastSpeech) based end-to-end TTS (new!)&lt;/li&gt;
&lt;li&gt;Flexible network architecture thanks to chainer and pytorch&lt;/li&gt;
&lt;li&gt;Kaldi style complete recipe
&lt;ul&gt;
&lt;li&gt;Support numbers of ASR recipes (WSJ, Switchboard, CHiME-4/5, Librispeech, TED, CSJ, AMI, HKUST, Voxforge, REVERB, etc.)&lt;/li&gt;
&lt;li&gt;Support numbers of TTS recipes with a similar manner to the ASR recipe (LJSpeech, LibriTTS, M-AILABS, etc.)&lt;/li&gt;
&lt;li&gt;Support speech translation recipes (Fisher callhome Spanish to English, IWSLT'18)&lt;/li&gt;
&lt;li&gt;Support speech separation and recognition recipe (WSJ-2mix)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;State-of-the-art performance in several benchmarks (comparable/superior to hybrid DNN/HMM and CTC)&lt;/li&gt;
&lt;li&gt;Flexible front-end processing thanks to &lt;a href="https://github.com/nttcslab-sp/kaldiio"&gt;kaldiio&lt;/a&gt; and HDF5 support&lt;/li&gt;
&lt;li&gt;Tensorboard based monitoring&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-requirements" class="anchor" aria-hidden="true" href="#requirements"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Requirements&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Python 3.6.1+&lt;/li&gt;
&lt;li&gt;gcc 4.9+ for PyTorch1.0.0+&lt;/li&gt;
&lt;li&gt;protocol buffer
&lt;ul&gt;
&lt;li&gt;For the sentencepiece, you need to install via package manager e.g.&lt;br&gt;
&lt;code&gt;sudo apt-get install libprotobuf9v5 protobuf-compiler libprotobuf-dev&lt;/code&gt;.&lt;br&gt;
See details &lt;code&gt;Installation&lt;/code&gt; of &lt;a href="https://github.com/google/sentencepiece/blob/master/README.md"&gt;https://github.com/google/sentencepiece/blob/master/README.md&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;libsndfile
&lt;ul&gt;
&lt;li&gt;For the soundfile, you need to install via package manager e.g.&lt;br&gt;
&lt;code&gt;sudo apt-get install libsndfile1-dev&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Optionally, GPU environment requires the following libraries:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Cuda 8.0, 9.0, 9.1, 10.0 depending on each DNN library&lt;/li&gt;
&lt;li&gt;Cudnn 6+, 7+&lt;/li&gt;
&lt;li&gt;NCCL 2.0+ (for the use of multi-GPUs)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-step-1-setting-of-the-environment-for-gpu-support" class="anchor" aria-hidden="true" href="#step-1-setting-of-the-environment-for-gpu-support"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Step 1) setting of the environment for GPU support&lt;/h3&gt;
&lt;p&gt;To use cuda (and cudnn), make sure to set paths in your &lt;code&gt;.bashrc&lt;/code&gt; or &lt;code&gt;.bash_profile&lt;/code&gt; appropriately.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;CUDAROOT=/path/to/cuda

export PATH=$CUDAROOT/bin:$PATH
export LD_LIBRARY_PATH=$CUDAROOT/lib64:$LD_LIBRARY_PATH
export CFLAGS="-I$CUDAROOT/include $CFLAGS"
export CUDA_HOME=$CUDAROOT
export CUDA_PATH=$CUDAROOT
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you want to use multiple GPUs, you should install &lt;a href="https://developer.nvidia.com/nccl" rel="nofollow"&gt;nccl&lt;/a&gt;
and set paths in your &lt;code&gt;.bashrc&lt;/code&gt; or &lt;code&gt;.bash_profile&lt;/code&gt; appropriately, for example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;CUDAROOT=/path/to/cuda
NCCL_ROOT=/path/to/nccl

export CPATH=$NCCL_ROOT/include:$CPATH
export LD_LIBRARY_PATH=$NCCL_ROOT/lib/:$CUDAROOT/lib64:$LD_LIBRARY_PATH
export LIBRARY_PATH=$NCCL_ROOT/lib/:$LIBRARY_PATH
export CFLAGS="-I$CUDAROOT/include $CFLAGS"
export CUDA_HOME=$CUDAROOT
export CUDA_PATH=$CUDAROOT
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-step-2-a-installation-with-compiled-kaldi" class="anchor" aria-hidden="true" href="#step-2-a-installation-with-compiled-kaldi"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Step 2-A) installation with compiled Kaldi&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-using-miniconda-default" class="anchor" aria-hidden="true" href="#using-miniconda-default"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;using miniconda (default)&lt;/h4&gt;
&lt;p&gt;Install Python libraries and other required tools with &lt;a href="https://conda.io/docs/glossary.html#miniconda-glossary" rel="nofollow"&gt;miniconda&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ &lt;span class="pl-c1"&gt;cd&lt;/span&gt; tools
$ make KALDI=/path/to/kaldi&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can also specify the Python (&lt;code&gt;PYTHON_VERSION&lt;/code&gt; default 3.7), PyTorch (&lt;code&gt;TH_VERSION&lt;/code&gt; default 1.0.0) and CUDA versions (&lt;code&gt;CUDA_VERSION&lt;/code&gt; default 10.0), for example:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ &lt;span class="pl-c1"&gt;cd&lt;/span&gt; tools
$ make KALDI=/path/to/kaldi PYTHON_VERSION=3.6 TH_VERSION=0.4.1 CUDA_VERSION=9.0&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-using-existing-python" class="anchor" aria-hidden="true" href="#using-existing-python"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;using existing python&lt;/h4&gt;
&lt;p&gt;If you do not want to use miniconda, you need to specify your python interpreter to setup &lt;code&gt;virtualenv&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ &lt;span class="pl-c1"&gt;cd&lt;/span&gt; tools
$ make KALDI=/path/to/kaldi PYTHON=/usr/bin/python3.6&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-step-2-b-installation-including-kaldi-installation" class="anchor" aria-hidden="true" href="#step-2-b-installation-including-kaldi-installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Step 2-B) installation including Kaldi installation&lt;/h3&gt;
&lt;p&gt;Install Kaldi, Python libraries and other required tools with &lt;a href="https://conda.io/docs/glossary.html#miniconda-glossary" rel="nofollow"&gt;miniconda&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ &lt;span class="pl-c1"&gt;cd&lt;/span&gt; tools
$ make -j 10&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As seen above, you can also specify the Python and CUDA versions, and Python path (based on &lt;code&gt;virtualenv&lt;/code&gt;), for example:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ &lt;span class="pl-c1"&gt;cd&lt;/span&gt; tools
$ make -j 10 PYTHON_VERSION=3.6 TH_VERSION=0.4.1 CUDA_VERSION=9.0&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ &lt;span class="pl-c1"&gt;cd&lt;/span&gt; tools
$ make -j 10 PYTHON=/usr/bin/python3.6&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-step-2-c-installation-for-cpu-only" class="anchor" aria-hidden="true" href="#step-2-c-installation-for-cpu-only"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Step 2-C) installation for CPU-only&lt;/h3&gt;
&lt;p&gt;To install in a terminal that does not have a GPU installed, just clear the version of &lt;code&gt;CUPY&lt;/code&gt; as follows:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ &lt;span class="pl-c1"&gt;cd&lt;/span&gt; tools
$ make CUPY_VERSION=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; -j 10&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This option is enabled for any of the install configuration.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-step-3-installation-check" class="anchor" aria-hidden="true" href="#step-3-installation-check"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Step 3) installation check&lt;/h3&gt;
&lt;p&gt;You can check whether the install is succeeded via the following commands&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ &lt;span class="pl-c1"&gt;cd&lt;/span&gt; tools
$ make check_install&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;or &lt;code&gt;make check_install CUPY_VERSION=''&lt;/code&gt; if you do not have a GPU on your terminal.
If you have no warning, ready to run the recipe!&lt;/p&gt;
&lt;p&gt;If there are some problems in python libraries, you can re-setup only python environment via following commands&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ &lt;span class="pl-c1"&gt;cd&lt;/span&gt; tools
$ make clean_python
$ make python&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-execution-of-example-scripts" class="anchor" aria-hidden="true" href="#execution-of-example-scripts"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Execution of example scripts&lt;/h2&gt;
&lt;p&gt;Move to an example directory under the &lt;code&gt;egs&lt;/code&gt; directory.
We prepare several major ASR benchmarks including WSJ, CHiME-4, and TED.
The following directory is an example of performing ASR experiment with the CMU Census Database (AN4) recipe.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ &lt;span class="pl-c1"&gt;cd&lt;/span&gt; egs/an4/asr1&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once move to the directory, then, execute the following main script with a &lt;strong&gt;chainer&lt;/strong&gt; backend:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ ./run.sh --backend chainer&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;or execute the following main script with a &lt;strong&gt;pytorch&lt;/strong&gt; backend:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ ./run.sh --backend pytorch&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;With this main script, you can perform a full procedure of ASR experiments including&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Data download&lt;/li&gt;
&lt;li&gt;Data preparation (Kaldi style, see &lt;a href="http://kaldi-asr.org/doc/data_prep.html" rel="nofollow"&gt;http://kaldi-asr.org/doc/data_prep.html&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Feature extraction (Kaldi style, see &lt;a href="http://kaldi-asr.org/doc/feat.html" rel="nofollow"&gt;http://kaldi-asr.org/doc/feat.html&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Dictionary and JSON format data preparation&lt;/li&gt;
&lt;li&gt;Training based on &lt;a href="https://chainer.org/" rel="nofollow"&gt;chainer&lt;/a&gt; or &lt;a href="http://pytorch.org/" rel="nofollow"&gt;pytorch&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Recognition and scoring&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The training progress (loss and accuracy for training and validation data) can be monitored with the following command&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ tail -f exp/&lt;span class="pl-smi"&gt;${expdir}&lt;/span&gt;/train.log&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When we use &lt;code&gt;./run.sh --verbose 0&lt;/code&gt; (&lt;code&gt;--verbose 0&lt;/code&gt; is default in most recipes), it gives you the following information&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;epoch       iteration   main/loss   main/loss_ctc  main/loss_att  validation/main/loss  validation/main/loss_ctc  validation/main/loss_att  main/acc    validation/main/acc  elapsed_time  eps
:
:
6           89700       63.7861     83.8041        43.768                                                                                   0.731425                         136184        1e-08
6           89800       71.5186     93.9897        49.0475                                                                                  0.72843                          136320        1e-08
6           89900       72.1616     94.3773        49.9459                                                                                  0.730052                         136473        1e-08
7           90000       64.2985     84.4583        44.1386        72.506                94.9823                   50.0296                   0.740617    0.72476              137936        1e-08
7           90100       81.6931     106.74         56.6462                                                                                  0.733486                         138049        1e-08
7           90200       74.6084     97.5268        51.6901                                                                                  0.731593                         138175        1e-08
     total [#################.................................] 35.54%
this epoch [#####.............................................] 10.84%
     91300 iter, 7 epoch / 20 epochs
   0.71428 iters/sec. Estimated time to finish: 2 days, 16:23:34.613215.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that the an4 recipe uses &lt;code&gt;--verbose 1&lt;/code&gt; as default since this recipe is often used for a debugging purpose.&lt;/p&gt;
&lt;p&gt;In addition &lt;a href="https://www.tensorflow.org/guide/summaries_and_tensorboard" rel="nofollow"&gt;Tensorboard&lt;/a&gt; events are automatically logged in the &lt;code&gt;tensorboard/${expname}&lt;/code&gt; folder. Therefore, when you install Tensorboard, you can easily compare several experiments by using&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ tensorboard --logdir tensorboard&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and connecting to the given address (default : localhost:6006). This will provide the following information:
&lt;a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/14289171/50175839-2491e280-02fe-11e9-8dfc-de303804034d.png"&gt;&lt;img src="https://user-images.githubusercontent.com/14289171/50175839-2491e280-02fe-11e9-8dfc-de303804034d.png" alt="2018-12-18_19h49_48" style="max-width:100%;"&gt;&lt;/a&gt;
Note that we would not include the installation of Tensorboard to simplify our installation process. Please install it manually (&lt;code&gt;pip install tensorflow; pip install tensorboard&lt;/code&gt;) when you want to use Tensorboard.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-use-of-gpu" class="anchor" aria-hidden="true" href="#use-of-gpu"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Use of GPU&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Training:
If you want to use GPUs in your experiment, please set &lt;code&gt;--ngpu&lt;/code&gt; option in &lt;code&gt;run.sh&lt;/code&gt; appropriately, e.g.,
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; use single gpu&lt;/span&gt;
  $ ./run.sh --ngpu 1

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; use multi-gpu&lt;/span&gt;
  $ ./run.sh --ngpu 3

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; if you want to specify gpus, set CUDA_VISIBLE_DEVICES as follows&lt;/span&gt;
  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; (Note that if you use slurm, this specification is not needed)&lt;/span&gt;
  $ CUDA_VISIBLE_DEVICES=0,1,2 ./run.sh --ngpu 3

  &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; use cpu&lt;/span&gt;
  $ ./run.sh --ngpu 0&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Default setup uses a single GPU (&lt;code&gt;--ngpu 1&lt;/code&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ASR decoding:
ESPnet also supports the GPU-based decoding for fast recognition.
&lt;ul&gt;
&lt;li&gt;Please manually remove the following lines in &lt;code&gt;run.sh&lt;/code&gt;:
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;### use CPU for decoding&lt;/span&gt;
ngpu=0&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;Set 1 or more values for &lt;code&gt;--batchsize&lt;/code&gt; option in &lt;code&gt;asr_recog.py&lt;/code&gt; to enable GPU decoding&lt;/li&gt;
&lt;li&gt;And execute the script (e.g., &lt;code&gt;run.sh --stage 5 --ngpu 1&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;You'll achieve significant speed improvement by using the GPU decoding&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Note that if you want to use multi-gpu, the installation of &lt;a href="https://developer.nvidia.com/nccl" rel="nofollow"&gt;nccl&lt;/a&gt; is required before setup.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-changing-the-configuration" class="anchor" aria-hidden="true" href="#changing-the-configuration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Changing the configuration&lt;/h3&gt;
&lt;p&gt;The default configurations for training and decoding are written in &lt;code&gt;conf/train.yaml&lt;/code&gt; and &lt;code&gt;conf/decode.yaml&lt;/code&gt; respectively.  It can be overwritten by specific arguments: e.g.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; e.g.&lt;/span&gt;
asr_train.py --config conf/train.yaml --batch-size 24
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; e.g.--config2 and --config3 are also provided and the latter option can overwrite the former.&lt;/span&gt;
asr_train.py --config conf/train.yaml --config2 conf/new.yaml&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In this way, you need to edit &lt;code&gt;run.sh&lt;/code&gt; and it might be inconvenient sometimes.
Instead of giving arguments directly, we recommend you to modify the yaml file and give it to &lt;code&gt;run.sh&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; e.g.&lt;/span&gt;
./run.sh --train-config conf/train_modified.yaml
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; e.g.&lt;/span&gt;
./run.sh --train-config conf/train_modified.yaml --decode-config conf/decode_modified.yaml&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We also provide a utility to generate a yaml file from the input yaml file:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; e.g. You can give any parameters as '-a key=value' and '-a' is repeatable.&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;      This generates new file at 'conf/train_batch-size24_epochs10.yaml'&lt;/span&gt;
./run.sh --train-config &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;$(&lt;/span&gt;change_yaml.py conf/train.yaml -a batch-size=24 -a epochs=10&lt;span class="pl-pds"&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; e.g. '-o' option specifies the output file name instead of auto named file.&lt;/span&gt;
./run.sh --train-config &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;$(&lt;/span&gt;change_yaml.py conf/train.yaml -o conf/train2.yaml -a batch-size=24&lt;span class="pl-pds"&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-how-to-set-minibatch" class="anchor" aria-hidden="true" href="#how-to-set-minibatch"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How to set minibatch&lt;/h3&gt;
&lt;p&gt;From espnet v0.4.0, we have three options in &lt;code&gt;--batch-count&lt;/code&gt; to specify minibatch size (see &lt;code&gt;espnet.utils.batchfy&lt;/code&gt; for implementation);&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;--batch-count seq --batch-seqs 32 --batch-seq-maxlen-in 800 --batch-seq-maxlen-out 150&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;This option is compatible to the old setting before v0.4.0. This counts the minibatch size as the number of sequences and reduces the size when the maximum length of the input or output sequences is greater than 800 or 150, respectively.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;--batch-count bin --batch-bins 100000&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;This creates the minibatch that has the maximum number of bins under 100 in the padded input/output minibatch tensor  (i.e., &lt;code&gt;max(ilen) * idim + max(olen) * odim&lt;/code&gt;).
Basically, this option makes training iteration faster than &lt;code&gt;--batch-count seq&lt;/code&gt;. If you already has the best &lt;code&gt;--batch-seqs x&lt;/code&gt; config, try &lt;code&gt;--batch-bins $((x * (mean(ilen) * idim + mean(olen) * odim)))&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;--batch-count frame --batch-frames-in 800 --batch-frames-out 100 --batch-frames-inout 900&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;This creates the minibatch that has the maximum number of input, output and input+output frames under 800, 100 and 900, respectively. You can set one of &lt;code&gt;--batch-frames-xxx&lt;/code&gt; partially. Like &lt;code&gt;--batch-bins&lt;/code&gt;, this option makes training iteration faster than &lt;code&gt;--batch-count seq&lt;/code&gt;. If you already has the best &lt;code&gt;--batch-seqs x&lt;/code&gt; config, try &lt;code&gt;--batch-frames-in $((x * (mean(ilen) * idim)) --batch-frames-out $((x * mean(olen) * odim))&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;&lt;a id="user-content-setup-in-your-cluster" class="anchor" aria-hidden="true" href="#setup-in-your-cluster"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setup in your cluster&lt;/h3&gt;
&lt;p&gt;Change &lt;code&gt;cmd.sh&lt;/code&gt; according to your cluster setup.
If you run experiments with your local machine, please use default &lt;code&gt;cmd.sh&lt;/code&gt;.
For more information about &lt;code&gt;cmd.sh&lt;/code&gt; see &lt;a href="http://kaldi-asr.org/doc/queue.html" rel="nofollow"&gt;http://kaldi-asr.org/doc/queue.html&lt;/a&gt;.
It supports Grid Engine (&lt;code&gt;queue.pl&lt;/code&gt;), SLURM (&lt;code&gt;slurm.pl&lt;/code&gt;), etc.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-ctc-attention-and-hybrid-ctcattention" class="anchor" aria-hidden="true" href="#ctc-attention-and-hybrid-ctcattention"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CTC, attention, and hybrid CTC/attention&lt;/h3&gt;
&lt;p&gt;ESPnet can completely switch the mode from CTC, attention, and hybrid CTC/attention&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; hybrid CTC/attention (default)&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;  --mtlalpha 0.5 and --ctc_weight 0.3 in most cases&lt;/span&gt;
$ ./run.sh

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; CTC mode&lt;/span&gt;
$ ./run.sh --mtlalpha 1.0 --ctc_weight 1.0 --recog_model model.loss.best

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; attention mode&lt;/span&gt;
$ ./run.sh --mtlalpha 0.0 --ctc_weight 0.0&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The CTC training mode does not output the validation accuracy, and the optimum model is selected with its loss value
(i.e., &lt;code&gt;--recog_model model.loss.best&lt;/code&gt;).
About the effectiveness of the hybrid CTC/attention during training and recognition, see [2] and [3].&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-known-issues" class="anchor" aria-hidden="true" href="#known-issues"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Known issues&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-error-due-to-acs-multiple-gpus" class="anchor" aria-hidden="true" href="#error-due-to-acs-multiple-gpus"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Error due to ACS (Multiple GPUs)&lt;/h3&gt;
&lt;p&gt;When using multiple GPUs, if the training freezes or lower performance than expected is observed, verify that PCI Express Access Control Services (ACS) are disabled.
Larger discussions can be found at: &lt;a href="https://devtalk.nvidia.com/default/topic/883054/multi-gpu-peer-to-peer-access-failing-on-tesla-k80-/?offset=26" rel="nofollow"&gt;link1&lt;/a&gt; &lt;a href="https://www.linuxquestions.org/questions/linux-newbie-8/howto-list-all-users-in-system-380426/" rel="nofollow"&gt;link2&lt;/a&gt; &lt;a href="https://github.com/pytorch/pytorch/issues/1637"&gt;link3&lt;/a&gt;.
To disable the PCI Express ACS follow instructions written &lt;a href="https://github.com/NVIDIA/caffe/issues/10"&gt;here&lt;/a&gt;. You need to have a ROOT user access or request to your administrator for it.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-error-due-to-matplotlib" class="anchor" aria-hidden="true" href="#error-due-to-matplotlib"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Error due to matplotlib&lt;/h3&gt;
&lt;p&gt;If you have the following error (or other numpy related errors),&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;RuntimeError: module compiled against API version 0xc but this version of numpy is 0xb
Exception in main training loop: numpy.core.multiarray failed to import
Traceback (most recent call last):
;
:
from . import _path, rcParams
ImportError: numpy.core.multiarray failed to import
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then, please reinstall matplotlib with the following command:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ &lt;span class="pl-c1"&gt;cd&lt;/span&gt; egs/an4/asr1
$ &lt;span class="pl-c1"&gt;.&lt;/span&gt; ./path.sh
$ pip install pip --upgrade&lt;span class="pl-k"&gt;;&lt;/span&gt; pip uninstall matplotlib&lt;span class="pl-k"&gt;;&lt;/span&gt; pip --no-cache-dir install matplotlib&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-docker-container" class="anchor" aria-hidden="true" href="#docker-container"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Docker Container&lt;/h2&gt;
&lt;p&gt;go to docker/ and follow &lt;a href="https://github.com/espnet/espnet/tree/master/docker/README.md"&gt;README.md&lt;/a&gt; instructions there.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-results-and-demo" class="anchor" aria-hidden="true" href="#results-and-demo"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Results and demo&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-asr-results" class="anchor" aria-hidden="true" href="#asr-results"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ASR results&lt;/h3&gt;
&lt;p&gt;We list the character error rate (CER) and word error rate (WER) of major ASR tasks.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Task&lt;/th&gt;
&lt;th align="center"&gt;CER (%)&lt;/th&gt;
&lt;th align="center"&gt;WER (%)&lt;/th&gt;
&lt;th align="center"&gt;Pretrained model&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Aishell dev&lt;/td&gt;
&lt;td align="center"&gt;6.0&lt;/td&gt;
&lt;td align="center"&gt;N/A&lt;/td&gt;
&lt;td align="center"&gt;&lt;a href="https://github.com/espnet/espnet/blob/master/egs/aishell/asr1/RESULTS.md#transformer-result-default-transformer-with-initial-learning-rate--10-and-epochs--50"&gt;link&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Aishell test&lt;/td&gt;
&lt;td align="center"&gt;6.7&lt;/td&gt;
&lt;td align="center"&gt;N/A&lt;/td&gt;
&lt;td align="center"&gt;same as above&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Common Voice dev&lt;/td&gt;
&lt;td align="center"&gt;1.7&lt;/td&gt;
&lt;td align="center"&gt;2.2&lt;/td&gt;
&lt;td align="center"&gt;&lt;a href="https://github.com/espnet/espnet/blob/master/egs/commonvoice/asr1/RESULTS.md#first-results-default-pytorch-transformer-setting-with-bpe-100-epochs-single-gpu"&gt;link&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Common Voice test&lt;/td&gt;
&lt;td align="center"&gt;1.8&lt;/td&gt;
&lt;td align="center"&gt;2.3&lt;/td&gt;
&lt;td align="center"&gt;same as above&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CSJ eval1&lt;/td&gt;
&lt;td align="center"&gt;5.7&lt;/td&gt;
&lt;td align="center"&gt;N/A&lt;/td&gt;
&lt;td align="center"&gt;&lt;a href="https://github.com/espnet/espnet/blob/master/egs/csj/asr1/RESULTS.md#pytorch-backend-transformer-without-any-hyperparameter-tuning"&gt;link&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CSJ eval2&lt;/td&gt;
&lt;td align="center"&gt;3.8&lt;/td&gt;
&lt;td align="center"&gt;N/A&lt;/td&gt;
&lt;td align="center"&gt;same as above&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CSJ eval3&lt;/td&gt;
&lt;td align="center"&gt;4.2&lt;/td&gt;
&lt;td align="center"&gt;N/A&lt;/td&gt;
&lt;td align="center"&gt;same as above&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;HKUST dev&lt;/td&gt;
&lt;td align="center"&gt;23.5&lt;/td&gt;
&lt;td align="center"&gt;N/A&lt;/td&gt;
&lt;td align="center"&gt;&lt;a href="https://github.com/espnet/espnet/blob/master/egs/hkust/asr1/RESULTS.md#transformer-only-20-epochs"&gt;link&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Librispeech dev_clean&lt;/td&gt;
&lt;td align="center"&gt;N/A&lt;/td&gt;
&lt;td align="center"&gt;2.2&lt;/td&gt;
&lt;td align="center"&gt;&lt;a href="https://github.com/espnet/espnet/blob/master/egs/librispeech/asr1/RESULTS.md#pytorch-large-transformer-with-specaug-4-gpus--large-lm"&gt;link&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Librispeech dev_other&lt;/td&gt;
&lt;td align="center"&gt;N/A&lt;/td&gt;
&lt;td align="center"&gt;5.6&lt;/td&gt;
&lt;td align="center"&gt;same as above&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Librispeech test_clean&lt;/td&gt;
&lt;td align="center"&gt;N/A&lt;/td&gt;
&lt;td align="center"&gt;2.6&lt;/td&gt;
&lt;td align="center"&gt;same as above&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Librispeech test_other&lt;/td&gt;
&lt;td align="center"&gt;N/A&lt;/td&gt;
&lt;td align="center"&gt;5.7&lt;/td&gt;
&lt;td align="center"&gt;same as above&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;TEDLIUM2 dev&lt;/td&gt;
&lt;td align="center"&gt;N/A&lt;/td&gt;
&lt;td align="center"&gt;9.3&lt;/td&gt;
&lt;td align="center"&gt;&lt;a href="https://github.com/espnet/espnet/blob/master/egs/tedlium2/asr1/RESULTS.md#transformer-large-model--specaug--large-lm"&gt;link&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;TEDLIUM2 test&lt;/td&gt;
&lt;td align="center"&gt;N/A&lt;/td&gt;
&lt;td align="center"&gt;8.1&lt;/td&gt;
&lt;td align="center"&gt;same as above&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;TEDLIUM3 dev&lt;/td&gt;
&lt;td align="center"&gt;N/A&lt;/td&gt;
&lt;td align="center"&gt;9.7&lt;/td&gt;
&lt;td align="center"&gt;&lt;a href="https://github.com/espnet/espnet/blob/master/egs/tedlium3/asr1/RESULTS.md#transformer-elayers12-dlayers6-units2048-8-gpus-specaug--large-lm"&gt;link&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;TEDLIUM3 test&lt;/td&gt;
&lt;td align="center"&gt;N/A&lt;/td&gt;
&lt;td align="center"&gt;8.0&lt;/td&gt;
&lt;td align="center"&gt;same as above&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;WSJ dev93&lt;/td&gt;
&lt;td align="center"&gt;3.2&lt;/td&gt;
&lt;td align="center"&gt;7.0&lt;/td&gt;
&lt;td align="center"&gt;N/A&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;WSJ eval92&lt;/td&gt;
&lt;td align="center"&gt;2.1&lt;/td&gt;
&lt;td align="center"&gt;4.7&lt;/td&gt;
&lt;td align="center"&gt;N/A&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Note that the performance of the CSJ, HKUST, and Librispeech tasks was significantly improved by using the wide network (#units = 1024) and large subword units if necessary reported by &lt;a href="https://arxiv.org/pdf/1805.03294.pdf" rel="nofollow"&gt;RWTH&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;If you want to check the results of the other recipes, please check &lt;code&gt;egs/&amp;lt;name_of_recipe&amp;gt;/asr1/RESULTS.md&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-asr-demo" class="anchor" aria-hidden="true" href="#asr-demo"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ASR demo&lt;/h3&gt;
&lt;p&gt;You can recognize speech in a WAV file using pretrained models.
Go to a recipe directory and run &lt;code&gt;utils/recog_wav.sh&lt;/code&gt; as follows:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;cd&lt;/span&gt; egs/tedlium2/asr1
../../../utils/recog_wav.sh --models tedlium2.transformer.v1 example.wav&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;where &lt;code&gt;example.wav&lt;/code&gt; is a WAV file to be recognized.
The sampling rate must be consistent with that of data used in training.&lt;/p&gt;
&lt;p&gt;Available pretrained models in the demo script are listed as below.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="left"&gt;Model&lt;/th&gt;
&lt;th align="left"&gt;Notes&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1UqIY6WJMZ4sxNxSugUqp3mrGb3j6h7xe" rel="nofollow"&gt;tedlium2.rnn.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="left"&gt;Streaming decoding based on CTC-based VAD&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1cac5Uc09lJrCYfWkLQsF8eapQcxZnYdf" rel="nofollow"&gt;tedlium2.rnn.v2&lt;/a&gt;&lt;/td&gt;
&lt;td align="left"&gt;Streaming decoding based on CTC-based VAD (batch decoding)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1mgbiWabOSkh_oHJIDA-h7hekQ3W95Z_U" rel="nofollow"&gt;tedlium2.transformer.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="left"&gt;Joint-CTC attention Transformer trained on Tedlium 2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1wYYTwgvbB7uy6agHywhQfnuVWWW_obmO" rel="nofollow"&gt;tedlium3.transformer.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="left"&gt;Joint-CTC attention Transformer trained on Tedlium 3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1BtQvAnsFvVi-dp_qsaFP7n4A_5cwnlR6" rel="nofollow"&gt;librispeech.transformer.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="left"&gt;Joint-CTC attention Transformer trained on Librispeech&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1tWccl6aYU67kbtkm8jv5H6xayqg1rzjh" rel="nofollow"&gt;commonvoice.transformer.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="left"&gt;Joint-CTC attention Transformer trained on CommonVoice&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=120nUQcSsKeY5dpyMWw_kI33ooMRGT2uF" rel="nofollow"&gt;csj.transformer.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="left"&gt;Joint-CTC attention Transformer trained on CSJ&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;&lt;a id="user-content-tts-results" class="anchor" aria-hidden="true" href="#tts-results"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;TTS results&lt;/h3&gt;
&lt;p&gt;You can listen to our samples in demo HP &lt;a href="https://espnet.github.io/espnet-tts-sample/" rel="nofollow"&gt;espnet-tts-sample&lt;/a&gt;.
Here we list some notable ones:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://drive.google.com/open?id=18JgsOCWiP_JkhONasTplnHS7yaF_konr" rel="nofollow"&gt;Single English speaker Tacotron2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://drive.google.com/open?id=1fEgS4-K4dtgVxwI4Pr7uOA1h4PE-zN7f" rel="nofollow"&gt;Single Japanese speaker Tacotron2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://drive.google.com/open?id=1q_66kyxVZGU99g8Xb5a0Q8yZ1YVm2tN0" rel="nofollow"&gt;Single other language speaker Tacotron2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://drive.google.com/open?id=18S_B8Ogogij34rIfJOeNF8D--uG7amz2" rel="nofollow"&gt;Multi English speaker Tacotron2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://drive.google.com/open?id=14EboYVsMVcAq__dFP1p6lyoZtdobIL1X" rel="nofollow"&gt;Single English speaker Transformer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://drive.google.com/open?id=1PSxs1VauIndwi8d5hJmZlppGRVu2zuy5" rel="nofollow"&gt;Single English speaker FastSpeech&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://drive.google.com/open?id=1_vrdqjM43DdN1Qz7HJkvMQ6lCMmWLeGp" rel="nofollow"&gt;Multi English speaker Tranformer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://drive.google.com/open?id=13I5V2w7deYFX4DlVk1-0JfaXmUR2rNOv" rel="nofollow"&gt;Single Italian speaker FastSpeech&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://drive.google.com/open?id=1mEnZfBKqA4eT6Bn0eRZuP6lNzL-IL3VD" rel="nofollow"&gt;Single Mandarin speaker Transformer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://drive.google.com/open?id=1Ol_048Tuy6BgvYm1RpjhOX4HfhUeBqdK" rel="nofollow"&gt;Single Mandarin speaker FastSpeech&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://drive.google.com/open?id=1fFMQDF6NV5Ysz48QLFYE8fEvbAxCsMBw" rel="nofollow"&gt;Multi Japanese speaker Transformer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://drive.google.com/open?id=1HvB0_LDf1PVinJdehiuCt5gWmXGguqtx" rel="nofollow"&gt;Single English speaker models with Parallel WaveGAN (New!)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can donwload all of the pretrained models and generated samples:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://drive.google.com/open?id=1k9RRyc06Zl0mM2A7mi-hxNiNMFb_YzTF" rel="nofollow"&gt;All of the pretrained E2E-TTS models&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://drive.google.com/open?id=1bQGuqH92xuxOX__reWLP4-cif0cbpMLX" rel="nofollow"&gt;All of the generated samples&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note that in the generated samples we use three vocoders: Griffin-Lim (&lt;strong&gt;GL&lt;/strong&gt;), WaveNet vocoder (&lt;strong&gt;WaveNet&lt;/strong&gt;), and Parallel WaveGAN (&lt;strong&gt;ParallelWaveGAN&lt;/strong&gt;).
The neural vocoders are based on following repositories.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/kan-bayashi/ParallelWaveGAN"&gt;kan-bayashi/ParallelWaveGAN&lt;/a&gt;: Parallel WaveGAN&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/r9y9/wavenet_vocoder"&gt;r9y9/wavenet_vocoder&lt;/a&gt;: 16 bit mixture of Logistics WaveNet vocoder&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kan-bayashi/PytorchWaveNetVocoder"&gt;kan-bayashi/PytorchWaveNetVocoder&lt;/a&gt;: 8 bit Softmax WaveNet Vocoder with the noise shaping&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you want to build your own neural vocoder, please check the above repositories.&lt;/p&gt;
&lt;p&gt;Here we list all of the pretrained neural vocoders. Please download and enjoy the generation of high quality speech!&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="left"&gt;Model link&lt;/th&gt;
&lt;th align="center"&gt;Lang&lt;/th&gt;
&lt;th align="center"&gt;Fs [Hz]&lt;/th&gt;
&lt;th align="center"&gt;Mel range [Hz]&lt;/th&gt;
&lt;th align="center"&gt;FFT / Shift / Win [pt]&lt;/th&gt;
&lt;th align="left"&gt;Model type&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1eA1VcRS9jzFa-DovyTgJLQ_jmwOLIi8L" rel="nofollow"&gt;ljspeech.wavenet.softmax.ns.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;EN&lt;/td&gt;
&lt;td align="center"&gt;22.05k&lt;/td&gt;
&lt;td align="center"&gt;None&lt;/td&gt;
&lt;td align="center"&gt;1024 / 256 / None&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://github.com/kan-bayashi/PytorchWaveNetVocoder"&gt;Softmax WaveNet&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1sY7gEUg39QaO1szuN62-Llst9TrFno2t" rel="nofollow"&gt;ljspeech.wavenet.mol.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;EN&lt;/td&gt;
&lt;td align="center"&gt;22.05k&lt;/td&gt;
&lt;td align="center"&gt;None&lt;/td&gt;
&lt;td align="center"&gt;1024 / 256 / None&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://github.com/r9y9/wavenet_vocoder"&gt;MoL WaveNet&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1tv9GKyRT4CDsvUWKwH3s_OfXkiTi0gw7" rel="nofollow"&gt;ljspeech.parallel_wavegan.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;EN&lt;/td&gt;
&lt;td align="center"&gt;22.05k&lt;/td&gt;
&lt;td align="center"&gt;None&lt;/td&gt;
&lt;td align="center"&gt;1024 / 256 / None&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://github.com/kan-bayashi/ParallelWaveGAN"&gt;Parallel WaveGAN&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1es2HuKUeKVtEdq6YDtAsLNpqCy4fhIXr" rel="nofollow"&gt;ljspeech.wavenet.mol.v2&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;EN&lt;/td&gt;
&lt;td align="center"&gt;22.05k&lt;/td&gt;
&lt;td align="center"&gt;80-7600&lt;/td&gt;
&lt;td align="center"&gt;1024 / 256 / None&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://github.com/r9y9/wavenet_vocoder"&gt;MoL WaveNet&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1Grn7X9wD35UcDJ5F7chwdTqTa4U7DeVB" rel="nofollow"&gt;ljspeech.parallel_wavegan.v2&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;EN&lt;/td&gt;
&lt;td align="center"&gt;22.05k&lt;/td&gt;
&lt;td align="center"&gt;80-7600&lt;/td&gt;
&lt;td align="center"&gt;1024 / 256 / None&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://github.com/kan-bayashi/ParallelWaveGAN"&gt;Parallel WaveGAN&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1jHUUmQFjWiQGyDd7ZeiCThSjjpbF_B4h" rel="nofollow"&gt;libritts.wavenet.mol.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;EN&lt;/td&gt;
&lt;td align="center"&gt;24k&lt;/td&gt;
&lt;td align="center"&gt;None&lt;/td&gt;
&lt;td align="center"&gt;1024 / 256 / None&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://github.com/r9y9/wavenet_vocoder"&gt;MoL WaveNet&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=187xvyNbmJVZ0EZ1XHCdyjZHTXK9EcfkK" rel="nofollow"&gt;jsut.wavenet.mol.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;JP&lt;/td&gt;
&lt;td align="center"&gt;24k&lt;/td&gt;
&lt;td align="center"&gt;80-7600&lt;/td&gt;
&lt;td align="center"&gt;2048 / 300 / 1200&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://github.com/r9y9/wavenet_vocoder"&gt;MoL WaveNet&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1OwrUQzAmvjj1x9cDhnZPp6dqtsEqGEJM" rel="nofollow"&gt;jsut.parallel_wavegan.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;JP&lt;/td&gt;
&lt;td align="center"&gt;24k&lt;/td&gt;
&lt;td align="center"&gt;80-7600&lt;/td&gt;
&lt;td align="center"&gt;2048 / 300 / 1200&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://github.com/kan-bayashi/ParallelWaveGAN"&gt;Parallel WaveGAN&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1PsjFRV5eUP0HHwBaRYya9smKy5ghXKzj" rel="nofollow"&gt;csmsc.wavenet.mol.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;ZH&lt;/td&gt;
&lt;td align="center"&gt;24k&lt;/td&gt;
&lt;td align="center"&gt;80-7600&lt;/td&gt;
&lt;td align="center"&gt;2048 / 300 / 1200&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://github.com/r9y9/wavenet_vocoder"&gt;MoL WaveNet&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=10M6H88jEUGbRWBmU1Ff2VaTmOAeL8CEy" rel="nofollow"&gt;csmsc.parallel_wavegan.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;ZH&lt;/td&gt;
&lt;td align="center"&gt;24k&lt;/td&gt;
&lt;td align="center"&gt;80-7600&lt;/td&gt;
&lt;td align="center"&gt;2048 / 300 / 1200&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://github.com/kan-bayashi/ParallelWaveGAN"&gt;Parallel WaveGAN&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;If you want to use the above pretrained vocoders, please exactly match the feature setting with them.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-tts-demo" class="anchor" aria-hidden="true" href="#tts-demo"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;TTS demo&lt;/h3&gt;
&lt;p&gt;(&lt;strong&gt;New!&lt;/strong&gt;) We made a new real-time E2E-TTS demosntration in Google Colab.&lt;br&gt;
Please access the notebook from the following button and enjoy the real-time sythesis!&lt;/p&gt;
&lt;p&gt;&lt;a href="https://colab.research.google.com/github/espnet/notebook/blob/master/tts_realtime_demo.ipynb" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/52feade06f2fecbf006889a904d221e6a730c194/68747470733a2f2f636f6c61622e72657365617263682e676f6f676c652e636f6d2f6173736574732f636f6c61622d62616467652e737667" alt="Open In Colab" data-canonical-src="https://colab.research.google.com/assets/colab-badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;You can synthesize speech in a TXT file using pretrained models.
Go to a recipe directory and run &lt;code&gt;utils/synth_wav.sh&lt;/code&gt; as follows:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;cd&lt;/span&gt; egs/ljspeech/tts1
&lt;span class="pl-c1"&gt;echo&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;THIS IS A DEMONSTRATION OF TEXT TO SPEECH.&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; example.txt
../../../utils/synth_wav.sh example.txt&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can change the pretrained model as follows:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;../../../utils/synth_wav.sh --models ljspeech.fastspeech.v1 example.txt&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Waveform synthesis is performed with Griffin-Lim algorithm and neural vocoders (WaveNet and ParallelWaveGAN).
You can change the pretrained vocoder model as follows:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;../../../utils/synth_wav.sh --vocoder_models ljspeech.wavenet.mol.v1 example.txt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that WaveNet vocoder provides very high quality speech but it takes time to generate.&lt;/p&gt;
&lt;p&gt;Available pretrained models in the demo script are listed as follows:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="left"&gt;Model link&lt;/th&gt;
&lt;th align="center"&gt;Lang&lt;/th&gt;
&lt;th align="center"&gt;Fs [Hz]&lt;/th&gt;
&lt;th align="center"&gt;Mel range [Hz]&lt;/th&gt;
&lt;th align="center"&gt;FFT / Shift / Win [pt]&lt;/th&gt;
&lt;th align="center"&gt;Input&lt;/th&gt;
&lt;th align="center"&gt;R&lt;/th&gt;
&lt;th align="left"&gt;Model type&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1dKzdaDpOkpx7kWZnvrvx2De7eZEdPHZs" rel="nofollow"&gt;ljspeech.tacotron2.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;EN&lt;/td&gt;
&lt;td align="center"&gt;22.05k&lt;/td&gt;
&lt;td align="center"&gt;None&lt;/td&gt;
&lt;td align="center"&gt;1024 / 256 / None&lt;/td&gt;
&lt;td align="center"&gt;char&lt;/td&gt;
&lt;td align="center"&gt;2&lt;/td&gt;
&lt;td align="left"&gt;Tactoron 2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=11T9qw8rJlYzUdXvFjkjQjYrp3iGfQ15h" rel="nofollow"&gt;ljspeech.tacotron2.v2&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;EN&lt;/td&gt;
&lt;td align="center"&gt;22.05k&lt;/td&gt;
&lt;td align="center"&gt;None&lt;/td&gt;
&lt;td align="center"&gt;1024 / 256 / None&lt;/td&gt;
&lt;td align="center"&gt;char&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;Tacotron 2 + forward attention&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1hiZn14ITUDM1nkn-GkaN_M3oaTOUcn1n" rel="nofollow"&gt;ljspeech.tacotron2.v3&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;EN&lt;/td&gt;
&lt;td align="center"&gt;22.05k&lt;/td&gt;
&lt;td align="center"&gt;None&lt;/td&gt;
&lt;td align="center"&gt;1024 / 256 / None&lt;/td&gt;
&lt;td align="center"&gt;char&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;Tacotron 2 + guided attention loss&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=13DR-RB5wrbMqBGx_MC655VZlsEq52DyS" rel="nofollow"&gt;ljspeech.transformer.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;EN&lt;/td&gt;
&lt;td align="center"&gt;22.05k&lt;/td&gt;
&lt;td align="center"&gt;None&lt;/td&gt;
&lt;td align="center"&gt;1024 / 256 / None&lt;/td&gt;
&lt;td align="center"&gt;char&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;Deep Transformer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1xxAwPuUph23RnlC5gym7qDM02ZCW9Unp" rel="nofollow"&gt;ljspeech.transformer.v2&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;EN&lt;/td&gt;
&lt;td align="center"&gt;22.05k&lt;/td&gt;
&lt;td align="center"&gt;None&lt;/td&gt;
&lt;td align="center"&gt;1024 / 256 / None&lt;/td&gt;
&lt;td align="center"&gt;char&lt;/td&gt;
&lt;td align="center"&gt;3&lt;/td&gt;
&lt;td align="left"&gt;Shallow Transformer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1M_w7nxI6AfbtSHpMO-exILnAc_aUYvXP" rel="nofollow"&gt;ljspeech.transformer.v3&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;EN&lt;/td&gt;
&lt;td align="center"&gt;22.05k&lt;/td&gt;
&lt;td align="center"&gt;None&lt;/td&gt;
&lt;td align="center"&gt;1024 / 256 / None&lt;/td&gt;
&lt;td align="center"&gt;phn&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;Deep Transformer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=17RUNFLP4SSTbGA01xWRJo7RkR876xM0i" rel="nofollow"&gt;ljspeech.fastspeech.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;EN&lt;/td&gt;
&lt;td align="center"&gt;22.05k&lt;/td&gt;
&lt;td align="center"&gt;None&lt;/td&gt;
&lt;td align="center"&gt;1024 / 256 / None&lt;/td&gt;
&lt;td align="center"&gt;char&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;FF-Transformer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1zD-2GMrWM3thaDpS3h3rkTU4jIC0wc5B" rel="nofollow"&gt;ljspeech.fastspeech.v2&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;EN&lt;/td&gt;
&lt;td align="center"&gt;22.05k&lt;/td&gt;
&lt;td align="center"&gt;None&lt;/td&gt;
&lt;td align="center"&gt;1024 / 256 / None&lt;/td&gt;
&lt;td align="center"&gt;char&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;FF-Transformer + CNN in FFT block&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1W86YEQ6KbuUTIvVURLqKtSNqe_eI2GDN" rel="nofollow"&gt;ljspeech.fastspeech.v3&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;EN&lt;/td&gt;
&lt;td align="center"&gt;22.05k&lt;/td&gt;
&lt;td align="center"&gt;None&lt;/td&gt;
&lt;td align="center"&gt;1024 / 256 / None&lt;/td&gt;
&lt;td align="center"&gt;phn&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;FF-Transformer + CNN in FFT block + postnet&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1iAXwC0AuWusa9AcFeUVkcNLG0I-hnSr3" rel="nofollow"&gt;libritts.tacotron2.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;EN&lt;/td&gt;
&lt;td align="center"&gt;24k&lt;/td&gt;
&lt;td align="center"&gt;80-7600&lt;/td&gt;
&lt;td align="center"&gt;1024 / 256 / None&lt;/td&gt;
&lt;td align="center"&gt;char&lt;/td&gt;
&lt;td align="center"&gt;2&lt;/td&gt;
&lt;td align="left"&gt;Multi-speaker Tacotron 2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1Xj73mDPuuPH8GsyNO8GnOC3mn0_OK4g3" rel="nofollow"&gt;libritts.transformer.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;EN&lt;/td&gt;
&lt;td align="center"&gt;24k&lt;/td&gt;
&lt;td align="center"&gt;80-7600&lt;/td&gt;
&lt;td align="center"&gt;1024 / 256 / None&lt;/td&gt;
&lt;td align="center"&gt;char&lt;/td&gt;
&lt;td align="center"&gt;2&lt;/td&gt;
&lt;td align="left"&gt;Multi-speaker Transformer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1kp5M4VvmagDmYckFJa78WGqh1drb_P9t" rel="nofollow"&gt;jsut.tacotron2&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;JP&lt;/td&gt;
&lt;td align="center"&gt;24k&lt;/td&gt;
&lt;td align="center"&gt;80-7600&lt;/td&gt;
&lt;td align="center"&gt;2048 / 300 / 1200&lt;/td&gt;
&lt;td align="center"&gt;phn&lt;/td&gt;
&lt;td align="center"&gt;2&lt;/td&gt;
&lt;td align="left"&gt;Tacotron 2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1mEnZfBKqA4eT6Bn0eRZuP6lNzL-IL3VD" rel="nofollow"&gt;jsut.transformer&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;JP&lt;/td&gt;
&lt;td align="center"&gt;24k&lt;/td&gt;
&lt;td align="center"&gt;80-7600&lt;/td&gt;
&lt;td align="center"&gt;2048 / 300 / 1200&lt;/td&gt;
&lt;td align="center"&gt;phn&lt;/td&gt;
&lt;td align="center"&gt;3&lt;/td&gt;
&lt;td align="left"&gt;Shallow Transformer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1bTSygvonv5TS6-iuYsOIUWpN2atGnyhZ" rel="nofollow"&gt;csmsc.transformer.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;ZH&lt;/td&gt;
&lt;td align="center"&gt;24k&lt;/td&gt;
&lt;td align="center"&gt;80-7600&lt;/td&gt;
&lt;td align="center"&gt;2048 / 300 / 1200&lt;/td&gt;
&lt;td align="center"&gt;pinyin&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;Deep Transformer&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1T8thxkAxjGFPXPWPTcKLvHnd6lG0-82R" rel="nofollow"&gt;csmsc.fastspeech.v3&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;ZH&lt;/td&gt;
&lt;td align="center"&gt;24k&lt;/td&gt;
&lt;td align="center"&gt;80-7600&lt;/td&gt;
&lt;td align="center"&gt;2048 / 300 / 1200&lt;/td&gt;
&lt;td align="center"&gt;pinyin&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;FF-Transformer + CNN in FFT block + postnet&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Available pretrained vocoder models in the demo script are listed as follows:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="left"&gt;Model link&lt;/th&gt;
&lt;th align="center"&gt;Lang&lt;/th&gt;
&lt;th align="center"&gt;Fs [Hz]&lt;/th&gt;
&lt;th align="center"&gt;Mel range [Hz]&lt;/th&gt;
&lt;th align="center"&gt;FFT / Shift / Win [pt]&lt;/th&gt;
&lt;th align="left"&gt;Model type&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1eA1VcRS9jzFa-DovyTgJLQ_jmwOLIi8L" rel="nofollow"&gt;ljspeech.wavenet.softmax.ns.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;EN&lt;/td&gt;
&lt;td align="center"&gt;22.05k&lt;/td&gt;
&lt;td align="center"&gt;None&lt;/td&gt;
&lt;td align="center"&gt;1024 / 256 / None&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://github.com/kan-bayashi/PytorchWaveNetVocoder"&gt;Softmax WaveNet&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1sY7gEUg39QaO1szuN62-Llst9TrFno2t" rel="nofollow"&gt;ljspeech.wavenet.mol.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;EN&lt;/td&gt;
&lt;td align="center"&gt;22.05k&lt;/td&gt;
&lt;td align="center"&gt;None&lt;/td&gt;
&lt;td align="center"&gt;1024 / 256 / None&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://github.com/r9y9/wavenet_vocoder"&gt;MoL WaveNet&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1tv9GKyRT4CDsvUWKwH3s_OfXkiTi0gw7" rel="nofollow"&gt;ljspeech.parallel_wavegan.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;EN&lt;/td&gt;
&lt;td align="center"&gt;22.05k&lt;/td&gt;
&lt;td align="center"&gt;None&lt;/td&gt;
&lt;td align="center"&gt;1024 / 256 / None&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://github.com/kan-bayashi/ParallelWaveGAN"&gt;Parallel WaveGAN&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1jHUUmQFjWiQGyDd7ZeiCThSjjpbF_B4h" rel="nofollow"&gt;libritts.wavenet.mol.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;EN&lt;/td&gt;
&lt;td align="center"&gt;24k&lt;/td&gt;
&lt;td align="center"&gt;None&lt;/td&gt;
&lt;td align="center"&gt;1024 / 256 / None&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://github.com/r9y9/wavenet_vocoder"&gt;MoL WaveNet&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=187xvyNbmJVZ0EZ1XHCdyjZHTXK9EcfkK" rel="nofollow"&gt;jsut.wavenet.mol.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;JP&lt;/td&gt;
&lt;td align="center"&gt;24k&lt;/td&gt;
&lt;td align="center"&gt;80-7600&lt;/td&gt;
&lt;td align="center"&gt;2048 / 300 / 1200&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://github.com/r9y9/wavenet_vocoder"&gt;MoL WaveNet&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1OwrUQzAmvjj1x9cDhnZPp6dqtsEqGEJM" rel="nofollow"&gt;jsut.parallel_wavegan.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;JP&lt;/td&gt;
&lt;td align="center"&gt;24k&lt;/td&gt;
&lt;td align="center"&gt;80-7600&lt;/td&gt;
&lt;td align="center"&gt;2048 / 300 / 1200&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://github.com/kan-bayashi/ParallelWaveGAN"&gt;Parallel WaveGAN&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=1PsjFRV5eUP0HHwBaRYya9smKy5ghXKzj" rel="nofollow"&gt;csmsc.wavenet.mol.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;ZH&lt;/td&gt;
&lt;td align="center"&gt;24k&lt;/td&gt;
&lt;td align="center"&gt;80-7600&lt;/td&gt;
&lt;td align="center"&gt;2048 / 300 / 1200&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://github.com/r9y9/wavenet_vocoder"&gt;MoL WaveNet&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;a href="https://drive.google.com/open?id=10M6H88jEUGbRWBmU1Ff2VaTmOAeL8CEy" rel="nofollow"&gt;csmsc.parallel_wavegan.v1&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;ZH&lt;/td&gt;
&lt;td align="center"&gt;24k&lt;/td&gt;
&lt;td align="center"&gt;80-7600&lt;/td&gt;
&lt;td align="center"&gt;2048 / 300 / 1200&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://github.com/kan-bayashi/ParallelWaveGAN"&gt;Parallel WaveGAN&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-chainer-and-pytorch-backends" class="anchor" aria-hidden="true" href="#chainer-and-pytorch-backends"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Chainer and Pytorch backends&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th align="center"&gt;Chainer&lt;/th&gt;
&lt;th align="center"&gt;Pytorch&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Performance&lt;/td&gt;
&lt;td align="center"&gt;◎&lt;/td&gt;
&lt;td align="center"&gt;◎&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Speed&lt;/td&gt;
&lt;td align="center"&gt;○&lt;/td&gt;
&lt;td align="center"&gt;◎&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Multi-GPU&lt;/td&gt;
&lt;td align="center"&gt;supported&lt;/td&gt;
&lt;td align="center"&gt;supported&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;VGG-like encoder&lt;/td&gt;
&lt;td align="center"&gt;supported&lt;/td&gt;
&lt;td align="center"&gt;supported&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Transformer&lt;/td&gt;
&lt;td align="center"&gt;supported&lt;/td&gt;
&lt;td align="center"&gt;supported&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;RNNLM integration&lt;/td&gt;
&lt;td align="center"&gt;supported&lt;/td&gt;
&lt;td align="center"&gt;supported&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;#Attention types&lt;/td&gt;
&lt;td align="center"&gt;3 (no attention, dot, location)&lt;/td&gt;
&lt;td align="center"&gt;12 including variants of multihead&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;TTS recipe support&lt;/td&gt;
&lt;td align="center"&gt;no support&lt;/td&gt;
&lt;td align="center"&gt;supported&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-references" class="anchor" aria-hidden="true" href="#references"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;References&lt;/h2&gt;
&lt;p&gt;[1] Shinji Watanabe, Takaaki Hori, Shigeki Karita, Tomoki Hayashi, Jiro Nishitoba, Yuya Unno, Nelson Enrique Yalta Soplin, Jahn Heymann, Matthew Wiesner, Nanxin Chen, Adithya Renduchintala, and Tsubasa Ochiai, "ESPnet: End-to-End Speech Processing Toolkit," &lt;em&gt;Proc. Interspeech'18&lt;/em&gt;, pp. 2207-2211 (2018)&lt;/p&gt;
&lt;p&gt;[2] Suyoun Kim, Takaaki Hori, and Shinji Watanabe, "Joint CTC-attention based end-to-end speech recognition using multi-task learning," &lt;em&gt;Proc. ICASSP'17&lt;/em&gt;, pp. 4835--4839 (2017)&lt;/p&gt;
&lt;p&gt;[3] Shinji Watanabe, Takaaki Hori, Suyoun Kim, John R. Hershey and Tomoki Hayashi, "Hybrid CTC/Attention Architecture for End-to-End Speech Recognition," &lt;em&gt;IEEE Journal of Selected Topics in Signal Processing&lt;/em&gt;, vol. 11, no. 8, pp. 1240-1253, Dec. 2017&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-citations" class="anchor" aria-hidden="true" href="#citations"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Citations&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;@inproceedings{watanabe2018espnet,
  author={Shinji Watanabe and Takaaki Hori and Shigeki Karita and Tomoki Hayashi and Jiro Nishitoba and Yuya Unno and Nelson {Enrique Yalta Soplin} and Jahn Heymann and Matthew Wiesner and Nanxin Chen and Adithya Renduchintala and Tsubasa Ochiai},
  title={ESPnet: End-to-End Speech Processing Toolkit},
  year=2018,
  booktitle={Interspeech},
  pages={2207--2211},
  doi={10.21437/Interspeech.2018-1456},
  url={http://dx.doi.org/10.21437/Interspeech.2018-1456}
}
@misc{hayashi2019espnettts,
    title={ESPnet-TTS: Unified, Reproducible, and Integratable Open Source End-to-End Text-to-Speech Toolkit},
    author={Tomoki Hayashi and Ryuichi Yamamoto and Katsuki Inoue and Takenori Yoshimura and Shinji Watanabe and Tomoki Toda and Kazuya Takeda and Yu Zhang and Xu Tan},
    year={2019},
    eprint={1910.10909},
    archivePrefix={arXiv},
    primaryClass={cs.CL}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>espnet</author><guid isPermaLink="false">https://github.com/espnet/espnet</guid><pubDate>Wed, 11 Dec 2019 00:02:00 GMT</pubDate></item><item><title>graphql/graphql-spec #3 in Shell, Today</title><link>https://github.com/graphql/graphql-spec</link><description>&lt;p&gt;&lt;i&gt;GraphQL is a query language and execution engine tied to any backend service.&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-graphql" class="anchor" aria-hidden="true" href="#graphql"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;GraphQL&lt;/h1&gt;
&lt;p&gt;The GraphQL specification is edited in the markdown files found in &lt;a href="./spec"&gt;&lt;code&gt;/spec&lt;/code&gt;&lt;/a&gt;
the latest release of which is published at &lt;a href="https://graphql.github.io/graphql-spec/" rel="nofollow"&gt;https://graphql.github.io/graphql-spec/&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The latest draft specification can be found at &lt;a href="https://graphql.github.io/graphql-spec/draft/" rel="nofollow"&gt;https://graphql.github.io/graphql-spec/draft/&lt;/a&gt;
which tracks the latest commit to the master branch in this repository.&lt;/p&gt;
&lt;p&gt;Previous releases of the GraphQL specification can be found at permalinks that
match their &lt;a href="https://github.com/graphql/graphql-spec/releases"&gt;release tag&lt;/a&gt;. For
example, &lt;a href="https://graphql.github.io/graphql-spec/October2016/" rel="nofollow"&gt;https://graphql.github.io/graphql-spec/October2016/&lt;/a&gt;. If you are linking
directly to the GraphQL specification, it's best to link to a tagged permalink
for the particular referenced version.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-overview" class="anchor" aria-hidden="true" href="#overview"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Overview&lt;/h2&gt;
&lt;p&gt;This is a Working Draft of the Specification for GraphQL, a query language for APIs created by Facebook.&lt;/p&gt;
&lt;p&gt;The target audience for this specification is not the client developer, but those who have,
or are actively interested in, building their own GraphQL implementations and
tools.&lt;/p&gt;
&lt;p&gt;In order to be broadly adopted, GraphQL will have to target a wide
variety of backends, frameworks, and languages, which will necessitate a
collaborative effort across projects and organizations. This specification serves as a point of coordination for this effort.&lt;/p&gt;
&lt;p&gt;Looking for help? Find resources &lt;a href="https://graphql.org/community/" rel="nofollow"&gt;from the community&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-getting-started" class="anchor" aria-hidden="true" href="#getting-started"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Getting Started&lt;/h2&gt;
&lt;p&gt;GraphQL consists of a type system, query language and execution semantics,
static validation, and type introspection, each outlined below. To guide you
through each of these components, we've written an example designed to
illustrate the various pieces of GraphQL.&lt;/p&gt;
&lt;p&gt;This example is not comprehensive, but it is designed to quickly introduce
the core concepts of GraphQL, to provide some context before diving into
the more detailed specification or the &lt;a href="https://github.com/graphql/graphql-js"&gt;GraphQL.js&lt;/a&gt;
reference implementation.&lt;/p&gt;
&lt;p&gt;The premise of the example is that we want to use GraphQL to query for
information about characters and locations in the original Star Wars
trilogy.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-type-system" class="anchor" aria-hidden="true" href="#type-system"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Type System&lt;/h3&gt;
&lt;p&gt;At the heart of any GraphQL implementation is a description of what types
of objects it can return, described in a GraphQL type system and returned
in the GraphQL Schema.&lt;/p&gt;
&lt;p&gt;For our Star Wars example, the
&lt;a href="https://github.com/graphql/graphql-js/blob/master/src/__tests__/starWarsSchema.js"&gt;starWarsSchema.js&lt;/a&gt;
file in GraphQL.js defines this type system.&lt;/p&gt;
&lt;p&gt;The most basic type in the system will be &lt;code&gt;Human&lt;/code&gt;, representing characters
like Luke, Leia, and Han. All humans in our type system will have a name,
so we define the &lt;code&gt;Human&lt;/code&gt; type to have a field called "name". This returns
a String, and we know that it is not null (since all &lt;code&gt;Human&lt;/code&gt;s have a name),
so we will define the "name" field to be a non-nullable String. Using a
shorthand notation that we will use throughout the spec and documentation,
we would describe the human type as:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;type&lt;/span&gt; &lt;span class="pl-c1"&gt;Human&lt;/span&gt; {
  &lt;span class="pl-v"&gt;name&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This shorthand is convenient for describing the basic shape of a type
system; the JavaScript implementation is more full-featured, and allows types
and fields to be documented. It also sets up the mapping between the
type system and the underlying data; for a test case in GraphQL.js, the
underlying data is a &lt;a href="https://github.com/graphql/graphql-js/blob/master/src/__tests__/starWarsData.js"&gt;set of JavaScript objects&lt;/a&gt;,
but in most cases the backing data will be accessed through some service, and
this type system layer will be responsible for mapping from types and fields to
that service.&lt;/p&gt;
&lt;p&gt;A common pattern in many APIs, and indeed in GraphQL is to give
objects an ID that can be used to refetch the object. So let's add
that to our Human type. We'll also add a string for their home
planet.&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;type&lt;/span&gt; &lt;span class="pl-c1"&gt;Human&lt;/span&gt; {
  &lt;span class="pl-v"&gt;id&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;
  &lt;span class="pl-v"&gt;name&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;
  &lt;span class="pl-v"&gt;homePlanet&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Since we're talking about the Star Wars trilogy, it would be useful
to describe the episodes in which each character appears. To do so, we'll
first define an enum, which lists the three episodes in the trilogy:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;enum&lt;/span&gt; &lt;span class="pl-c1"&gt;Episode&lt;/span&gt; {&lt;span class="pl-c1"&gt; NEWHOPE&lt;/span&gt;,&lt;span class="pl-c1"&gt; EMPIRE&lt;/span&gt;,&lt;span class="pl-c1"&gt; JEDI&lt;/span&gt; }&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now we want to add a field to &lt;code&gt;Human&lt;/code&gt; describing what episodes they
were in. This will return a list of &lt;code&gt;Episode&lt;/code&gt;s:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;type&lt;/span&gt; &lt;span class="pl-c1"&gt;Human&lt;/span&gt; {
  &lt;span class="pl-v"&gt;id&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;
  &lt;span class="pl-v"&gt;name&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;
  &lt;span class="pl-v"&gt;appearsIn&lt;/span&gt;: [&lt;span class="pl-c1"&gt;Episode&lt;/span&gt;]
  &lt;span class="pl-v"&gt;homePlanet&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now, let's introduce another type, &lt;code&gt;Droid&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;type&lt;/span&gt; &lt;span class="pl-c1"&gt;Droid&lt;/span&gt; {
  &lt;span class="pl-v"&gt;id&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;
  &lt;span class="pl-v"&gt;name&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;
  &lt;span class="pl-v"&gt;appearsIn&lt;/span&gt;: [&lt;span class="pl-c1"&gt;Episode&lt;/span&gt;]
  &lt;span class="pl-v"&gt;primaryFunction&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now we have two types! Let's add a way of going between them: humans
and droids both have friends. But humans can be friends with both
humans and droids. How do we refer to either a human or a droid?&lt;/p&gt;
&lt;p&gt;If we look, we note that there's common functionality between
humans and droids; they both have IDs, names, and episodes in which
they appear. So we'll add an interface, &lt;code&gt;Character&lt;/code&gt;, and make
both &lt;code&gt;Human&lt;/code&gt; and &lt;code&gt;Droid&lt;/code&gt; implement it. Once we have that, we can
add the &lt;code&gt;friends&lt;/code&gt; field, that returns a list of &lt;code&gt;Character&lt;/code&gt;s.&lt;/p&gt;
&lt;p&gt;Our type system so far is:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;enum&lt;/span&gt; &lt;span class="pl-c1"&gt;Episode&lt;/span&gt; {&lt;span class="pl-c1"&gt; NEWHOPE&lt;/span&gt;,&lt;span class="pl-c1"&gt; EMPIRE&lt;/span&gt;,&lt;span class="pl-c1"&gt; JEDI&lt;/span&gt; }

&lt;span class="pl-k"&gt;interface&lt;/span&gt; &lt;span class="pl-c1"&gt;Character&lt;/span&gt; {
  &lt;span class="pl-v"&gt;id&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;
  &lt;span class="pl-v"&gt;name&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;
  &lt;span class="pl-v"&gt;friends&lt;/span&gt;: [&lt;span class="pl-c1"&gt;Character&lt;/span&gt;]
  &lt;span class="pl-v"&gt;appearsIn&lt;/span&gt;: [&lt;span class="pl-c1"&gt;Episode&lt;/span&gt;]
}

&lt;span class="pl-k"&gt;type&lt;/span&gt; &lt;span class="pl-c1"&gt;Human&lt;/span&gt; &lt;span class="pl-k"&gt;implements&lt;/span&gt; &lt;span class="pl-c1"&gt;Character&lt;/span&gt; {
  &lt;span class="pl-v"&gt;id&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;
  &lt;span class="pl-v"&gt;name&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;
  &lt;span class="pl-v"&gt;friends&lt;/span&gt;: [&lt;span class="pl-c1"&gt;Character&lt;/span&gt;]
  &lt;span class="pl-v"&gt;appearsIn&lt;/span&gt;: [&lt;span class="pl-c1"&gt;Episode&lt;/span&gt;]
  &lt;span class="pl-v"&gt;homePlanet&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;
}

&lt;span class="pl-k"&gt;type&lt;/span&gt; &lt;span class="pl-c1"&gt;Droid&lt;/span&gt; &lt;span class="pl-k"&gt;implements&lt;/span&gt; &lt;span class="pl-c1"&gt;Character&lt;/span&gt; {
  &lt;span class="pl-v"&gt;id&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;
  &lt;span class="pl-v"&gt;name&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;
  &lt;span class="pl-v"&gt;friends&lt;/span&gt;: [&lt;span class="pl-c1"&gt;Character&lt;/span&gt;]
  &lt;span class="pl-v"&gt;appearsIn&lt;/span&gt;: [&lt;span class="pl-c1"&gt;Episode&lt;/span&gt;]
  &lt;span class="pl-v"&gt;primaryFunction&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;One question we might ask, though, is whether any of those fields can return
&lt;code&gt;null&lt;/code&gt;. By default, &lt;code&gt;null&lt;/code&gt; is a permitted value for any type in GraphQL,
since fetching data to fulfill a GraphQL query often requires talking
to different services that may or may not be available. However, if the
type system can guarantee that a type is never null, then we can mark
it as Non Null in the type system. We indicate that in our shorthand
by adding an "!" after the type. We can update our type system to note
that the &lt;code&gt;id&lt;/code&gt; is never null.&lt;/p&gt;
&lt;p&gt;Note that while in our current implementation, we can guarantee that more
fields are non-null (since our current implementation has hard-coded data),
we didn't mark them as non-null. One can imagine we would eventually
replace our hardcoded data with a backend service, which might not be
perfectly reliable; by leaving these fields as nullable, we allow
ourselves the flexibility to eventually return null to indicate a backend
error, while also telling the client that the error occurred.&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;enum&lt;/span&gt; &lt;span class="pl-c1"&gt;Episode&lt;/span&gt; {&lt;span class="pl-c1"&gt; NEWHOPE&lt;/span&gt;,&lt;span class="pl-c1"&gt; EMPIRE&lt;/span&gt;,&lt;span class="pl-c1"&gt; JEDI&lt;/span&gt; }

&lt;span class="pl-k"&gt;interface&lt;/span&gt; &lt;span class="pl-c1"&gt;Character&lt;/span&gt; {
  &lt;span class="pl-v"&gt;id&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;&lt;span class="pl-k"&gt;!&lt;/span&gt;
  &lt;span class="pl-v"&gt;name&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;
  &lt;span class="pl-v"&gt;friends&lt;/span&gt;: [&lt;span class="pl-c1"&gt;Character&lt;/span&gt;]
  &lt;span class="pl-v"&gt;appearsIn&lt;/span&gt;: [&lt;span class="pl-c1"&gt;Episode&lt;/span&gt;]
}

&lt;span class="pl-k"&gt;type&lt;/span&gt; &lt;span class="pl-c1"&gt;Human&lt;/span&gt; &lt;span class="pl-k"&gt;implements&lt;/span&gt; &lt;span class="pl-c1"&gt;Character&lt;/span&gt; {
  &lt;span class="pl-v"&gt;id&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;&lt;span class="pl-k"&gt;!&lt;/span&gt;
  &lt;span class="pl-v"&gt;name&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;
  &lt;span class="pl-v"&gt;friends&lt;/span&gt;: [&lt;span class="pl-c1"&gt;Character&lt;/span&gt;]
  &lt;span class="pl-v"&gt;appearsIn&lt;/span&gt;: [&lt;span class="pl-c1"&gt;Episode&lt;/span&gt;]
  &lt;span class="pl-v"&gt;homePlanet&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;
}

&lt;span class="pl-k"&gt;type&lt;/span&gt; &lt;span class="pl-c1"&gt;Droid&lt;/span&gt; &lt;span class="pl-k"&gt;implements&lt;/span&gt; &lt;span class="pl-c1"&gt;Character&lt;/span&gt; {
  &lt;span class="pl-v"&gt;id&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;&lt;span class="pl-k"&gt;!&lt;/span&gt;
  &lt;span class="pl-v"&gt;name&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;
  &lt;span class="pl-v"&gt;friends&lt;/span&gt;: [&lt;span class="pl-c1"&gt;Character&lt;/span&gt;]
  &lt;span class="pl-v"&gt;appearsIn&lt;/span&gt;: [&lt;span class="pl-c1"&gt;Episode&lt;/span&gt;]
  &lt;span class="pl-v"&gt;primaryFunction&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We're missing one last piece: an entry point into the type system.&lt;/p&gt;
&lt;p&gt;When we define a schema, we define an object type that is the basis for all
queries. The name of this type is &lt;code&gt;Query&lt;/code&gt; by convention, and it describes
our public, top-level API. Our &lt;code&gt;Query&lt;/code&gt; type for this example will look like
this:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;type&lt;/span&gt; &lt;span class="pl-c1"&gt;Query&lt;/span&gt; {
  &lt;span class="pl-v"&gt;hero&lt;/span&gt;(&lt;span class="pl-v"&gt;episode&lt;/span&gt;: &lt;span class="pl-c1"&gt;Episode&lt;/span&gt;): &lt;span class="pl-c1"&gt;Character&lt;/span&gt;
  &lt;span class="pl-v"&gt;human&lt;/span&gt;(&lt;span class="pl-v"&gt;id&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;&lt;span class="pl-k"&gt;!&lt;/span&gt;): &lt;span class="pl-c1"&gt;Human&lt;/span&gt;
  &lt;span class="pl-v"&gt;droid&lt;/span&gt;(&lt;span class="pl-v"&gt;id&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;&lt;span class="pl-k"&gt;!&lt;/span&gt;): &lt;span class="pl-c1"&gt;Droid&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In this example, there are three top-level operations
that can be done on our schema:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;hero&lt;/code&gt; returns the &lt;code&gt;Character&lt;/code&gt; who is the hero of the Star Wars trilogy; it
takes an optional argument that allows us to fetch the hero of a specific
episode instead.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;human&lt;/code&gt; accepts a non-null string as a query argument, a human's ID, and
returns the human with that ID.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;droid&lt;/code&gt; does the same for droids.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These fields demonstrate another feature of the type system, the ability
for a field to specify arguments that configure their behavior.&lt;/p&gt;
&lt;p&gt;When we package the whole type system together, defining the &lt;code&gt;Query&lt;/code&gt; type
above as our entry point for queries, this creates a GraphQL Schema.&lt;/p&gt;
&lt;p&gt;This example just scratched the surface of the type system. The specification
goes into more detail about this topic in the "Type System" section, and the &lt;a href="https://github.com/graphql/graphql-js/blob/master/src/type"&gt;type&lt;/a&gt;
directory in GraphQL.js contains code implementing
a specification-compliant GraphQL type system.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-query-syntax" class="anchor" aria-hidden="true" href="#query-syntax"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Query Syntax&lt;/h3&gt;
&lt;p&gt;GraphQL queries declaratively describe what data the issuer wishes
to fetch from whoever is fulfilling the GraphQL query.&lt;/p&gt;
&lt;p&gt;For our Star Wars example, the
&lt;a href="https://github.com/graphql/graphql-js/blob/master/src/__tests__/starWarsQuery-test.js"&gt;starWarsQueryTests.js&lt;/a&gt;
file in the GraphQL.js repository contains a number of queries and responses.
That file is a test file that uses the schema discussed above and a set of
sample data, located in
&lt;a href="https://github.com/graphql/graphql-js/blob/master/src/__tests__/starWarsData.js"&gt;starWarsData.js&lt;/a&gt;.
This test file can be run to exercise the reference implementation.&lt;/p&gt;
&lt;p&gt;An example query on the above schema would be:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;HeroNameQuery&lt;/span&gt; {
  &lt;span class="pl-v"&gt;hero&lt;/span&gt; {
    &lt;span class="pl-v"&gt;name&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The initial line, &lt;code&gt;query HeroNameQuery&lt;/code&gt;, defines a query with the operation
name &lt;code&gt;HeroNameQuery&lt;/code&gt; that starts with the schema's root query type; in this
case, &lt;code&gt;Query&lt;/code&gt;. As defined above, &lt;code&gt;Query&lt;/code&gt; has a &lt;code&gt;hero&lt;/code&gt; field that returns a
&lt;code&gt;Character&lt;/code&gt;, so we'll query for that. &lt;code&gt;Character&lt;/code&gt; then has a &lt;code&gt;name&lt;/code&gt; field that
returns a &lt;code&gt;String&lt;/code&gt;, so we query for that, completing our query. The result of
this query would then be:&lt;/p&gt;
&lt;div class="highlight highlight-source-json"&gt;&lt;pre&gt;{
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;hero&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;R2-D2&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Specifying the &lt;code&gt;query&lt;/code&gt; keyword and an operation name is only required when a
GraphQL document defines multiple operations. We therefore could have written
the previous query with the query shorthand:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;{
  &lt;span class="pl-v"&gt;hero&lt;/span&gt; {
    &lt;span class="pl-v"&gt;name&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Assuming that the backing data for the GraphQL server identified R2-D2 as the
hero. The response continues to vary based on the request; if we asked for
R2-D2's ID and friends with this query:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;HeroNameAndFriendsQuery&lt;/span&gt; {
  &lt;span class="pl-v"&gt;hero&lt;/span&gt; {
    &lt;span class="pl-v"&gt;id&lt;/span&gt;
    &lt;span class="pl-v"&gt;name&lt;/span&gt;
    &lt;span class="pl-v"&gt;friends&lt;/span&gt; {
      &lt;span class="pl-v"&gt;id&lt;/span&gt;
      &lt;span class="pl-v"&gt;name&lt;/span&gt;
    }
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;then we'll get back a response like this:&lt;/p&gt;
&lt;div class="highlight highlight-source-json"&gt;&lt;pre&gt;{
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;hero&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;id&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;2001&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;R2-D2&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;friends&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: [
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;id&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;1000&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Luke Skywalker&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;id&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;1002&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Han Solo&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;id&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;1003&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Leia Organa&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      }
    ]
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;One of the key aspects of GraphQL is its ability to nest queries. In the
above query, we asked for R2-D2's friends, but we can ask for more information
about each of those objects. So let's construct a query that asks for R2-D2's
friends, gets their name and episode appearances, then asks for each of &lt;em&gt;their&lt;/em&gt;
friends.&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;NestedQuery&lt;/span&gt; {
  &lt;span class="pl-v"&gt;hero&lt;/span&gt; {
    &lt;span class="pl-v"&gt;name&lt;/span&gt;
    &lt;span class="pl-v"&gt;friends&lt;/span&gt; {
      &lt;span class="pl-v"&gt;name&lt;/span&gt;
      &lt;span class="pl-v"&gt;appearsIn&lt;/span&gt;
      &lt;span class="pl-v"&gt;friends&lt;/span&gt; {
        &lt;span class="pl-v"&gt;name&lt;/span&gt;
      }
    }
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;which will give us the nested response&lt;/p&gt;
&lt;div class="highlight highlight-source-json"&gt;&lt;pre&gt;{
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;hero&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;R2-D2&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;friends&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: [
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Luke Skywalker&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;appearsIn&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;NEWHOPE&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;EMPIRE&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;JEDI&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;],
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;friends&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: [
          { &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Han Solo&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; },
          { &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Leia Organa&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; },
          { &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;C-3PO&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; },
          { &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;R2-D2&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; }
        ]
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Han Solo&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;appearsIn&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;NEWHOPE&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;EMPIRE&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;JEDI&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;],
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;friends&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: [
          { &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Luke Skywalker&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; },
          { &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Leia Organa&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; },
          { &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;R2-D2&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; }
        ]
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Leia Organa&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;appearsIn&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: [&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;NEWHOPE&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;EMPIRE&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;, &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;JEDI&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;],
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;friends&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: [
          { &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Luke Skywalker&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; },
          { &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Han Solo&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; },
          { &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;C-3PO&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; },
          { &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;R2-D2&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; }
        ]
      }
    ]
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;Query&lt;/code&gt; type above defined a way to fetch a human given their
ID. We can use it by hardcoding the ID in the query:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;FetchLukeQuery&lt;/span&gt; {
  &lt;span class="pl-v"&gt;human&lt;/span&gt;(&lt;span class="pl-v"&gt;id&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;1000&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) {
    &lt;span class="pl-v"&gt;name&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;to get&lt;/p&gt;
&lt;div class="highlight highlight-source-json"&gt;&lt;pre&gt;{
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;human&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Luke Skywalker&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Alternately, we could have defined the query to have a query parameter:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;FetchSomeIDQuery&lt;/span&gt;(&lt;span class="pl-v"&gt;$someId&lt;/span&gt;: &lt;span class="pl-c1"&gt;String&lt;/span&gt;&lt;span class="pl-k"&gt;!&lt;/span&gt;) {
  &lt;span class="pl-v"&gt;human&lt;/span&gt;(&lt;span class="pl-v"&gt;id&lt;/span&gt;: &lt;span class="pl-v"&gt;$someId&lt;/span&gt;) {
    &lt;span class="pl-v"&gt;name&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This query is now parameterized by &lt;code&gt;$someId&lt;/code&gt;; to run it, we must provide
that ID. If we ran it with &lt;code&gt;$someId&lt;/code&gt; set to "1000", we would get Luke;
set to "1002", we would get Han. If we passed an invalid ID here,
we would get &lt;code&gt;null&lt;/code&gt; back for the &lt;code&gt;human&lt;/code&gt;, indicating that no such object
exists.&lt;/p&gt;
&lt;p&gt;Notice that the key in the response is the name of the field, by default.
It is sometimes useful to change this key, for clarity or to avoid key
collisions when fetching the same field with different arguments.&lt;/p&gt;
&lt;p&gt;We can do that with field aliases, as demonstrated in this query:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;FetchLukeAliased&lt;/span&gt; {
  &lt;span class="pl-s"&gt;luke&lt;/span&gt;: &lt;span class="pl-v"&gt;human&lt;/span&gt;(&lt;span class="pl-v"&gt;id&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;1000&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) {
    &lt;span class="pl-v"&gt;name&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We aliased the result of the &lt;code&gt;human&lt;/code&gt; field to the key &lt;code&gt;luke&lt;/code&gt;. Now the response
is:&lt;/p&gt;
&lt;div class="highlight highlight-source-json"&gt;&lt;pre&gt;{
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;luke&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Luke Skywalker&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notice the key is "luke" and not "human", as it was in our previous example
where we did not use the alias.&lt;/p&gt;
&lt;p&gt;This is particularly useful if we want to use the same field twice
with different arguments, as in the following query:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;FetchLukeAndLeiaAliased&lt;/span&gt; {
  &lt;span class="pl-s"&gt;luke&lt;/span&gt;: &lt;span class="pl-v"&gt;human&lt;/span&gt;(&lt;span class="pl-v"&gt;id&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;1000&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) {
    &lt;span class="pl-v"&gt;name&lt;/span&gt;
  }
  &lt;span class="pl-s"&gt;leia&lt;/span&gt;: &lt;span class="pl-v"&gt;human&lt;/span&gt;(&lt;span class="pl-v"&gt;id&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;1003&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) {
    &lt;span class="pl-v"&gt;name&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We aliased the result of the first &lt;code&gt;human&lt;/code&gt; field to the key
&lt;code&gt;luke&lt;/code&gt;, and the second to &lt;code&gt;leia&lt;/code&gt;. So the result will be:&lt;/p&gt;
&lt;div class="highlight highlight-source-json"&gt;&lt;pre&gt;{
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;luke&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Luke Skywalker&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  },
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;leia&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Leia Organa&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now imagine we wanted to ask for Luke and Leia's home planets. We could do so
with this query:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;DuplicateFields&lt;/span&gt; {
  &lt;span class="pl-s"&gt;luke&lt;/span&gt;: &lt;span class="pl-v"&gt;human&lt;/span&gt;(&lt;span class="pl-v"&gt;id&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;1000&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) {
    &lt;span class="pl-v"&gt;name&lt;/span&gt;
    &lt;span class="pl-v"&gt;homePlanet&lt;/span&gt;
  }
  &lt;span class="pl-s"&gt;leia&lt;/span&gt;: &lt;span class="pl-v"&gt;human&lt;/span&gt;(&lt;span class="pl-v"&gt;id&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;1003&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) {
    &lt;span class="pl-v"&gt;name&lt;/span&gt;
    &lt;span class="pl-v"&gt;homePlanet&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;but we can already see that this could get unwieldy, since we have to add new
fields to both parts of the query. Instead, we can extract out the common fields
into a fragment, and include the fragment in the query, like this:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;UseFragment&lt;/span&gt; {
  &lt;span class="pl-s"&gt;luke&lt;/span&gt;: &lt;span class="pl-v"&gt;human&lt;/span&gt;(&lt;span class="pl-v"&gt;id&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;1000&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) {
    &lt;span class="pl-k"&gt;...&lt;/span&gt;&lt;span class="pl-v"&gt;HumanFragment&lt;/span&gt;
  }
  &lt;span class="pl-s"&gt;leia&lt;/span&gt;: &lt;span class="pl-v"&gt;human&lt;/span&gt;(&lt;span class="pl-v"&gt;id&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;1003&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) {
    &lt;span class="pl-k"&gt;...&lt;/span&gt;&lt;span class="pl-v"&gt;HumanFragment&lt;/span&gt;
  }
}

&lt;span class="pl-k"&gt;fragment&lt;/span&gt; &lt;span class="pl-en"&gt;HumanFragment&lt;/span&gt; &lt;span class="pl-k"&gt;on&lt;/span&gt; &lt;span class="pl-c1"&gt;Human&lt;/span&gt; {
  &lt;span class="pl-v"&gt;name&lt;/span&gt;
  &lt;span class="pl-v"&gt;homePlanet&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Both of those queries give this result:&lt;/p&gt;
&lt;div class="highlight highlight-source-json"&gt;&lt;pre&gt;{
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;luke&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Luke Skywalker&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;homePlanet&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Tatooine&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  },
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;leia&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Leia Organa&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;homePlanet&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Alderaan&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;UseFragment&lt;/code&gt; and &lt;code&gt;DuplicateFields&lt;/code&gt; queries will both get the same result, but
&lt;code&gt;UseFragment&lt;/code&gt; is less verbose; if we wanted to add more fields, we could add
it to the common fragment rather than copying it into multiple places.&lt;/p&gt;
&lt;p&gt;We defined the type system above, so we know the type of each object
in the output; the query can ask for that type using the special
field &lt;code&gt;__typename&lt;/code&gt;, defined on every object.&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;CheckTypeOfR2&lt;/span&gt; {
  &lt;span class="pl-v"&gt;hero&lt;/span&gt; {
    &lt;span class="pl-v"&gt;__typename&lt;/span&gt;
    &lt;span class="pl-v"&gt;name&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Since R2-D2 is a droid, this will return&lt;/p&gt;
&lt;div class="highlight highlight-source-json"&gt;&lt;pre&gt;{
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;hero&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;__typename&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Droid&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;R2-D2&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This was particularly useful because &lt;code&gt;hero&lt;/code&gt; was defined to return a &lt;code&gt;Character&lt;/code&gt;,
which is an interface; we might want to know what concrete type was actually
returned. If we instead asked for the hero of Episode V:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;CheckTypeOfLuke&lt;/span&gt; {
  &lt;span class="pl-v"&gt;hero&lt;/span&gt;(&lt;span class="pl-v"&gt;episode&lt;/span&gt;:&lt;span class="pl-c1"&gt; EMPIRE&lt;/span&gt;) {
    &lt;span class="pl-v"&gt;__typename&lt;/span&gt;
    &lt;span class="pl-v"&gt;name&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We would find that it was Luke, who is a Human:&lt;/p&gt;
&lt;div class="highlight highlight-source-json"&gt;&lt;pre&gt;{
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;hero&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;__typename&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Human&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Luke Skywalker&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As with the type system, this example just scratched the surface of the query
language. The specification goes into more detail about this topic in the
"Language" section, and the
&lt;a href="https://github.com/graphql/graphql-js/blob/master/src/language"&gt;language&lt;/a&gt;
directory in GraphQL.js contains code implementing a
specification-compliant GraphQL query language parser and lexer.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-validation" class="anchor" aria-hidden="true" href="#validation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Validation&lt;/h3&gt;
&lt;p&gt;By using the type system, it can be predetermined whether a GraphQL query
is valid or not. This allows servers and clients to effectively inform
developers when an invalid query has been created, without having to rely
on runtime checks.&lt;/p&gt;
&lt;p&gt;For our Star Wars example, the file
&lt;a href="https://github.com/graphql/graphql-js/blob/master/src/__tests__/starWarsValidation-test.js"&gt;starWarsValidationTests.js&lt;/a&gt;
contains a number of queries demonstrating various invalidities, and is a test
file that can be run to exercise the reference implementation's validator.&lt;/p&gt;
&lt;p&gt;To start, let's take a complex valid query. This is the &lt;code&gt;NestedQuery&lt;/code&gt; example
from the above section, but with the duplicated fields factored out into
a fragment:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;NestedQueryWithFragment&lt;/span&gt; {
  &lt;span class="pl-v"&gt;hero&lt;/span&gt; {
    &lt;span class="pl-k"&gt;...&lt;/span&gt;&lt;span class="pl-v"&gt;NameAndAppearances&lt;/span&gt;
    &lt;span class="pl-v"&gt;friends&lt;/span&gt; {
      &lt;span class="pl-k"&gt;...&lt;/span&gt;&lt;span class="pl-v"&gt;NameAndAppearances&lt;/span&gt;
      &lt;span class="pl-v"&gt;friends&lt;/span&gt; {
        &lt;span class="pl-k"&gt;...&lt;/span&gt;&lt;span class="pl-v"&gt;NameAndAppearances&lt;/span&gt;
      }
    }
  }
}

&lt;span class="pl-k"&gt;fragment&lt;/span&gt; &lt;span class="pl-en"&gt;NameAndAppearances&lt;/span&gt; &lt;span class="pl-k"&gt;on&lt;/span&gt; &lt;span class="pl-c1"&gt;Character&lt;/span&gt; {
  &lt;span class="pl-v"&gt;name&lt;/span&gt;
  &lt;span class="pl-v"&gt;appearsIn&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And this query is valid. Let's take a look at some invalid queries!&lt;/p&gt;
&lt;p&gt;When we query for fields, we have to query for a field that exists on the
given type. So as &lt;code&gt;hero&lt;/code&gt; returns a &lt;code&gt;Character&lt;/code&gt;, we have to query for a field
on &lt;code&gt;Character&lt;/code&gt;. That type does not have a &lt;code&gt;favoriteSpaceship&lt;/code&gt; field, so this
query:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;# INVALID: favoriteSpaceship does not exist on Character&lt;/span&gt;
&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;HeroSpaceshipQuery&lt;/span&gt; {
  &lt;span class="pl-v"&gt;hero&lt;/span&gt; {
    &lt;span class="pl-v"&gt;favoriteSpaceship&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;is invalid.&lt;/p&gt;
&lt;p&gt;Whenever we query for a field and it returns something other than a scalar
or an enum, we need to specify what data we want to get back from the field.
Hero returns a &lt;code&gt;Character&lt;/code&gt;, and we've been requesting fields like &lt;code&gt;name&lt;/code&gt; and
&lt;code&gt;appearsIn&lt;/code&gt; on it; if we omit that, the query will not be valid:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;# INVALID: hero is not a scalar, so fields are needed&lt;/span&gt;
&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;HeroNoFieldsQuery&lt;/span&gt; {
  &lt;span class="pl-v"&gt;hero&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Similarly, if a field is a scalar, it doesn't make sense to query for
additional fields on it, and doing so will make the query invalid:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;# INVALID: name is a scalar, so fields are not permitted&lt;/span&gt;
&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;HeroFieldsOnScalarQuery&lt;/span&gt; {
  &lt;span class="pl-v"&gt;hero&lt;/span&gt; {
    &lt;span class="pl-v"&gt;name&lt;/span&gt; {
      &lt;span class="pl-v"&gt;firstCharacterOfName&lt;/span&gt;
    }
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Earlier, it was noted that a query can only query for fields on the type
in question; when we query for &lt;code&gt;hero&lt;/code&gt; which returns a &lt;code&gt;Character&lt;/code&gt;, we
can only query for fields that exist on &lt;code&gt;Character&lt;/code&gt;. What happens if we
want to query for R2-D2s primary function, though?&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;# INVALID: primaryFunction does not exist on Character&lt;/span&gt;
&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;DroidFieldOnCharacter&lt;/span&gt; {
  &lt;span class="pl-v"&gt;hero&lt;/span&gt; {
    &lt;span class="pl-v"&gt;name&lt;/span&gt;
    &lt;span class="pl-v"&gt;primaryFunction&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That query is invalid, because &lt;code&gt;primaryFunction&lt;/code&gt; is not a field on &lt;code&gt;Character&lt;/code&gt;.
We want some way of indicating that we wish to fetch &lt;code&gt;primaryFunction&lt;/code&gt; if the
&lt;code&gt;Character&lt;/code&gt; is a &lt;code&gt;Droid&lt;/code&gt;, and to ignore that field otherwise. We can use
the fragments we introduced earlier to do this. By setting up a fragment defined
on &lt;code&gt;Droid&lt;/code&gt; and including it, we ensure that we only query for &lt;code&gt;primaryFunction&lt;/code&gt;
where it is defined.&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;DroidFieldInFragment&lt;/span&gt; {
  &lt;span class="pl-v"&gt;hero&lt;/span&gt; {
    &lt;span class="pl-v"&gt;name&lt;/span&gt;
    &lt;span class="pl-k"&gt;...&lt;/span&gt;&lt;span class="pl-v"&gt;DroidFields&lt;/span&gt;
  }
}

&lt;span class="pl-k"&gt;fragment&lt;/span&gt; &lt;span class="pl-en"&gt;DroidFields&lt;/span&gt; &lt;span class="pl-k"&gt;on&lt;/span&gt; &lt;span class="pl-c1"&gt;Droid&lt;/span&gt; {
  &lt;span class="pl-v"&gt;primaryFunction&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This query is valid, but it's a bit verbose; named fragments were valuable
above when we used them multiple times, but we're only using this one once.
Instead of using a named fragment, we can use an inline fragment; this
still allows us to indicate the type we are querying on, but without naming
a separate fragment:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;DroidFieldInInlineFragment&lt;/span&gt; {
  &lt;span class="pl-v"&gt;hero&lt;/span&gt; {
    &lt;span class="pl-v"&gt;name&lt;/span&gt;
    &lt;span class="pl-k"&gt;...&lt;/span&gt; &lt;span class="pl-k"&gt;on&lt;/span&gt; &lt;span class="pl-c1"&gt;Droid&lt;/span&gt; {
      &lt;span class="pl-v"&gt;primaryFunction&lt;/span&gt;
    }
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This has just scratched the surface of the validation system; there
are a number of validation rules in place to ensure that a GraphQL query
is semantically meaningful. The specification goes into more detail about this
topic in the "Validation" section, and the
&lt;a href="https://github.com/graphql/graphql-js/blob/master/src/validation"&gt;validation&lt;/a&gt;
directory in GraphQL.js contains code implementing a
specification-compliant GraphQL validator.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-introspection" class="anchor" aria-hidden="true" href="#introspection"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Introspection&lt;/h3&gt;
&lt;p&gt;It's often useful to ask a GraphQL schema for information about what
queries it supports. GraphQL allows us to do so using the introspection
system!&lt;/p&gt;
&lt;p&gt;For our Star Wars example, the file
&lt;a href="https://github.com/graphql/graphql-js/blob/master/src/__tests__/starWarsIntrospection-test.js"&gt;starWarsIntrospectionTests.js&lt;/a&gt;
contains a number of queries demonstrating the introspection system, and is a
test file that can be run to exercise the reference implementation's
introspection system.&lt;/p&gt;
&lt;p&gt;We designed the type system, so we know what types are available, but if
we didn't, we can ask GraphQL, by querying the &lt;code&gt;__schema&lt;/code&gt; field, always
available on the root type of a Query. Let's do so now, and ask what types
are available.&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;IntrospectionTypeQuery&lt;/span&gt; {
  &lt;span class="pl-v"&gt;__schema&lt;/span&gt; {
    &lt;span class="pl-v"&gt;types&lt;/span&gt; {
      &lt;span class="pl-v"&gt;name&lt;/span&gt;
    }
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and we get back:&lt;/p&gt;
&lt;div class="highlight highlight-source-json"&gt;&lt;pre&gt;{
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;__schema&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;types&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: [
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Query&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Character&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Human&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;String&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Episode&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Droid&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;__Schema&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;__Type&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;__TypeKind&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Boolean&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;__Field&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;__InputValue&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;__EnumValue&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;__Directive&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      }
    ]
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Wow, that's a lot of types! What are they? Let's group them:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Query, Character, Human, Episode, Droid&lt;/strong&gt; - These are the ones that we
defined in our type system.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;String, Boolean&lt;/strong&gt; - These are built-in scalars that the type system
provided.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;__Schema, __Type, __TypeKind, __Field, __InputValue, __EnumValue,
__Directive&lt;/strong&gt; - These all are preceded with a double underscore, indicating
that they are part of the introspection system.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now, let's try and figure out a good place to start exploring what queries are
available. When we designed our type system, we specified what type all queries
would start at; let's ask the introspection system about that!&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;IntrospectionQueryTypeQuery&lt;/span&gt; {
  &lt;span class="pl-v"&gt;__schema&lt;/span&gt; {
    &lt;span class="pl-v"&gt;queryType&lt;/span&gt; {
      &lt;span class="pl-v"&gt;name&lt;/span&gt;
    }
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and we get back:&lt;/p&gt;
&lt;div class="highlight highlight-source-json"&gt;&lt;pre&gt;{
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;__schema&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;queryType&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
      &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Query&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
    }
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And that matches what we said in the type system section, that
the &lt;code&gt;Query&lt;/code&gt; type is where we will start! Note that the naming here
was just by convention; we could have named our &lt;code&gt;Query&lt;/code&gt; type anything
else, and it still would have been returned here if we had specified it
as the starting type for queries. Naming it &lt;code&gt;Query&lt;/code&gt;, though, is a useful
convention.&lt;/p&gt;
&lt;p&gt;It is often useful to examine one specific type. Let's take a look at
the &lt;code&gt;Droid&lt;/code&gt; type:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;IntrospectionDroidTypeQuery&lt;/span&gt; {
  &lt;span class="pl-v"&gt;__type&lt;/span&gt;(&lt;span class="pl-v"&gt;name&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Droid&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) {
    &lt;span class="pl-v"&gt;name&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and we get back:&lt;/p&gt;
&lt;div class="highlight highlight-source-json"&gt;&lt;pre&gt;{
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;__type&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Droid&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;What if we want to know more about Droid, though? For example, is it
an interface or an object?&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;IntrospectionDroidKindQuery&lt;/span&gt; {
  &lt;span class="pl-v"&gt;__type&lt;/span&gt;(&lt;span class="pl-v"&gt;name&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Droid&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) {
    &lt;span class="pl-v"&gt;name&lt;/span&gt;
    &lt;span class="pl-v"&gt;kind&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and we get back:&lt;/p&gt;
&lt;div class="highlight highlight-source-json"&gt;&lt;pre&gt;{
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;__type&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Droid&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;kind&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;OBJECT&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;kind&lt;/code&gt; returns a &lt;code&gt;__TypeKind&lt;/code&gt; enum, one of whose values is &lt;code&gt;OBJECT&lt;/code&gt;. If
we asked about &lt;code&gt;Character&lt;/code&gt; instead:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;IntrospectionCharacterKindQuery&lt;/span&gt; {
  &lt;span class="pl-v"&gt;__type&lt;/span&gt;(&lt;span class="pl-v"&gt;name&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Character&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) {
    &lt;span class="pl-v"&gt;name&lt;/span&gt;
    &lt;span class="pl-v"&gt;kind&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and we get back:&lt;/p&gt;
&lt;div class="highlight highlight-source-json"&gt;&lt;pre&gt;{
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;__type&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Character&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;kind&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;INTERFACE&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We'd find that it is an interface.&lt;/p&gt;
&lt;p&gt;It's useful for an object to know what fields are available, so let's
ask the introspection system about &lt;code&gt;Droid&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;IntrospectionDroidFieldsQuery&lt;/span&gt; {
  &lt;span class="pl-v"&gt;__type&lt;/span&gt;(&lt;span class="pl-v"&gt;name&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Droid&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) {
    &lt;span class="pl-v"&gt;name&lt;/span&gt;
    &lt;span class="pl-v"&gt;fields&lt;/span&gt; {
      &lt;span class="pl-v"&gt;name&lt;/span&gt;
      &lt;span class="pl-v"&gt;type&lt;/span&gt; {
        &lt;span class="pl-v"&gt;name&lt;/span&gt;
        &lt;span class="pl-v"&gt;kind&lt;/span&gt;
      }
    }
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and we get back:&lt;/p&gt;
&lt;div class="highlight highlight-source-json"&gt;&lt;pre&gt;{
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;__type&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Droid&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;fields&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: [
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;id&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;type&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-c1"&gt;null&lt;/span&gt;,
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;kind&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;NON_NULL&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
        }
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;type&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;String&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;kind&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;SCALAR&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
        }
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;friends&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;type&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-c1"&gt;null&lt;/span&gt;,
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;kind&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;LIST&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
        }
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;appearsIn&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;type&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-c1"&gt;null&lt;/span&gt;,
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;kind&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;LIST&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
        }
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;primaryFunction&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;type&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;String&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;kind&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;SCALAR&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
        }
      }
    ]
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Those are our fields that we defined on &lt;code&gt;Droid&lt;/code&gt;!&lt;/p&gt;
&lt;p&gt;&lt;code&gt;id&lt;/code&gt; looks a bit weird there, it has no name for the type. That's
because it's a "wrapper" type of kind &lt;code&gt;NON_NULL&lt;/code&gt;. If we queried for
&lt;code&gt;ofType&lt;/code&gt; on that field's type, we would find the &lt;code&gt;String&lt;/code&gt; type there,
telling us that this is a non-null String.&lt;/p&gt;
&lt;p&gt;Similarly, both &lt;code&gt;friends&lt;/code&gt; and &lt;code&gt;appearsIn&lt;/code&gt; have no name, since they are the
&lt;code&gt;LIST&lt;/code&gt; wrapper type. We can query for &lt;code&gt;ofType&lt;/code&gt; on those types, which will
tell us what these are lists of.&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;IntrospectionDroidWrappedFieldsQuery&lt;/span&gt; {
  &lt;span class="pl-v"&gt;__type&lt;/span&gt;(&lt;span class="pl-v"&gt;name&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Droid&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) {
    &lt;span class="pl-v"&gt;name&lt;/span&gt;
    &lt;span class="pl-v"&gt;fields&lt;/span&gt; {
      &lt;span class="pl-v"&gt;name&lt;/span&gt;
      &lt;span class="pl-v"&gt;type&lt;/span&gt; {
        &lt;span class="pl-v"&gt;name&lt;/span&gt;
        &lt;span class="pl-v"&gt;kind&lt;/span&gt;
        &lt;span class="pl-v"&gt;ofType&lt;/span&gt; {
          &lt;span class="pl-v"&gt;name&lt;/span&gt;
          &lt;span class="pl-v"&gt;kind&lt;/span&gt;
        }
      }
    }
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and we get back:&lt;/p&gt;
&lt;div class="highlight highlight-source-json"&gt;&lt;pre&gt;{
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;__type&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Droid&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;fields&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: [
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;id&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;type&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-c1"&gt;null&lt;/span&gt;,
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;kind&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;NON_NULL&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;ofType&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
            &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;String&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
            &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;kind&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;SCALAR&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
          }
        }
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;type&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;String&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;kind&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;SCALAR&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;ofType&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-c1"&gt;null&lt;/span&gt;
        }
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;friends&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;type&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-c1"&gt;null&lt;/span&gt;,
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;kind&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;LIST&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;ofType&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
            &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Character&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
            &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;kind&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;INTERFACE&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
          }
        }
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;appearsIn&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;type&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-c1"&gt;null&lt;/span&gt;,
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;kind&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;LIST&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;ofType&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
            &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Episode&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
            &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;kind&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;ENUM&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
          }
        }
      },
      {
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;primaryFunction&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
        &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;type&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;String&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;kind&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;SCALAR&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
          &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;ofType&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-c1"&gt;null&lt;/span&gt;
        }
      }
    ]
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let's end with a feature of the introspection system particularly useful
for tooling; let's ask the system for documentation!&lt;/p&gt;
&lt;div class="highlight highlight-source-graphql"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;query&lt;/span&gt; &lt;span class="pl-en"&gt;IntrospectionDroidDescriptionQuery&lt;/span&gt; {
  &lt;span class="pl-v"&gt;__type&lt;/span&gt;(&lt;span class="pl-v"&gt;name&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Droid&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;) {
    &lt;span class="pl-v"&gt;name&lt;/span&gt;
    &lt;span class="pl-v"&gt;description&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;yields&lt;/p&gt;
&lt;div class="highlight highlight-source-json"&gt;&lt;pre&gt;{
  &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;__type&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: {
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;name&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Droid&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;,
    &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;description&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;A mechanical creature in the Star Wars universe.&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  }
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So we can access the documentation about the type system using introspection,
and create documentation browsers, or rich IDE experiences.&lt;/p&gt;
&lt;p&gt;This has just scratched the surface of the introspection system; we can
query for enum values, what interfaces a type implements, and more. We
can even introspect on the introspection system itself. The specification goes
into more detail about this topic in the "Introspection" section, and the &lt;a href="https://github.com/graphql/graphql-js/blob/master/src/type/introspection.js"&gt;introspection&lt;/a&gt;
file in GraphQL.js
contains code implementing a specification-compliant GraphQL query
introspection system.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-additional-content" class="anchor" aria-hidden="true" href="#additional-content"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Additional Content&lt;/h3&gt;
&lt;p&gt;This README walked through the GraphQL.js reference implementation's type
system, query execution, validation, and introspection systems. There's more
in both &lt;a href="https://github.com/graphql/graphql-js/"&gt;GraphQL.js&lt;/a&gt; and specification,
including a description and implementation for executing queries, how to format
a response, explaining how a type system maps to an underlying implementation,
and how to format a GraphQL response, as well as the grammar for GraphQL.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>graphql</author><guid isPermaLink="false">https://github.com/graphql/graphql-spec</guid><pubDate>Wed, 11 Dec 2019 00:03:00 GMT</pubDate></item><item><title>tfutils/tfenv #4 in Shell, Today</title><link>https://github.com/tfutils/tfenv</link><description>&lt;p&gt;&lt;i&gt;Terraform version manager&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;p&gt;&lt;a href="https://travis-ci.com/tfutils/tfenv" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/9cc6aefb43957d341760a73828593c53302f45ac/68747470733a2f2f7472617669732d63692e636f6d2f74667574696c732f7466656e762e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.com/tfutils/tfenv.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-tfenv" class="anchor" aria-hidden="true" href="#tfenv"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;tfenv&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://www.terraform.io/" rel="nofollow"&gt;Terraform&lt;/a&gt; version manager inspired by &lt;a href="https://github.com/rbenv/rbenv"&gt;rbenv&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-support" class="anchor" aria-hidden="true" href="#support"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Support&lt;/h2&gt;
&lt;p&gt;Currently tfenv supports the following OSes&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Mac OS X (64bit)&lt;/li&gt;
&lt;li&gt;Linux
&lt;ul&gt;
&lt;li&gt;64bit&lt;/li&gt;
&lt;li&gt;Arm&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Windows (64bit) - only tested in git-bash - currently presumed failing due to symlink issues in git-bash&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-automatic" class="anchor" aria-hidden="true" href="#automatic"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Automatic&lt;/h3&gt;
&lt;p&gt;Install via Homebrew&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;brew install tfenv&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Install via puppet&lt;/p&gt;
&lt;p&gt;Using puppet module &lt;a href="https://github.com/SergK/puppet-tfenv"&gt;sergk-tfenv&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight highlight-source-puppet"&gt;&lt;pre&gt;&lt;span class="pl-k"&gt;include&lt;/span&gt; ::tfenv&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-manual" class="anchor" aria-hidden="true" href="#manual"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Manual&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Check out tfenv into any path (here is &lt;code&gt;${HOME}/.tfenv&lt;/code&gt;)&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;git clone https://github.com/tfutils/tfenv.git &lt;span class="pl-k"&gt;~&lt;/span&gt;/.tfenv&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ol start="2"&gt;
&lt;li&gt;Add &lt;code&gt;~/.tfenv/bin&lt;/code&gt; to your &lt;code&gt;$PATH&lt;/code&gt; any way you like&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;&lt;span class="pl-c1"&gt;echo&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;export PATH="$HOME/.tfenv/bin:$PATH"&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="pl-k"&gt;~&lt;/span&gt;/.bash_profile&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;OR you can make symlinks for &lt;code&gt;tfenv/bin/*&lt;/code&gt; scripts into a path that is already added to your &lt;code&gt;$PATH&lt;/code&gt; (e.g. &lt;code&gt;/usr/local/bin&lt;/code&gt;) &lt;code&gt;OSX/Linux Only!&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;ln -s &lt;span class="pl-k"&gt;~&lt;/span&gt;/.tfenv/bin/&lt;span class="pl-k"&gt;*&lt;/span&gt; /usr/local/bin&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;On Ubuntu/Debian touching &lt;code&gt;/usr/local/bin&lt;/code&gt; might require sudo access, but you can create &lt;code&gt;${HOME}/bin&lt;/code&gt; or &lt;code&gt;${HOME}/.local/bin&lt;/code&gt; and on next login it will get added to the session &lt;code&gt;$PATH&lt;/code&gt;
or by running &lt;code&gt;. ${HOME}/.profile&lt;/code&gt; it will get added to the current shell session's &lt;code&gt;$PATH&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;mkdir -p &lt;span class="pl-k"&gt;~&lt;/span&gt;/.local/bin/&lt;/span&gt;
$ &lt;span class="pl-s1"&gt;&lt;span class="pl-c1"&gt;.&lt;/span&gt; &lt;span class="pl-k"&gt;~&lt;/span&gt;/.profile&lt;/span&gt;
$ &lt;span class="pl-s1"&gt;ln -s &lt;span class="pl-k"&gt;~&lt;/span&gt;/.tfenv/bin/&lt;span class="pl-k"&gt;*&lt;/span&gt; &lt;span class="pl-k"&gt;~&lt;/span&gt;/.local/bin&lt;/span&gt;
$ &lt;span class="pl-s1"&gt;which tfenv&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-tfenv-install-version" class="anchor" aria-hidden="true" href="#tfenv-install-version"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;tfenv install [version]&lt;/h3&gt;
&lt;p&gt;Install a specific version of Terraform. Available options for version:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;i.j.k&lt;/code&gt; exact version to install&lt;/li&gt;
&lt;li&gt;&lt;code&gt;latest&lt;/code&gt; is a syntax to install latest version&lt;/li&gt;
&lt;li&gt;&lt;code&gt;latest:&amp;lt;regex&amp;gt;&lt;/code&gt; is a syntax to install latest version matching regex (used by grep -e)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;min-required&lt;/code&gt; is a syntax to recursively scan your Terraform files to detect which version is minimally required. See &lt;a href="https://www.terraform.io/docs/configuration/terraform.html" rel="nofollow"&gt;required_version&lt;/a&gt; docs. Also &lt;a href="#min-required"&gt;see min-required&lt;/a&gt; section below.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;tfenv install 0.7.0&lt;/span&gt;
$ &lt;span class="pl-s1"&gt;tfenv install latest&lt;/span&gt;
$ &lt;span class="pl-s1"&gt;tfenv install latest:^0.8&lt;/span&gt;
$ &lt;span class="pl-s1"&gt;tfenv install min-required&lt;/span&gt;
$ &lt;span class="pl-s1"&gt;tfenv install&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If &lt;code&gt;shasum&lt;/code&gt; is present in the path, tfenv will verify the download against Hashicorp's published sha256 hash.
If &lt;a href="https://keybase.io/" rel="nofollow"&gt;keybase&lt;/a&gt; is available in the path it will also verify the signature for those published hashes using Hashicorp's published public key.&lt;/p&gt;
&lt;p&gt;You can opt-in to using GnuPG tools for PGP signature verification if keybase is not available:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;&lt;span class="pl-c1"&gt;echo&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;trust-tfenv: yes&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; &lt;span class="pl-k"&gt;~&lt;/span&gt;/.tfenv/use-gpgv&lt;/span&gt;
$ &lt;span class="pl-s1"&gt;tfenv install&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;trust-tfenv&lt;/code&gt; directive means that verification uses a copy of the
Hashicorp OpenPGP key found in the tfenv repository.  Skipping that directive
means that the Hashicorp key must be in the existing default trusted keys.
Use the file &lt;code&gt;~/.tfenv/use-gnupg&lt;/code&gt; to instead invoke the full &lt;code&gt;gpg&lt;/code&gt; tool and
see web-of-trust status; beware that a lack of trust path will not cause a
validation failure.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-terraform-version" class="anchor" aria-hidden="true" href="#terraform-version"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;.terraform-version&lt;/h4&gt;
&lt;p&gt;If you use a &lt;a href="#terraform-version-file"&gt;.terraform-version file&lt;/a&gt;, &lt;code&gt;tfenv install&lt;/code&gt; (no argument) will install the version written in it.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-min-required" class="anchor" aria-hidden="true" href="#min-required"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;min-required&lt;/h4&gt;
&lt;p&gt;Please note that we don't do semantic version range parsing but use first ever found version as the candidate for minimally required one. It is up to the user to keep the definition reasonable. I.e.&lt;/p&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;//&lt;/span&gt; this will detect 0.12.3&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-en"&gt;terraform&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;required_version&lt;/span&gt;  &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&amp;lt;&lt;span class="pl-s"&gt;0.12.3&lt;/span&gt;, &amp;gt;= &lt;span class="pl-s"&gt;0.10.0&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight highlight-source-terraform"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;//&lt;/span&gt; this will detect 0.10.0&lt;span class="pl-c"&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class="pl-en"&gt;terraform&lt;/span&gt; {
  &lt;span class="pl-smi"&gt;required_version&lt;/span&gt;  &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;"&lt;/span&gt;&amp;gt;= &lt;span class="pl-s"&gt;0.10.0&lt;/span&gt;, &amp;lt;&lt;span class="pl-s"&gt;0.12.3&lt;/span&gt;&lt;span class="pl-s"&gt;"&lt;/span&gt;
}&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-environment-variables" class="anchor" aria-hidden="true" href="#environment-variables"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Environment Variables&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-tfenv-1" class="anchor" aria-hidden="true" href="#tfenv-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;TFENV&lt;/h4&gt;
&lt;h5&gt;&lt;a id="user-content-tfenv_arch" class="anchor" aria-hidden="true" href="#tfenv_arch"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;TFENV_ARCH&lt;/code&gt;&lt;/h5&gt;
&lt;p&gt;String (Default: amd64)&lt;/p&gt;
&lt;p&gt;Specify architecture. Architecture other than the default amd64 can be specified with the &lt;code&gt;TFENV_ARCH&lt;/code&gt; environment variable&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;TFENV_ARCH=arm tfenv install 0.7.9&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5&gt;&lt;a id="user-content-tfenv_curl_output" class="anchor" aria-hidden="true" href="#tfenv_curl_output"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;TFENV_CURL_OUTPUT&lt;/code&gt;&lt;/h5&gt;
&lt;p&gt;Integer (Default: 2)&lt;/p&gt;
&lt;p&gt;Set the mechanism used for displaying download progress when downloading terraform versions from the remote server.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;2: v1 Behaviour: Pass &lt;code&gt;-#&lt;/code&gt; to curl&lt;/li&gt;
&lt;li&gt;1: Use curl default&lt;/li&gt;
&lt;li&gt;0: Pass &lt;code&gt;-s&lt;/code&gt; to curl&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;&lt;a id="user-content-tfenv_debug" class="anchor" aria-hidden="true" href="#tfenv_debug"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;TFENV_DEBUG&lt;/code&gt;&lt;/h5&gt;
&lt;h5&gt;&lt;a id="user-content-tfenv_remote" class="anchor" aria-hidden="true" href="#tfenv_remote"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;TFENV_REMOTE&lt;/code&gt;&lt;/h5&gt;
&lt;p&gt;String (Default: &lt;a href="https://releases.hashicorp.com" rel="nofollow"&gt;https://releases.hashicorp.com&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;To install from a remote other than the default&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;TFENV_REMOTE=https://example.jfrog.io/artifactory/hashicorp&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-bashlog-logging-library" class="anchor" aria-hidden="true" href="#bashlog-logging-library"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bashlog Logging Library&lt;/h4&gt;
&lt;h5&gt;&lt;a id="user-content-bashlog_colours" class="anchor" aria-hidden="true" href="#bashlog_colours"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;BASHLOG_COLOURS&lt;/code&gt;&lt;/h5&gt;
&lt;p&gt;Integer (Default: 1)&lt;/p&gt;
&lt;p&gt;To disable colouring of console output, set to 0.&lt;/p&gt;
&lt;h5&gt;&lt;a id="user-content-bashlog_date_format" class="anchor" aria-hidden="true" href="#bashlog_date_format"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;BASHLOG_DATE_FORMAT&lt;/code&gt;&lt;/h5&gt;
&lt;p&gt;String (Default: +%F %T)&lt;/p&gt;
&lt;p&gt;The display format for the date as passed to the &lt;code&gt;date&lt;/code&gt; binary to generate a datestamp used as a prefix to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;FILE&lt;/code&gt; type log file lines.&lt;/li&gt;
&lt;li&gt;Each console output line when &lt;code&gt;BASHLOG_EXTRA=1&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;&lt;a id="user-content-bashlog_extra" class="anchor" aria-hidden="true" href="#bashlog_extra"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;BASHLOG_EXTRA&lt;/code&gt;&lt;/h5&gt;
&lt;p&gt;Integer (Default: 0)&lt;/p&gt;
&lt;p&gt;By default, console output from tfenv does not print a date stamp or log severity.&lt;/p&gt;
&lt;p&gt;To enable this functionality, making normal output equivalent to FILE log output, set to 1.&lt;/p&gt;
&lt;h5&gt;&lt;a id="user-content-bashlog_file" class="anchor" aria-hidden="true" href="#bashlog_file"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;BASHLOG_FILE&lt;/code&gt;&lt;/h5&gt;
&lt;p&gt;Integer (Default: 0)&lt;/p&gt;
&lt;p&gt;Set to 1 to enable plain text logging to file (FILE type logging).&lt;/p&gt;
&lt;p&gt;The default path for log files is defined by /tmp/$(basename $0).log
Each executable logs to its own file.&lt;/p&gt;
&lt;p&gt;e.g.&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;BASHLOG_FILE=1 tfenv use latest&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;will log to &lt;code&gt;/tmp/tfenv-use.log&lt;/code&gt;&lt;/p&gt;
&lt;h5&gt;&lt;a id="user-content-bashlog_file_path" class="anchor" aria-hidden="true" href="#bashlog_file_path"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;BASHLOG_FILE_PATH&lt;/code&gt;&lt;/h5&gt;
&lt;p&gt;String (Default: /tmp/$(basename ${0}).log)&lt;/p&gt;
&lt;p&gt;To specify a single file as the target for all FILE type logging regardless of the executing script.&lt;/p&gt;
&lt;h5&gt;&lt;a id="user-content-bashlog_i_promise_to_be_careful_custom_eval_prefix" class="anchor" aria-hidden="true" href="#bashlog_i_promise_to_be_careful_custom_eval_prefix"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;BASHLOG_I_PROMISE_TO_BE_CAREFUL_CUSTOM_EVAL_PREFIX&lt;/code&gt;&lt;/h5&gt;
&lt;p&gt;String (Default: "")&lt;/p&gt;
&lt;p&gt;&lt;em&gt;BE CAREFUL - MISUSE WILL DESTROY EVERYTHING YOU EVER LOVED&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;This variable allows you to pass a string containing a command that will be executed using &lt;code&gt;eval&lt;/code&gt; in order to produce a prefix to each console output line, and each FILE type log entry.&lt;/p&gt;
&lt;p&gt;e.g.&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;BASHLOG_I_PROMISE_TO_BE_CAREFUL_CUSTOM_EVAL_PREFIX='echo "${$$} "'&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;will prefix every log line with the calling process' PID.&lt;/p&gt;
&lt;h5&gt;&lt;a id="user-content-bashlog_json" class="anchor" aria-hidden="true" href="#bashlog_json"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;BASHLOG_JSON&lt;/code&gt;&lt;/h5&gt;
&lt;p&gt;Integer (Default: 0)&lt;/p&gt;
&lt;p&gt;Set to 1 to enable JSON logging to file (JSON type logging).&lt;/p&gt;
&lt;p&gt;The default path for log files is defined by /tmp/$(basename $0).log.json
Each executable logs to its own file.&lt;/p&gt;
&lt;p&gt;e.g.&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;BASHLOG_JSON=1 tfenv use latest&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;will log in JSON format to &lt;code&gt;/tmp/tfenv-use.log.json&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;JSON log content:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;{"timestamp":"&amp;lt;date +%s&amp;gt;","level":"&amp;lt;log-level&amp;gt;","message":"&amp;lt;log-content&amp;gt;"}&lt;/code&gt;&lt;/p&gt;
&lt;h5&gt;&lt;a id="user-content-bashlog_json_path" class="anchor" aria-hidden="true" href="#bashlog_json_path"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;BASHLOG_JSON_PATH&lt;/code&gt;&lt;/h5&gt;
&lt;p&gt;String (Default: /tmp/$(basename ${0}).log.json)&lt;/p&gt;
&lt;p&gt;To specify a single file as the target for all JSON type logging regardless of the executing script.&lt;/p&gt;
&lt;h5&gt;&lt;a id="user-content-bashlog_syslog" class="anchor" aria-hidden="true" href="#bashlog_syslog"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;BASHLOG_SYSLOG&lt;/code&gt;&lt;/h5&gt;
&lt;p&gt;Integer (Default: 0)&lt;/p&gt;
&lt;p&gt;To log to syslog using the &lt;code&gt;logger&lt;/code&gt; binary, set this to 1.&lt;/p&gt;
&lt;p&gt;The basic functionality is thus:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;&lt;span class="pl-c1"&gt;local tag="${BASHLOG_SYSLOG_TAG:-$(basename "${0}")}";&lt;/span&gt;
&lt;span class="pl-c1"&gt;local facility="${BASHLOG_SYSLOG_FACILITY:-local0}";&lt;/span&gt;
&lt;span class="pl-c1"&gt;local pid="${$}";&lt;/span&gt;

&lt;span class="pl-c1"&gt;logger --id="${pid}" -t "${tag}" -p "${facility}.${severity}" "${syslog_line}"&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5&gt;&lt;a id="user-content-bashlog_syslog_facility" class="anchor" aria-hidden="true" href="#bashlog_syslog_facility"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;BASHLOG_SYSLOG_FACILITY&lt;/code&gt;&lt;/h5&gt;
&lt;p&gt;String (Default: local0)&lt;/p&gt;
&lt;p&gt;The syslog facility to specify when using SYSLOG type logging.&lt;/p&gt;
&lt;h5&gt;&lt;a id="user-content-bashlog_syslog_tag" class="anchor" aria-hidden="true" href="#bashlog_syslog_tag"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;BASHLOG_SYSLOG_TAG&lt;/code&gt;&lt;/h5&gt;
&lt;p&gt;String (Default: $(basename $0))&lt;/p&gt;
&lt;p&gt;The syslog tag to specify when using SYSLOG type logging.&lt;/p&gt;
&lt;p&gt;Defaults to the PID of the calling process.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-tfenv-use-version" class="anchor" aria-hidden="true" href="#tfenv-use-version"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;tfenv use &amp;lt;version&amp;gt;&lt;/h3&gt;
&lt;p&gt;Switch a version to use&lt;/p&gt;
&lt;p&gt;&lt;code&gt;latest&lt;/code&gt; is a syntax to use the latest installed version&lt;/p&gt;
&lt;p&gt;&lt;code&gt;latest:&amp;lt;regex&amp;gt;&lt;/code&gt; is a syntax to use latest installed version matching regex (used by grep -e)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;min-required&lt;/code&gt; will switch to the version minimally required by your terraform sources (see above &lt;code&gt;tfenv install&lt;/code&gt;)&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;tfenv use min-required&lt;/span&gt;
$ &lt;span class="pl-s1"&gt;tfenv use 0.7.0&lt;/span&gt;
$ &lt;span class="pl-s1"&gt;tfenv use latest&lt;/span&gt;
$ &lt;span class="pl-s1"&gt;tfenv use latest:^0.8&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-tfenv-uninstall-version" class="anchor" aria-hidden="true" href="#tfenv-uninstall-version"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;tfenv uninstall &amp;lt;version&amp;gt;&lt;/h3&gt;
&lt;p&gt;Uninstall a specific version of Terraform
&lt;code&gt;latest&lt;/code&gt; is a syntax to uninstall latest version
&lt;code&gt;latest:&amp;lt;regex&amp;gt;&lt;/code&gt; is a syntax to uninstall latest version matching regex (used by grep -e)&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;tfenv uninstall 0.7.0&lt;/span&gt;
$ &lt;span class="pl-s1"&gt;tfenv uninstall latest&lt;/span&gt;
$ &lt;span class="pl-s1"&gt;tfenv uninstall latest:^0.8&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-tfenv-list" class="anchor" aria-hidden="true" href="#tfenv-list"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;tfenv list&lt;/h3&gt;
&lt;p&gt;List installed versions&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;% &lt;span class="pl-s1"&gt;tfenv list&lt;/span&gt;
&lt;span class="pl-c1"&gt;* 0.10.7 (set by /opt/tfenv/version)&lt;/span&gt;
&lt;span class="pl-c1"&gt;  0.9.0-beta2&lt;/span&gt;
&lt;span class="pl-c1"&gt;  0.8.8&lt;/span&gt;
&lt;span class="pl-c1"&gt;  0.8.4&lt;/span&gt;
&lt;span class="pl-c1"&gt;  0.7.0&lt;/span&gt;
&lt;span class="pl-c1"&gt;  0.7.0-rc4&lt;/span&gt;
&lt;span class="pl-c1"&gt;  0.6.16&lt;/span&gt;
&lt;span class="pl-c1"&gt;  0.6.2&lt;/span&gt;
&lt;span class="pl-c1"&gt;  0.6.1&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-tfenv-list-remote" class="anchor" aria-hidden="true" href="#tfenv-list-remote"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;tfenv list-remote&lt;/h3&gt;
&lt;p&gt;List installable versions&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;% &lt;span class="pl-s1"&gt;tfenv list-remote&lt;/span&gt;
&lt;span class="pl-c1"&gt;0.9.0-beta2&lt;/span&gt;
&lt;span class="pl-c1"&gt;0.9.0-beta1&lt;/span&gt;
&lt;span class="pl-c1"&gt;0.8.8&lt;/span&gt;
&lt;span class="pl-c1"&gt;0.8.7&lt;/span&gt;
&lt;span class="pl-c1"&gt;0.8.6&lt;/span&gt;
&lt;span class="pl-c1"&gt;0.8.5&lt;/span&gt;
&lt;span class="pl-c1"&gt;0.8.4&lt;/span&gt;
&lt;span class="pl-c1"&gt;0.8.3&lt;/span&gt;
&lt;span class="pl-c1"&gt;0.8.2&lt;/span&gt;
&lt;span class="pl-c1"&gt;0.8.1&lt;/span&gt;
&lt;span class="pl-c1"&gt;0.8.0&lt;/span&gt;
&lt;span class="pl-c1"&gt;0.8.0-rc3&lt;/span&gt;
&lt;span class="pl-c1"&gt;0.8.0-rc2&lt;/span&gt;
&lt;span class="pl-c1"&gt;0.8.0-rc1&lt;/span&gt;
&lt;span class="pl-c1"&gt;0.8.0-beta2&lt;/span&gt;
&lt;span class="pl-c1"&gt;0.8.0-beta1&lt;/span&gt;
&lt;span class="pl-c1"&gt;0.7.13&lt;/span&gt;
&lt;span class="pl-c1"&gt;0.7.12&lt;/span&gt;
&lt;span class="pl-c1"&gt;...&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-terraform-version-file" class="anchor" aria-hidden="true" href="#terraform-version-file"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;.terraform-version file&lt;/h2&gt;
&lt;p&gt;If you put a &lt;code&gt;.terraform-version&lt;/code&gt; file on your project root, or in your home directory, tfenv detects it and uses the version written in it. If the version is &lt;code&gt;latest&lt;/code&gt; or &lt;code&gt;latest:&amp;lt;regex&amp;gt;&lt;/code&gt;, the latest matching version currently installed will be selected.&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;cat .terraform-version&lt;/span&gt;
&lt;span class="pl-c1"&gt;0.6.16&lt;/span&gt;

$ &lt;span class="pl-s1"&gt;terraform --version&lt;/span&gt;
&lt;span class="pl-c1"&gt;Terraform v0.6.16&lt;/span&gt;

&lt;span class="pl-c1"&gt;Your version of Terraform is out of date! The latest version&lt;/span&gt;
&lt;span class="pl-c1"&gt;is 0.7.3. You can update by downloading from www.terraform.io&lt;/span&gt;

$ &lt;span class="pl-s1"&gt;&lt;span class="pl-c1"&gt;echo&lt;/span&gt; 0.7.3 &lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; .terraform-version&lt;/span&gt;

$ &lt;span class="pl-s1"&gt;terraform --version&lt;/span&gt;
&lt;span class="pl-c1"&gt;Terraform v0.7.3&lt;/span&gt;

$ &lt;span class="pl-s1"&gt;&lt;span class="pl-c1"&gt;echo&lt;/span&gt; latest:^0.8 &lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; .terraform-version&lt;/span&gt;

$ &lt;span class="pl-s1"&gt;terraform --version&lt;/span&gt;
&lt;span class="pl-c1"&gt;Terraform v0.8.8&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-upgrading" class="anchor" aria-hidden="true" href="#upgrading"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Upgrading&lt;/h2&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;git --git-dir=&lt;span class="pl-k"&gt;~&lt;/span&gt;/.tfenv/.git pull&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-uninstalling" class="anchor" aria-hidden="true" href="#uninstalling"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Uninstalling&lt;/h2&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;rm -rf /some/path/to/tfenv&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;LICENSE&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/tfutils/tfenv/blob/master/LICENSE"&gt;tfenv itself&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/rbenv/rbenv/blob/master/LICENSE"&gt;rbenv&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;tfenv partially uses rbenv's source code&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>tfutils</author><guid isPermaLink="false">https://github.com/tfutils/tfenv</guid><pubDate>Wed, 11 Dec 2019 00:04:00 GMT</pubDate></item><item><title>oh-my-fish/oh-my-fish #5 in Shell, Today</title><link>https://github.com/oh-my-fish/oh-my-fish</link><description>&lt;p&gt;&lt;i&gt;The Fish Shell Framework&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/6d5df21bea6143af7a37e1284fe110df1ab9edb6/68747470733a2f2f63646e2e7261776769742e636f6d2f6f682d6d792d666973682f6f682d6d792d666973682f653466316332653032313961313765326337343862383234303034633864306233383035356331362f646f63732f6c6f676f2e737667"&gt;&lt;img src="https://camo.githubusercontent.com/6d5df21bea6143af7a37e1284fe110df1ab9edb6/68747470733a2f2f63646e2e7261776769742e636f6d2f6f682d6d792d666973682f6f682d6d792d666973682f653466316332653032313961313765326337343862383234303034633864306233383035356331362f646f63732f6c6f676f2e737667" align="left" width="192px" height="192px" data-canonical-src="https://cdn.rawgit.com/oh-my-fish/oh-my-fish/e4f1c2e0219a17e2c748b824004c8d0b38055c16/docs/logo.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href=""&gt;&lt;img align="left" width="0" height="192px" hspace="10" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The &lt;a href="http://fishshell.com" rel="nofollow"&gt;Fishshell&lt;/a&gt; Framework&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href="/LICENSE"&gt;&lt;img src="https://camo.githubusercontent.com/b9a97f2fa4e40bcd90757accb5dc9f1e85d0fb2d/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d4d49542d3030374543372e7376673f7374796c653d666c61742d737175617265" alt="MIT License" data-canonical-src="https://img.shields.io/badge/license-MIT-007EC7.svg?style=flat-square" style="max-width:100%;"&gt;&lt;/a&gt; &lt;a href="http://fishshell.com" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/a737a0f97955788feeddef4fd98eb5d80c69dffb/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f666973682d25453225383925413576322e322e302d3030374543372e7376673f7374796c653d666c61742d737175617265" alt="Fish Shell Version" data-canonical-src="https://img.shields.io/badge/fish-%E2%89%A5v2.2.0-007EC7.svg?style=flat-square" style="max-width:100%;"&gt;&lt;/a&gt; &lt;a href="https://travis-ci.org/oh-my-fish/oh-my-fish" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/c7972457d27fc0be9a9420ff2a76a9c7c153a318/687474703a2f2f696d672e736869656c64732e696f2f7472617669732f6f682d6d792d666973682f6f682d6d792d666973682e7376673f7374796c653d666c61742d737175617265" alt="Travis Build Status" data-canonical-src="http://img.shields.io/travis/oh-my-fish/oh-my-fish.svg?style=flat-square" style="max-width:100%;"&gt;&lt;/a&gt; &lt;a href="https://oh-my-fish-slack.herokuapp.com" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/9fd804489e5fcfbc065f86ac31b6eb1e6c0f8fd3/68747470733a2f2f6f682d6d792d666973682d736c61636b2e6865726f6b756170702e636f6d2f62616467652e737667" alt="Slack Status" data-canonical-src="https://oh-my-fish-slack.herokuapp.com/badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Oh My Fish provides core infrastructure to allow you to install packages which extend or modify the look of your shell. It's fast, extensible and easy to use.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Also in 
&lt;a href="docs/ru-RU/README.md"&gt;&lt;g-emoji class="g-emoji" alias="ru" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f1f7-1f1fa.png"&gt;🇷🇺&lt;/g-emoji&gt;&lt;/a&gt;
&lt;a href="docs/zh-CN/README.md"&gt;&lt;g-emoji class="g-emoji" alias="cn" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f1e8-1f1f3.png"&gt;🇨🇳&lt;/g-emoji&gt;&lt;/a&gt;
&lt;a href="docs/uk-UA/README.md"&gt;&lt;g-emoji class="g-emoji" alias="ukraine" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f1fa-1f1e6.png"&gt;🇺🇦&lt;/g-emoji&gt;&lt;/a&gt;
&lt;a href="docs/pt-BR/README.md"&gt;&lt;g-emoji class="g-emoji" alias="brazil" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f1e7-1f1f7.png"&gt;🇧🇷&lt;/g-emoji&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;br&gt;
&lt;h2&gt;&lt;a id="user-content-table-of-contents" class="anchor" aria-hidden="true" href="#table-of-contents"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Table of contents&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#installation"&gt;Installation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#getting-started"&gt;Getting Started (command descriptions)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced"&gt;Advanced&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#startup"&gt;Startup&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#dotfiles"&gt;Dotfiles&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#creating-packages"&gt;Creating Packages&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation&lt;/h2&gt;
&lt;p&gt;You can get started right away with the default setup by running this in your terminal:&lt;/p&gt;
&lt;div class="highlight highlight-source-fish"&gt;&lt;pre&gt;curl &lt;span class="pl-s"&gt;-L&lt;/span&gt; https://&lt;span class="pl-c1"&gt;get&lt;/span&gt;.oh-my.fish &lt;span class="pl-k"&gt;|&lt;/span&gt; fish&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This will download the installer script and start the installation. Alternatively, you can download the installer and customize your install:&lt;/p&gt;
&lt;div class="highlight highlight-source-fish"&gt;&lt;pre&gt;curl &lt;span class="pl-s"&gt;-L&lt;/span&gt; https://&lt;span class="pl-c1"&gt;get&lt;/span&gt;.oh-my.fish &lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; install
fish install &lt;span class="pl-s"&gt;--path&lt;/span&gt;=~/.local/share/omf &lt;span class="pl-s"&gt;--config&lt;/span&gt;=~/.config/omf&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can verify the integrity of the downloaded installer by verifying the script against &lt;a href="bin/install.sha256"&gt;this checksum&lt;/a&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;bbace7ef16956d87fd40bff91cd1992a90621e7931ac3055f16b7f6d679e8fff  install
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can also install Oh My Fish with Git or with an offline source tarball downloaded from the &lt;a href="https://github.com/oh-my-fish/oh-my-fish/releases"&gt;releases page&lt;/a&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-fish"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; with git&lt;/span&gt;
$ git clone https://github.com/oh-my-fish/oh-my-fish
$ &lt;span class="pl-c1"&gt;cd&lt;/span&gt; oh-my-fish
$ bin/install &lt;span class="pl-s"&gt;--offline&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; with a tarball&lt;/span&gt;
$ curl &lt;span class="pl-s"&gt;-L&lt;/span&gt; https://&lt;span class="pl-c1"&gt;get&lt;/span&gt;.oh-my.fish &lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; install
$ fish install &lt;span class="pl-s"&gt;--offline&lt;/span&gt;=omf.tar.gz&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Run &lt;code&gt;install --help&lt;/code&gt; for a complete list of install options you can customize.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-requirements" class="anchor" aria-hidden="true" href="#requirements"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Requirements&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;fish&lt;/strong&gt; shell, version 2.2 or later&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;git&lt;/strong&gt;, version 1.9.5 or later&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-known-issues" class="anchor" aria-hidden="true" href="#known-issues"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Known Issues&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Due to a regression bug in fish 2.6 with some terminal emulators, right prompts make the shell unusable.
OMF's &lt;code&gt;default&lt;/code&gt; theme features a right prompt, so it's necessary to use an alternative theme until a fix is released.
(see &lt;a href="https://github.com/oh-my-fish/oh-my-fish/issues/541"&gt;#541&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-getting-started" class="anchor" aria-hidden="true" href="#getting-started"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Getting Started&lt;/h2&gt;
&lt;p&gt;Oh My Fish includes a small utility &lt;code&gt;omf&lt;/code&gt; to fetch and install new packages and themes.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-omf-update-omf-package" class="anchor" aria-hidden="true" href="#omf-update-omf-package"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;omf update&lt;/code&gt; &lt;em&gt;&lt;code&gt;[omf]&lt;/code&gt;&lt;/em&gt; &lt;em&gt;&lt;code&gt;[&amp;lt;package&amp;gt;...]&lt;/code&gt;&lt;/em&gt;&lt;/h4&gt;
&lt;p&gt;Update Oh My Fish, all package repositories, and all installed packages.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;When called without arguments, update core and all installed packages.&lt;/li&gt;
&lt;li&gt;You can choose to update only the core, by running &lt;code&gt;omf update omf&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;For selective package update, list only the names of packages you wish to
update. You may still include "omf" in the list to update the core as well.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-omf-install-nameurl" class="anchor" aria-hidden="true" href="#omf-install-nameurl"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;omf install&lt;/code&gt; &lt;em&gt;&lt;code&gt;[&amp;lt;name&amp;gt;|&amp;lt;url&amp;gt;]&lt;/code&gt;&lt;/em&gt;&lt;/h4&gt;
&lt;p&gt;Install one &lt;em&gt;or more&lt;/em&gt; packages.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You can install packages directly by URL via &lt;code&gt;omf install URL&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;When called without arguments, install missing packages from &lt;a href="#dotfiles"&gt;bundle&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-omf-repositories-listaddremove" class="anchor" aria-hidden="true" href="#omf-repositories-listaddremove"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;omf repositories&lt;/code&gt; &lt;em&gt;&lt;code&gt;[list|add|remove]&lt;/code&gt;&lt;/em&gt;&lt;/h4&gt;
&lt;p&gt;Manage user-installed package repositories. Package repositories are where packages come from used by commands like &lt;code&gt;omf install&lt;/code&gt;. By default the &lt;a href="https://github.com/oh-my-fish/packages-main"&gt;official repository&lt;/a&gt; is always installed and available.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-omf-list" class="anchor" aria-hidden="true" href="#omf-list"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;omf list&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;List installed packages.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-omf-theme-theme" class="anchor" aria-hidden="true" href="#omf-theme-theme"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;omf theme&lt;/code&gt; &lt;em&gt;&lt;code&gt;&amp;lt;theme&amp;gt;&lt;/code&gt;&lt;/em&gt;&lt;/h4&gt;
&lt;p&gt;Apply a theme. To list available themes, type &lt;code&gt;omf theme&lt;/code&gt;. You can also &lt;a href="./docs/Themes.md"&gt;preview available themes&lt;/a&gt; before installing.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-omf-remove-name" class="anchor" aria-hidden="true" href="#omf-remove-name"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;omf remove&lt;/code&gt; &lt;em&gt;&lt;code&gt;&amp;lt;name&amp;gt;&lt;/code&gt;&lt;/em&gt;&lt;/h4&gt;
&lt;p&gt;Remove a theme or package.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Packages can use uninstall hooks, so custom cleanup of resources can be done when uninstalling it. See &lt;a href="/docs/en-US/Packages.md#uninstall"&gt;Uninstall&lt;/a&gt; for more information.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;&lt;a id="user-content-omf-reload" class="anchor" aria-hidden="true" href="#omf-reload"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;omf reload&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;Reload Oh My Fish and all plugins by using &lt;code&gt;exec&lt;/code&gt; to replace current shell process with a brand new.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This command tries to be as safe as possible, mitigating side-effects caused by &lt;code&gt;exec&lt;/code&gt; and preventing the reload in case of background processes.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;&lt;a id="user-content-omf-new-plugin--theme-name" class="anchor" aria-hidden="true" href="#omf-new-plugin--theme-name"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;omf new plugin | theme&lt;/code&gt; &lt;em&gt;&lt;code&gt;&amp;lt;name&amp;gt;&lt;/code&gt;&lt;/em&gt;&lt;/h4&gt;
&lt;p&gt;Scaffold out a new plugin or theme.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This creates a new directory under &lt;code&gt;$OMF_CONFIG/{pkg | themes}/&lt;/code&gt; with a template.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4&gt;&lt;a id="user-content-omf-search--t--theme---p--package-name" class="anchor" aria-hidden="true" href="#omf-search--t--theme---p--package-name"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;omf search&lt;/code&gt; &lt;em&gt;&lt;code&gt;-t|--theme / -p|--package&lt;/code&gt;&lt;/em&gt; &lt;em&gt;&lt;code&gt;&amp;lt;name&amp;gt;&lt;/code&gt;&lt;/em&gt;&lt;/h4&gt;
&lt;p&gt;Searches Oh My Fish's database for a given package, theme or both. It also supports fuzzy search, so if you are not sure of the name you can simply &lt;code&gt;omf search simple&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-omf-channel" class="anchor" aria-hidden="true" href="#omf-channel"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;omf channel&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;Gets or changes the update channel.&lt;/p&gt;
&lt;p&gt;Two channels are available by default: the &lt;code&gt;stable&lt;/code&gt; channel provides stable updates with the latest tagged version of Oh My Fish, and &lt;code&gt;dev&lt;/code&gt; which provides the latest changes under development. The update channel currently set determines what version &lt;code&gt;omf update&lt;/code&gt; will upgrade to.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-omf-doctor" class="anchor" aria-hidden="true" href="#omf-doctor"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;omf doctor&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;Use to troubleshoot before &lt;a href="https://github.com/oh-my-fish/oh-my-fish/issues/new"&gt;opening an issue&lt;/a&gt;.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-omf-destroy" class="anchor" aria-hidden="true" href="#omf-destroy"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;omf destroy&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;Uninstall Oh My Fish.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-advanced" class="anchor" aria-hidden="true" href="#advanced"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Advanced&lt;/h2&gt;
&lt;p&gt;Oh My Fish installer adds a snippet to fish's user config files (&lt;code&gt;~/.config/fish/conf.d/&lt;/code&gt;) which calls OMF's startup code.&lt;/p&gt;
&lt;p&gt;Notice that the scripts in that directory are sourced in the order that the filesystem sees them,
and so it may be necessary to prefix your script files with ordering numbers.&lt;/p&gt;
&lt;p&gt;For example: &lt;code&gt;a_script.fish&lt;/code&gt; will take precedence over the &lt;code&gt;omf.fish&lt;/code&gt; snippet.
So if &lt;code&gt;a_script.fish&lt;/code&gt; depends on plugins managed by OMF, consider renaming the script file to &lt;code&gt;xx_a_script.fish&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Similiarly, to make sure that a script runs before &lt;code&gt;omf.fish&lt;/code&gt;, you may prefix it with &lt;code&gt;00_&lt;/code&gt;.
Alternatively, &lt;code&gt;~/.config/omf/before.init.fish&lt;/code&gt; may be used.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-startup" class="anchor" aria-hidden="true" href="#startup"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Startup&lt;/h3&gt;
&lt;p&gt;Every time you open a new shell, the startup code initializes Oh My Fish installation path and the &lt;em&gt;config&lt;/em&gt; path (&lt;code&gt;~/.config/omf&lt;/code&gt; by default),
sourcing the &lt;a href="init.fish"&gt;&lt;code&gt;init.fish&lt;/code&gt;&lt;/a&gt; script afterwards, which autoloads packages, themes and your custom init files.&lt;/p&gt;
&lt;p&gt;For more information check the &lt;a href="docs/en-US/FAQ.md#what-does-oh-my-fish-do-exactly"&gt;FAQ&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-dotfiles" class="anchor" aria-hidden="true" href="#dotfiles"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Dotfiles&lt;/h3&gt;
&lt;p&gt;The &lt;code&gt;$OMF_CONFIG&lt;/code&gt; directory represents the user state of Oh My Fish. It is the perfect
candidate for being added to your dotfiles and/or checked out to version control. There you can find three important files:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;theme&lt;/code&gt;&lt;/strong&gt; - The current theme&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;bundle&lt;/code&gt;&lt;/strong&gt; - List of currently installed packages/themes&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;channel&lt;/code&gt;&lt;/strong&gt; - The channel from which OMF gets updates (stable / dev)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And you may create and customize these special files:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;init.fish&lt;/code&gt;&lt;/strong&gt; - Custom script sourced after shell start&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;before.init.fish&lt;/code&gt;&lt;/strong&gt; - Custom script sourced before shell start&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;key_bindings.fish&lt;/code&gt;&lt;/strong&gt; - Custom key bindings where you can use the &lt;code&gt;bind&lt;/code&gt; command freely&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-setting-variables-in-initfish" class="anchor" aria-hidden="true" href="#setting-variables-in-initfish"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setting variables in &lt;code&gt;init.fish&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;One of the most common startup commands used in &lt;code&gt;init.fish&lt;/code&gt; is variables definition. Quite likely, such variables need to be available in any shell session. To achieve this, define them globally. For example:&lt;/p&gt;
&lt;div class="highlight highlight-source-fish"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Golang developers might need this one&lt;/span&gt;
&lt;span class="pl-c1"&gt;set&lt;/span&gt; &lt;span class="pl-s"&gt;-xg&lt;/span&gt; GOPATH &lt;span class="pl-smi"&gt;$HOME&lt;/span&gt;/gocode

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Python developers otherwise&lt;/span&gt;
&lt;span class="pl-c1"&gt;set&lt;/span&gt; &lt;span class="pl-s"&gt;-xg&lt;/span&gt; PYTHONDONTWRITEBYTECODE 1&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-about-the-bundle" class="anchor" aria-hidden="true" href="#about-the-bundle"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;About the bundle&lt;/h4&gt;
&lt;p&gt;Every time a package/theme is installed or removed, the &lt;code&gt;bundle&lt;/code&gt; file is updated. You can also edit it manually and run &lt;code&gt;omf install&lt;/code&gt; afterwards to satisfy the changes. Please note that while packages/themes added to the bundle get automatically installed, a package/theme removed from bundle isn't removed from user installation.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-older-fish-versions" class="anchor" aria-hidden="true" href="#older-fish-versions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Older fish versions&lt;/h4&gt;
&lt;p&gt;In fish 2.2, there is no &lt;code&gt;conf.d&lt;/code&gt; directory, so the startup code has to be placed in the fish config file (&lt;code&gt;~/.config/fish/config.fish&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;It's highly recommended that your custom startup commands go into &lt;code&gt;init.fish&lt;/code&gt; file instead of &lt;code&gt;~/.config/fish/config.fish&lt;/code&gt;, as this allows you to keep the whole &lt;code&gt;$OMF_CONFIG&lt;/code&gt; directory under version control.&lt;/p&gt;
&lt;p&gt;If you need startup commands to be run &lt;em&gt;before&lt;/em&gt; Oh My Fish begins loading plugins, place them in &lt;code&gt;before.init.fish&lt;/code&gt; instead. If you're unsure, it is usually best to put things in &lt;code&gt;init.fish&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-creating-packages" class="anchor" aria-hidden="true" href="#creating-packages"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Creating Packages&lt;/h2&gt;
&lt;p&gt;Oh My Fish uses an advanced and well defined plugin architecture to ease plugin development, including init/uninstall hooks, function and completion autoloading. &lt;a href="docs/en-US/Packages.md"&gt;See the packages documentation&lt;/a&gt; for more details.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>oh-my-fish</author><guid isPermaLink="false">https://github.com/oh-my-fish/oh-my-fish</guid><pubDate>Wed, 11 Dec 2019 00:05:00 GMT</pubDate></item><item><title>jupyter/docker-stacks #6 in Shell, Today</title><link>https://github.com/jupyter/docker-stacks</link><description>&lt;p&gt;&lt;i&gt;Ready-to-run Docker images containing Jupyter applications&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;p&gt;&lt;a href="https://discourse.jupyter.org/c/questions" title="Jupyter Discourse Q&amp;amp;A" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/c729baa8503d248ec921137a9e92a33567c0d959/68747470733a2f2f696d672e736869656c64732e696f2f646973636f757273652f68747470732f646973636f757273652e6a7570797465722e6f72672f75736572732e7376673f636f6c6f723d253233663337363236" alt="Discourse badge" data-canonical-src="https://img.shields.io/discourse/https/discourse.jupyter.org/users.svg?color=%23f37626" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://jupyter-docker-stacks.readthedocs.io/en/latest/" title="Documentation build status" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/41a60d6e9b1bff02e40e7a1037b5dcaf41c78141/68747470733a2f2f696d672e736869656c64732e696f2f72656164746865646f63732f6a7570797465722d646f636b65722d737461636b732e737667" alt="Read the Docs badge" data-canonical-src="https://img.shields.io/readthedocs/jupyter-docker-stacks.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://microbadger.com/images/jupyter/base-notebook" title="Recent tag/version of jupyter/base-notebook" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/59e00df0a2b117d45cfcb88dddd1caf97336c6f1/68747470733a2f2f696d616765732e6d6963726f6261646765722e636f6d2f6261646765732f76657273696f6e2f6a7570797465722f626173652d6e6f7465626f6f6b2e737667" alt="DockerHub badge" data-canonical-src="https://images.microbadger.com/badges/version/jupyter/base-notebook.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://mybinder.org/v2/gh/jupyter/docker-stacks/master?filepath=README.ipynb" title="Launch a jupyter/base-notebook container on mybinder.org" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/483bae47a175c24dfbfc57390edd8b6982ac5fb3/68747470733a2f2f6d7962696e6465722e6f72672f62616467655f6c6f676f2e737667" alt="Binder badget" data-canonical-src="https://mybinder.org/badge_logo.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-jupyter-docker-stacks" class="anchor" aria-hidden="true" href="#jupyter-docker-stacks"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Jupyter Docker Stacks&lt;/h1&gt;
&lt;p&gt;Jupyter Docker Stacks are a set of ready-to-run &lt;a href="https://hub.docker.com/u/jupyter" rel="nofollow"&gt;Docker images&lt;/a&gt;
containing Jupyter applications and interactive computing tools.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-maintainer-help-wanted" class="anchor" aria-hidden="true" href="#maintainer-help-wanted"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Maintainer Help Wanted&lt;/h2&gt;
&lt;p&gt;We value all positive contributions to the Docker stacks project, from
&lt;a href="https://jupyter-docker-stacks.readthedocs.io/en/latest/contributing/issues.html" rel="nofollow"&gt;bug reports&lt;/a&gt; to
&lt;a href="https://jupyter-docker-stacks.readthedocs.io/en/latest/contributing/packages.html" rel="nofollow"&gt;pull requests&lt;/a&gt;
to
&lt;a href="https://jupyter-docker-stacks.readthedocs.io/en/latest/contributing/translations.html" rel="nofollow"&gt;translations&lt;/a&gt;
to help answering questions. We'd also like to invite members of the community to help with two
maintainer activities:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Issue triage: Reading and providing a first response to issues, labeling issues appropriately,
redirecting cross-project questions to Jupyter Discourse&lt;/li&gt;
&lt;li&gt;Pull request reviews: Reading proposed documentation and code changes, working with the submitter
to improve the contribution, deciding if the contribution should take another form (e.g., a recipe
instead of a permanent change to the images)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Anyone in the community can jump in and help with these activities at any time. We will happily
grant additional permissions (e.g., ability to merge PRs) to anyone who shows an on-going interest
in working on the project.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-quick-start" class="anchor" aria-hidden="true" href="#quick-start"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;
&lt;p&gt;You can try a
&lt;a href="https://mybinder.org/v2/gh/jupyter/docker-stacks/master?filepath=README.ipynb" rel="nofollow"&gt;recent build of the jupyter/base-notebook image on mybinder.org&lt;/a&gt;
by simply clicking the preceding link. Otherwise, the two examples below may help you get started if
you &lt;a href="https://docs.docker.com/install/" rel="nofollow"&gt;have Docker installed&lt;/a&gt; know
&lt;a href="http://jupyter-docker-stacks.readthedocs.io/en/latest/using/selecting.html" rel="nofollow"&gt;which Docker image&lt;/a&gt; you
want to use, and want to launch a single Jupyter Notebook server in a container.&lt;/p&gt;
&lt;p&gt;The &lt;a href="http://jupyter-docker-stacks.readthedocs.io/" rel="nofollow"&gt;User Guide on ReadTheDocs&lt;/a&gt; describes additional
uses and features in detail.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Example 1:&lt;/strong&gt; This command pulls the &lt;code&gt;jupyter/scipy-notebook&lt;/code&gt; image tagged &lt;code&gt;17aba6048f44&lt;/code&gt; from
Docker Hub if it is not already present on the local host. It then starts a container running a
Jupyter Notebook server and exposes the server on host port 8888. The server logs appear in the
terminal. Visiting &lt;code&gt;http://&amp;lt;hostname&amp;gt;:8888/?token=&amp;lt;token&amp;gt;&lt;/code&gt; in a browser loads the Jupyter Notebook
dashboard page, where &lt;code&gt;hostname&lt;/code&gt; is the name of the computer running docker and &lt;code&gt;token&lt;/code&gt; is the
secret token printed in the console. The container remains intact for restart after the notebook
server exits.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker run -p 8888:8888 jupyter/scipy-notebook:17aba6048f44
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Example 2:&lt;/strong&gt; This command performs the same operations as &lt;strong&gt;Example 1&lt;/strong&gt;, but it exposes the server
on host port 10000 instead of port 8888. Visiting &lt;code&gt;http://&amp;lt;hostname&amp;gt;:10000/?token=&amp;lt;token&amp;gt;&lt;/code&gt; in a
browser loads JupyterLab, where &lt;code&gt;hostname&lt;/code&gt; is the name of the computer running docker and &lt;code&gt;token&lt;/code&gt; is
the secret token printed in the console.::&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker run -p 10000:8888 jupyter/scipy-notebook:17aba6048f44
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Example 3:&lt;/strong&gt; This command pulls the &lt;code&gt;jupyter/datascience-notebook&lt;/code&gt; image tagged &lt;code&gt;9b06df75e445&lt;/code&gt;
from Docker Hub if it is not already present on the local host. It then starts an &lt;em&gt;ephemeral&lt;/em&gt;
container running a Jupyter Notebook server and exposes the server on host port 10000. The command
mounts the current working directory on the host as &lt;code&gt;/home/jovyan/work&lt;/code&gt; in the container. The server
logs appear in the terminal. Visiting &lt;code&gt;http://&amp;lt;hostname&amp;gt;:10000/?token=&amp;lt;token&amp;gt;&lt;/code&gt; in a browser loads
JupyterLab, where &lt;code&gt;hostname&lt;/code&gt; is the name of the computer running docker and &lt;code&gt;token&lt;/code&gt; is the secret
token printed in the console. Docker destroys the container after notebook server exit, but any
files written to &lt;code&gt;~/work&lt;/code&gt; in the container remain intact on the host.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker run --rm -p 10000:8888 -e JUPYTER_ENABLE_LAB=yes -v "$PWD":/home/jovyan/work jupyter/datascience-notebook:9b06df75e445
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing&lt;/h2&gt;
&lt;p&gt;Please see the &lt;a href="http://jupyter-docker-stacks.readthedocs.io/" rel="nofollow"&gt;Contributor Guide on ReadTheDocs&lt;/a&gt; for
information about how to contribute package updates, recipes, features, tests, and community
maintained stacks.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-alternatives" class="anchor" aria-hidden="true" href="#alternatives"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Alternatives&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/jupyter/repo2docker"&gt;jupyter/repo2docker&lt;/a&gt; - Turn git repositories into
Jupyter-enabled Docker Images&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/openshift/source-to-image"&gt;openshift/source-to-image&lt;/a&gt; - A tool for
building/building artifacts from source and injecting into docker images&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jupyter-on-openshift/jupyter-notebooks"&gt;jupyter-on-openshift/jupyter-notebooks&lt;/a&gt; -
OpenShift compatible S2I builder for basic notebook images&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-resources" class="anchor" aria-hidden="true" href="#resources"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Resources&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://jupyter-docker-stacks.readthedocs.io/" rel="nofollow"&gt;Documentation on ReadTheDocs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jupyter/docker-stacks"&gt;Issue Tracker on GitHub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://discourse.jupyter.org/c/questions" rel="nofollow"&gt;Jupyter Discourse Q&amp;amp;A&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://jupyter.org" rel="nofollow"&gt;Jupyter Website&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://hub.docker.com/u/jupyter" rel="nofollow"&gt;Images on DockerHub&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>jupyter</author><guid isPermaLink="false">https://github.com/jupyter/docker-stacks</guid><pubDate>Wed, 11 Dec 2019 00:06:00 GMT</pubDate></item><item><title>wmnnd/nginx-certbot #7 in Shell, Today</title><link>https://github.com/wmnnd/nginx-certbot</link><description>&lt;p&gt;&lt;i&gt;Boilerplate configuration for nginx and certbot with docker-compose&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-boilerplate-for-nginx-with-lets-encrypt-on-docker-compose" class="anchor" aria-hidden="true" href="#boilerplate-for-nginx-with-lets-encrypt-on-docker-compose"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Boilerplate for nginx with Let’s Encrypt on docker-compose&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;This repository is accompanied by a &lt;a href="https://medium.com/@pentacent/nginx-and-lets-encrypt-with-docker-in-less-than-5-minutes-b4b8a60d3a71" rel="nofollow"&gt;step-by-step guide on how to
set up nginx and Let’s Encrypt with Docker&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;init-letsencrypt.sh&lt;/code&gt; fetches and ensures the renewal of a Let’s
Encrypt certificate for one or multiple domains in a docker-compose
setup with nginx.
This is useful when you need to set up nginx as a reverse proxy for an
application.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://docs.docker.com/compose/install/#install-compose" rel="nofollow"&gt;Install docker-compose&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Clone this repository: &lt;code&gt;git clone https://github.com/wmnnd/nginx-certbot.git .&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Modify configuration:&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Add domains and email addresses to init-letsencrypt.sh&lt;/li&gt;
&lt;li&gt;Replace all occurrences of example.org with primary domain (the first one you added to init-letsencrypt.sh) in data/nginx/app.conf&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start="4"&gt;
&lt;li&gt;
&lt;p&gt;Run the init script:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; ./init-letsencrypt.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Run the server:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; docker-compose up
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;a id="user-content-got-questions" class="anchor" aria-hidden="true" href="#got-questions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Got questions?&lt;/h2&gt;
&lt;p&gt;Feel free to post questions in the comment section of the &lt;a href="https://medium.com/@pentacent/nginx-and-lets-encrypt-with-docker-in-less-than-5-minutes-b4b8a60d3a71" rel="nofollow"&gt;accompanying guide&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;All code in this repository is licensed under the terms of the &lt;code&gt;MIT License&lt;/code&gt;. For further information please refer to the &lt;code&gt;LICENSE&lt;/code&gt; file.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>wmnnd</author><guid isPermaLink="false">https://github.com/wmnnd/nginx-certbot</guid><pubDate>Wed, 11 Dec 2019 00:07:00 GMT</pubDate></item><item><title>LukeSmithxyz/voidrice #8 in Shell, Today</title><link>https://github.com/LukeSmithxyz/voidrice</link><description>&lt;p&gt;&lt;i&gt;My dotfiles (deployed by LARBS)&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-the-voidrice-luke-smith-httpslukesmithxyzs-dotfiles" class="anchor" aria-hidden="true" href="#the-voidrice-luke-smith-httpslukesmithxyzs-dotfiles"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The Voidrice (Luke Smith &lt;a href="https://lukesmith.xyz" rel="nofollow"&gt;https://lukesmith.xyz&lt;/a&gt;'s dotfiles)&lt;/h1&gt;
&lt;p&gt;These are the dotfiles deployed by &lt;a href="https://larbs.xyz" rel="nofollow"&gt;LARBS&lt;/a&gt; and as seen on &lt;a href="https://youtube.com/c/lukesmithxyz" rel="nofollow"&gt;my YouTube channel&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Very useful scripts are in &lt;code&gt;~/.local/bin/&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Settings for:
&lt;ul&gt;
&lt;li&gt;vim/nvim (text editor)&lt;/li&gt;
&lt;li&gt;zsh (shell)&lt;/li&gt;
&lt;li&gt;i3wm/i3-gaps (window manager)&lt;/li&gt;
&lt;li&gt;i3blocks (status bar)&lt;/li&gt;
&lt;li&gt;sxhkd (general key binder)&lt;/li&gt;
&lt;li&gt;ranger (file manager)&lt;/li&gt;
&lt;li&gt;lf (file manager)&lt;/li&gt;
&lt;li&gt;mpd/ncmpcpp (music)&lt;/li&gt;
&lt;li&gt;sxiv (image/gif viewer)&lt;/li&gt;
&lt;li&gt;mpv (video player)&lt;/li&gt;
&lt;li&gt;calcurse (calendar program)&lt;/li&gt;
&lt;li&gt;tmux&lt;/li&gt;
&lt;li&gt;other stuff like xdg default programs, inputrc and more, etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;I try to minimize what's directly in &lt;code&gt;~&lt;/code&gt; so:
&lt;ul&gt;
&lt;li&gt;All configs that can be in &lt;code&gt;~/.config/&lt;/code&gt; are.&lt;/li&gt;
&lt;li&gt;Some environmental variables have been set in &lt;code&gt;~/.zprofile&lt;/code&gt; to move configs into &lt;code&gt;~/.config/&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Bookmarks in text files used by various scripts (like &lt;code&gt;~/.local/bin/shortcuts&lt;/code&gt;)
&lt;ul&gt;
&lt;li&gt;File bookmarks in &lt;code&gt;~/.config/files&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Directory bookmarks in &lt;code&gt;~/.config/directories&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-want-even-more" class="anchor" aria-hidden="true" href="#want-even-more"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Want even more?&lt;/h2&gt;
&lt;p&gt;My setup is pretty modular nowadays.
I use several suckless programs that are meant to be configured and compiled by the user and I also have separate repos for some other things.
Check out their links:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/lukesmithxyz/dwm"&gt;dwm&lt;/a&gt; (the window manager I usually use now which is fully compatible with this repo)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/lukesmithxyz/st"&gt;st&lt;/a&gt; (the terminal emulator assumed to be used by these dotfiles)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/lukesmithxyz/mutt-wizard"&gt;mutt-wizard (&lt;code&gt;mw&lt;/code&gt;)&lt;/a&gt; - (a terminal-based email system that can store your mail offline without effort)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-install-these-dotfiles" class="anchor" aria-hidden="true" href="#install-these-dotfiles"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Install these dotfiles&lt;/h2&gt;
&lt;p&gt;Use &lt;a href="https://larbs.xyz" rel="nofollow"&gt;LARBS&lt;/a&gt; to autoinstall everything:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;curl -LO larbs.xyz/larbs.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or clone the repo files directly to your home directory and install &lt;a href="https://github.com/LukeSmithxyz/LARBS/blob/master/progs.csv"&gt;the prerequisite programs&lt;/a&gt; or &lt;a href="https://github.com/LukeSmithxyz/LARBS/blob/master/legacy.csv"&gt;those required for the i3 setup&lt;/a&gt;.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>LukeSmithxyz</author><guid isPermaLink="false">https://github.com/LukeSmithxyz/voidrice</guid><pubDate>Wed, 11 Dec 2019 00:08:00 GMT</pubDate></item><item><title>budtmo/docker-android #9 in Shell, Today</title><link>https://github.com/budtmo/docker-android</link><description>&lt;p&gt;&lt;i&gt;Android in docker solution with noVNC supported and video recording&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;p align="center"&gt;
  &lt;a target="_blank" rel="noopener noreferrer" href="./images/logo_dockerandroid_small.png"&gt;&lt;img id="user-content-header" src="./images/logo_dockerandroid_small.png" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/igrigorik/ga-beacon" title="Analytics"&gt;&lt;img src="https://camo.githubusercontent.com/e3c1f2dd14b3fe386d12c9ddf8ebe2b3a47227d5/68747470733a2f2f67612d626561636f6e2e61707073706f742e636f6d2f55412d3133333436363930332d312f6769746875622f627564746d6f2f646f636b65722d616e64726f69642f524541444d452e6d64" alt="Analytics" data-canonical-src="https://ga-beacon.appspot.com/UA-133466903-1/github/budtmo/docker-android/README.md" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://gitter.im/budtmo/docker-android?utm_source=badge&amp;amp;utm_medium=badge&amp;amp;utm_campaign=pr-badge&amp;amp;utm_content=badge" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/8b9b2d939eb479ff71526ccabe2bb753d1f49ffc/68747470733a2f2f6261646765732e6769747465722e696d2f627564746d6f2f646f636b65722d616e64726f69642e737667" alt="Join the chat at https://gitter.im/budtmo/docker-android" data-canonical-src="https://badges.gitter.im/budtmo/docker-android.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://travis-ci.org/budtmo/docker-android" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/5388035e9da6ebcb87b05b06309373009e4882eb/68747470733a2f2f7472617669732d63692e6f72672f627564746d6f2f646f636b65722d616e64726f69642e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/budtmo/docker-android.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://codecov.io/gh/budtmo/docker-android" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/b4cdbd9180feef26d9a4709cadd29e4038cf3c4d/68747470733a2f2f636f6465636f762e696f2f67682f627564746d6f2f646f636b65722d616e64726f69642f6272616e63682f6d61737465722f67726170682f62616467652e737667" alt="codecov" data-canonical-src="https://codecov.io/gh/budtmo/docker-android/branch/master/graph/badge.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://www.codacy.com/app/butomo1989/docker-appium?utm_source=github.com&amp;amp;utm_medium=referral&amp;amp;utm_content=butomo1989/docker-appium&amp;amp;utm_campaign=Badge_Grade" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/bee33e1d22e21081e29d530ef85b3ce0f02d17ef/68747470733a2f2f6170692e636f646163792e636f6d2f70726f6a6563742f62616467652f47726164652f3366303030666662393764623435613539313631383134653134333463343239" alt="Codacy Badge" data-canonical-src="https://api.codacy.com/project/badge/Grade/3f000ffb97db45a59161814e1434c429" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://github.com/budtmo/docker-android/releases"&gt;&lt;img src="https://camo.githubusercontent.com/c1fd27f9014e9af89fcec10a1a8dc7b521038337/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f72656c656173652f627564746d6f2f646f636b65722d616e64726f69642e737667" alt="GitHub release" data-canonical-src="https://img.shields.io/github/release/budtmo/docker-android.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://app.fossa.io/projects/git%2Bgithub.com%2Fbudtmo%2Fdocker-android?ref=badge_shield" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/471fc741acce64b3e2d315e193f369daa47e523a/68747470733a2f2f6170702e666f7373612e696f2f6170692f70726f6a656374732f6769742532426769746875622e636f6d253246627564746d6f253246646f636b65722d616e64726f69642e7376673f747970653d736869656c64" alt="FOSSA Status" data-canonical-src="https://app.fossa.io/api/projects/git%2Bgithub.com%2Fbudtmo%2Fdocker-android.svg?type=shield" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="http://makeapullrequest.com" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/a34cfbf37ba6848362bf2bee0f3915c2e38b1cc1/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f5052732d77656c636f6d652d627269676874677265656e2e7376673f7374796c653d666c61742d737175617265" alt="PRs Welcome" data-canonical-src="https://img.shields.io/badge/PRs-welcome-brightgreen.svg?style=flat-square" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Docker-Android is a docker image built to be used for everything related to mobile website testing and Android project.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="center"&gt;Emulator - Samsung Device&lt;/th&gt;
&lt;th align="center"&gt;Emulator - Nexus Device&lt;/th&gt;
&lt;th align="center"&gt;Real Device&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a target="_blank" rel="noopener noreferrer" href="images/emulator_samsung_galaxy_s6.png"&gt;&lt;img src="images/emulator_samsung_galaxy_s6.png" alt="" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;a target="_blank" rel="noopener noreferrer" href="images/emulator_nexus_5.png"&gt;&lt;img src="images/emulator_nexus_5.png" alt="" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;a target="_blank" rel="noopener noreferrer" href="images/real_device.png"&gt;&lt;img src="images/real_device.png" alt="" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-purposes" class="anchor" aria-hidden="true" href="#purposes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Purposes&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Run UI tests for mobile websites with &lt;a href="https://appium.io" rel="nofollow"&gt;appium&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Build Android project and run unit tests with the latest build-tools&lt;/li&gt;
&lt;li&gt;Run UI tests for Android applications with different frameworks (&lt;a href="https://appium.io" rel="nofollow"&gt;appium&lt;/a&gt;, &lt;a href="https://developer.android.com/training/testing/espresso/" rel="nofollow"&gt;espresso&lt;/a&gt;, &lt;a href="https://github.com/RobotiumTech/robotium"&gt;robotium&lt;/a&gt;, etc.)&lt;/li&gt;
&lt;li&gt;Run monkey / stress tests&lt;/li&gt;
&lt;li&gt;SMS testing&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;a id="user-content-advantages-compare-with-other-docker-android-projects" class="anchor" aria-hidden="true" href="#advantages-compare-with-other-docker-android-projects"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Advantages compare with other docker-android projects&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;noVNC to see what happen inside docker container&lt;/li&gt;
&lt;li&gt;Emulator for different devices / skins, such as Samsung Galaxy S6, LG Nexus 4, HTC Nexus One and more.&lt;/li&gt;
&lt;li&gt;Ability to connect to Selenium Grid&lt;/li&gt;
&lt;li&gt;Ability to control emulator from outside container by using adb connect&lt;/li&gt;
&lt;li&gt;Support real devices with screen mirroring&lt;/li&gt;
&lt;li&gt;Ability to record video during test execution for debugging&lt;/li&gt;
&lt;li&gt;Integrated with other cloud solutions, e.g. &lt;a href="https://www.genymotion.com/cloud/" rel="nofollow"&gt;Genymotion Cloud&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Open source with more features coming&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;a id="user-content-list-of-docker-images" class="anchor" aria-hidden="true" href="#list-of-docker-images"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;List of Docker images&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="left"&gt;OS&lt;/th&gt;
&lt;th align="left"&gt;Android&lt;/th&gt;
&lt;th align="left"&gt;API&lt;/th&gt;
&lt;th align="left"&gt;Browser&lt;/th&gt;
&lt;th align="left"&gt;Browser version&lt;/th&gt;
&lt;th align="left"&gt;Chromedriver&lt;/th&gt;
&lt;th align="left"&gt;Image&lt;/th&gt;
&lt;th align="left"&gt;Size&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="left"&gt;Linux&lt;/td&gt;
&lt;td align="left"&gt;5.0.1&lt;/td&gt;
&lt;td align="left"&gt;21&lt;/td&gt;
&lt;td align="left"&gt;browser&lt;/td&gt;
&lt;td align="left"&gt;37.0&lt;/td&gt;
&lt;td align="left"&gt;2.21&lt;/td&gt;
&lt;td align="left"&gt;budtmo/docker-android-x86-5.0.1&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://microbadger.com/images/budtmo/docker-android-x86-5.0.1" title="Get your own image badge on microbadger.com" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/ef10fa4e24da76852ab45962f3c08ea73880b6ea/68747470733a2f2f696d616765732e6d6963726f6261646765722e636f6d2f6261646765732f696d6167652f627564746d6f2f646f636b65722d616e64726f69642d7838362d352e302e312e737667" alt="" data-canonical-src="https://images.microbadger.com/badges/image/budtmo/docker-android-x86-5.0.1.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;Linux&lt;/td&gt;
&lt;td align="left"&gt;5.1.1&lt;/td&gt;
&lt;td align="left"&gt;22&lt;/td&gt;
&lt;td align="left"&gt;browser&lt;/td&gt;
&lt;td align="left"&gt;39.0&lt;/td&gt;
&lt;td align="left"&gt;2.13&lt;/td&gt;
&lt;td align="left"&gt;budtmo/docker-android-x86-5.1.1&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://microbadger.com/images/budtmo/docker-android-x86-5.1.1" title="Get your own image badge on microbadger.com" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/8f791d60a7a3ab7f5cb4bd00a9dea246832d331a/68747470733a2f2f696d616765732e6d6963726f6261646765722e636f6d2f6261646765732f696d6167652f627564746d6f2f646f636b65722d616e64726f69642d7838362d352e312e312e737667" alt="" data-canonical-src="https://images.microbadger.com/badges/image/budtmo/docker-android-x86-5.1.1.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;Linux&lt;/td&gt;
&lt;td align="left"&gt;6.0&lt;/td&gt;
&lt;td align="left"&gt;23&lt;/td&gt;
&lt;td align="left"&gt;browser&lt;/td&gt;
&lt;td align="left"&gt;44.0&lt;/td&gt;
&lt;td align="left"&gt;2.18&lt;/td&gt;
&lt;td align="left"&gt;budtmo/docker-android-x86-6.0&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://microbadger.com/images/budtmo/docker-android-x86-6.0" title="Get your own image badge on microbadger.com" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/0ea6910cc26df5c8d6cccae3598d0de1031f80ff/68747470733a2f2f696d616765732e6d6963726f6261646765722e636f6d2f6261646765732f696d6167652f627564746d6f2f646f636b65722d616e64726f69642d7838362d362e302e737667" alt="" data-canonical-src="https://images.microbadger.com/badges/image/budtmo/docker-android-x86-6.0.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;Linux&lt;/td&gt;
&lt;td align="left"&gt;7.0&lt;/td&gt;
&lt;td align="left"&gt;24&lt;/td&gt;
&lt;td align="left"&gt;chrome&lt;/td&gt;
&lt;td align="left"&gt;51.0&lt;/td&gt;
&lt;td align="left"&gt;2.23&lt;/td&gt;
&lt;td align="left"&gt;budtmo/docker-android-x86-7.0&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://microbadger.com/images/budtmo/docker-android-x86-7.0" title="Get your own image badge on microbadger.com" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/0a3c665eeb24b336d299f0f1727b7e077311641d/68747470733a2f2f696d616765732e6d6963726f6261646765722e636f6d2f6261646765732f696d6167652f627564746d6f2f646f636b65722d616e64726f69642d7838362d372e302e737667" alt="" data-canonical-src="https://images.microbadger.com/badges/image/budtmo/docker-android-x86-7.0.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;Linux&lt;/td&gt;
&lt;td align="left"&gt;7.1.1&lt;/td&gt;
&lt;td align="left"&gt;25&lt;/td&gt;
&lt;td align="left"&gt;chrome&lt;/td&gt;
&lt;td align="left"&gt;55.0&lt;/td&gt;
&lt;td align="left"&gt;2.28&lt;/td&gt;
&lt;td align="left"&gt;budtmo/docker-android-x86-7.1.1&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://microbadger.com/images/budtmo/docker-android-x86-7.1.1" title="Get your own image badge on microbadger.com" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/b3ffd7f8fcc1fbea1772e5fbced6ce92721e14df/68747470733a2f2f696d616765732e6d6963726f6261646765722e636f6d2f6261646765732f696d6167652f627564746d6f2f646f636b65722d616e64726f69642d7838362d372e312e312e737667" alt="" data-canonical-src="https://images.microbadger.com/badges/image/budtmo/docker-android-x86-7.1.1.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;Linux&lt;/td&gt;
&lt;td align="left"&gt;8.0&lt;/td&gt;
&lt;td align="left"&gt;26&lt;/td&gt;
&lt;td align="left"&gt;chrome&lt;/td&gt;
&lt;td align="left"&gt;58.0&lt;/td&gt;
&lt;td align="left"&gt;2.31&lt;/td&gt;
&lt;td align="left"&gt;budtmo/docker-android-x86-8.0&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://microbadger.com/images/budtmo/docker-android-x86-8.0" title="Get your own image badge on microbadger.com" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/a3e1dad711447d5fc8c334fb0930d68e5694849b/68747470733a2f2f696d616765732e6d6963726f6261646765722e636f6d2f6261646765732f696d6167652f627564746d6f2f646f636b65722d616e64726f69642d7838362d382e302e737667" alt="" data-canonical-src="https://images.microbadger.com/badges/image/budtmo/docker-android-x86-8.0.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;Linux&lt;/td&gt;
&lt;td align="left"&gt;8.1&lt;/td&gt;
&lt;td align="left"&gt;27&lt;/td&gt;
&lt;td align="left"&gt;chrome&lt;/td&gt;
&lt;td align="left"&gt;61.0&lt;/td&gt;
&lt;td align="left"&gt;2.33&lt;/td&gt;
&lt;td align="left"&gt;budtmo/docker-android-x86-8.1&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://microbadger.com/images/budtmo/docker-android-x86-8.1" title="Get your own image badge on microbadger.com" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/08f375a68bf674777f975c713e90bf616ac0ae61/68747470733a2f2f696d616765732e6d6963726f6261646765722e636f6d2f6261646765732f696d6167652f627564746d6f2f646f636b65722d616e64726f69642d7838362d382e312e737667" alt="" data-canonical-src="https://images.microbadger.com/badges/image/budtmo/docker-android-x86-8.1.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;Linux&lt;/td&gt;
&lt;td align="left"&gt;9.0&lt;/td&gt;
&lt;td align="left"&gt;28&lt;/td&gt;
&lt;td align="left"&gt;chrome&lt;/td&gt;
&lt;td align="left"&gt;66.0&lt;/td&gt;
&lt;td align="left"&gt;2.40&lt;/td&gt;
&lt;td align="left"&gt;budtmo/docker-android-x86-9.0&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://microbadger.com/images/budtmo/docker-android-x86-9.0" title="Get your own image badge on microbadger.com" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/7dc8034d99bf24eba20fb28388c287e50252cbeb/68747470733a2f2f696d616765732e6d6963726f6261646765722e636f6d2f6261646765732f696d6167652f627564746d6f2f646f636b65722d616e64726f69642d7838362d392e302e737667" alt="" data-canonical-src="https://images.microbadger.com/badges/image/budtmo/docker-android-x86-9.0.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;Linux&lt;/td&gt;
&lt;td align="left"&gt;10.0&lt;/td&gt;
&lt;td align="left"&gt;29&lt;/td&gt;
&lt;td align="left"&gt;chrome&lt;/td&gt;
&lt;td align="left"&gt;74.0&lt;/td&gt;
&lt;td align="left"&gt;74.0.3729.6&lt;/td&gt;
&lt;td align="left"&gt;budtmo/docker-android-x86-10.0&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://microbadger.com/images/budtmo/docker-android-x86-10.0" title="Get your own image badge on microbadger.com" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/6428154888768e398bc481856cd4fc933121d740/68747470733a2f2f696d616765732e6d6963726f6261646765722e636f6d2f6261646765732f696d6167652f627564746d6f2f646f636b65722d616e64726f69642d7838362d31302e302e737667" alt="" data-canonical-src="https://images.microbadger.com/badges/image/budtmo/docker-android-x86-10.0.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;All&lt;/td&gt;
&lt;td align="left"&gt;-&lt;/td&gt;
&lt;td align="left"&gt;-&lt;/td&gt;
&lt;td align="left"&gt;-&lt;/td&gt;
&lt;td align="left"&gt;-&lt;/td&gt;
&lt;td align="left"&gt;-&lt;/td&gt;
&lt;td align="left"&gt;budtmo/docker-android-real-device&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://microbadger.com/images/budtmo/docker-android-real-device" title="Get your own image badge on microbadger.com" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/5a62a9cf8311ee29f58cb517dfc4150abe89dd6d/68747470733a2f2f696d616765732e6d6963726f6261646765722e636f6d2f6261646765732f696d6167652f627564746d6f2f646f636b65722d616e64726f69642d7265616c2d6465766963652e737667" alt="" data-canonical-src="https://images.microbadger.com/badges/image/budtmo/docker-android-real-device.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;All&lt;/td&gt;
&lt;td align="left"&gt;All&lt;/td&gt;
&lt;td align="left"&gt;All&lt;/td&gt;
&lt;td align="left"&gt;All&lt;/td&gt;
&lt;td align="left"&gt;All&lt;/td&gt;
&lt;td align="left"&gt;All&lt;/td&gt;
&lt;td align="left"&gt;budtmo/docker-android-genymotion&lt;/td&gt;
&lt;td align="left"&gt;&lt;a href="https://microbadger.com/images/budtmo/docker-android-genymotion" title="Get your own image badge on microbadger.com" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/aadcdd5d0d3336dc92b063bf28a03ed671a78110/68747470733a2f2f696d616765732e6d6963726f6261646765722e636f6d2f6261646765732f696d6167652f627564746d6f2f646f636b65722d616e64726f69642d67656e796d6f74696f6e2e737667" alt="" data-canonical-src="https://images.microbadger.com/badges/image/budtmo/docker-android-genymotion.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-list-of-devices" class="anchor" aria-hidden="true" href="#list-of-devices"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;List of Devices&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Type&lt;/th&gt;
&lt;th&gt;Device Name&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Phone&lt;/td&gt;
&lt;td&gt;Samsung Galaxy S10&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Phone&lt;/td&gt;
&lt;td&gt;Samsung Galaxy S9&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Phone&lt;/td&gt;
&lt;td&gt;Samsung Galaxy S8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Phone&lt;/td&gt;
&lt;td&gt;Samsung Galaxy S7 Edge&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Phone&lt;/td&gt;
&lt;td&gt;Samsung Galaxy S7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Phone&lt;/td&gt;
&lt;td&gt;Samsung Galaxy S6&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Phone&lt;/td&gt;
&lt;td&gt;Nexus 4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Phone&lt;/td&gt;
&lt;td&gt;Nexus 5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Phone&lt;/td&gt;
&lt;td&gt;Nexus One&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Phone&lt;/td&gt;
&lt;td&gt;Nexus S&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Tablet&lt;/td&gt;
&lt;td&gt;Nexus 7&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-requirements" class="anchor" aria-hidden="true" href="#requirements"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Requirements&lt;/h2&gt;
&lt;p&gt;Docker is installed in your system.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-quick-start" class="anchor" aria-hidden="true" href="#quick-start"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Run Docker-Android&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;For &lt;em&gt;&lt;strong&gt;Linux OS&lt;/strong&gt;&lt;/em&gt;, please use image name that contains "x86"&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt; docker run --privileged -d -p 6080:6080 -p 5554:5554 -p 5555:5555 -e DEVICE=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Samsung Galaxy S6&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; --name android-container budtmo/docker-android-x86-8.1&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;For &lt;em&gt;&lt;strong&gt;OSX&lt;/strong&gt;&lt;/em&gt; and &lt;em&gt;&lt;strong&gt;Windows OS&lt;/strong&gt;&lt;/em&gt;, please use Virtual Machine that support Virtualization with Ubuntu OS&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Verify the ip address of docker host.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;For OSX, you can find out by using following command:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker-machine ip default&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;For different OS, localhost should work.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Open &lt;em&gt;&lt;strong&gt;&lt;a href="http://docker-host-ip-address:6080" rel="nofollow"&gt;http://docker-host-ip-address:6080&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt; from web browser.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;a id="user-content-custom-configurations" class="anchor" aria-hidden="true" href="#custom-configurations"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Custom configurations&lt;/h2&gt;
&lt;p&gt;&lt;a href="README_CUSTOM_CONFIG.md"&gt;This document&lt;/a&gt; contains custom configurations of Docker-Android that you might need, e.g. Proxy, Changing language on fly, etc.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-build-android-project" class="anchor" aria-hidden="true" href="#build-android-project"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Build Android project&lt;/h2&gt;
&lt;p&gt;Docker-Android can be used for building Android project and executing its unit test. This following steps will illustrate how to build Android project:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Clone &lt;a href="https://github.com/googlesamples/android-testing"&gt;this sample test project&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;git clone git@github.com:googlesamples/android-testing.git&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Build the project&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run -it --rm -v &lt;span class="pl-smi"&gt;$PWD&lt;/span&gt;/android-testing/ui/espresso/BasicSample:/root/tmp budtmo/docker-android-x86-8.1 tmp/gradlew build&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;a id="user-content-control-android-connected-to-host-emulator-or-real-device" class="anchor" aria-hidden="true" href="#control-android-connected-to-host-emulator-or-real-device"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Control Android connected to host (Emulator or Real Device)&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Create a docker container with this command&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ docker run --privileged -d -p 6080:6080 -p 5554:5554 -p 5555:5555 -p 4723:4723 --name android-container-appium budtmo/docker-android-real-device
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Open noVNC &lt;a href="http://localhost:6080" rel="nofollow"&gt;http://localhost:6080&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Open terminal by clicking right on &lt;strong&gt;noVNC&lt;/strong&gt; window &amp;gt;&amp;gt; &lt;strong&gt;Terminal emulator&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To connect to host's adb (make sure your host have adb and connected to the device.)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ adb -H host.docker.internal devices
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To specify port, just add &lt;code&gt;-P port_number&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ adb -H host.docker.internal -P 5037 devices
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Now your container can access your host devices. But, you need to add &lt;code&gt;remoteAdbHost&lt;/code&gt; and &lt;code&gt;adbPort&lt;/code&gt; desired capabilities to make &lt;strong&gt;Appium&lt;/strong&gt; can recognise those devices.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;&lt;a id="user-content-appium-and-selenium-grid" class="anchor" aria-hidden="true" href="#appium-and-selenium-grid"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Appium and Selenium Grid&lt;/h2&gt;
&lt;p&gt;If you want to use Appium and Selenium Grid, you can follow &lt;a href="README_APPIUM_AND_SELENIUM.md"&gt;this document&lt;/a&gt;. It also contains sample and use cases.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-control-android-emulator-outside-container" class="anchor" aria-hidden="true" href="#control-android-emulator-outside-container"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Control android emulator outside container&lt;/h2&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;adb connect &lt;span class="pl-k"&gt;&amp;lt;&lt;/span&gt;docker-machine-ip-address&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt;:5555&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="images/adb_connection.png"&gt;&lt;img src="images/adb_connection.png" alt="" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; You need to have Android Debug Bridge (adb) installed in your host machine.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-sms-simulation" class="anchor" aria-hidden="true" href="#sms-simulation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;SMS Simulation&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Using telnet&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Find the auth_token and copy it.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker &lt;span class="pl-c1"&gt;exec&lt;/span&gt; -it android-container cat /root/.emulator_console_auth_token&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Access emulator using telnet and login with auth_token&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;telnet &lt;span class="pl-k"&gt;&amp;lt;&lt;/span&gt;docker-machine-ip-address&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; 5554&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Login with given auth_token from 1.step&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;auth &lt;span class="pl-k"&gt;&amp;lt;&lt;/span&gt;auth_token&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Send the sms&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;sms send &lt;span class="pl-k"&gt;&amp;lt;&lt;/span&gt;phone_number&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; &lt;span class="pl-k"&gt;&amp;lt;&lt;/span&gt;message&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Using adb&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker &lt;span class="pl-c1"&gt;exec&lt;/span&gt; -it android-container adb emu sms send &lt;span class="pl-k"&gt;&amp;lt;&lt;/span&gt;phone_number&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt; &lt;span class="pl-k"&gt;&amp;lt;&lt;/span&gt;message&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can also integrate it inside project using adb library.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="images/SMS.png"&gt;&lt;img src="images/SMS.png" alt="" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-google-play-services-and-google-play-store" class="anchor" aria-hidden="true" href="#google-play-services-and-google-play-store"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Google Play Services and Google Play Store&lt;/h2&gt;
&lt;p&gt;Docker-Android contains Google Play Service (v12.8.74) and Google Play Store (v11.0.50). Both applications are downloaded from &lt;a href="https://www.apklinker.com/" rel="nofollow"&gt;apklinker&lt;/a&gt;, so please be aware of it in case you use private/company account to that applications.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-jenkins" class="anchor" aria-hidden="true" href="#jenkins"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Jenkins&lt;/h2&gt;
&lt;p&gt;This &lt;a href="README_JENKINS.md"&gt;document&lt;/a&gt; gives you information about custom plugin that supports Docker-Android.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-vmware" class="anchor" aria-hidden="true" href="#vmware"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;VMWARE&lt;/h2&gt;
&lt;p&gt;This &lt;a href="README_VMWARE.md"&gt;document&lt;/a&gt; shows you how to configure Virtual Machine on VMWARE to be able to run Docker-Android.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-cloud" class="anchor" aria-hidden="true" href="#cloud"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Cloud&lt;/h2&gt;
&lt;p&gt;This &lt;a href="README_CLOUD.md"&gt;document&lt;/a&gt; contains information about deploying Docker-Android on cloud services.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-genymotion" class="anchor" aria-hidden="true" href="#genymotion"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Genymotion&lt;/h2&gt;
&lt;p align="center"&gt;
  &lt;a target="_blank" rel="noopener noreferrer" href="./images/logo_genymotion_and_dockerandroid.png"&gt;&lt;img id="user-content-geny" src="./images/logo_genymotion_and_dockerandroid.png" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;For you who do not have ressources to maintain the simulator or to buy machines or need different device profiles, you need to give a try to &lt;a href="https://www.genymotion.com/cloud/" rel="nofollow"&gt;Genymotion Cloud&lt;/a&gt;. Docker-Android is integrated with Genymotion on different cloud services, e.g. Genymotion Cloud, AWS, GCP, Alibaba Cloud. Please follow &lt;a href="README_GENYMOTION.md"&gt;this document&lt;/a&gt; or &lt;a href="https://medium.com/genymobile/run-your-appium-tests-using-docker-android-genymotion-cloud-e4817132ccd8" rel="nofollow"&gt;this blog&lt;/a&gt; for more detail.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-troubleshooting" class="anchor" aria-hidden="true" href="#troubleshooting"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Troubleshooting&lt;/h2&gt;
&lt;p&gt;All logs inside container are stored under folder &lt;strong&gt;/var/log/supervisor&lt;/strong&gt;. you can print out log file by using &lt;strong&gt;docker exec&lt;/strong&gt;. Example:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker &lt;span class="pl-c1"&gt;exec&lt;/span&gt; -it android-container tail -f /var/log/supervisor/docker-android.stdout.log&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-emulator-skins" class="anchor" aria-hidden="true" href="#emulator-skins"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Emulator Skins&lt;/h2&gt;
&lt;p&gt;The Emulator skins are taken from &lt;a href="https://developer.android.com/studio" rel="nofollow"&gt;Android Studio IDE&lt;/a&gt; and &lt;a href="e"&gt;Samsung Developer Website&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-security" class="anchor" aria-hidden="true" href="#security"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Security&lt;/h2&gt;
&lt;p&gt;All docker images are protected by &lt;a href="https://polyverse.io/" rel="nofollow"&gt;Polyverse&lt;/a&gt; by scrambling the Linux packages. For more information please read &lt;a href="https://polyverse.io/how-it-works/" rel="nofollow"&gt;this&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-special-thanks" class="anchor" aria-hidden="true" href="#special-thanks"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Special Thanks&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.linkedin.com/in/gian-christanto-0b398b131/" rel="nofollow"&gt;Gian Christanto&lt;/a&gt; for creating a great logo!&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;LICENSE&lt;/h2&gt;
&lt;p&gt;See &lt;a href="LICENSE.md"&gt;License&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://app.fossa.io/projects/git%2Bgithub.com%2Fbudtmo%2Fdocker-android?ref=badge_large" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/104fb07d226797c9e5cdcaf1441f25b24195f1f9/68747470733a2f2f6170702e666f7373612e696f2f6170692f70726f6a656374732f6769742532426769746875622e636f6d253246627564746d6f253246646f636b65722d616e64726f69642e7376673f747970653d6c61726765" alt="FOSSA Status" data-canonical-src="https://app.fossa.io/api/projects/git%2Bgithub.com%2Fbudtmo%2Fdocker-android.svg?type=large" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>budtmo</author><guid isPermaLink="false">https://github.com/budtmo/docker-android</guid><pubDate>Wed, 11 Dec 2019 00:09:00 GMT</pubDate></item><item><title>rootsongjc/kubernetes-vagrant-centos-cluster #10 in Shell, Today</title><link>https://github.com/rootsongjc/kubernetes-vagrant-centos-cluster</link><description>&lt;p&gt;&lt;i&gt;Setting up a distributed Kubernetes cluster along with Istio service mesh locally with Vagrant and VirtualBox, only PoC or Demo use.&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-setting-up-a-distributed-kubernetes-cluster-along-with-istio-service-mesh-locally-with-vagrant-and-virtualbox" class="anchor" aria-hidden="true" href="#setting-up-a-distributed-kubernetes-cluster-along-with-istio-service-mesh-locally-with-vagrant-and-virtualbox"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setting up a distributed Kubernetes cluster along with Istio service mesh locally with Vagrant and VirtualBox&lt;/h1&gt;
&lt;p&gt;&lt;a href="README-cn.md"&gt;使用Vagrant和VirtualBox在本地搭建分布式Kubernetes集群和Istio Service Mesh - 中文&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Setting up a Kubernetes cluster and Istio service mesh with &lt;code&gt;vagrantfile&lt;/code&gt; which consists of 1 master(also as node) and 3 nodes. You don't have to create complicated CA files or configuration.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: Because of using virtual machines to setup distributed Kubernetes cluster will bring high load on your computer, so I created the lightweight &lt;a href="https://github.com/rootsongjc/cloud-native-sandbox"&gt;Cloud Native Sandbox&lt;/a&gt; using Docker to setup a standalone Kubernetes.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-demo" class="anchor" aria-hidden="true" href="#demo"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Demo&lt;/h2&gt;
&lt;p&gt;Click the following image to watch the video.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://youtu.be/26kbaZxcB4A" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/1d168a8f60aef384c533dbd9b3bc3e8eb8e4e466/68747470733a2f2f696d672e796f75747562652e636f6d2f76692f32366b62615a78634234412f6d617872657364656661756c742e6a7067" alt="Watch the video" data-canonical-src="https://img.youtube.com/vi/26kbaZxcB4A/maxresdefault.jpg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-why-not-use-kubeadm" class="anchor" aria-hidden="true" href="#why-not-use-kubeadm"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Why not use kubeadm?&lt;/h3&gt;
&lt;p&gt;Because I want to setup the etcd, apiserver, controller and scheduler without docker container.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-architecture" class="anchor" aria-hidden="true" href="#architecture"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Architecture&lt;/h3&gt;
&lt;p&gt;We will create a Kubernetes 1.15.0 cluster with 3 nodes which contains the components below:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;IP&lt;/th&gt;
&lt;th&gt;Hostname&lt;/th&gt;
&lt;th&gt;Componets&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;172.17.8.101&lt;/td&gt;
&lt;td&gt;node1&lt;/td&gt;
&lt;td&gt;kube-apiserver, kube-controller-manager, kube-scheduler, etcd, kubelet, docker, flannel, dashboard&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;172.17.8.102&lt;/td&gt;
&lt;td&gt;node2&lt;/td&gt;
&lt;td&gt;kubelet, docker, flannel、traefik&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;172.17.8.103&lt;/td&gt;
&lt;td&gt;node3&lt;/td&gt;
&lt;td&gt;kubelet, docker, flannel&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;The default setting will create the private network from 172.17.8.101 to 172.17.8.103 for nodes, and it will use the host's DHCP for the public IP.&lt;/p&gt;
&lt;p&gt;The kubernetes service's VIP range is &lt;code&gt;10.254.0.0/16&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The container network range is &lt;code&gt;170.33.0.0/16&lt;/code&gt; owned by flanneld with &lt;code&gt;host-gw&lt;/code&gt; backend.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;kube-proxy&lt;/code&gt; will run as &lt;code&gt;ipvs&lt;/code&gt; mode.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-prerequisite" class="anchor" aria-hidden="true" href="#prerequisite"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Prerequisite&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Host server with 8G+ mem(More is better), 60G disk, 8 core cpu at lease&lt;/li&gt;
&lt;li&gt;Vagrant 2.0+&lt;/li&gt;
&lt;li&gt;VirtualBox 5.2 (5.2+ is not supported)&lt;/li&gt;
&lt;li&gt;Kubernetes 1.9+ (support the latest version 1.15.0)&lt;/li&gt;
&lt;li&gt;Across GFW to download the kubernetes files (For China users only)&lt;/li&gt;
&lt;li&gt;MacOS/Linux (&lt;strong&gt;Windows is not supported completely&lt;/strong&gt;)&lt;/li&gt;
&lt;li&gt;NFS Server Package&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-support-add-ons" class="anchor" aria-hidden="true" href="#support-add-ons"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Support Add-ons&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Required&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CoreDNS&lt;/li&gt;
&lt;li&gt;Dashboard&lt;/li&gt;
&lt;li&gt;Traefik&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Optional&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Heapster + InfluxDB + Grafana&lt;/li&gt;
&lt;li&gt;ElasticSearch + Fluentd + Kibana&lt;/li&gt;
&lt;li&gt;Istio service mesh&lt;/li&gt;
&lt;li&gt;Helm&lt;/li&gt;
&lt;li&gt;Vistio&lt;/li&gt;
&lt;li&gt;Kiali&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-setup" class="anchor" aria-hidden="true" href="#setup"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setup&lt;/h4&gt;
&lt;p&gt;Clone this repo into your local machine and download kubernetes binary release first and move them into the root directory of this repo (GitBash for the Windows must be run as Administrator to install &lt;code&gt;vagrant-winnfsd&lt;/code&gt; plugin).&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;vagrant plugin install vagrant-winnfsd
git clone https://github.com/rootsongjc/kubernetes-vagrant-centos-cluster.git
&lt;span class="pl-c1"&gt;cd&lt;/span&gt; kubernetes-vagrant-centos-cluster&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: If this your first time to setup Kubernetes cluster with vagrant, just skip the above step and run the following command, it will download Kubernetes release automatically for you and no need to download the release next time. You can find the download address the Kubernetes releases &lt;a href="https://kubernetes.io/docs/imported/release/notes/" rel="nofollow"&gt;here&lt;/a&gt;. Download the release of version you wanted, move it to the root of this repo, rename it to &lt;code&gt;kubernetes-server-linux-amd64.tar.gz&lt;/code&gt; then the &lt;code&gt;install.sh&lt;/code&gt; script will skip the download step.&lt;/p&gt;
&lt;p&gt;As this repo folder is mounted to &lt;code&gt;/vagrant&lt;/code&gt; with NFS in virtual machines, you may be required to enter a password to for administrator privileges during the installation.&lt;/p&gt;
&lt;p&gt;Set up Kubernetes cluster with vagrant.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;vagrant up&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Wait about 10 minutes the kubernetes cluster will be setup automatically.&lt;/p&gt;
&lt;p&gt;If you have difficult to vagrant up the cluster because of have no way to downlaod the &lt;code&gt;centos/7&lt;/code&gt; box, you can download the box and add it first.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Add centos/7 box manually&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;wget -c http://cloud.centos.org/centos/7/vagrant/x86_64/images/CentOS-7-x86_64-Vagrant-1801_02.VirtualBox.box
vagrant box add CentOS-7-x86_64-Vagrant-1801_02.VirtualBox.box --name centos/7&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The next time you run &lt;code&gt;vagrant up&lt;/code&gt;, vagrant will import the local box automatically.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-note-for-windows" class="anchor" aria-hidden="true" href="#note-for-windows"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Note for Windows&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;The project will run some bash script under the VirtualMachines. These scripts line ending need to be in LF. Git for windows set &lt;code&gt;core.autocrlf&lt;/code&gt; true by default at the installation time. When you clone this project repository, this parameter (set to true) ask git to change all line ending to CRLF. This behavior need to be changed before cloning the repository (or after for each files by hand). We recommand to turn this to off by running &lt;code&gt;git config --global core.autocrlf false&lt;/code&gt; and &lt;code&gt;git config --global core.eol lf&lt;/code&gt; before cloning. Then, after cloning, do not forget to turn the behavior back if you want to run other windows projects: &lt;code&gt;git config --global core.autocrlf true&lt;/code&gt; and &lt;code&gt;git config --global core.eol crlf&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you have executed the previous git global configuration then, you will not see these output while node3 is going to be complete:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;    node3: Created symlink from /etc/systemd/system/multi-user.target.wants/kubelet.service to /usr/lib/systemd/system/kubelet.service.
    node3: Created symlink from /etc/systemd/system/multi-user.target.wants/kube-proxy.service to /usr/lib/systemd/system/kube-proxy.service.
    node3: deploy coredns
    node3: /tmp/vagrant-shell: ./dns-deploy.sh: /bin/bash^M: bad interpreter: No such file or directory
    node3: error: no objects passed to apply
    node3: /home/vagrant&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Solution:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;vagrant ssh node3
sudo -i
&lt;span class="pl-c1"&gt;cd&lt;/span&gt; /vagrant/addon/dns
yum -y install dos2unix
dos2unix dns-deploy.sh
./dns-deploy.sh -r 10.254.0.0/16 -i 10.254.0.2 &lt;span class="pl-k"&gt;|&lt;/span&gt;kubectl apply -f -&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-connect-to-kubernetes-cluster" class="anchor" aria-hidden="true" href="#connect-to-kubernetes-cluster"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Connect to kubernetes cluster&lt;/h4&gt;
&lt;p&gt;There are 3 ways to access the kubernetes cluster.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;on local&lt;/li&gt;
&lt;li&gt;login to VM&lt;/li&gt;
&lt;li&gt;Kubernetes dashboard&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;local&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;In order to manage the cluster on local you should Install &lt;code&gt;kubectl&lt;/code&gt; command line tool first(But, you don't need to do it manual because of &lt;code&gt;install.sh&lt;/code&gt; script itself do this)&lt;/p&gt;
&lt;p&gt;Go to &lt;a href="https://kubernetes.io/docs/imported/release/notes/" rel="nofollow"&gt;Kubernetes release notes&lt;/a&gt;, download the client binaries, unzip it and then move &lt;code&gt;kubectl&lt;/code&gt;  to your &lt;code&gt;$PATH&lt;/code&gt; folder, for MacOS:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;wget https://storage.googleapis.com/kubernetes-release/release/v1.15.0/kubernetes-client-darwin-amd64.tar.gz
tar xvf kubernetes-client-darwin-amd64.tar.gz &lt;span class="pl-k"&gt;&amp;amp;&amp;amp;&lt;/span&gt; cp kubernetes/client/bin/kubectl /usr/local/bin&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Copy &lt;code&gt;conf/admin.kubeconfig&lt;/code&gt; to &lt;code&gt;~/.kube/config&lt;/code&gt;, using &lt;code&gt;kubectl&lt;/code&gt; CLI to access the cluster.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;mkdir -p &lt;span class="pl-k"&gt;~&lt;/span&gt;/.kube
cp conf/admin.kubeconfig &lt;span class="pl-k"&gt;~&lt;/span&gt;/.kube/config&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We recommend you fellow this way.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;VM&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Login to the virtual machine for debuging. In most situations, you have no need to login the VMs.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;vagrant ssh node1
sudo -i
kubectl get nodes
kubectl get pods --namespace=kube-system&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Kubernetes dashboard&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Kubernetes dashboard URL: &lt;a href="https://172.17.8.101:8443" rel="nofollow"&gt;https://172.17.8.101:8443&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Get the admin token:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;kubectl -n kube-system describe secret &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;`&lt;/span&gt;kubectl -n kube-system get secret&lt;span class="pl-k"&gt;|&lt;/span&gt;grep admin-token&lt;span class="pl-k"&gt;|&lt;/span&gt;cut -d &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt; &lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; -f1&lt;span class="pl-pds"&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-k"&gt;|&lt;/span&gt;grep &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;token:&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-k"&gt;|&lt;/span&gt;tr -s &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt; &lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-k"&gt;|&lt;/span&gt;cut -d &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt; &lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; -f2&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: You can see the token message on console when  &lt;code&gt;vagrant up&lt;/code&gt; done.&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="images/dashboard-animation.gif"&gt;&lt;img src="images/dashboard-animation.gif" alt="Kubernetes dashboard animation" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Only if you install the heapter addon bellow that you can see the metrics.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Visit from Chrome/Firefox on Windows&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;If you see the hint &lt;code&gt;NET::ERR_CERT_INVALID&lt;/code&gt;, follow these steps:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;vagrant ssh node1
sudo -i
&lt;span class="pl-c1"&gt;cd&lt;/span&gt; /vagrant/addon/dashboard/
mkdir certs
openssl req -nodes -newkey rsa:2048 -keyout certs/dashboard.key -out certs/dashboard.csr -subj &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/C=/ST=/L=/O=/OU=/CN=kubernetes-dashboard&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
openssl x509 -req -sha256 -days 365 -in certs/dashboard.csr -signkey certs/dashboard.key -out certs/dashboard.crt
kubectl delete secret kubernetes-dashboard-certs -n kube-system
kubectl create secret generic kubernetes-dashboard-certs --from-file=certs -n kube-system
kubectl delete pods &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;$(&lt;/span&gt;kubectl get pods -n kube-system&lt;span class="pl-k"&gt;|&lt;/span&gt;grep kubernetes-dashboard&lt;span class="pl-k"&gt;|&lt;/span&gt;awk &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;{print $1}&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-pds"&gt;)&lt;/span&gt;&lt;/span&gt; -n kube-system &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt;re-install dashboard&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Refresh the browser and click &lt;code&gt;Advance&lt;/code&gt;, skip it. You will see the dashboard page there.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-components" class="anchor" aria-hidden="true" href="#components"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Components&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Heapster monitoring&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Run this command on your local machine.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;kubectl apply -f /vagrant/addon/heapster/&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Append the following item to your local &lt;code&gt;/etc/hosts&lt;/code&gt; file.&lt;/p&gt;
&lt;div class="highlight highlight-source-ini"&gt;&lt;pre&gt;172.17.8.102 grafana.jimmysong.io&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Open the URL in browser: &lt;a href="http://grafana.jimmysong.io" rel="nofollow"&gt;http://grafana.jimmysong.io&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="images/grafana-animation.gif"&gt;&lt;img src="images/grafana-animation.gif" alt="Grafana animation" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Traefik&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Run this command on your local machine.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;kubectl apply -f /vagrant/addon/traefik-ingress&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Append the following item to your  local file  &lt;code&gt;/etc/hosts&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-ini"&gt;&lt;pre&gt;172.17.8.102 traefik.jimmysong.io&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Traefik UI URL: &lt;a href="http://traefik.jimmysong.io" rel="nofollow"&gt;http://traefik.jimmysong.io&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="images/traefik-ingress.gif"&gt;&lt;img src="images/traefik-ingress.gif" alt="Traefik Ingress controller" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;EFK&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Run this command on your local machine.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;kubectl apply -f /vagrant/addon/efk/&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: Powerful CPU and memory allocation required. At least 4G per virtual machine.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Helm&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Run this command on your local machine.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;/vagrant/hack/deploy-helm.sh&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-service-mesh" class="anchor" aria-hidden="true" href="#service-mesh"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Service Mesh&lt;/h3&gt;
&lt;p&gt;We use &lt;a href="https://istio.io" rel="nofollow"&gt;istio&lt;/a&gt; as the default service mesh.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Installation&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Go to &lt;a href="https://github.com/istio/istio/releases"&gt;Istio release&lt;/a&gt; to download the binary package, install istio command line tool on local and move &lt;code&gt;istioctl&lt;/code&gt; to your &lt;code&gt;$PATH&lt;/code&gt; folder, for Mac:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;wget https://github.com/istio/istio/releases/download/1.0.0/istio-1.0.0-osx.tar.gz
tar xvf istio-1.0.0-osx.tar.gz
mv istio-1.0.0/bin/istioctl /usr/local/bin/&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Deploy istio into Kubernetes:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;kubectl apply -f /vagrant/addon/istio/istio-demo.yaml
kubectl apply -f /vagrant/addon/istio/istio-ingress.yaml&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Run sample&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;We will let the sidecars be auto injected.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;kubectl label namespace default istio-injection=enabled
kubectl apply -n default -f /vagrant/yaml/istio-bookinfo/bookinfo.yaml
kubectl apply -n default -f /vagrant/yaml/istio-bookinfo/bookinfo-gateway.yaml
kubectl apply -n default -f /vagrant/yaml/istio-bookinfo/destination-rule-all.yaml&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Add the following items into the file  &lt;code&gt;/etc/hosts&lt;/code&gt; of your local machine.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;172.17.8.102 grafana.istio.jimmysong.io
172.17.8.102 prometheus.istio.jimmysong.io
172.17.8.102 servicegraph.istio.jimmysong.io
172.17.8.102 jaeger-query.istio.jimmysong.io
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can see the services from the following URLs.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Service&lt;/th&gt;
&lt;th&gt;URL&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;grafana&lt;/td&gt;
&lt;td&gt;&lt;a href="http://grafana.istio.jimmysong.io" rel="nofollow"&gt;http://grafana.istio.jimmysong.io&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;servicegraph&lt;/td&gt;
&lt;td&gt;&lt;a href="http://servicegraph.istio.jimmysong.io/dotviz" rel="nofollow"&gt;http://servicegraph.istio.jimmysong.io/dotviz&lt;/a&gt;, &lt;a href="http://servicegraph.istio.jimmysong.io/graph" rel="nofollow"&gt;http://servicegraph.istio.jimmysong.io/graph&lt;/a&gt;,&lt;a href="http://servicegraph.istio.jimmysong.io/force/forcegraph.html" rel="nofollow"&gt;http://servicegraph.istio.jimmysong.io/force/forcegraph.html&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;tracing&lt;/td&gt;
&lt;td&gt;&lt;a href="http://jaeger-query.istio.jimmysong.io" rel="nofollow"&gt;http://jaeger-query.istio.jimmysong.io&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;productpage&lt;/td&gt;
&lt;td&gt;&lt;a href="http://172.17.8.101:31380/productpage" rel="nofollow"&gt;http://172.17.8.101:31380/productpage&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;More detail see &lt;a href="https://istio.io/docs/examples/bookinfo/" rel="nofollow"&gt;https://istio.io/docs/examples/bookinfo/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="images/bookinfo-demo.gif"&gt;&lt;img src="images/bookinfo-demo.gif" alt="Bookinfo Demo" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-vistio" class="anchor" aria-hidden="true" href="#vistio"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Vistio&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://github.com/Netflix/vizceral"&gt;Vizceral&lt;/a&gt; is an open source project released by Netflix to monitor network traffic between applications and clusters in near real time. Vistio is an adaptation of Vizceral for Istio and mesh monitoring. It utilizes metrics generated by Istio Mixer which are then fed into Prometheus. Vistio queries Prometheus and stores that data locally to allow for the replaying of traffic.&lt;/p&gt;
&lt;p&gt;Run the following commands in your local machine.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Deploy vistio via kubectl&lt;/span&gt;
kubectl -n default apply -f /vagrant/addon/vistio/

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Expose vistio-api&lt;/span&gt;
kubectl -n default port-forward &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;$(&lt;/span&gt;kubectl -n default get pod -l app=vistio-api -o jsonpath=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;{.items[0].metadata.name}&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-pds"&gt;)&lt;/span&gt;&lt;/span&gt; 9091:9091 &lt;span class="pl-k"&gt;&amp;amp;&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Expose vistio in another terminal window&lt;/span&gt;
kubectl -n default port-forward &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;$(&lt;/span&gt;kubectl -n default get pod -l app=vistio-web -o jsonpath=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;{.items[0].metadata.name}&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-pds"&gt;)&lt;/span&gt;&lt;/span&gt; 8080:8080 &lt;span class="pl-k"&gt;&amp;amp;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If everything up until now is working you should be able to load the Vistio UI  in your browser &lt;a href="http://localhost:8080" rel="nofollow"&gt;http://localhost:8080&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="images/vistio-animation.gif"&gt;&lt;img src="images/vistio-animation.gif" alt="vistio animation" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;More details see &lt;a href="https://itnext.io/vistio-visualize-your-istio-mesh-using-netflixs-vizceral-b075c402e18e" rel="nofollow"&gt;Vistio — Visualize your Istio Mesh Using Netflix’s Vizceral&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-kiali" class="anchor" aria-hidden="true" href="#kiali"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Kiali&lt;/h3&gt;
&lt;p&gt;Kiali is a project to help observability for the Istio service mesh, see &lt;a href="https://kiali.io/" rel="nofollow"&gt;https://kiali.io&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Run the following commands in your local machine.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;kubectl apply -n istio-system -f /vagrant/addon/kiali&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Kiali web: &lt;a href="http://172.17.8.101:32439" rel="nofollow"&gt;http://172.17.8.101:32439&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;User/password: admin/admin&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="images/kiali.gif"&gt;&lt;img src="images/kiali.gif" alt="kiali" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: Kiali use jaeger for tracing. Do not block the pop-up windows for kiali.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-weave-scope" class="anchor" aria-hidden="true" href="#weave-scope"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Weave scope&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://github.com/weaveworks/scope"&gt;Weave scope&lt;/a&gt; is a project for monitoring, visualisation &amp;amp; management for Docker &amp;amp; Kubernetes, see &lt;a href="https://www.weave.works/oss/scope/" rel="nofollow"&gt;https://www.weave.works/oss/scope/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Run the following commands in your local machine.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;kubectl apply -f /vagrant/addon/weave-scope&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Add a record on your local  &lt;code&gt;/etc/hosts&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;172.17.8.102 scope.weave.jimmysong.io
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now open your browser on &lt;a href="http://scope.weave.jimmysong.io/" rel="nofollow"&gt;http://scope.weave.jimmysong.io/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="images/weave-scope-animation.gif"&gt;&lt;img src="images/weave-scope-animation.gif" alt="Weave scope animation" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-operation" class="anchor" aria-hidden="true" href="#operation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Operation&lt;/h2&gt;
&lt;p&gt;Except for special claim, execute the following commands under the current git repo's root directory.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-suspend" class="anchor" aria-hidden="true" href="#suspend"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Suspend&lt;/h3&gt;
&lt;p&gt;Suspend the current state of VMs.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;vagrant &lt;span class="pl-c1"&gt;suspend&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-resume" class="anchor" aria-hidden="true" href="#resume"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Resume&lt;/h3&gt;
&lt;p&gt;Resume the last state of VMs.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;vagrant resume&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note: every time you resume the VMs you will find that the machine time is still at you last time you suspended it. So consider to halt the VMs and restart them.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-restart" class="anchor" aria-hidden="true" href="#restart"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Restart&lt;/h3&gt;
&lt;p&gt;Halt the VMs and up them again.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;vagrant halt
vagrant up
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; login to node1&lt;/span&gt;
vagrant ssh node1
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; run the prosivision scripts&lt;/span&gt;
/vagrant/hack/k8s-init.sh
&lt;span class="pl-c1"&gt;exit&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; login to node2&lt;/span&gt;
vagrant ssh node2
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; run the prosivision scripts&lt;/span&gt;
/vagrant/hack/k8s-init.sh
&lt;span class="pl-c1"&gt;exit&lt;/span&gt;
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; login to node3&lt;/span&gt;
vagrant ssh node3
&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; run the prosivision scripts&lt;/span&gt;
/vagrant/hack/k8s-init.sh
sudo -i
&lt;span class="pl-c1"&gt;cd&lt;/span&gt; /vagrant/hack
./deploy-base-services.sh
&lt;span class="pl-c1"&gt;exit&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now you have provisioned the base kubernetes environments and you can login to kubernetes dashboard, run the following command at the root of this repo to get the admin token.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;hack/get-dashboard-token.sh&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Following the hint to login.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-clean" class="anchor" aria-hidden="true" href="#clean"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Clean&lt;/h3&gt;
&lt;p&gt;Clean up the VMs.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;vagrant destroy
rm -rf .vagrant&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-note" class="anchor" aria-hidden="true" href="#note"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Note&lt;/h3&gt;
&lt;p&gt;Only use for development and test, don't use it in production environment.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-reference" class="anchor" aria-hidden="true" href="#reference"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://jimmysong.io/kubernetes-handbook/" rel="nofollow"&gt;Kubernetes Handbook - jimmysong.io&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/duffqiu/centos-vagrant"&gt;duffqiu/centos-vagrant&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/coredns/deployment"&gt;coredns/deployment&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kubernetes/kubernetes/tree/master/pkg/proxy/ipvs"&gt;kubernetes ipvs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://itnext.io/vistio-visualize-your-istio-mesh-using-netflixs-vizceral-b075c402e18e" rel="nofollow"&gt;Vistio — Visualize your Istio Mesh Using Netflix’s Vizceral&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Follow the &lt;a href="http://www.servicemesher.com" rel="nofollow"&gt;ServiceMesher community&lt;/a&gt; on &lt;a href="https://twitter.com/servicemesher" rel="nofollow"&gt;twitter&lt;/a&gt; to get more information about &lt;a href="https://istio.io" rel="nofollow"&gt;Istio&lt;/a&gt; and service mesh.&lt;/strong&gt;&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>rootsongjc</author><guid isPermaLink="false">https://github.com/rootsongjc/kubernetes-vagrant-centos-cluster</guid><pubDate>Wed, 11 Dec 2019 00:10:00 GMT</pubDate></item><item><title>wurstmeister/kafka-docker #11 in Shell, Today</title><link>https://github.com/wurstmeister/kafka-docker</link><description>&lt;p&gt;&lt;i&gt;Dockerfile for Apache Kafka&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;p&gt;&lt;a href="https://hub.docker.com/r/wurstmeister/kafka/" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/1d5dc365e20b4460c8b0687ba3bd32a07f4fc5ce/68747470733a2f2f696d672e736869656c64732e696f2f646f636b65722f70756c6c732f77757273746d6569737465722f6b61666b612e737667" alt="Docker Pulls" data-canonical-src="https://img.shields.io/docker/pulls/wurstmeister/kafka.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://hub.docker.com/r/wurstmeister/kafka/" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/cddf6e8fbbc8966454f6cdb87a508378231d0bb3/68747470733a2f2f696d672e736869656c64732e696f2f646f636b65722f73746172732f77757273746d6569737465722f6b61666b612e737667" alt="Docker Stars" data-canonical-src="https://img.shields.io/docker/stars/wurstmeister/kafka.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://microbadger.com/images/wurstmeister/kafka" title="Get your own version badge on microbadger.com" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/0382f2e7094486066207f088f4f9a123352167a3/68747470733a2f2f696d616765732e6d6963726f6261646765722e636f6d2f6261646765732f76657273696f6e2f77757273746d6569737465722f6b61666b612e737667" alt="" data-canonical-src="https://images.microbadger.com/badges/version/wurstmeister/kafka.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://microbadger.com/images/wurstmeister/kafka" title="Get your own image badge on microbadger.com" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/03275a0d06036deb11b029a561f473d97e0bcb96/68747470733a2f2f696d616765732e6d6963726f6261646765722e636f6d2f6261646765732f696d6167652f77757273746d6569737465722f6b61666b612e737667" alt="" data-canonical-src="https://images.microbadger.com/badges/image/wurstmeister/kafka.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://travis-ci.org/wurstmeister/kafka-docker" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/2303074a873d07346a0e53eb89a00e5ab5066bbf/68747470733a2f2f7472617669732d63692e6f72672f77757273746d6569737465722f6b61666b612d646f636b65722e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/wurstmeister/kafka-docker.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-kafka-docker" class="anchor" aria-hidden="true" href="#kafka-docker"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;kafka-docker&lt;/h1&gt;
&lt;p&gt;Dockerfile for &lt;a href="http://kafka.apache.org/" rel="nofollow"&gt;Apache Kafka&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The image is available directly from &lt;a href="https://hub.docker.com/r/wurstmeister/kafka/" rel="nofollow"&gt;Docker Hub&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-tags-and-releases" class="anchor" aria-hidden="true" href="#tags-and-releases"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Tags and releases&lt;/h2&gt;
&lt;p&gt;All versions of the image are built from the same set of scripts with only minor variations (i.e. certain features are not supported on older versions). The version format mirrors the Kafka format, &lt;code&gt;&amp;lt;scala version&amp;gt;-&amp;lt;kafka version&amp;gt;&lt;/code&gt;. Initially, all images are built with the recommended version of scala documented on &lt;a href="http://kafka.apache.org/downloads" rel="nofollow"&gt;http://kafka.apache.org/downloads&lt;/a&gt;. Available tags are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;2.12-2.3.0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;2.12-2.2.1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;2.12-2.1.1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;2.12-2.0.1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;2.11-1.1.1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;2.11-1.0.2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;2.11-0.11.0.3&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;2.11-0.10.2.2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;2.11-0.9.0.1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;2.10-0.8.2.2&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Everytime the image is updated, all tags will be pushed with the latest updates. This should allow for greater consistency across tags, as well as any security updates that have been made to the base image.&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;&lt;a id="user-content-announcements" class="anchor" aria-hidden="true" href="#announcements"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Announcements&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;04-Jun-2019&lt;/strong&gt; - Update base image to openjdk 212 (&lt;a href="https://www.oracle.com/technetwork/java/javase/8u212-relnotes-5292913.html" rel="nofollow"&gt;Release notes&lt;/a&gt;. Please force pull to get these latest updates - including security patches etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;&lt;a id="user-content-pre-requisites" class="anchor" aria-hidden="true" href="#pre-requisites"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Pre-Requisites&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;install docker-compose &lt;a href="https://docs.docker.com/compose/install/" rel="nofollow"&gt;https://docs.docker.com/compose/install/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;modify the &lt;code&gt;KAFKA_ADVERTISED_HOST_NAME&lt;/code&gt; in &lt;a href="https://raw.githubusercontent.com/wurstmeister/kafka-docker/master/docker-compose.yml" rel="nofollow"&gt;docker-compose.yml&lt;/a&gt; to match your docker host IP (Note: Do not use localhost or 127.0.0.1 as the host ip if you want to run multiple brokers.)&lt;/li&gt;
&lt;li&gt;if you want to customize any Kafka parameters, simply add them as environment variables in &lt;code&gt;docker-compose.yml&lt;/code&gt;, e.g. in order to increase the &lt;code&gt;message.max.bytes&lt;/code&gt; parameter set the environment to &lt;code&gt;KAFKA_MESSAGE_MAX_BYTES: 2000000&lt;/code&gt;. To turn off automatic topic creation set &lt;code&gt;KAFKA_AUTO_CREATE_TOPICS_ENABLE: 'false'&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Kafka's log4j usage can be customized by adding environment variables prefixed with &lt;code&gt;LOG4J_&lt;/code&gt;. These will be mapped to &lt;code&gt;log4j.properties&lt;/code&gt;. For example: &lt;code&gt;LOG4J_LOGGER_KAFKA_AUTHORIZER_LOGGER=DEBUG, authorizerAppender&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; There are several 'gotchas' with configuring networking. If you are not sure about what the requirements are, please check out the &lt;a href="https://github.com/wurstmeister/kafka-docker/wiki/Connectivity"&gt;Connectivity Guide&lt;/a&gt; in the &lt;a href="https://github.com/wurstmeister/kafka-docker/wiki"&gt;Wiki&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h2&gt;
&lt;p&gt;Start a cluster:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;docker-compose up -d &lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Add more brokers:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;docker-compose scale kafka=3&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Destroy a cluster:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;docker-compose stop&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-note" class="anchor" aria-hidden="true" href="#note"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Note&lt;/h2&gt;
&lt;p&gt;The default &lt;code&gt;docker-compose.yml&lt;/code&gt; should be seen as a starting point. By default each broker will get a new port number and broker id on restart. Depending on your use case this might not be desirable. If you need to use specific ports and broker ids, modify the docker-compose configuration accordingly, e.g. &lt;a href="https://github.com/wurstmeister/kafka-docker/blob/master/docker-compose-single-broker.yml"&gt;docker-compose-single-broker.yml&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;docker-compose -f docker-compose-single-broker.yml up&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-broker-ids" class="anchor" aria-hidden="true" href="#broker-ids"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Broker IDs&lt;/h2&gt;
&lt;p&gt;You can configure the broker id in different ways&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;explicitly, using &lt;code&gt;KAFKA_BROKER_ID&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;via a command, using &lt;code&gt;BROKER_ID_COMMAND&lt;/code&gt;, e.g. &lt;code&gt;BROKER_ID_COMMAND: "hostname | awk -F'-' '{print $$2}'"&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If you don't specify a broker id in your docker-compose file, it will automatically be generated (see &lt;a href="https://issues.apache.org/jira/browse/KAFKA-1070" rel="nofollow"&gt;https://issues.apache.org/jira/browse/KAFKA-1070&lt;/a&gt;. This allows scaling up and down. In this case it is recommended to use the &lt;code&gt;--no-recreate&lt;/code&gt; option of docker-compose to ensure that containers are not re-created and thus keep their names and ids.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-automatically-create-topics" class="anchor" aria-hidden="true" href="#automatically-create-topics"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Automatically create topics&lt;/h2&gt;
&lt;p&gt;If you want to have kafka-docker automatically create topics in Kafka during
creation, a &lt;code&gt;KAFKA_CREATE_TOPICS&lt;/code&gt; environment variable can be
added in &lt;code&gt;docker-compose.yml&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Here is an example snippet from &lt;code&gt;docker-compose.yml&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    environment:
      KAFKA_CREATE_TOPICS: "Topic1:1:3,Topic2:1:1:compact"
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;Topic 1&lt;/code&gt; will have 1 partition and 3 replicas, &lt;code&gt;Topic 2&lt;/code&gt; will have 1 partition, 1 replica and a &lt;code&gt;cleanup.policy&lt;/code&gt; set to &lt;code&gt;compact&lt;/code&gt;. Also, see FAQ: &lt;a href="https://github.com/wurstmeister/kafka-docker/wiki#topic-compaction-does-not-work"&gt;Topic compaction does not work&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If you wish to use multi-line YAML or some other delimiter between your topic definitions, override the default &lt;code&gt;,&lt;/code&gt; separator by specifying the &lt;code&gt;KAFKA_CREATE_TOPICS_SEPARATOR&lt;/code&gt; environment variable.&lt;/p&gt;
&lt;p&gt;For example, &lt;code&gt;KAFKA_CREATE_TOPICS_SEPARATOR: "$$'\n'"&lt;/code&gt; would use a newline to split the topic definitions. Syntax has to follow docker-compose escaping rules, and &lt;a href="https://www.gnu.org/software/bash/manual/html_node/ANSI_002dC-Quoting.html" rel="nofollow"&gt;ANSI-C&lt;/a&gt; quoting.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-advertised-hostname" class="anchor" aria-hidden="true" href="#advertised-hostname"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Advertised hostname&lt;/h2&gt;
&lt;p&gt;You can configure the advertised hostname in different ways&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;explicitly, using &lt;code&gt;KAFKA_ADVERTISED_HOST_NAME&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;via a command, using &lt;code&gt;HOSTNAME_COMMAND&lt;/code&gt;, e.g. &lt;code&gt;HOSTNAME_COMMAND: "route -n | awk '/UG[ \t]/{print $$2}'"&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;When using commands, make sure you review the "Variable Substitution" section in &lt;a href="https://docs.docker.com/compose/compose-file/" rel="nofollow"&gt;https://docs.docker.com/compose/compose-file/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;If &lt;code&gt;KAFKA_ADVERTISED_HOST_NAME&lt;/code&gt; is specified, it takes precedence over &lt;code&gt;HOSTNAME_COMMAND&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;For AWS deployment, you can use the Metadata service to get the container host's IP:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;HOSTNAME_COMMAND=wget -t3 -T2 -qO-  http://169.254.169.254/latest/meta-data/local-ipv4
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Reference: &lt;a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html" rel="nofollow"&gt;http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-metadata.html&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-injecting-hostname_command-into-configuration" class="anchor" aria-hidden="true" href="#injecting-hostname_command-into-configuration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Injecting HOSTNAME_COMMAND into configuration&lt;/h3&gt;
&lt;p&gt;If you require the value of &lt;code&gt;HOSTNAME_COMMAND&lt;/code&gt; in any of your other &lt;code&gt;KAFKA_XXX&lt;/code&gt; variables, use the &lt;code&gt;_{HOSTNAME_COMMAND}&lt;/code&gt; string in your variable value, i.e.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;KAFKA_ADVERTISED_LISTENERS=SSL://_{HOSTNAME_COMMAND}:9093,PLAINTEXT://9092
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-advertised-port" class="anchor" aria-hidden="true" href="#advertised-port"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Advertised port&lt;/h2&gt;
&lt;p&gt;If the required advertised port is not static, it may be necessary to determine this programatically. This can be done with the &lt;code&gt;PORT_COMMAND&lt;/code&gt; environment variable.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;PORT_COMMAND: "docker port $$(hostname) 9092/tcp | cut -d: -f2"
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This can be then interpolated in any other &lt;code&gt;KAFKA_XXX&lt;/code&gt; config using the &lt;code&gt;_{PORT_COMMAND}&lt;/code&gt; string, i.e.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://1.2.3.4:_{PORT_COMMAND}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-listener-configuration" class="anchor" aria-hidden="true" href="#listener-configuration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Listener Configuration&lt;/h2&gt;
&lt;p&gt;It may be useful to have the &lt;a href="https://kafka.apache.org/documentation/" rel="nofollow"&gt;Kafka Documentation&lt;/a&gt; open, to understand the various broker listener configuration options.&lt;/p&gt;
&lt;p&gt;Since 0.9.0, Kafka has supported &lt;a href="https://issues.apache.org/jira/browse/KAFKA-1809" rel="nofollow"&gt;multiple listener configurations&lt;/a&gt; for brokers to help support different protocols and discriminate between internal and external traffic. Later versions of Kafka have deprecated &lt;code&gt;advertised.host.name&lt;/code&gt; and &lt;code&gt;advertised.port&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; &lt;code&gt;advertised.host.name&lt;/code&gt; and &lt;code&gt;advertised.port&lt;/code&gt; still work as expected, but should not be used if configuring the listeners.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-example" class="anchor" aria-hidden="true" href="#example"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example&lt;/h3&gt;
&lt;p&gt;The example environment below:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;HOSTNAME_COMMAND: curl http://169.254.169.254/latest/meta-data/public-hostname
KAFKA_ADVERTISED_LISTENERS: INSIDE://:9092,OUTSIDE://_{HOSTNAME_COMMAND}:9094
KAFKA_LISTENERS: INSIDE://:9092,OUTSIDE://:9094
KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: INSIDE:PLAINTEXT,OUTSIDE:PLAINTEXT
KAFKA_INTER_BROKER_LISTENER_NAME: INSIDE
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Will result in the following broker config:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;advertised.listeners = OUTSIDE://ec2-xx-xx-xxx-xx.us-west-2.compute.amazonaws.com:9094,INSIDE://:9092
listeners = OUTSIDE://:9094,INSIDE://:9092
inter.broker.listener.name = INSIDE
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-rules" class="anchor" aria-hidden="true" href="#rules"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Rules&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;No listeners may share a port number.&lt;/li&gt;
&lt;li&gt;An advertised.listener must be present by protocol name and port number in the list of listeners.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-broker-rack" class="anchor" aria-hidden="true" href="#broker-rack"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Broker Rack&lt;/h2&gt;
&lt;p&gt;You can configure the broker rack affinity in different ways&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;explicitly, using &lt;code&gt;KAFKA_BROKER_RACK&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;via a command, using &lt;code&gt;RACK_COMMAND&lt;/code&gt;, e.g. &lt;code&gt;RACK_COMMAND: "curl http://169.254.169.254/latest/meta-data/placement/availability-zone"&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;In the above example the AWS metadata service is used to put the instance's availability zone in the &lt;code&gt;broker.rack&lt;/code&gt; property.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-jmx" class="anchor" aria-hidden="true" href="#jmx"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;JMX&lt;/h2&gt;
&lt;p&gt;For monitoring purposes you may wish to configure JMX. Additional to the standard JMX parameters, problems could arise from the underlying RMI protocol used to connect&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;java.rmi.server.hostname - interface to bind listening port&lt;/li&gt;
&lt;li&gt;com.sun.management.jmxremote.rmi.port - The port to service RMI requests&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For example, to connect to a kafka running locally (assumes exposing port 1099)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  KAFKA_JMX_OPTS: "-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Djava.rmi.server.hostname=127.0.0.1 -Dcom.sun.management.jmxremote.rmi.port=1099"
  JMX_PORT: 1099
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Jconsole can now connect at &lt;code&gt;jconsole 192.168.99.100:1099&lt;/code&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-docker-swarm-mode" class="anchor" aria-hidden="true" href="#docker-swarm-mode"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Docker Swarm Mode&lt;/h2&gt;
&lt;p&gt;The listener configuration above is necessary when deploying Kafka in a Docker Swarm using an overlay network. By separating OUTSIDE and INSIDE listeners, a host can communicate with clients outside the overlay network while still benefiting from it from within the swarm.&lt;/p&gt;
&lt;p&gt;In addition to the multiple-listener configuration, additional best practices for operating Kafka in a Docker Swarm include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Use "deploy: global" in a compose file to launch one and only one Kafka broker per swarm node.&lt;/li&gt;
&lt;li&gt;Use compose file version '3.2' (minimum Docker version 16.04) and the "long" port definition with the port in "host" mode instead of the default "ingress" load-balanced port binding. This ensures that outside requests are always routed to the correct broker. For example:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;ports:
   - target: 9094
     published: 9094
     protocol: tcp
     mode: host
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Older compose files using the short-version of port mapping may encounter Kafka client issues if their connection to individual brokers cannot be guaranteed.&lt;/p&gt;
&lt;p&gt;See the included sample compose file &lt;code&gt;docker-compose-swarm.yml&lt;/code&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-release-process" class="anchor" aria-hidden="true" href="#release-process"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Release process&lt;/h2&gt;
&lt;p&gt;See the &lt;a href="https://github.com/wurstmeister/kafka-docker/wiki/ReleaseProcess"&gt;wiki&lt;/a&gt; for information on adding or updating versions to release to Dockerhub.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-tutorial" class="anchor" aria-hidden="true" href="#tutorial"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Tutorial&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://wurstmeister.github.io/kafka-docker/" rel="nofollow"&gt;http://wurstmeister.github.io/kafka-docker/&lt;/a&gt;&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>wurstmeister</author><guid isPermaLink="false">https://github.com/wurstmeister/kafka-docker</guid><pubDate>Wed, 11 Dec 2019 00:11:00 GMT</pubDate></item><item><title>hashicorp/vault-guides #12 in Shell, Today</title><link>https://github.com/hashicorp/vault-guides</link><description>&lt;p&gt;&lt;i&gt;Example usage of HashiCorp Vault secrets management&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;Website: &lt;a href="https://www.vaultproject.io" rel="nofollow"&gt;https://www.vaultproject.io&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;GitHub repository: &lt;a href="https://github.com/hashicorp/vault"&gt;https://github.com/hashicorp/vault&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;IRC: &lt;code&gt;#vault-tool&lt;/code&gt; on Freenode&lt;/li&gt;
&lt;li&gt;Announcement list: &lt;a href="https://groups.google.com/group/hashicorp-announce" rel="nofollow"&gt;Google Groups&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Discussion list: &lt;a href="https://groups.google.com/group/vault-tool" rel="nofollow"&gt;Google Groups&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://cloud.githubusercontent.com/assets/416727/24112835/03b57de4-0d58-11e7-81f5-9056cac5b427.png"&gt;&lt;img width="300" alt="Vault Logo" src="https://cloud.githubusercontent.com/assets/416727/24112835/03b57de4-0d58-11e7-81f5-9056cac5b427.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1&gt;&lt;a id="user-content-vault-guides" class="anchor" aria-hidden="true" href="#vault-guides"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Vault-Guides&lt;/h1&gt;
&lt;p&gt;This repository provides the technical content to support the &lt;a href="https://learn.hashicorp.com/vault/" rel="nofollow"&gt;Vault learn&lt;/a&gt; site.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-operations" class="anchor" aria-hidden="true" href="#operations"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Operations&lt;/h2&gt;
&lt;p&gt;This area will contain instructions to operationalize Vault.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="operations/provision-vault/dev/vagrant-local"&gt;Provision a Dev Vault Cluster locally with Vagrant&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="operations/provision-vault/dev/terraform-aws"&gt;Provision a Dev Vault Cluster on AWS with Terraform&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="operations/provision-vault/quick-start/terraform-aws"&gt;Provision a Quick Start Vault &amp;amp; Consul Cluster on AWS with Terraform&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="operations/provision-vault/best-practices/terraform-aws"&gt;Provision a Best Practices Vault &amp;amp; Consul Cluster on AWS with Terraform&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-secrets" class="anchor" aria-hidden="true" href="#secrets"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Secrets&lt;/h2&gt;
&lt;p&gt;This directory contains example use cases involving &lt;a href="https://www.vaultproject.io/docs/secrets/index.html" rel="nofollow"&gt;secrets management&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-identity" class="anchor" aria-hidden="true" href="#identity"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Identity&lt;/h2&gt;
&lt;p&gt;This directory contains example use cases involving &lt;a href="https://www.vaultproject.io/docs/auth/index.html" rel="nofollow"&gt;identity&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-encryption" class="anchor" aria-hidden="true" href="#encryption"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Encryption&lt;/h2&gt;
&lt;p&gt;This directory contains example use cases involving &lt;a href="https://www.vaultproject.io/docs/secrets/transit/index.html" rel="nofollow"&gt;encryption as a service&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-assets" class="anchor" aria-hidden="true" href="#assets"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Assets&lt;/h2&gt;
&lt;p&gt;This directory contains graphics and other material for the repository.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-gitignoretf-files" class="anchor" aria-hidden="true" href="#gitignoretf-files"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;gitignore.tf&lt;/code&gt; Files&lt;/h2&gt;
&lt;p&gt;You may notice some &lt;a href="operations/provision-consul/best-practices/terraform-aws/gitignore.tf"&gt;&lt;code&gt;gitignore.tf&lt;/code&gt;&lt;/a&gt; files in certain directories. &lt;code&gt;.tf&lt;/code&gt; files that contain the word "gitignore" are ignored by git in the &lt;a href="./.gitignore"&gt;&lt;code&gt;.gitignore&lt;/code&gt;&lt;/a&gt; file.&lt;/p&gt;
&lt;p&gt;If you have local Terraform configuration that you want ignored (like Terraform backend configuration), create a new file in the directory (separate from &lt;code&gt;gitignore.tf&lt;/code&gt;) that contains the word "gitignore" (e.g. &lt;code&gt;backend.gitignore.tf&lt;/code&gt;) and it won't be picked up as a change.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing&lt;/h2&gt;
&lt;p&gt;We welcome contributions and feedback! For guide submissions, please see &lt;a href="CONTRIBUTING.md"&gt;the contributions guide&lt;/a&gt;&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>hashicorp</author><guid isPermaLink="false">https://github.com/hashicorp/vault-guides</guid><pubDate>Wed, 11 Dec 2019 00:12:00 GMT</pubDate></item><item><title>osy86/HaC-Mini #13 in Shell, Today</title><link>https://github.com/osy86/HaC-Mini</link><description>&lt;p&gt;&lt;i&gt;Intel NUC Hades Canyon Hackintosh support&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-welcome" class="anchor" aria-hidden="true" href="#welcome"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Welcome&lt;/h1&gt;
&lt;p&gt;The goal of this guide is to create the perfect Mac mini alternative using the Intel NUC &lt;strong&gt;Ha&lt;/strong&gt;des &lt;strong&gt;C&lt;/strong&gt;anyon (NUC8i7HNK/NUC8i7HVK) and &lt;strong&gt;macOS&lt;/strong&gt;. This guide is not for setting up a Hackintosh for any other configuration (although many of the steps are the same across most configurations). For a general Hackintosh guide, the &lt;a href="https://hackintosh.gitbook.io/-r-hackintosh-vanilla-desktop-guide/" rel="nofollow"&gt;Vanilla Hackintosh Guide&lt;/a&gt; is highly recommended and is the main source of inspiration for this guide.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-overview" class="anchor" aria-hidden="true" href="#overview"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Overview&lt;/h3&gt;
&lt;p&gt;This guide is in two parts. The installation guide are for those who just want to get everything working. The details section goes into more technical details about the inner workings of the various patches and pieces glued together to make it all work. The recommended audience for the second part are for those with technical knowledge and interest in how things work.&lt;/p&gt;
&lt;p&gt;&lt;a href="installation-guide/bios-settings.md"&gt;Get started with the build!&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-status" class="anchor" aria-hidden="true" href="#status"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Status&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-working-hardware" class="anchor" aria-hidden="true" href="#working-hardware"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Working Hardware&lt;/h4&gt;
&lt;ul class="contains-task-list"&gt;
&lt;li class="task-list-item"&gt;&lt;input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""&gt; GPU acceleration&lt;/li&gt;
&lt;li class="task-list-item"&gt;&lt;input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""&gt; Multiple displays (six 4K displays max)&lt;/li&gt;
&lt;li class="task-list-item"&gt;&lt;input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""&gt; Ethernet (both ports)&lt;/li&gt;
&lt;li class="task-list-item"&gt;&lt;input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""&gt; Analog Audio (back port only)&lt;/li&gt;
&lt;li class="task-list-item"&gt;&lt;input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""&gt; Microphone (both stereo mics)&lt;/li&gt;
&lt;li class="task-list-item"&gt;&lt;input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""&gt; HDMI/DP audio&lt;/li&gt;
&lt;li class="task-list-item"&gt;&lt;input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""&gt; USB A ports&lt;/li&gt;
&lt;li class="task-list-item"&gt;&lt;input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""&gt; USB C ports&lt;/li&gt;
&lt;li class="task-list-item"&gt;&lt;input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""&gt; TB3 ports (including hotplug)&lt;/li&gt;
&lt;li class="task-list-item"&gt;&lt;input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""&gt; SD card slot&lt;/li&gt;
&lt;li class="task-list-item"&gt;&lt;input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""&gt; NVMe/SATA SSD&lt;/li&gt;
&lt;li class="task-list-item"&gt;&lt;input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""&gt; CPU power management&lt;/li&gt;
&lt;li class="task-list-item"&gt;&lt;input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""&gt; Sleep/Resume&lt;/li&gt;
&lt;li class="task-list-item"&gt;&lt;input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""&gt; Wifi/BT (using Apple Wifi card)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Working Software&lt;/strong&gt;&lt;/p&gt;
&lt;ul class="contains-task-list"&gt;
&lt;li class="task-list-item"&gt;&lt;input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""&gt; Installation, updates, App Store&lt;/li&gt;
&lt;li class="task-list-item"&gt;&lt;input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""&gt; iMessage, iCloud, Siri, iTunes, other services&lt;/li&gt;
&lt;li class="task-list-item"&gt;&lt;input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""&gt; FileVault2, APFS, Time Machine, SSD TRIM&lt;/li&gt;
&lt;li class="task-list-item"&gt;&lt;input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""&gt; Metal, GPU accelerated applications&lt;/li&gt;
&lt;li class="task-list-item"&gt;&lt;input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""&gt; Parallels/VMWare, other VM software&lt;/li&gt;
&lt;li class="task-list-item"&gt;&lt;input type="checkbox" id="" disabled="" class="task-list-item-checkbox" checked=""&gt; Handoff, Continuity, Universal Clipboard, Apple Watch unlock (using Apple Wifi card)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-not-workingissues" class="anchor" aria-hidden="true" href="#not-workingissues"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Not Working/Issues&lt;/h4&gt;
&lt;p&gt;Please report and track &lt;a href="https://github.com/osy86/HaC-Mini/issues"&gt;issues here&lt;/a&gt;.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>osy86</author><guid isPermaLink="false">https://github.com/osy86/HaC-Mini</guid><pubDate>Wed, 11 Dec 2019 00:13:00 GMT</pubDate></item><item><title>denysdovhan/spaceship-prompt #14 in Shell, Today</title><link>https://github.com/denysdovhan/spaceship-prompt</link><description>&lt;p&gt;&lt;i&gt;:rocket::star: A Zsh prompt for Astronauts&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1 align="center"&gt;&lt;a id="user-content------------spaceship-zsh-" class="anchor" aria-hidden="true" href="#-----------spaceship-zsh-"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;
  &lt;a href="https://github.com/denysdovhan/spaceship-prompt"&gt;
    &lt;img alt="spaceship →~ prompt" src="https://cloud.githubusercontent.com/assets/3459374/21679181/46e24706-d34b-11e6-82ee-5efb3d2ba70f.png" width="400" style="max-width:100%;"&gt;
  &lt;/a&gt;
  &lt;br&gt;&lt;g-emoji class="g-emoji" alias="rocket" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f680.png"&gt;🚀&lt;/g-emoji&gt;⭐ Spaceship ZSH &lt;br&gt;
&lt;/h1&gt;
&lt;h4 align="center"&gt;&lt;a id="user-content---zsh-prompt-for-astronauts" class="anchor" aria-hidden="true" href="#--zsh-prompt-for-astronauts"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;
  &lt;a href="http://zsh.org" rel="nofollow"&gt;&lt;code&gt;Zsh&lt;/code&gt;&lt;/a&gt; prompt for Astronauts.
&lt;/h4&gt;
&lt;p align="center"&gt;
  
    &lt;a href="https://npmjs.org/package/spaceship-prompt" rel="nofollow"&gt;
    &lt;img src="https://camo.githubusercontent.com/ee64382dc8e473639cce6ffe0d382f5fa3d73354/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f7370616365736869702d70726f6d70742e7376673f7374796c653d666c61742d737175617265" alt="NPM Version" data-canonical-src="https://img.shields.io/npm/v/spaceship-prompt.svg?style=flat-square" style="max-width:100%;"&gt;
  &lt;/a&gt;
  &lt;a href="https://travis-ci.org/denysdovhan/spaceship-prompt" rel="nofollow"&gt;
    &lt;img src="https://camo.githubusercontent.com/e08736ddc2657db773dc15517f948f41704b54d5/68747470733a2f2f696d672e736869656c64732e696f2f7472617669732f64656e7973646f7668616e2f7370616365736869702d70726f6d70742e7376673f7374796c653d666c61742d737175617265" alt="CI Status" data-canonical-src="https://img.shields.io/travis/denysdovhan/spaceship-prompt.svg?style=flat-square" style="max-width:100%;"&gt;
  &lt;/a&gt;
  &lt;a href="http://zsh.org/" rel="nofollow"&gt;
    &lt;img src="https://camo.githubusercontent.com/47b51c6f1954bdf7cee5432a8a0f5c229435a26b/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f7a73682d25334525334476352e322d3737373737372e7376673f7374796c653d666c61742d737175617265" alt="Zsh Version" data-canonical-src="https://img.shields.io/badge/zsh-%3E%3Dv5.2-777777.svg?style=flat-square" style="max-width:100%;"&gt;
  &lt;/a&gt;
  &lt;a href="https://twitter.com/SpaceshipZSH" rel="nofollow"&gt;
    &lt;img src="https://camo.githubusercontent.com/57dd79d7756dcdab6df5225d6a39aa212b13d5ac/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f747769747465722d2534305370616365736869705a53482d3030414345452e7376673f7374796c653d666c61742d737175617265" alt="Spaceship ZSH Twitter" data-canonical-src="https://img.shields.io/badge/twitter-%40SpaceshipZSH-00ACEE.svg?style=flat-square" style="max-width:100%;"&gt;
  &lt;/a&gt;
  &lt;a href="https://patreon.com/denysdovhan" rel="nofollow"&gt;
    &lt;img src="https://camo.githubusercontent.com/dc7ae55532a96ed3e3b1473770e6bb5e0cc9f4c9/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f737570706f72742d70617472656f6e2d4639363835342e7376673f7374796c653d666c61742d737175617265" alt="Donate" data-canonical-src="https://img.shields.io/badge/support-patreon-F96854.svg?style=flat-square" style="max-width:100%;"&gt;
  &lt;/a&gt;
&lt;/p&gt;
&lt;div align="center"&gt;
  &lt;h4&gt;&lt;a id="user-content-----website-----install-----features-----options-----api--" class="anchor" aria-hidden="true" href="#----website-----install-----features-----options-----api--"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;
    &lt;a href="https://denysdovhan.com/spaceship-prompt/" rel="nofollow"&gt;Website&lt;/a&gt; |
    &lt;a href="#installing"&gt;Install&lt;/a&gt; |
    &lt;a href="#features"&gt;Features&lt;/a&gt; |
    &lt;a href="./docs/Options.md"&gt;Options&lt;/a&gt; |
    &lt;a href="./docs/API.md"&gt;API&lt;/a&gt;
  &lt;/h4&gt;
&lt;/div&gt;
&lt;div align="center"&gt;
  &lt;sub&gt;Built with ❤︎ by
  &lt;a href="https://denysdovhan.com" rel="nofollow"&gt;Denys Dovhan&lt;/a&gt; and
  &lt;a href="https://github.com/denysdovhan/spaceship-prompt/graphs/contributors"&gt;contributors &lt;/a&gt;
&lt;/sub&gt;&lt;/div&gt;
&lt;br&gt;
&lt;p&gt;Spaceship is a minimalistic, powerful and extremely customizable &lt;a href="http://zsh.org/" rel="nofollow"&gt;Zsh&lt;/a&gt; prompt. It combines everything you may need for convenient work, without unnecessary complications, like a real spaceship.&lt;/p&gt;
&lt;p align="center"&gt;
  &lt;a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/10276208/36086434-5de52ace-0ff2-11e8-8299-c67f9ab4e9bd.gif"&gt;&lt;img alt="Spaceship with Hyper and One Dark" src="https://user-images.githubusercontent.com/10276208/36086434-5de52ace-0ff2-11e8-8299-c67f9ab4e9bd.gif" width="980px" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;&lt;sub&gt;Vist &lt;a href="./docs/Troubleshooting.md#why-doesnt-my-prompt-look-like-the-preview"&gt;Troubleshooting&lt;/a&gt; for similar setup and find more examples with different color schemes in &lt;a href="https://github.com/denysdovhan/spaceship-prompt/wiki/Screenshots"&gt;Screenshots &lt;/a&gt;wiki-page.&lt;/sub&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-features" class="anchor" aria-hidden="true" href="#features"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Features&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Clever hostname and username displaying.&lt;/li&gt;
&lt;li&gt;Prompt character turns red if the last command exits with non-zero code.&lt;/li&gt;
&lt;li&gt;Current Git branch and rich repo status:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;?&lt;/code&gt; — untracked changes;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;+&lt;/code&gt; — uncommitted changes in the index;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;!&lt;/code&gt; — unstaged changes;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;»&lt;/code&gt; — renamed files;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;✘&lt;/code&gt; — deleted files;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$&lt;/code&gt; — stashed changes;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;=&lt;/code&gt; — unmerged changes;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;⇡&lt;/code&gt; — ahead of remote branch;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;⇣&lt;/code&gt; — behind of remote branch;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;⇕&lt;/code&gt; — diverged changes.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Current Mercurial bookmark/branch and rich repo status:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;?&lt;/code&gt; — untracked changes;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;+&lt;/code&gt; — uncommitted changes in the index;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;!&lt;/code&gt; — unstaged changes;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;✘&lt;/code&gt; — deleted files;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Indicator for jobs in the background (&lt;code&gt;✦&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Current Node.js version, through nvm/nodenv/n (&lt;code&gt;⬢&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Current Ruby version, through rvm/rbenv/chruby/asdf (&lt;code&gt;💎&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Current Elm version (&lt;code&gt;🌳&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Current Elixir version, through kiex/exenv/elixir (&lt;code&gt;💧&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Current Swift version, through swiftenv (&lt;code&gt;🐦&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Current Xcode version, through xenv (&lt;code&gt;🛠&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Current Go version (&lt;code&gt;🐹&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Current PHP version (&lt;code&gt;🐘&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Current Rust version (&lt;code&gt;𝗥&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Current version of Haskell GHC Compiler, defined in stack.yaml file (&lt;code&gt;λ&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Current Julia version (&lt;code&gt;ஃ&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Current Docker version and connected machine (&lt;code&gt;🐳&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Current Amazon Web Services (AWS) profile (&lt;code&gt;☁️&lt;/code&gt;) (&lt;a href="http://docs.aws.amazon.com/cli/latest/userguide/cli-multiple-profiles.html" rel="nofollow"&gt;Using named profiles&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Current Python virtualenv.&lt;/li&gt;
&lt;li&gt;Current Conda virtualenv (&lt;code&gt;🅒&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Current Python pyenv (&lt;code&gt;🐍&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Current .NET SDK version, through dotnet-cli (&lt;code&gt;.NET&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Current Ember.js version, through ember-cli (&lt;code&gt;🐹&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Current Kubectl context (&lt;code&gt;☸️&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Current Terraform workspace (&lt;code&gt;🛠&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Package version, if there's is a package in current directory (&lt;code&gt;📦&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Current battery level and status:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;⇡&lt;/code&gt; - charging;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;⇣&lt;/code&gt; - discharging;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;•&lt;/code&gt; - fully charged.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Current Vi-mode mode (&lt;a href="./docs/Options.md#vi-mode-vi_mode"&gt;with handy aliases for temporarily enabling&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Optional exit-code of last command (&lt;a href="./docs/Options.md#exit-code-exit_code"&gt;how to enable&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Optional time stamps 12/24hr in format (&lt;a href="./docs/Options.md#time-time"&gt;how to enable&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Execution time of the last command if it exceeds the set threshold.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Want more features? Please, &lt;a href="https://github.com/denysdovhan/spaceship-prompt/issues/new/choose"&gt;open an issue&lt;/a&gt; or send pull request.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;g-emoji class="g-emoji" alias="bulb" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a1.png"&gt;💡&lt;/g-emoji&gt; Tip:&lt;/strong&gt; Follow our Twitter to keep yourself updated about new features, improvements, and bugfixes.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-requirements" class="anchor" aria-hidden="true" href="#requirements"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Requirements&lt;/h2&gt;
&lt;p&gt;To work correctly, you will first need:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.zsh.org/" rel="nofollow"&gt;&lt;code&gt;zsh&lt;/code&gt;&lt;/a&gt; (v5.2 or recent) must be installed.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/powerline/fonts"&gt;Powerline Font&lt;/a&gt; must be installed and used in your terminal (for example, switch font to &lt;a href="https://github.com/tonsky/FiraCode"&gt;Fira Code&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-installing" class="anchor" aria-hidden="true" href="#installing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installing&lt;/h2&gt;
&lt;p&gt;Now that the requirements are satisfied, you can install Spaceship ZSH via any of the following tools.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;g-emoji class="g-emoji" alias="bulb" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a1.png"&gt;💡&lt;/g-emoji&gt; Tip:&lt;/strong&gt; If you like this project &lt;del&gt;and want to get some stickers and postcards&lt;/del&gt;, consider becoming a patron:&lt;/p&gt;
&lt;a href="https://patreon.com/denysdovhan" rel="nofollow"&gt;
  &lt;img alt="Become a patron" src="https://camo.githubusercontent.com/c11c9bdf1f6c2a1d80afb11859984a61f0fadfa6/68747470733a2f2f63352e70617472656f6e2e636f6d2f65787465726e616c2f6c6f676f2f6265636f6d655f615f706174726f6e5f627574746f6e4032782e706e67" width="150px" data-canonical-src="https://c5.patreon.com/external/logo/become_a_patron_button@2x.png" style="max-width:100%;"&gt;
&lt;/a&gt;
&lt;h3&gt;&lt;a id="user-content-npm" class="anchor" aria-hidden="true" href="#npm"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="https://www.npmjs.com/" rel="nofollow"&gt;npm&lt;/a&gt;&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;npm install -g spaceship-prompt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Done. This command should link &lt;code&gt;spaceship.zsh&lt;/code&gt; as &lt;code&gt;prompt_spaceship_setup&lt;/code&gt; to your &lt;code&gt;$fpath&lt;/code&gt; and set &lt;code&gt;prompt spaceship&lt;/code&gt; in &lt;code&gt;.zshrc&lt;/code&gt;. Just reload your terminal.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;g-emoji class="g-emoji" alias="bulb" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a1.png"&gt;💡&lt;/g-emoji&gt; Tip:&lt;/strong&gt; Update Spaceship to new versions as you would any other package.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-oh-my-zsh" class="anchor" aria-hidden="true" href="#oh-my-zsh"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="http://ohmyz.sh/" rel="nofollow"&gt;oh-my-zsh&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Clone this repo:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;git clone https://github.com/denysdovhan/spaceship-prompt.git &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-smi"&gt;$ZSH_CUSTOM&lt;/span&gt;/themes/spaceship-prompt&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Symlink &lt;code&gt;spaceship.zsh-theme&lt;/code&gt; to your oh-my-zsh custom themes directory:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;ln -s &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-smi"&gt;$ZSH_CUSTOM&lt;/span&gt;/themes/spaceship-prompt/spaceship.zsh-theme&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-smi"&gt;$ZSH_CUSTOM&lt;/span&gt;/themes/spaceship.zsh-theme&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Set &lt;code&gt;ZSH_THEME="spaceship"&lt;/code&gt; in your &lt;code&gt;.zshrc&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-prezto" class="anchor" aria-hidden="true" href="#prezto"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="https://github.com/sorin-ionescu/prezto"&gt;prezto&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Follow &lt;a href="https://github.com/belak/prezto-contrib#usage"&gt;prezto-contrib#usage&lt;/a&gt; to clone &lt;code&gt;prezto-contrib&lt;/code&gt; to the proper location.&lt;/li&gt;
&lt;li&gt;Enable the &lt;code&gt;contrib-prompt&lt;/code&gt; module (before the &lt;code&gt;prompt&lt;/code&gt; module).&lt;/li&gt;
&lt;li&gt;Set &lt;code&gt;zstyle ':prezto:module:prompt' theme 'spaceship'&lt;/code&gt; in your &lt;code&gt;.zpreztorc&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-antigen" class="anchor" aria-hidden="true" href="#antigen"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="http://antigen.sharats.me/" rel="nofollow"&gt;antigen&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Add the following snippet in your &lt;code&gt;~/.zshrc&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;antigen theme denysdovhan/spaceship-prompt
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-antibody" class="anchor" aria-hidden="true" href="#antibody"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="https://github.com/getantibody/antibody"&gt;antibody&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Update your &lt;code&gt;.zshrc&lt;/code&gt; file with the following line:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;antibody bundle denysdovhan/spaceship-prompt
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-zgen" class="anchor" aria-hidden="true" href="#zgen"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="https://github.com/tarjoilija/zgen"&gt;zgen&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Add the following line to your &lt;code&gt;~/.zshrc&lt;/code&gt; where you're adding your other Zsh plugins:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;zgen load denysdovhan/spaceship-prompt spaceship
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-zplug" class="anchor" aria-hidden="true" href="#zplug"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="https://github.com/zplug/zplug"&gt;zplug&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Use this command in your &lt;code&gt;.zshrc&lt;/code&gt; to load Spaceship as prompt theme:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;zplug "denysdovhan/spaceship-prompt", use:spaceship.zsh, from:github, as:theme
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-linux-package-manager" class="anchor" aria-hidden="true" href="#linux-package-manager"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Linux package manager&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-arch-linux" class="anchor" aria-hidden="true" href="#arch-linux"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Arch Linux&lt;/h4&gt;
&lt;p&gt;Install the latest master from the AUR package &lt;a href="https://aur.archlinux.org/packages/spaceship-prompt-git/" rel="nofollow"&gt;&lt;code&gt;spaceship-prompt-git&lt;/code&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git clone https://aur.archlinux.org/spaceship-prompt-git.git
cd spaceship-prompt-git
makepkg -si
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-manual" class="anchor" aria-hidden="true" href="#manual"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Manual&lt;/h3&gt;
&lt;p&gt;If you have problems with approaches above, follow these instructions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Clone this repo &lt;code&gt;git clone https://github.com/denysdovhan/spaceship-prompt.git&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Symlink &lt;code&gt;spaceship.zsh&lt;/code&gt; to somewhere in &lt;a href="http://www.refining-linux.org/archives/46/ZSH-Gem-12-Autoloading-functions/" rel="nofollow"&gt;&lt;code&gt;$fpath&lt;/code&gt;&lt;/a&gt; as &lt;code&gt;prompt_spaceship_setup&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Initialize prompt system and choose &lt;code&gt;spaceship&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-example" class="anchor" aria-hidden="true" href="#example"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example&lt;/h4&gt;
&lt;p&gt;Run &lt;code&gt;echo $fpath&lt;/code&gt; to see possible location and link &lt;code&gt;spaceship.zsh&lt;/code&gt; there, like:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ ln -sf &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-smi"&gt;$PWD&lt;/span&gt;/spaceship.zsh&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/usr/local/share/zsh/site-functions/prompt_spaceship_setup&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For a user-specific installation, simply add a directory to &lt;code&gt;$fpath&lt;/code&gt; for that user in &lt;code&gt;.zshrc&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;fpath=( &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-smi"&gt;$HOME&lt;/span&gt;/.zfunctions&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-smi"&gt;$fpath&lt;/span&gt; )&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then install the theme like this:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ ln -sf &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-smi"&gt;$PWD&lt;/span&gt;/spaceship.zsh&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-smi"&gt;$HOME&lt;/span&gt;/.zfunctions/prompt_spaceship_setup&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For initializing prompt system add this to your &lt;code&gt;.zshrc&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; .zshrc&lt;/span&gt;
autoload -U promptinit&lt;span class="pl-k"&gt;;&lt;/span&gt; promptinit
prompt spaceship&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-customization" class="anchor" aria-hidden="true" href="#customization"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Customization&lt;/h2&gt;
&lt;p&gt;Spaceship works well out of the box, but you can customize almost everything if you want.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./docs/Options.md"&gt;&lt;strong&gt;Options&lt;/strong&gt;&lt;/a&gt; — Tweak section's behavior with tons of options.&lt;/li&gt;
&lt;li&gt;&lt;a href="./docs/API.md"&gt;&lt;strong&gt;API&lt;/strong&gt;&lt;/a&gt; — Define a custom section that will do exactly what you want.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You have ability to customize or disable specific elements of Spaceship. All options must be overridden in your &lt;code&gt;.zshrc&lt;/code&gt; file &lt;strong&gt;after&lt;/strong&gt; the theme.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;g-emoji class="g-emoji" alias="bulb" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a1.png"&gt;💡&lt;/g-emoji&gt; Tip:&lt;/strong&gt; Take a look at popular option presets or share your own configuration on &lt;a href="https://github.com/denysdovhan/spaceship-prompt/wiki/Presets"&gt;Presets&lt;/a&gt; wiki page.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-troubleshooting" class="anchor" aria-hidden="true" href="#troubleshooting"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Troubleshooting&lt;/h2&gt;
&lt;p&gt;Having trouble? Take a look at out &lt;a href="./docs/Troubleshooting.md"&gt;Troubleshooting&lt;/a&gt; page.&lt;/p&gt;
&lt;p&gt;Still struggling? Please, &lt;a href="https://github.com/denysdovhan/spaceship-prompt/issues/new/choose"&gt;file an issue&lt;/a&gt;, describe your problem and we will gladly help you.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-related-projects" class="anchor" aria-hidden="true" href="#related-projects"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Related Projects&lt;/h2&gt;
&lt;p&gt;Here's a list of related projects that have been inspired by Spaceship ZSH.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/matchai/spacefish"&gt;&lt;strong&gt;matchai/spacefish&lt;/strong&gt;&lt;/a&gt; - A port of Spaceship ZSH for fish shell intending to achieve complete feature parity.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/starship/starship"&gt;&lt;strong&gt;starship/starship&lt;/strong&gt;&lt;/a&gt; - A blazing-fast, cross-shell prompt written in Rust, heavily inspired by Spaceship ZSH.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-team" class="anchor" aria-hidden="true" href="#team"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Team&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="center"&gt;&lt;a href="http://denysdovhan.com" rel="nofollow"&gt;&lt;img src="https://github.com/denysdovhan.png?size=100" alt="Denys Dovhan" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/th&gt;
&lt;th align="center"&gt;&lt;a href="https://github.com/salmanulfarzy"&gt;&lt;img src="https://github.com/salmanulfarzy.png?size=100" alt="Salmanul Farzy" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/th&gt;
&lt;th align="center"&gt;&lt;a href="https://github.com/maximbaz"&gt;&lt;img src="https://github.com/maximbaz.png?size=100" alt="Maxim Baz" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/th&gt;
&lt;th align="center"&gt;&lt;a href="https://github.com/Runrioter"&gt;&lt;img src="https://github.com/Runrioter.png?size=100" alt="Runrioter Wung" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="https://github.com/denysdovhan"&gt;Denys Dovhan&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;a href="https://github.com/salmanulfarzy"&gt;Salmanul Farzy&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;a href="https://github.com/maximbaz"&gt;Maxim Baz&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;a href="https://github.com/Runrioter"&gt;Runrioter Wung&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-donate" class="anchor" aria-hidden="true" href="#donate"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Donate&lt;/h2&gt;
&lt;p&gt;Hi! I work on this project in my spare time, in addition to my primary job. I hope you enjoy using Spaceship ZSH. If you do, please, &lt;a href="https://www.patreon.com/denysdovhan" rel="nofollow"&gt;become my patron &lt;g-emoji class="g-emoji" alias="handshake" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f91d.png"&gt;🤝&lt;/g-emoji&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="center"&gt;Patreon&lt;/th&gt;
&lt;th align="center"&gt;Bitcoin&lt;/th&gt;
&lt;th align="center"&gt;Ethereum&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="https://www.patreon.com/denysdovhan" rel="nofollow"&gt;Become a patron&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;1FrPrQb6ACTkbSBAz9PduJWrDFfq41Ggb4&lt;/code&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;code&gt;0x6aF39C917359897ae6969Ad682C14110afe1a0a1&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&lt;a href="https://www.patreon.com/denysdovhan" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/c11c9bdf1f6c2a1d80afb11859984a61f0fadfa6/68747470733a2f2f63352e70617472656f6e2e636f6d2f65787465726e616c2f6c6f676f2f6265636f6d655f615f706174726f6e5f627574746f6e4032782e706e67" width="150px" data-canonical-src="https://c5.patreon.com/external/logo/become_a_patron_button@2x.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/3459374/33760933-1c9b81b4-dc10-11e7-8e4b-22d81f98c138.png"&gt;&lt;img src="https://user-images.githubusercontent.com/3459374/33760933-1c9b81b4-dc10-11e7-8e4b-22d81f98c138.png" width="100px" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/3459374/33760932-1c7b3fb2-dc10-11e7-9774-411264d533da.png"&gt;&lt;img src="https://user-images.githubusercontent.com/3459374/33760932-1c7b3fb2-dc10-11e7-9774-411264d533da.png" width="100px" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;This is your way make a clear statement: &lt;strong&gt;My work is valued.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I would appreciate your support! &lt;em&gt;Thank you!&lt;/em&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;MIT © &lt;a href="http://denysdovhan.com" rel="nofollow"&gt;Denys Dovhan&lt;/a&gt;&lt;/p&gt;


&lt;/article&gt;&lt;/div&gt;</description><author>denysdovhan</author><guid isPermaLink="false">https://github.com/denysdovhan/spaceship-prompt</guid><pubDate>Wed, 11 Dec 2019 00:14:00 GMT</pubDate></item><item><title>Yolean/kubernetes-kafka #15 in Shell, Today</title><link>https://github.com/Yolean/kubernetes-kafka</link><description>&lt;p&gt;&lt;i&gt;Kafka cluster as Kubernetes StatefulSet, plain manifests and config&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-kafka-for-kubernetes" class="anchor" aria-hidden="true" href="#kafka-for-kubernetes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Kafka for Kubernetes&lt;/h1&gt;
&lt;p&gt;This community seeks to provide:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Production-worthy Kafka setup for persistent (domain- and ops-) data at small scale.&lt;/li&gt;
&lt;li&gt;Operational knowledge, biased towards resilience over throughput, as Kubernetes manifest.&lt;/li&gt;
&lt;li&gt;A platform for event-driven (streaming!) microservices design using Kubernetes.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To quote &lt;a href="https://github.com/Yolean/kubernetes-kafka/issues/82#issuecomment-337532548"&gt;@arthurk&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;thanks for creating and maintaining this Kubernetes files, they're up-to-date (unlike the kubernetes contrib files, don't require helm and work great!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;&lt;a id="user-content-getting-started" class="anchor" aria-hidden="true" href="#getting-started"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Getting started&lt;/h2&gt;
&lt;p&gt;We suggest you &lt;code&gt;apply -f&lt;/code&gt; manifests in the following order:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./00-namespace.yml"&gt;namespace&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./rbac-namespace-default/"&gt;./rbac-namespace-default&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./zookeeper/"&gt;./zookeeper&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./kafka/"&gt;./kafka&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;That'll give you client "bootstrap" &lt;code&gt;bootstrap.kafka.svc.cluster.local:9092&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-fork" class="anchor" aria-hidden="true" href="#fork"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Fork&lt;/h2&gt;
&lt;p&gt;Our only dependency is &lt;code&gt;kubectl&lt;/code&gt;. Not because we dislike Helm or Operators, but because we think plain manifests make it easier to collaborate.
If you begin to rely on this kafka setup we recommend you fork, for example to edit &lt;a href="https://github.com/Yolean/kubernetes-kafka/blob/master/kafka/10broker-config.yml#L47"&gt;broker config&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-kustomize" class="anchor" aria-hidden="true" href="#kustomize"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Kustomize&lt;/h2&gt;
&lt;p&gt;With the introduction of &lt;a href="https://kubectl.docs.kubernetes.io/pages/app_customization/introduction.html" rel="nofollow"&gt;app customization&lt;/a&gt; in &lt;code&gt;kubectl&lt;/code&gt; 1.14 there's an alternative to forks. We as a community can maintain a set of overlays.&lt;/p&gt;
&lt;p&gt;See the &lt;a href="./variants"&gt;variants&lt;/a&gt; folder for different overlays. For example to scale to 1 kafka broker try &lt;code&gt;kubectl apply -k variants/scale-1/&lt;/code&gt;.
Variants also include examples of how to configure volumes for GKE, AWS and AKS with different storage classes.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-quickstart" class="anchor" aria-hidden="true" href="#quickstart"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Quickstart&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;kubectl create namespace kafka &amp;amp;&amp;amp; \
kubectl apply -k github.com/Yolean/kubernetes-kafka/variants/dev-small/?ref=v6.0.3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;When all pods are Ready, test with for example &lt;code&gt;kafkacat -b localhost:9094 -L&lt;/code&gt; over &lt;code&gt;kubectl -n kafka port-forward kafka-0 9094&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-maintaining-your-own-kustomization" class="anchor" aria-hidden="true" href="#maintaining-your-own-kustomization"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Maintaining your own kustomization&lt;/h3&gt;
&lt;p&gt;Start your variant as a new folder in your choice of version control, with a base &lt;code&gt;kustomization.yaml&lt;/code&gt; pointing to a tag or revision in this repository:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;bases:
- github.com/Yolean/kubernetes-kafka/rbac-namespace-default/?ref=60d01b5
- github.com/Yolean/kubernetes-kafka/kafka/?ref=60d01b5
- github.com/Yolean/kubernetes-kafka/zookeeper/?ref=60d01b5
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then pick and chose from patches our &lt;a href="https://github.com/Yolean/kubernetes-kafka/tree/master/variants"&gt;example variants&lt;/a&gt; to tailor your Kafka setup.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-version-history" class="anchor" aria-hidden="true" href="#version-history"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Version history&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;tag&lt;/th&gt;
&lt;th&gt;k8s ≥&lt;/th&gt;
&lt;th&gt;highlights&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;v6.0.0&lt;/td&gt;
&lt;td&gt;1.11+&lt;/td&gt;
&lt;td&gt;Kafka 2.2.0 + &lt;code&gt;apply -k&lt;/code&gt; (kubectl 1.14+) + &lt;a href="https://github.com/Yolean/kubernetes-kafka/pull/270"&gt;#270&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;v5.1.0&lt;/td&gt;
&lt;td&gt;1.11+&lt;/td&gt;
&lt;td&gt;Kafka 2.1.1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;v5.0.3&lt;/td&gt;
&lt;td&gt;1.11+&lt;/td&gt;
&lt;td&gt;Zookeeper fix &lt;a href="https://github.com/Yolean/kubernetes-kafka/pull/227"&gt;#227&lt;/a&gt; + &lt;a href="https://github.com/Yolean/kubernetes-kafka/pull/230#issuecomment-445953857"&gt;maxClientCnxns=1&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;v5.0&lt;/td&gt;
&lt;td&gt;1.11+&lt;/td&gt;
&lt;td&gt;Destabilize because in Docker we want Java 11 &lt;a href="https://github.com/Yolean/kubernetes-kafka/pull/197"&gt;#197&lt;/a&gt; &lt;a href="https://github.com/Yolean/kubernetes-kafka/pull/191"&gt;#191&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;v4.3.1&lt;/td&gt;
&lt;td&gt;1.9+&lt;/td&gt;
&lt;td&gt;Critical Zookeeper persistence fix &lt;a href="https://github.com/Yolean/kubernetes-kafka/pull/228"&gt;#228&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;v4.3&lt;/td&gt;
&lt;td&gt;1.9+&lt;/td&gt;
&lt;td&gt;Adds a proper shutdown hook &lt;a href="https://github.com/Yolean/kubernetes-kafka/pull/207"&gt;#207&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;v4.2&lt;/td&gt;
&lt;td&gt;1.9+&lt;/td&gt;
&lt;td&gt;Kafka 1.0.2 and tools upgrade&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;... see &lt;a href="https://github.com/Yolean/kubernetes-kafka/releases"&gt;releases&lt;/a&gt; for full history ...&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;v1.0&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;Stateful? In Kubernetes? In 2016? Yes.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-monitoring" class="anchor" aria-hidden="true" href="#monitoring"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Monitoring&lt;/h2&gt;
&lt;p&gt;Have a look at:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./prometheus/"&gt;./prometheus&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./linkedin-burrow/"&gt;./linkedin-burrow&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./consumers-prometheus/"&gt;./consumers-prometheus&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Yolean/kubernetes-kafka/pull/96"&gt;or plain JMX&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;what's happening in the &lt;a href="https://github.com/Yolean/kubernetes-kafka/labels/monitoring"&gt;monitoring&lt;/a&gt; label.&lt;/li&gt;
&lt;li&gt;Note that this repo is intentionally light on &lt;a href="https://github.com/Yolean/kubernetes-kafka/labels/automation"&gt;automation&lt;/a&gt;. We think every SRE team must build the operational knowledge first. But there is an example of a &lt;a href="./cruise-control/"&gt;Cruise Control&lt;/a&gt; setup.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-outside-out-of-cluster-access" class="anchor" aria-hidden="true" href="#outside-out-of-cluster-access"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Outside (out-of-cluster) access&lt;/h2&gt;
&lt;p&gt;Available for:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./outside-services/"&gt;Brokers&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-stream" class="anchor" aria-hidden="true" href="#stream"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Stream...&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./events-kube/"&gt;Kubernetes events to Kafka&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Yolean/kubernetes-kafka/pull/131"&gt;Container logs to Kafka&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Yolean/kubernetes-kafka/pull/120"&gt;Heapster metrics to Kafka&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>Yolean</author><guid isPermaLink="false">https://github.com/Yolean/kubernetes-kafka</guid><pubDate>Wed, 11 Dec 2019 00:15:00 GMT</pubDate></item><item><title>concourse/git-resource #16 in Shell, Today</title><link>https://github.com/concourse/git-resource</link><description>&lt;p&gt;&lt;i&gt;tracks commits in a branch of a Git repository&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-git-resource" class="anchor" aria-hidden="true" href="#git-resource"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Git Resource&lt;/h1&gt;
&lt;p&gt;Tracks the commits in a &lt;a href="http://git-scm.com/" rel="nofollow"&gt;git&lt;/a&gt; repository.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-source-configuration" class="anchor" aria-hidden="true" href="#source-configuration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Source Configuration&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;uri&lt;/code&gt;: &lt;em&gt;Required.&lt;/em&gt; The location of the repository.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;branch&lt;/code&gt;: The branch to track. This is &lt;em&gt;optional&lt;/em&gt; if the resource is
only used in &lt;code&gt;get&lt;/code&gt; steps; however, it is &lt;em&gt;required&lt;/em&gt; when used in a &lt;code&gt;put&lt;/code&gt; step. If unset for &lt;code&gt;get&lt;/code&gt;, the repository's default branch is used; usually &lt;code&gt;master&lt;/code&gt; but &lt;a href="https://help.github.com/articles/setting-the-default-branch/"&gt;could be different&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;private_key&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; Private key to use when pulling/pushing.
Example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;private_key: |
  -----BEGIN RSA PRIVATE KEY-----
  MIIEowIBAAKCAQEAtCS10/f7W7lkQaSgD/mVeaSOvSF9ql4hf/zfMwfVGgHWjj+W
  &amp;lt;Lots more text&amp;gt;
  DWiJL+OFeg9kawcUL6hQ8JeXPhlImG6RTUffma9+iGQyyBMCGd1l
  -----END RSA PRIVATE KEY-----
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;forward_agent&lt;/code&gt;: &lt;em&gt;Optional&lt;/em&gt; Enables ForwardAgent SSH option when set to true. Useful when using proxy/jump hosts. Defaults to false.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;username&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; Username for HTTP(S) auth when pulling/pushing.
This is needed when only HTTP/HTTPS protocol for git is available (which does not support private key auth)
and auth is required.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;password&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; Password for HTTP(S) auth when pulling/pushing.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;paths&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; If specified (as a list of glob patterns), only changes
to the specified files will yield new versions from &lt;code&gt;check&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ignore_paths&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; The inverse of &lt;code&gt;paths&lt;/code&gt;; changes to the specified
files are ignored.&lt;/p&gt;
&lt;p&gt;Note that if you want to push commits that change these files via a &lt;code&gt;put&lt;/code&gt;,
the commit will still be "detected", as &lt;a href="https://github.com/concourse/concourse/issues/534"&gt;&lt;code&gt;check&lt;/code&gt; and &lt;code&gt;put&lt;/code&gt; both introduce
versions&lt;/a&gt;.
To avoid this you should define a second resource that you use for commits
that change files that you don't want to feed back into your pipeline - think
of one as read-only (with &lt;code&gt;ignore_paths&lt;/code&gt;) and one as write-only (which
shouldn't need it).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;skip_ssl_verification&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; Skips git ssl verification by exporting
&lt;code&gt;GIT_SSL_NO_VERIFY=true&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;tag_filter&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; If specified, the resource will only detect commits
that have a tag matching the expression that have been made against
the &lt;code&gt;branch&lt;/code&gt;. Patterns are &lt;a href="http://man7.org/linux/man-pages/man7/glob.7.html" rel="nofollow"&gt;glob(7)&lt;/a&gt;
compatible (as in, bash compatible).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;git_config&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; If specified as (list of pairs &lt;code&gt;name&lt;/code&gt; and &lt;code&gt;value&lt;/code&gt;)
it will configure git global options, setting each name with each value.&lt;/p&gt;
&lt;p&gt;This can be useful to set options like &lt;code&gt;credential.helper&lt;/code&gt; or similar.&lt;/p&gt;
&lt;p&gt;See the &lt;a href="https://www.kernel.org/pub/software/scm/git/docs/git-config.html" rel="nofollow"&gt;&lt;code&gt;git-config(1)&lt;/code&gt; manual page&lt;/a&gt;
for more information and documentation of existing git options.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;disable_ci_skip&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; Allows for commits that have been labeled with &lt;code&gt;[ci skip]&lt;/code&gt; or &lt;code&gt;[skip ci]&lt;/code&gt;
previously to be discovered by the resource.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;commit_verification_keys&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; Array of GPG public keys that the
resource will check against to verify the commit (details below).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;commit_verification_key_ids&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; Array of GPG public key ids that
the resource will check against to verify the commit (details below). The
corresponding keys will be fetched from the key server specified in
&lt;code&gt;gpg_keyserver&lt;/code&gt;. The ids can be short id, long id or fingerprint.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;gpg_keyserver&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; GPG keyserver to download the public keys from.
Defaults to &lt;code&gt;hkp:///keys.gnupg.net/&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;git_crypt_key&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; Base64 encoded
&lt;a href="https://github.com/AGWA/git-crypt"&gt;git-crypt&lt;/a&gt; key. Setting this will
unlock / decrypt the repository with &lt;code&gt;git-crypt&lt;/code&gt;. To get the key simply
execute &lt;code&gt;git-crypt export-key -- - | base64&lt;/code&gt; in an encrypted repository.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;https_tunnel&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; Information about an HTTPS proxy that will be used to tunnel SSH-based git commands over.
Has the following sub-properties:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;proxy_host&lt;/code&gt;: &lt;em&gt;Required.&lt;/em&gt; The host name or IP of the proxy server&lt;/li&gt;
&lt;li&gt;&lt;code&gt;proxy_port&lt;/code&gt;: &lt;em&gt;Required.&lt;/em&gt; The proxy server's listening port&lt;/li&gt;
&lt;li&gt;&lt;code&gt;proxy_user&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; If the proxy requires authentication, use this username&lt;/li&gt;
&lt;li&gt;&lt;code&gt;proxy_password&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; If the proxy requires authenticate,
use this password&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;commit_filter&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; Object containing commit message filters&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;commit_filter.exclude&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; Array containing strings that should
cause a commit to be skipped&lt;/li&gt;
&lt;li&gt;&lt;code&gt;commit_filter.include&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; Array continuing strings that
&lt;em&gt;MUST&lt;/em&gt; be included in commit messages for the commit to not be
skipped&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-example" class="anchor" aria-hidden="true" href="#example"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Example&lt;/h3&gt;
&lt;p&gt;Resource configuration for a private repo with an HTTPS proxy:&lt;/p&gt;
&lt;div class="highlight highlight-source-yaml"&gt;&lt;pre&gt;&lt;span class="pl-ent"&gt;resources&lt;/span&gt;:
- &lt;span class="pl-ent"&gt;name&lt;/span&gt;: &lt;span class="pl-s"&gt;source-code&lt;/span&gt;
  &lt;span class="pl-ent"&gt;type&lt;/span&gt;: &lt;span class="pl-s"&gt;git&lt;/span&gt;
  &lt;span class="pl-ent"&gt;source&lt;/span&gt;:
    &lt;span class="pl-ent"&gt;uri&lt;/span&gt;: &lt;span class="pl-s"&gt;git@github.com:concourse/git-resource.git&lt;/span&gt;
    &lt;span class="pl-ent"&gt;branch&lt;/span&gt;: &lt;span class="pl-s"&gt;master&lt;/span&gt;
    &lt;span class="pl-ent"&gt;private_key&lt;/span&gt;: &lt;span class="pl-s"&gt;|&lt;/span&gt;
&lt;span class="pl-s"&gt;      -----BEGIN RSA PRIVATE KEY-----&lt;/span&gt;
&lt;span class="pl-s"&gt;      MIIEowIBAAKCAQEAtCS10/f7W7lkQaSgD/mVeaSOvSF9ql4hf/zfMwfVGgHWjj+W&lt;/span&gt;
&lt;span class="pl-s"&gt;      &amp;lt;Lots more text&amp;gt;&lt;/span&gt;
&lt;span class="pl-s"&gt;      DWiJL+OFeg9kawcUL6hQ8JeXPhlImG6RTUffma9+iGQyyBMCGd1l&lt;/span&gt;
&lt;span class="pl-s"&gt;      -----END RSA PRIVATE KEY-----&lt;/span&gt;
&lt;span class="pl-s"&gt;&lt;/span&gt;    &lt;span class="pl-ent"&gt;git_config&lt;/span&gt;:
    - &lt;span class="pl-ent"&gt;name&lt;/span&gt;: &lt;span class="pl-s"&gt;core.bigFileThreshold&lt;/span&gt;
      &lt;span class="pl-ent"&gt;value&lt;/span&gt;: &lt;span class="pl-c1"&gt;10m&lt;/span&gt;
    &lt;span class="pl-ent"&gt;disable_ci_skip&lt;/span&gt;: &lt;span class="pl-c1"&gt;true&lt;/span&gt;
    &lt;span class="pl-ent"&gt;git_crypt_key&lt;/span&gt;: &lt;span class="pl-s"&gt;AEdJVEN...snip...AAA==&lt;/span&gt;
    &lt;span class="pl-ent"&gt;https_tunnel&lt;/span&gt;:
      &lt;span class="pl-ent"&gt;proxy_host&lt;/span&gt;: &lt;span class="pl-s"&gt;proxy-server.mycorp.com&lt;/span&gt;
      &lt;span class="pl-ent"&gt;proxy_port&lt;/span&gt;: &lt;span class="pl-c1"&gt;3128&lt;/span&gt;
      &lt;span class="pl-ent"&gt;proxy_user&lt;/span&gt;: &lt;span class="pl-s"&gt;myuser&lt;/span&gt;
      &lt;span class="pl-ent"&gt;proxy_password&lt;/span&gt;: &lt;span class="pl-s"&gt;myverysecurepassword&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Fetching a repo with only 100 commits of history:&lt;/p&gt;
&lt;div class="highlight highlight-source-yaml"&gt;&lt;pre&gt;- &lt;span class="pl-ent"&gt;get&lt;/span&gt;: &lt;span class="pl-s"&gt;source-code&lt;/span&gt;
  &lt;span class="pl-ent"&gt;params&lt;/span&gt;: &lt;span class="pl-s"&gt;{depth: 100}&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Pushing local commits to the repo:&lt;/p&gt;
&lt;div class="highlight highlight-source-yaml"&gt;&lt;pre&gt;- &lt;span class="pl-ent"&gt;get&lt;/span&gt;: &lt;span class="pl-s"&gt;some-other-repo&lt;/span&gt;
- &lt;span class="pl-ent"&gt;put&lt;/span&gt;: &lt;span class="pl-s"&gt;source-code&lt;/span&gt;
  &lt;span class="pl-ent"&gt;params&lt;/span&gt;: &lt;span class="pl-s"&gt;{repository: some-other-repo}&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-behavior" class="anchor" aria-hidden="true" href="#behavior"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Behavior&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-check-check-for-new-commits" class="anchor" aria-hidden="true" href="#check-check-for-new-commits"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;check&lt;/code&gt;: Check for new commits.&lt;/h3&gt;
&lt;p&gt;The repository is cloned (or pulled if already present), and any commits
from the given version on are returned. If no version is given, the ref
for &lt;code&gt;HEAD&lt;/code&gt; is returned.&lt;/p&gt;
&lt;p&gt;Any commits that contain the string &lt;code&gt;[ci skip]&lt;/code&gt; will be ignored. This
allows you to commit to your repository without triggering a new version.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-in-clone-the-repository-at-the-given-ref" class="anchor" aria-hidden="true" href="#in-clone-the-repository-at-the-given-ref"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;in&lt;/code&gt;: Clone the repository, at the given ref.&lt;/h3&gt;
&lt;p&gt;Clones the repository to the destination, and locks it down to a given ref.
It will return the same given ref as version.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git-crypt&lt;/code&gt; encrypted repositories will automatically be decrypted, when the
correct key is provided set in &lt;code&gt;git_crypt_key&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-parameters" class="anchor" aria-hidden="true" href="#parameters"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Parameters&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;depth&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; If a positive integer is given, &lt;em&gt;shallow&lt;/em&gt; clone the
repository using the &lt;code&gt;--depth&lt;/code&gt; option. To prevent newer commits that do
not pass a &lt;code&gt;paths&lt;/code&gt; filter test from skewing the cloned history away from
&lt;code&gt;version.ref&lt;/code&gt;, this resource will automatically deepen the clone until
&lt;code&gt;version.ref&lt;/code&gt; is found again.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;submodules&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; If &lt;code&gt;none&lt;/code&gt;, submodules will not be
fetched. If specified as a list of paths, only the given paths will be
fetched. If not specified, or if &lt;code&gt;all&lt;/code&gt; is explicitly specified, all
submodules are fetched.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;submodule_recursive&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; If &lt;code&gt;false&lt;/code&gt;, a flat submodules checkout is performed. If not specified, or if &lt;code&gt;true&lt;/code&gt; is explicitly specified, a recursive checkout is performed.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;submodule_remote&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; If &lt;code&gt;true&lt;/code&gt;, the submodules are checked out for the specified remote branch specified in the &lt;code&gt;.gitmodules&lt;/code&gt; file of the repository. If not specified, or if &lt;code&gt;false&lt;/code&gt; is explicitly specified, the tracked sub-module revision of the repository is used to check out the submodules.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;disable_git_lfs&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; If &lt;code&gt;true&lt;/code&gt;, will not fetch Git LFS files.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;clean_tags&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; If &lt;code&gt;true&lt;/code&gt; all incoming tags will be deleted. This
is useful if you want to push tags, but have reasonable doubts that the tags
cached with the resource are outdated. The default value is &lt;code&gt;false&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;short_ref_format&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; When populating &lt;code&gt;.git/short_ref&lt;/code&gt; use this &lt;code&gt;printf&lt;/code&gt; format. Defaults to &lt;code&gt;%s&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;&lt;a id="user-content-gpg-signature-verification" class="anchor" aria-hidden="true" href="#gpg-signature-verification"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;GPG signature verification&lt;/h4&gt;
&lt;p&gt;If &lt;code&gt;commit_verification_keys&lt;/code&gt; or &lt;code&gt;commit_verification_key_ids&lt;/code&gt; is specified in
the source configuration, it will additionally verify that the resulting commit
has been GPG signed by one of the specified keys. It will error if this is not
the case.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-additional-files-populated" class="anchor" aria-hidden="true" href="#additional-files-populated"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Additional files populated&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;.git/committer&lt;/code&gt;: For committer notification on failed builds.
This special file &lt;code&gt;.git/committer&lt;/code&gt; which is populated with the email address
of the author of the last commit. This can be used together with  an email
resource like &lt;a href="https://github.com/mdomke/concourse-email-resource"&gt;mdomke/concourse-email-resource&lt;/a&gt;
to notify the committer in an on_failure step.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;.git/ref&lt;/code&gt;: Version reference detected and checked out. It will usually contain
the commit SHA-1 ref, but also the detected tag name when using &lt;code&gt;tag_filter&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;.git/short_ref&lt;/code&gt;: Short (first seven characters) of the &lt;code&gt;.git/ref&lt;/code&gt;. Can be templated with &lt;code&gt;short_ref_format&lt;/code&gt; parameter.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;.git/commit_message&lt;/code&gt;: For publishing the Git commit message on successful builds.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-out-push-to-a-repository" class="anchor" aria-hidden="true" href="#out-push-to-a-repository"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;out&lt;/code&gt;: Push to a repository.&lt;/h3&gt;
&lt;p&gt;Push the checked-out reference to the source's URI and branch. All tags are
also pushed to the source. If a fast-forward for the branch is not possible
and the &lt;code&gt;rebase&lt;/code&gt; parameter is not provided, the push will fail.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-parameters-1" class="anchor" aria-hidden="true" href="#parameters-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Parameters&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;repository&lt;/code&gt;: &lt;em&gt;Required.&lt;/em&gt; The path of the repository to push to the source.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;rebase&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; If pushing fails with non-fast-forward, continuously
attempt rebasing and pushing.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;merge&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; If pushing fails with non-fast-forward, continuously
attempt to merge remote to local before pushing. Only one of &lt;code&gt;merge&lt;/code&gt; or
&lt;code&gt;rebase&lt;/code&gt; can be provided, but not both.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;returning&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; When passing the &lt;code&gt;merge&lt;/code&gt; flag, specify whether the
merge commit or the original, unmerged commit should be passed as the output
ref. Options are &lt;code&gt;merged&lt;/code&gt; and &lt;code&gt;unmerged&lt;/code&gt;. Defaults to &lt;code&gt;merged&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;tag&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; If this is set then HEAD will be tagged. The value should be
a path to a file containing the name of the tag.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;only_tag&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; When set to 'true' push only the tags of a repo.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;tag_prefix&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; If specified, the tag read from the file will be
prepended with this string. This is useful for adding &lt;code&gt;v&lt;/code&gt; in front of
version numbers.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;force&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; When set to 'true' this will force the branch to be
pushed regardless of the upstream state.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;annotate&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; If specified the tag will be an
&lt;a href="https://git-scm.com/book/en/v2/Git-Basics-Tagging#Annotated-Tags" rel="nofollow"&gt;annotated&lt;/a&gt;
tag rather than a
&lt;a href="https://git-scm.com/book/en/v2/Git-Basics-Tagging#Lightweight-Tags" rel="nofollow"&gt;lightweight&lt;/a&gt;
tag. The value should be a path to a file containing the annotation message.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;notes&lt;/code&gt;: &lt;em&gt;Optional.&lt;/em&gt; If this is set then notes will be added to HEAD to the
&lt;code&gt;refs/notes/commits&lt;/code&gt; ref. The value should be a path to a file containing the notes.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-development" class="anchor" aria-hidden="true" href="#development"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Development&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-prerequisites" class="anchor" aria-hidden="true" href="#prerequisites"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Prerequisites&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;golang is &lt;em&gt;required&lt;/em&gt; - version 1.9.x is tested; earlier versions may also
work.&lt;/li&gt;
&lt;li&gt;docker is &lt;em&gt;required&lt;/em&gt; - version 17.06.x is tested; earlier versions may also
work.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-running-the-tests" class="anchor" aria-hidden="true" href="#running-the-tests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Running the tests&lt;/h3&gt;
&lt;p&gt;The tests have been embedded with the &lt;code&gt;Dockerfile&lt;/code&gt;; ensuring that the testing
environment is consistent across any &lt;code&gt;docker&lt;/code&gt; enabled platform. When the docker
image builds, the test are run inside the docker container, on failure they
will stop the build.&lt;/p&gt;
&lt;p&gt;Run the tests with the following commands for both &lt;code&gt;alpine&lt;/code&gt; and &lt;code&gt;ubuntu&lt;/code&gt; images:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker build -t git-resource -f dockerfiles/alpine/Dockerfile &lt;span class="pl-c1"&gt;.&lt;/span&gt;
docker build -t git-resource -f dockerfiles/ubuntu/Dockerfile &lt;span class="pl-c1"&gt;.&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-note-about-the-integration-tests" class="anchor" aria-hidden="true" href="#note-about-the-integration-tests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Note about the integration tests&lt;/h4&gt;
&lt;p&gt;If you want to run the integration tests, a bit more work is required. You will require
an actual git repo to which you can push and pull, configured for SSH access. To do this,
add two files to &lt;code&gt;integration-tests/ssh&lt;/code&gt; (note that names &lt;strong&gt;are&lt;/strong&gt; important):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;test_key&lt;/code&gt;: This is the private key used to authenticate against your repo.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;test_repo&lt;/code&gt;: This file contains one line of the form &lt;code&gt;test_repo_url[#test_branch]&lt;/code&gt;.
If the branch is not specified, it defaults to &lt;code&gt;master&lt;/code&gt;. For example,
&lt;code&gt;git@github.com:concourse-git-tester/git-resource-integration-tests.git&lt;/code&gt; or
&lt;code&gt;git@github.com:concourse-git-tester/git-resource-integration-tests.git#testing&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing&lt;/h3&gt;
&lt;p&gt;Please make all pull requests to the &lt;code&gt;master&lt;/code&gt; branch and ensure tests pass
locally.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>concourse</author><guid isPermaLink="false">https://github.com/concourse/git-resource</guid><pubDate>Wed, 11 Dec 2019 00:16:00 GMT</pubDate></item><item><title>futuresimple/helm-secrets #17 in Shell, Today</title><link>https://github.com/futuresimple/helm-secrets</link><description>&lt;p&gt;&lt;i&gt;A helm plugin that help manage secrets with Git workflow and store them anywhere&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;p&gt;&lt;a href="https://github.com/futuresimple/helm-secrets/blob/master/LICENSE"&gt;&lt;img src="https://camo.githubusercontent.com/fa849ff2abb63050742f2a2219f6705583a59a43/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f66757475726573696d706c652f68656c6d2d736563726574732e737667" alt="License" data-canonical-src="https://img.shields.io/github/license/futuresimple/helm-secrets.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://github.com/futuresimple/helm-secrets/releases/latest"&gt;&lt;img src="https://camo.githubusercontent.com/8b77355abbb65f00a27578fabef87b5bc59b80d9/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f72656c656173652f66757475726573696d706c652f68656c6d2d736563726574732e737667" alt="Current Release" data-canonical-src="https://img.shields.io/github/release/futuresimple/helm-secrets.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://github.com/futuresimple/helm-secrets/releases/latest"&gt;&lt;img src="https://camo.githubusercontent.com/1f1f813fe4ed65f794b0456fd5cebdd51628777b/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f70726f64756374696f6e2d72656164792d677265656e2e737667" alt="Production Ready" data-canonical-src="https://img.shields.io/badge/production-ready-green.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://github.com/futuresimple/helm-secrets/issues"&gt;&lt;img src="https://camo.githubusercontent.com/d4e88cdace9d7e7e1ba96df1f0a1bcdcd1cdd30c/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6973737565732f66757475726573696d706c652f68656c6d2d736563726574732e737667" alt="GitHub issues" data-canonical-src="https://img.shields.io/github/issues/futuresimple/helm-secrets.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://github.com/futuresimple/helm-secrets/pulls"&gt;&lt;img src="https://camo.githubusercontent.com/c9b67c80567958314aa4af9f6a940a29cc6e027c/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6973737565732d70722f66757475726573696d706c652f68656c6d2d736563726574732e7376673f7374796c653d666c61742d737175617265" alt="GitHub pull requests" data-canonical-src="https://img.shields.io/github/issues-pr/futuresimple/helm-secrets.svg?style=flat-square" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-plugin-for-secrets-management-in-helm" class="anchor" aria-hidden="true" href="#plugin-for-secrets-management-in-helm"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Plugin for secrets management in Helm&lt;/h1&gt;
&lt;p&gt;Developed and used in all environments in &lt;a href="https://getbase.com/" rel="nofollow"&gt;BaseCRM&lt;/a&gt;.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-how-we-use-it-" class="anchor" aria-hidden="true" href="#how-we-use-it-"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;how we use it ?&lt;/h1&gt;
&lt;p&gt;We store secrets and values in &lt;code&gt;helm_vars&lt;/code&gt; dir structure just like in this repository example dir. All this data versioned in GIT.
Working in teams on multiple projects/regions/envs and multiple secrets files at once.
We have Makefile in our Helm charts repo to simplify install helm-secrets plugin with helm and other stuff we use. Same Makefile used to rebuild all helm charts with dependencies and some other everyday helpers.
Encrypting, Decrypting, Editing secrets on local clones, making #PR's and storing this in our helm charts repo encrypted with PGP, AWS KMS and GCP KMS.
Deploying using helm-wrapper from local or from CI with same charts and secrets/values from GIT repository.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-main-features" class="anchor" aria-hidden="true" href="#main-features"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Main features&lt;/h1&gt;
&lt;p&gt;A first internal version of the plugin used pure PGP and the whole secret file was encrypted as one.
A current version of the plugin using Golang sops as backend which could be integrated in future into Helm itself, but currently, it is only shell wrapper.&lt;/p&gt;
&lt;p&gt;What kind of problems this plugin solves:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Simple replaceable layer integrated with helm command for encrypting, decrypting, view secrets files stored in any place. Currently using SOPS as backend.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mozilla/sops#important-information-on-types"&gt;Support for YAML/JSON structures encryption - Helm YAML secrets files&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mozilla/sops/blob/master/example.yaml"&gt;Encryption per value where visual Diff should work even on encrypted files&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mozilla/sops#showing-diffs-in-cleartext-in-git"&gt;On the fly decryption for git diff&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;On the fly decryption and cleanup for helm install/upgrade with a helm command wrapper&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mozilla/sops#using-sops-yaml-conf-to-select-kms-pgp-for-new-files"&gt;Multiple key management solutions like PGP, AWS KMS and GCP KMS at same time&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mozilla/sops#adding-and-removing-keys"&gt;Simple adding/removing keys&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://aws.amazon.com/kms/" rel="nofollow"&gt;With AWS KMS permissions management for keys&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mozilla/sops#using-sops-yaml-conf-to-select-kms-pgp-for-new-files"&gt;Secrets files directory tree separation with recursive .sops.yaml files search&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mozilla/sops#extract-a-sub-part-of-a-document-tree"&gt;Extracting sub-elements from encrypted file structure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mozilla/sops#encrypting-only-parts-of-a-file"&gt;Encrypt only part of a file if needed&lt;/a&gt;. &lt;a href="https://github.com/mozilla/sops/blob/master/example.yaml"&gt;Example encrypted file&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-moving-parts-of-project" class="anchor" aria-hidden="true" href="#moving-parts-of-project"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Moving parts of project&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;helm-wrapper&lt;/code&gt; - It is not a part of Helm project itself. It is a just simple wrapper in the shell that runs helm within but wrapping secret decryption and cleaning on-the-fly, before and after Helm run. It is created from install-binary.sh in helm-secrets plugin install process as hook action making the symlink to wrapper.sh. This should be used as default command to operate with Helm client with helm-secrets installed.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;test.sh&lt;/code&gt; - Test script to check if all parts of the plugin work. Using example dir with vars structure and PGP keys to make real tests on real data with real encryption/decryption.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;install-binary.sh&lt;/code&gt; - Script used as the hook to download and install sops and install git diff configuration for helm-secrets files.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;secrets.sh&lt;/code&gt; - Main helm-secrets plugin code for all helm-secrets plugin actions available in &lt;code&gt;helm secrets help&lt;/code&gt; after plugin install&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-installation-and-dependencies" class="anchor" aria-hidden="true" href="#installation-and-dependencies"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation and Dependencies&lt;/h2&gt;
&lt;h4&gt;&lt;a id="user-content-sops-install" class="anchor" aria-hidden="true" href="#sops-install"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;SOPS install&lt;/h4&gt;
&lt;p&gt;Just install the plugin using &lt;code&gt;helm plugin install https://github.com/futuresimple/helm-secrets&lt;/code&gt; and sops will be installed as part of it, using hook when helm &amp;gt; 2.3.x&lt;/p&gt;
&lt;p&gt;You can always install manually in MacOS as below:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;brew install sops
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For Linux RPM or DEB, sops is available here: &lt;a href="https://github.com/mozilla/sops/releases"&gt;Dist Packages&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-sops-git-diff" class="anchor" aria-hidden="true" href="#sops-git-diff"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;SOPS git diff&lt;/h4&gt;
&lt;p&gt;Git config part is installed with the plugin, but to be fully functional the following needs to be added to the &lt;code&gt;.gitattributes&lt;/code&gt; file in the root directory of a charts repo:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;secrets.yaml diff=sopsdiffer
secrets.*.yaml diff=sopsdiffer
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;More info on &lt;a href="https://github.com/mozilla/sops#showing-diffs-in-cleartext-in-git"&gt;sops page&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-using-helm-plugin-manager--23x" class="anchor" aria-hidden="true" href="#using-helm-plugin-manager--23x"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using Helm plugin manager (&amp;gt; 2.3.x)&lt;/h4&gt;
&lt;p&gt;As already described above,&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;helm plugin install https://github.com/futuresimple/helm-secrets 
&lt;/code&gt;&lt;/pre&gt;
&lt;h4&gt;&lt;a id="user-content-for-pre-helm-230-installation" class="anchor" aria-hidden="true" href="#for-pre-helm-230-installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;For Pre Helm 2.3.0 Installation&lt;/h4&gt;
&lt;p&gt;Get a release tarball from the &lt;a href="https://github.com/futuresimple/helm-secrets/releases"&gt;releases&lt;/a&gt; page.&lt;/p&gt;
&lt;p&gt;Unpack the tarball in your helm plugins directory (&lt;code&gt;$(helm home)/plugins&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;For example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;curl -L $TARBALL_URL | tar -C $(helm home)/plugins -xzv
&lt;/code&gt;&lt;/pre&gt;
&lt;h4&gt;&lt;a id="user-content-helm-wrapper-configuration" class="anchor" aria-hidden="true" href="#helm-wrapper-configuration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Helm-wrapper configuration&lt;/h4&gt;
&lt;p&gt;By default, helm-wrapper is not configured to encrypt/decrypt secrets.yaml in charts templates. They are treated as templates and values from specific secrets/value files should be used in these templates as a reference from helm itself.
Set you own options as ENV variables if you like to overwrite default kms enabled and decrypt charts disabled.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;DECRYPT_CHARTS=false helm-wrapper...
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-usage-and-examples" class="anchor" aria-hidden="true" href="#usage-and-examples"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage and examples&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;$ helm secrets help
GnuPG secrets encryption in Helm Charts

This plugin provides ability to encrypt/decrypt secrets files
to store in less secure places, before they are installed using
Helm.

To decrypt/encrypt/edit you need to initialize/first encrypt secrets with
sops - https://github.com/mozilla/sops

Available Commands:
  enc           Encrypt secrets file
  dec           Decrypt secrets file
  view          Print secrets decrypted
  edit          Edit secrets file and encrypt afterwards
  clean         Remove all decrypted files in specified directory (recursively)
  install       wrapper that decrypts secrets[.*].yaml files before running helm install
  template	    wrapper that decrypts secrets[.*].yaml files before running helm template
  upgrade       wrapper that decrypts secrets[.*].yaml files before running helm upgrade
  lint          wrapper that decrypts secrets[.*].yaml files before running helm lint
  diff          wrapper that decrypts secrets[.*].yaml files before running helm diff
                  (diff is a helm plugin)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;By convention, files containing secrets are named &lt;code&gt;secrets.yaml&lt;/code&gt;, or anything beginning with "secrets." and ending with ".yaml". E.g. &lt;code&gt;secrets.test.yaml&lt;/code&gt; and &lt;code&gt;secrets.prod.yaml&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Decrypted files have the suffix ".yaml.dec" by default. This can be changed using the &lt;code&gt;HELM_SECRETS_DEC_SUFFIX&lt;/code&gt; environment variable.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-basic-commands" class="anchor" aria-hidden="true" href="#basic-commands"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Basic commands:&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;  enc           Encrypt secrets file
  dec           Decrypt secrets file
  view          Print decrypted secrets file
  edit          Edit secrets file (decrypt before and encrypt after)
  clean         Delete *.yaml-dec files in directory (recursively)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Each of these commands have their own help.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-use-case-and-workflow" class="anchor" aria-hidden="true" href="#use-case-and-workflow"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Use case and workflow&lt;/h2&gt;
&lt;h4&gt;&lt;a id="user-content-usage-examples" class="anchor" aria-hidden="true" href="#usage-examples"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage examples&lt;/h4&gt;
&lt;p&gt;Note: You need to run &lt;code&gt;gpg --import example/pgp/project{x,y}.asc&lt;/code&gt; in order to successfully decrypt secrets included in the examples&lt;/p&gt;
&lt;h5&gt;&lt;a id="user-content-decrypt" class="anchor" aria-hidden="true" href="#decrypt"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Decrypt&lt;/h5&gt;
&lt;p&gt;The decrypt operation decrypts a secrets.yaml file and saves the decrypted result in secrets.yaml.dec:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ helm secrets dec example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
Decrypting example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The secrets.yaml.dec file:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;secret_sandbox_projectx: secret_foo_123
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that if the secrets.yaml.dec file already exists and is newer than secrets.yaml, it will not be overwritten:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ helm secrets dec example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
Decrypting example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml.dec is newer than example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
&lt;/code&gt;&lt;/pre&gt;
&lt;h5&gt;&lt;a id="user-content-encrypt" class="anchor" aria-hidden="true" href="#encrypt"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Encrypt&lt;/h5&gt;
&lt;p&gt;The encrypt operation encrypts a secrets.yaml.dec file and saves the encrypted result in secrets.yaml:&lt;/p&gt;
&lt;p&gt;If you initially have an unencrypted secrets.yaml file, it will be used as input and will be overwritten:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ helm secrets enc example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
Encrypting example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
Encrypted example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you already have an encrypted secrets.yaml file and a decrypted secrets.yaml.dec file, encrypting will encrypt secrets.yaml.dec to secrets.yaml:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ helm secrets dec example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
Decrypting example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
$ helm secrets enc example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
Encrypting example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
Encrypted example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml.dec to example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
&lt;/code&gt;&lt;/pre&gt;
&lt;h5&gt;&lt;a id="user-content-view" class="anchor" aria-hidden="true" href="#view"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;View&lt;/h5&gt;
&lt;p&gt;The view operation decrypts secrets.yaml and prints it to stdout:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ helm secrets view example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
secret_sandbox_projectx: secret_foo_123
&lt;/code&gt;&lt;/pre&gt;
&lt;h5&gt;&lt;a id="user-content-edit" class="anchor" aria-hidden="true" href="#edit"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Edit&lt;/h5&gt;
&lt;p&gt;The edit operation will decrypt the secrets.yaml file and open it in an editor. If the file is modified, it will be encrypted again after you exit the editor.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ helm secrets edit example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;There is new feature in SOPS master that allows using $EDITOR to spcify editor used by sops but not released yet.&lt;/p&gt;
&lt;h5&gt;&lt;a id="user-content-clean" class="anchor" aria-hidden="true" href="#clean"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Clean&lt;/h5&gt;
&lt;p&gt;The operation will delete all decrypted files in a directory, recursively:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ helm secrets clean example/helm_vars/projectX/sandbox/us-east-1/java-app/
removed example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml.dec
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you use git there is commit hook that prevents commiting decrypted files and you can add all *.yaml.dec files in you repository &lt;code&gt;.gitignore&lt;/code&gt; file.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-summary" class="anchor" aria-hidden="true" href="#summary"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Summary&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Values/Secrets data are not a part of the chart. You need to manage your values, public charts contains mostly defaults without secrets - data vs code&lt;/li&gt;
&lt;li&gt;To use the helm-secrets plugin you should build your &lt;code&gt;.sops.yaml&lt;/code&gt; rules to make everything automatic&lt;/li&gt;
&lt;li&gt;Use helm secrets &amp;lt;enc|dec|view|edit&amp;gt; for everyday work with you secret yaml files&lt;/li&gt;
&lt;li&gt;Use version control systems like GIT to work in teams and get history of versions&lt;/li&gt;
&lt;li&gt;Everyday search keys is simple even with encrypted files or decrypt on-the-fly with git diff config included&lt;/li&gt;
&lt;li&gt;With example helm_vars you can manage multiple world locations with multiple projects that contain multiple environments&lt;/li&gt;
&lt;li&gt;With the helm wrapper you can easily run "helm secrets install/upgrade/rollback" with secrets files included as &lt;code&gt;-f&lt;/code&gt; option from you helm_vars values dir tree.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We use vars for Helm Charts from separate directory tree with the structure like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;helm_vars/
├── .sops.yaml
├── projectX
|   ├── .sops.yaml
│   ├── production
│   │   └── us-east-1
│   │       └── java-app
│   │           └── hello-world
│   │               ├── secrets.yaml
│   │               └── values.yaml
│   ├── sandbox
│   │   └── us-east-1
│   │       └── java-app
│   │           └── hello-world
│   │               ├── secrets.yaml
│   │               └── values.yaml
|   ├── secrets.yaml
│   └── values.yaml
├── projectY
|   ├── .sops.yaml
│   ├── production
│   │   └── us-east-1
│   │       └── java-app
│   │           └── hello-world
│   │               ├── secrets.yaml
│   │               └── values.yaml
│   ├── sandbox
│   │   └── us-east-1
│   │       └── java-app
│   │           └── hello-world
│   │               ├── secrets.yaml
│   │               └── values.yaml
|   ├── secrets.yaml
│   └── values.yaml
├── secrets.yaml
└── values.yaml
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As you can see we can run different PGP or KMS keys per project, globally or per any tree level. Thanks to this we can isolate tree on different CI/CD instances using same GIT repository.
As we use simple -f option when running the helm wrapper we can just use encrypted secrets.yaml and all these secrets will be decrypted and cleaned on the fly before and after helm run.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;.sops.yaml&lt;/code&gt; file example&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;---
creation_rules:
        # Encrypt with AWS KMS
        - kms: 'arn:aws:kms:us-east-1:222222222222:key/111b1c11-1c11-1fd1-aa11-a1c1a1sa1dsl1+arn:aws:iam::222222222222:role/helm_secrets'

        # Encrypt using GCP KMS
        - gcp_kms: projects/mygcproject/locations/global/keyRings/mykeyring/cryptoKeys/thekey

        # As failover encrypt with PGP
        - pgp: '000111122223333444AAAADDDDFFFFGGGG000999'

        # For more help look at https://github.com/mozilla/sops
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Multiple KMS and PGP are allowed.&lt;/p&gt;
&lt;p&gt;Everything is described in SOPS docs - links in this project description.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-helm-wrapper" class="anchor" aria-hidden="true" href="#helm-wrapper"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Helm Wrapper&lt;/h2&gt;
&lt;p&gt;Running helm to install/upgrade chart with our secrets files is simple with the included helm wrapper which will decrypt on-the-fly and use decrypted secrets files in the actual helm command.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-wrapped-commands" class="anchor" aria-hidden="true" href="#wrapped-commands"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Wrapped commands&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;  install       run "helm install" with decrypted secrets files
  upgrade       run "helm upgrade" with decrypted secrets files
  lint          run "helm lint" with decrypted secrets files
  diff          run "helm diff" with decrypted secrets files
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The wrapper enables you to call these helm commands with on-the-fly decryption of secrets files passed as &lt;code&gt;-f&lt;/code&gt; or &lt;code&gt;--values&lt;/code&gt; arguments. Instead of calling e.g. &lt;code&gt;helm install ...&lt;/code&gt; you can call &lt;code&gt;helm secrets install ...&lt;/code&gt; to get on-the-fly decryption.&lt;/p&gt;
&lt;p&gt;The diff command is a separate helm plugin, &lt;a href="https://github.com/databus23/helm-diff"&gt;helm-diff&lt;/a&gt;. Using it you can view the changes that would be deployed before deploying. In the same way as above, instead of calling e.g. &lt;code&gt;helm diff upgrade ...&lt;/code&gt; you can call &lt;code&gt;helm secrets diff upgrade ...&lt;/code&gt;, and so on.&lt;/p&gt;
&lt;p&gt;Note that if a decrypted secrets.yaml.dec file exists and is newer then the secrets.yaml file, it will be used in the wrapped command rather than decrypting secrets.yaml.&lt;/p&gt;
&lt;p&gt;Real example of the helm wrapper usage with simple java helloworld application.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;AWS_PROFILE=sandbox helm secrets upgrade \
  helloworld \
  stable/java-app \
  --install \
  --timeout 600 \
  --wait \
  --kube-context=sandbox \
  --namespace=projectx \
  --set global.app_version=bff8fc4 \
  -f helm_vars/projectx/sandbox/us-east-1/java-app/helloworld/secrets.yaml \
  -f helm_vars/projectx/sandbox/us-east-1/java-app/helloworld/values.yaml \
  -f helm_vars/secrets.yaml \
  -f helm_vars/values.yaml

Release "helloworld" has been upgraded. Happy Helming!
LAST DEPLOYED: Fri May  5 13:27:01 2017
NAMESPACE: projectx
STATUS: DEPLOYED

RESOURCES:
==&amp;gt; extensions/v1beta1/Deployment
NAME        DESIRED  CURRENT  UP-TO-DATE  AVAILABLE  AGE
helloworld  3        3        3           2          1h

==&amp;gt; v1/Secret
NAME        TYPE    DATA  AGE
helloworld  Opaque  10    1h

==&amp;gt; v1/ConfigMap
NAME        DATA  AGE
helloworld  2     1h

==&amp;gt; v1/Service
NAME        CLUSTER-IP      EXTERNAL-IP  PORT(S)   AGE
helloworld  100.65.221.245  &amp;lt;none&amp;gt;       8080/TCP  1h

NOTES:
Deploy success helloworld-bff8fc4 in namespace projectx

removed helm_vars/projectx/sandbox/us-east-1/java-app/helloworld/secrets.yaml.dec
removed helm_vars/secrets.yaml.dec
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can see that we use a global secrets file and a specific secrets file for this app in this project/environment/region. We use some plain value files next to secrets. We use values from secrets in some secrets template in helloworld application chart template and some values are used in the configmap template in the same chart. Some values are added as env variables in deployment manifest templates in the chart. As you can see we can use secrets and values in helm in many ways. Everything depends on use case.&lt;/p&gt;
&lt;p&gt;Even when helm failed then decrypted files are cleaned&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;AWS_PROFILE=sandbox helm-wrapper upgrade \
  helloworld \
  stable/java-app \
  --install \
  --timeout 600 \
  --wait \
  --kube-context=wrongcontext \
  --namespace=projectx \
  --set global.app_version=bff8fc4 \
  -f helm_vars/projectx/sandbox/us-east-1/java-app/helloworld/secrets.yaml \
  -f helm_vars/projectx/sandbox/us-east-1/java-app/helloworld/values.yaml \
  -f helm_vars/secrets.yaml \
  -f helm_vars/values.yaml

Error: could not get kubernetes config for context 'wrongcontext': context "wrongcontext" does not exist

removed helm_vars/projectx/sandbox/us-east-1/java-app/helloworld/secrets.yaml.dec
removed helm_vars/secrets.yaml.dec
&lt;/code&gt;&lt;/pre&gt;
&lt;h4&gt;&lt;a id="user-content-using-secret-values-in-helm-chart-secrets-template" class="anchor" aria-hidden="true" href="#using-secret-values-in-helm-chart-secrets-template"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using secret values in Helm chart secrets template&lt;/h4&gt;
&lt;p&gt;We just need to create Kubernetes secrets template in chart templates dir.
For example in your charts repo you have &lt;code&gt;stable/helloworld/&lt;/code&gt;. Inside this chart you should have &lt;code&gt;stable/helloworld/templates/&lt;/code&gt; dir and then create the &lt;code&gt;stable/helloworld/templates/secrets.yaml&lt;/code&gt; file with content as specified bellow.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;apiVersion: v1
kind: Secret
metadata:
  name: helloworld
  labels:
    app: helloworld
    chart: "{{ .Chart.Name }}-{{ .Chart.Version }}"
    release: "{{ .Release.Name }}"
    heritage: "{{ .Release.Service }}"
type: Opaque
data:
  my_secret_key: {{ .Values.secret_sandbox_helloworld | b64enc | quote }}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In this example you have a Kubernetes secret named "helloworld" and data inside this secret will be filled in from values defined in &lt;code&gt;-f helm_vars/projectx/sandbox/us-east-1/java-app/helloworld/secrets.yaml&lt;/code&gt;. We use &lt;code&gt;.Values.secret_sandbox_helloworld&lt;/code&gt; to refer to the value in the decrypted secret file. In this way, the value from the decrypted &lt;code&gt;helm_vars/projectx/sandbox/us-east-1/java-app/helloworld/secrets.yaml&lt;/code&gt; will be available as &lt;code&gt;my_secret_key&lt;/code&gt; in Kubernetes.&lt;/p&gt;
&lt;p&gt;You can now use the "helloworld" secret in your deployment manifest (or any other manifest supporting secretKeyRef) in the env section like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;apiVersion: extensions/v1beta1
kind: Deployment
...
...
        containers:
        ...
        ...
          env:
            - name: my_new_secret_key
              valueFrom:
                secretKeyRef:
                  name: helloworld
                  key: my_secret_key
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-important-tips" class="anchor" aria-hidden="true" href="#important-tips"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Important Tips&lt;/h2&gt;
&lt;h4&gt;&lt;a id="user-content-prevent-committing-decrypted-files-to-git" class="anchor" aria-hidden="true" href="#prevent-committing-decrypted-files-to-git"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Prevent committing decrypted files to git&lt;/h4&gt;
&lt;p&gt;If you like to secure situation when decrypted file is committed by mistake to git you can add your secrets.yaml.dec files to you charts project repository &lt;code&gt;.gitignore&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;A second level of security is to add for example a &lt;code&gt;.sopscommithook&lt;/code&gt; file inside your chart repository local commit hook.&lt;/p&gt;
&lt;p&gt;This will prevent committing decrypted files without sops metadata.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;.sopscommithook&lt;/code&gt; content example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/sh

for FILE in $(git diff-index HEAD --name-only | grep &amp;lt;your vars dir&amp;gt; | grep "secrets.y"); do
    if [ -f "$FILE" ] &amp;amp;&amp;amp; ! grep -C10000 "sops:" $FILE | grep -q "version:"; then
        echo "!!!!! $FILE" 'File is not encrypted !!!!!'
        echo "Run: helm secrets enc &amp;lt;file path&amp;gt;"
        exit 1
    fi
done
exit
&lt;/code&gt;&lt;/pre&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>futuresimple</author><guid isPermaLink="false">https://github.com/futuresimple/helm-secrets</guid><pubDate>Wed, 11 Dec 2019 00:17:00 GMT</pubDate></item><item><title>sameersbn/docker-gitlab #18 in Shell, Today</title><link>https://github.com/sameersbn/docker-gitlab</link><description>&lt;p&gt;&lt;i&gt;Dockerized GitLab&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;p&gt;&lt;a href="https://quay.io/repository/sameersbn/gitlab" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/9eb56ce25a555098aa50a2dd271a8e5fc35f6dc5/68747470733a2f2f717561792e696f2f7265706f7369746f72792f73616d65657273626e2f6769746c61622f737461747573" alt="Docker Repository on Quay.io" title="Docker Repository on Quay.io" data-canonical-src="https://quay.io/repository/sameersbn/gitlab/status" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="http://microbadger.com/images/sameersbn/gitlab" title="Get your own image badge on microbadger.com" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/c55a0f934da5c1e896261c8399f828330ba615bb/68747470733a2f2f696d616765732e6d6963726f6261646765722e636f6d2f6261646765732f696d6167652f73616d65657273626e2f6769746c61622e737667" alt="" data-canonical-src="https://images.microbadger.com/badges/image/sameersbn/gitlab.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-sameersbngitlab1252" class="anchor" aria-hidden="true" href="#sameersbngitlab1252"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;sameersbn/gitlab:12.5.2&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#introduction"&gt;Introduction&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="Changelog.md"&gt;Changelog&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#contributing"&gt;Contributing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#team"&gt;Team&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#issues"&gt;Issues&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sameersbn/docker-gitlab/issues/39"&gt;Announcements&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#prerequisites"&gt;Prerequisites&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#installation"&gt;Installation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#quick-start"&gt;Quick Start&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#configuration"&gt;Configuration&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#data-store"&gt;Data Store&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#database"&gt;Database&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#postgresql"&gt;PostgreSQL (Recommended)&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#external-postgresql-server"&gt;External PostgreSQL Server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#linking-to-postgresql-container"&gt;Linking to PostgreSQL Container&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#redis"&gt;Redis&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#internal-redis-server"&gt;Internal Redis Server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#external-redis-server"&gt;External Redis Server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#linking-to-redis-container"&gt;Linking to Redis Container&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#mail"&gt;Mail&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#reply-by-email"&gt;Reply by email&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#ssl"&gt;SSL&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#generation-of-a-self-signed-certificate"&gt;Generation of a Self Signed Certificate&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#strengthening-the-server-security"&gt;Strengthening the server security&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#installation-of-the-ssl-certificates"&gt;Installation of the SSL Certificates&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#enabling-https-support"&gt;Enabling HTTPS support&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#configuring-hsts"&gt;Configuring HSTS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#using-https-with-a-load-balancer"&gt;Using HTTPS with a load balancer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#establishing-trust-with-your-server"&gt;Establishing trust with your server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#installing-trusted-ssl-server-certificates"&gt;Installing Trusted SSL Server Certificates&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#deploy-to-a-subdirectory-relative-url-root"&gt;Deploy to a subdirectory (relative url root)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#omniauth-integration"&gt;OmniAuth Integration&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#cas3"&gt;CAS3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#authentiq"&gt;Authentiq&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#google"&gt;Google&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#twitter"&gt;Twitter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#github"&gt;GitHub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#gitlab"&gt;GitLab&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#bitbucket"&gt;BitBucket&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#saml"&gt;SAML&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#crowd"&gt;Crowd&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#microsoft-azure"&gt;Microsoft Azure&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#gitlab-pages"&gt;Gitlab Pages&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#external-issue-trackers"&gt;External Issue Trackers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#host-uid--gid-mapping"&gt;Host UID / GID Mapping&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#piwik"&gt;Piwik&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/exposing-ssh-port.md"&gt;Exposing ssh port in dockerized gitlab-ce&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#available-configuration-parameters"&gt;Available Configuration Parameters&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#maintenance"&gt;Maintenance&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#creating-backups"&gt;Creating Backups&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#restoring-backups"&gt;Restoring Backups&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#automated-backups"&gt;Automated Backups&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#amazon-web-services-aws-remote-backups"&gt;Amazon Web Services (AWS) Remote Backups&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#google-cloud-storage-gcs-remote-backup"&gt;Google Cloud Storage (GCS) Remote Backups&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#rake-tasks"&gt;Rake Tasks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#import-repositories"&gt;Import Repositories&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#upgrading"&gt;Upgrading&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#shell-access"&gt;Shell Access&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#features"&gt;Features&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="docs/container_registry.md"&gt;Container Registry&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#references"&gt;References&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-introduction" class="anchor" aria-hidden="true" href="#introduction"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Introduction&lt;/h1&gt;
&lt;p&gt;Dockerfile to build a &lt;a href="https://about.gitlab.com/" rel="nofollow"&gt;GitLab&lt;/a&gt; image for the &lt;a href="https://www.docker.com/products/docker-engine" rel="nofollow"&gt;Docker&lt;/a&gt; opensource container platform.&lt;/p&gt;
&lt;p&gt;GitLab CE is set up in the Docker image using the &lt;a href="https://docs.gitlab.com/ce/install/installation.html" rel="nofollow"&gt;install from source&lt;/a&gt; method as documented in the the official GitLab documentation.&lt;/p&gt;
&lt;p&gt;For other methods to install GitLab please refer to the &lt;a href="https://about.gitlab.com/install/" rel="nofollow"&gt;Official GitLab Installation Guide&lt;/a&gt; which includes a &lt;a href="https://docs.gitlab.com/omnibus/docker/" rel="nofollow"&gt;GitLab image for Docker&lt;/a&gt;.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing&lt;/h1&gt;
&lt;p&gt;If you find this image useful here's how you can help:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Send a Pull Request with your awesome new features and bug fixes&lt;/li&gt;
&lt;li&gt;Be a part of the community and help resolve &lt;a href="https://github.com/sameersbn/docker-gitlab/issues"&gt;Issues&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Support the development of this image with a &lt;a href="http://www.damagehead.com/donate/" rel="nofollow"&gt;donation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-team" class="anchor" aria-hidden="true" href="#team"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Team&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Niclas Mietz (&lt;a href="https://github.com/solidnerd"&gt;solidnerd&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Sameer Naik (&lt;a href="https://github.com/sameersbn"&gt;sameersbn&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See &lt;a href="../../graphs/contributors"&gt;Contributors&lt;/a&gt; for the complete list developers that have contributed to this project.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-issues" class="anchor" aria-hidden="true" href="#issues"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Issues&lt;/h1&gt;
&lt;p&gt;Docker is a relatively new project and is active being developed and tested by a thriving community of developers and testers and every release of docker features many enhancements and bugfixes.&lt;/p&gt;
&lt;p&gt;Given the nature of the development and release cycle it is very important that you have the latest version of docker installed because any issue that you encounter might have already been fixed with a newer docker release.&lt;/p&gt;
&lt;p&gt;Install the most recent version of the Docker Engine for your platform using the &lt;a href="http://docs.docker.com/engine/installation/" rel="nofollow"&gt;official Docker releases&lt;/a&gt;, which can also be installed using:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;wget -qO- https://get.docker.com/ &lt;span class="pl-k"&gt;|&lt;/span&gt; sh&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Fedora and RHEL/CentOS users should try disabling selinux with &lt;code&gt;setenforce 0&lt;/code&gt; and check if resolves the issue. If it does than there is not much that I can help you with. You can either stick with selinux disabled (not recommended by redhat) or switch to using ubuntu.&lt;/p&gt;
&lt;p&gt;You may also set &lt;code&gt;DEBUG=true&lt;/code&gt; to enable debugging of the entrypoint script, which could help you pin point any configuration issues.&lt;/p&gt;
&lt;p&gt;If using the latest docker version and/or disabling selinux does not fix the issue then please file a issue request on the &lt;a href="https://github.com/sameersbn/docker-gitlab/issues"&gt;issues&lt;/a&gt; page.&lt;/p&gt;
&lt;p&gt;In your issue report please make sure you provide the following information:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The host distribution and release version.&lt;/li&gt;
&lt;li&gt;Output of the &lt;code&gt;docker version&lt;/code&gt; command&lt;/li&gt;
&lt;li&gt;Output of the &lt;code&gt;docker info&lt;/code&gt; command&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;docker run&lt;/code&gt; command you used to run the image (mask out the sensitive bits).&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-prerequisites" class="anchor" aria-hidden="true" href="#prerequisites"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Prerequisites&lt;/h1&gt;
&lt;p&gt;Your docker host needs to have 1GB or more of available RAM to run GitLab. Please refer to the GitLab &lt;a href="https://github.com/gitlabhq/gitlabhq/blob/master/doc/install/requirements.md#hardware-requirements"&gt;hardware requirements&lt;/a&gt; documentation for additional information.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation&lt;/h1&gt;
&lt;p&gt;Automated builds of the image are available on &lt;a href="https://hub.docker.com/r/sameersbn/gitlab" rel="nofollow"&gt;Dockerhub&lt;/a&gt; and is the recommended method of installation.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: Builds are also available on &lt;a href="https://quay.io/repository/sameersbn/gitlab" rel="nofollow"&gt;Quay.io&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker pull sameersbn/gitlab:12.5.2&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can also pull the &lt;code&gt;latest&lt;/code&gt; tag which is built from the repository &lt;em&gt;HEAD&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker pull sameersbn/gitlab:latest&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Alternatively you can build the image locally.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker build -t sameersbn/gitlab github.com/sameersbn/docker-gitlab&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;&lt;a id="user-content-quick-start" class="anchor" aria-hidden="true" href="#quick-start"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Quick Start&lt;/h1&gt;
&lt;p&gt;The quickest way to get started is using &lt;a href="https://docs.docker.com/compose/" rel="nofollow"&gt;docker-compose&lt;/a&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;wget https://raw.githubusercontent.com/sameersbn/docker-gitlab/master/docker-compose.yml&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Generate random strings that are at least &lt;code&gt;64&lt;/code&gt; characters long for each of &lt;code&gt;GITLAB_SECRETS_OTP_KEY_BASE&lt;/code&gt;, &lt;code&gt;GITLAB_SECRETS_DB_KEY_BASE&lt;/code&gt;, and &lt;code&gt;GITLAB_SECRETS_SECRET_KEY_BASE&lt;/code&gt;. These values are used for the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;GITLAB_SECRETS_OTP_KEY_BASE&lt;/code&gt; is used to encrypt 2FA secrets in the database. If you lose or rotate this secret, none of your users will be able to log in using 2FA.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;GITLAB_SECRETS_DB_KEY_BASE&lt;/code&gt; is used to encrypt CI secret variables, as well as import credentials, in the database. If you lose or rotate this secret, you will not be able to use existing CI secrets.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;GITLAB_SECRETS_SECRET_KEY_BASE&lt;/code&gt; is used for password reset links, and other 'standard' auth features. If you lose or rotate this secret, password reset tokens in emails will reset.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Tip&lt;/strong&gt;: You can generate a random string using &lt;code&gt;pwgen -Bsv1 64&lt;/code&gt; and assign it as the value of &lt;code&gt;GITLAB_SECRETS_DB_KEY_BASE&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Start GitLab using:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker-compose up&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Alternatively, you can manually launch the &lt;code&gt;gitlab&lt;/code&gt; container and the supporting &lt;code&gt;postgresql&lt;/code&gt; and &lt;code&gt;redis&lt;/code&gt; containers by following this three step guide.&lt;/p&gt;
&lt;p&gt;Step 1. Launch a postgresql container&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab-postgresql -d \
    --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;DB_NAME=gitlabhq_production&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
    --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;DB_USER=gitlab&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;DB_PASS=password&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
    --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;DB_EXTENSION=pg_trgm&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
    --volume /srv/docker/gitlab/postgresql:/var/lib/postgresql \
    sameersbn/postgresql:10-2&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Step 2. Launch a redis container&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab-redis -d \
    --volume /srv/docker/gitlab/redis:/var/lib/redis \
    sameersbn/redis:4.0.9-2&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Step 3. Launch the gitlab container&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab -d \
    --link gitlab-postgresql:postgresql --link gitlab-redis:redisio \
    --publish 10022:22 --publish 10080:80 \
    --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;GITLAB_PORT=10080&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;GITLAB_SSH_PORT=10022&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
    --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;GITLAB_SECRETS_DB_KEY_BASE=long-and-random-alpha-numeric-string&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
    --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;GITLAB_SECRETS_SECRET_KEY_BASE=long-and-random-alpha-numeric-string&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
    --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;GITLAB_SECRETS_OTP_KEY_BASE=long-and-random-alpha-numeric-string&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
    --volume /srv/docker/gitlab/gitlab:/home/git/data \
    sameersbn/gitlab:12.5.2&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Please refer to &lt;a href="#available-configuration-parameters"&gt;Available Configuration Parameters&lt;/a&gt; to understand &lt;code&gt;GITLAB_PORT&lt;/code&gt; and other configuration options&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NOTE&lt;/strong&gt;: Please allow a couple of minutes for the GitLab application to start.&lt;/p&gt;
&lt;p&gt;Point your browser to &lt;code&gt;http://localhost:10080&lt;/code&gt; and set a password for the &lt;code&gt;root&lt;/code&gt; user account.&lt;/p&gt;
&lt;p&gt;You should now have the GitLab application up and ready for testing. If you want to use this image in production then please read on.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;The rest of the document will use the docker command line. You can quite simply adapt your configuration into a &lt;code&gt;docker-compose.yml&lt;/code&gt; file if you wish to do so.&lt;/em&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-configuration" class="anchor" aria-hidden="true" href="#configuration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Configuration&lt;/h1&gt;
&lt;h2&gt;&lt;a id="user-content-data-store" class="anchor" aria-hidden="true" href="#data-store"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Data Store&lt;/h2&gt;
&lt;p&gt;GitLab is a code hosting software and as such you don't want to lose your code when the docker container is stopped/deleted. To avoid losing any data, you should mount a volume at,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/home/git/data&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note that if you are using the &lt;code&gt;docker-compose&lt;/code&gt; approach, this has already been done for you.&lt;/p&gt;
&lt;p&gt;SELinux users are also required to change the security context of the mount point so that it plays nicely with selinux.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;mkdir -p /srv/docker/gitlab/gitlab
sudo chcon -Rt svirt_sandbox_file_t /srv/docker/gitlab/gitlab&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Volumes can be mounted in docker by specifying the &lt;code&gt;-v&lt;/code&gt; option in the docker run command.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab -d \
    --volume /srv/docker/gitlab/gitlab:/home/git/data \
    sameersbn/gitlab:12.5.2&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-database" class="anchor" aria-hidden="true" href="#database"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Database&lt;/h2&gt;
&lt;p&gt;GitLab uses a database backend to store its data. You can configure this image to use PostgreSQL.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Note: GitLab requieres PostgreSQL now. So use an older image &amp;lt; 12.1 or migrate to PostgresSQL&lt;/em&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-postgresql" class="anchor" aria-hidden="true" href="#postgresql"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;PostgreSQL&lt;/h3&gt;
&lt;h4&gt;&lt;a id="user-content-external-postgresql-server" class="anchor" aria-hidden="true" href="#external-postgresql-server"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;External PostgreSQL Server&lt;/h4&gt;
&lt;p&gt;The image also supports using an external PostgreSQL Server. This is also controlled via environment variables.&lt;/p&gt;
&lt;div class="highlight highlight-source-sql"&gt;&lt;pre&gt;CREATE ROLE gitlab with LOGIN CREATEDB PASSWORD &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;password&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;;
&lt;span class="pl-k"&gt;CREATE&lt;/span&gt; &lt;span class="pl-k"&gt;DATABASE&lt;/span&gt; &lt;span class="pl-en"&gt;gitlabhq_production&lt;/span&gt;;
&lt;span class="pl-k"&gt;GRANT&lt;/span&gt; ALL PRIVILEGES &lt;span class="pl-k"&gt;ON&lt;/span&gt; DATABASE gitlabhq_production to gitlab;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Additionally since GitLab &lt;code&gt;8.6.0&lt;/code&gt; the &lt;code&gt;pg_trgm&lt;/code&gt; extension should also be loaded for the &lt;code&gt;gitlabhq_production&lt;/code&gt; database.&lt;/p&gt;
&lt;p&gt;We are now ready to start the GitLab application.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Assuming that the PostgreSQL server host is 192.168.1.100&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab -d \
    --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;DB_HOST=192.168.1.100&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
    --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;DB_NAME=gitlabhq_production&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
    --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;DB_USER=gitlab&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;DB_PASS=password&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
    --volume /srv/docker/gitlab/gitlab:/home/git/data \
    sameersbn/gitlab:12.5.2&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-linking-to-postgresql-container" class="anchor" aria-hidden="true" href="#linking-to-postgresql-container"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Linking to PostgreSQL Container&lt;/h4&gt;
&lt;p&gt;You can link this image with a postgresql container for the database requirements. The alias of the postgresql server container should be set to &lt;strong&gt;postgresql&lt;/strong&gt; while linking with the gitlab image.&lt;/p&gt;
&lt;p&gt;If a postgresql container is linked, only the &lt;code&gt;DB_HOST&lt;/code&gt; and &lt;code&gt;DB_PORT&lt;/code&gt; settings are automatically retrieved using the linkage. You may still need to set other database connection parameters such as the &lt;code&gt;DB_NAME&lt;/code&gt;, &lt;code&gt;DB_USER&lt;/code&gt;, &lt;code&gt;DB_PASS&lt;/code&gt; and so on.&lt;/p&gt;
&lt;p&gt;To illustrate linking with a postgresql container, we will use the &lt;a href="https://github.com/sameersbn/docker-postgresql"&gt;sameersbn/postgresql&lt;/a&gt; image. When using postgresql image in production you should mount a volume for the postgresql data store. Please refer the &lt;a href="https://github.com/sameersbn/docker-postgresql/blob/master/README.md"&gt;README&lt;/a&gt; of docker-postgresql for details.&lt;/p&gt;
&lt;p&gt;First, lets pull the postgresql image from the docker index.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker pull sameersbn/postgresql:10-2&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For data persistence lets create a store for the postgresql and start the container.&lt;/p&gt;
&lt;p&gt;SELinux users are also required to change the security context of the mount point so that it plays nicely with selinux.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;mkdir -p /srv/docker/gitlab/postgresql
sudo chcon -Rt svirt_sandbox_file_t /srv/docker/gitlab/postgresql&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The run command looks like this.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab-postgresql -d \
    --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;DB_NAME=gitlabhq_production&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
    --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;DB_USER=gitlab&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;DB_PASS=password&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
    --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;DB_EXTENSION=pg_trgm&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
    --volume /srv/docker/gitlab/postgresql:/var/lib/postgresql \
    sameersbn/postgresql:10-2&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The above command will create a database named &lt;code&gt;gitlabhq_production&lt;/code&gt; and also create a user named &lt;code&gt;gitlab&lt;/code&gt; with the password &lt;code&gt;password&lt;/code&gt; with access to the &lt;code&gt;gitlabhq_production&lt;/code&gt; database.&lt;/p&gt;
&lt;p&gt;We are now ready to start the GitLab application.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab -d --link gitlab-postgresql:postgresql \
    --volume /srv/docker/gitlab/gitlab:/home/git/data \
    sameersbn/gitlab:12.5.2&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here the image will also automatically fetch the &lt;code&gt;DB_NAME&lt;/code&gt;, &lt;code&gt;DB_USER&lt;/code&gt; and &lt;code&gt;DB_PASS&lt;/code&gt; variables from the postgresql container as they are specified in the &lt;code&gt;docker run&lt;/code&gt; command for the postgresql container. This is made possible using the magic of docker links and works with the following images:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://hub.docker.com/_/postgres/" rel="nofollow"&gt;postgres&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://quay.io/repository/sameersbn/postgresql/" rel="nofollow"&gt;sameersbn/postgresql&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://hub.docker.com/r/orchardup/postgresql/" rel="nofollow"&gt;orchardup/postgresql&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://hub.docker.com/r/paintedfox/postgresql/" rel="nofollow"&gt;paintedfox/postgresql&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-redis" class="anchor" aria-hidden="true" href="#redis"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Redis&lt;/h2&gt;
&lt;p&gt;GitLab uses the redis server for its key-value data store. The redis server connection details can be specified using environment variables.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-internal-redis-server" class="anchor" aria-hidden="true" href="#internal-redis-server"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Internal Redis Server&lt;/h3&gt;
&lt;p&gt;The internal redis server has been removed from the image. Please use a &lt;a href="#linking-to-redis-container"&gt;linked redis&lt;/a&gt; container or specify a &lt;a href="#external-redis-server"&gt;external redis&lt;/a&gt; connection.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-external-redis-server" class="anchor" aria-hidden="true" href="#external-redis-server"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;External Redis Server&lt;/h3&gt;
&lt;p&gt;The image can be configured to use an external redis server. The configuration should be specified using environment variables while starting the GitLab image.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Assuming that the redis server host is 192.168.1.100&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab -it --rm \
    --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;REDIS_HOST=192.168.1.100&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;REDIS_PORT=6379&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
    sameersbn/gitlab:12.5.2&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-linking-to-redis-container" class="anchor" aria-hidden="true" href="#linking-to-redis-container"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Linking to Redis Container&lt;/h3&gt;
&lt;p&gt;You can link this image with a redis container to satisfy gitlab's redis requirement. The alias of the redis server container should be set to &lt;strong&gt;redisio&lt;/strong&gt; while linking with the gitlab image.&lt;/p&gt;
&lt;p&gt;To illustrate linking with a redis container, we will use the &lt;a href="https://github.com/sameersbn/docker-redis"&gt;sameersbn/redis&lt;/a&gt; image. Please refer the &lt;a href="https://github.com/sameersbn/docker-redis/blob/master/README.md"&gt;README&lt;/a&gt; of docker-redis for details.&lt;/p&gt;
&lt;p&gt;First, lets pull the redis image from the docker index.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker pull sameersbn/redis:4.0.9-2&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lets start the redis container&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab-redis -d \
    --volume /srv/docker/gitlab/redis:/var/lib/redis \
    sameersbn/redis:4.0.9-2&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We are now ready to start the GitLab application.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab -d --link gitlab-redis:redisio \
    sameersbn/gitlab:12.5.2&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-mail" class="anchor" aria-hidden="true" href="#mail"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Mail&lt;/h3&gt;
&lt;p&gt;The mail configuration should be specified using environment variables while starting the GitLab image. The configuration defaults to using gmail to send emails and requires the specification of a valid username and password to login to the gmail servers.&lt;/p&gt;
&lt;p&gt;If you are using Gmail then all you need to do is:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab -d \
    --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;SMTP_USER=USER@gmail.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;SMTP_PASS=PASSWORD&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
    --volume /srv/docker/gitlab/gitlab:/home/git/data \
    sameersbn/gitlab:12.5.2&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Please refer the &lt;a href="#available-configuration-parameters"&gt;Available Configuration Parameters&lt;/a&gt; section for the list of SMTP parameters that can be specified.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-reply-by-email" class="anchor" aria-hidden="true" href="#reply-by-email"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Reply by email&lt;/h4&gt;
&lt;p&gt;Since version &lt;code&gt;8.0.0&lt;/code&gt; GitLab adds support for commenting on issues by replying to emails.&lt;/p&gt;
&lt;p&gt;To enable this feature you need to provide IMAP configuration parameters that will allow GitLab to connect to your mail server and read mails. Additionally, you may need to specify &lt;code&gt;GITLAB_INCOMING_EMAIL_ADDRESS&lt;/code&gt; if your incoming email address is not the same as the &lt;code&gt;IMAP_USER&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;If your email provider supports email &lt;a href="https://en.wikipedia.org/wiki/Email_address#Sub-addressing" rel="nofollow"&gt;sub-addressing&lt;/a&gt; then you should add the &lt;code&gt;+%{key}&lt;/code&gt; placeholder after the user part of the email address, eg. &lt;code&gt;GITLAB_INCOMING_EMAIL_ADDRESS=reply+%{key}@example.com&lt;/code&gt;. Please read the &lt;a href="http://doc.gitlab.com/ce/incoming_email/README.html" rel="nofollow"&gt;documentation on reply by email&lt;/a&gt; to understand the requirements for this feature.&lt;/p&gt;
&lt;p&gt;If you are using Gmail then all you need to do is:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab -d \
    --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;IMAP_USER=USER@gmail.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;IMAP_PASS=PASSWORD&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
    --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;GITLAB_INCOMING_EMAIL_ADDRESS=USER+%{key}@gmail.com&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
    --volume /srv/docker/gitlab/gitlab:/home/git/data \
    sameersbn/gitlab:12.5.2&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Please refer the &lt;a href="#available-configuration-parameters"&gt;Available Configuration Parameters&lt;/a&gt; section for the list of IMAP parameters that can be specified.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-ssl" class="anchor" aria-hidden="true" href="#ssl"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;SSL&lt;/h3&gt;
&lt;p&gt;Access to the gitlab application can be secured using SSL so as to prevent unauthorized access to the data in your repositories. While a CA certified SSL certificate allows for verification of trust via the CA, a self signed certificate can also provide an equal level of trust verification as long as each client takes some additional steps to verify the identity of your website. I will provide instructions on achieving this towards the end of this section.&lt;/p&gt;
&lt;p&gt;Jump to the &lt;a href="#using-https-with-a-load-balancer"&gt;Using HTTPS with a load balancer&lt;/a&gt; section if you are using a load balancer such as hipache, haproxy or nginx.&lt;/p&gt;
&lt;p&gt;To secure your application via SSL you basically need two things:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Private key (.key)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SSL certificate (.crt)&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;When using CA certified certificates, these files are provided to you by the CA. When using self-signed certificates you need to generate these files yourself. Skip to &lt;a href="#strengthening-the-server-security"&gt;Strengthening the server security&lt;/a&gt; section if you are armed with CA certified SSL certificates.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-generation-of-a-self-signed-certificate" class="anchor" aria-hidden="true" href="#generation-of-a-self-signed-certificate"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Generation of a Self Signed Certificate&lt;/h4&gt;
&lt;p&gt;Generation of a self-signed SSL certificate involves a simple 3-step procedure:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;STEP 1&lt;/strong&gt;: Create the server private key&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;openssl genrsa -out gitlab.key 2048&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;STEP 2&lt;/strong&gt;: Create the certificate signing request (CSR)&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;openssl req -new -key gitlab.key -out gitlab.csr&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;STEP 3&lt;/strong&gt;: Sign the certificate using the private key and CSR&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;openssl x509 -req -days 3650 -in gitlab.csr -signkey gitlab.key -out gitlab.crt&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Congratulations! You now have a self-signed SSL certificate valid for 10 years.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-strengthening-the-server-security" class="anchor" aria-hidden="true" href="#strengthening-the-server-security"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Strengthening the server security&lt;/h4&gt;
&lt;p&gt;This section provides you with instructions to &lt;a href="https://raymii.org/s/tutorials/Strong_SSL_Security_On_nginx.html" rel="nofollow"&gt;strengthen your server security&lt;/a&gt;. To achieve this we need to generate stronger DHE parameters.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;openssl dhparam -out dhparam.pem 2048&lt;/pre&gt;&lt;/div&gt;
&lt;h4&gt;&lt;a id="user-content-installation-of-the-ssl-certificates" class="anchor" aria-hidden="true" href="#installation-of-the-ssl-certificates"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation of the SSL Certificates&lt;/h4&gt;
&lt;p&gt;Out of the four files generated above, we need to install the &lt;code&gt;gitlab.key&lt;/code&gt;, &lt;code&gt;gitlab.crt&lt;/code&gt; and &lt;code&gt;dhparam.pem&lt;/code&gt; files at the gitlab server. The CSR file is not needed, but do make sure you safely backup the file (in case you ever need it again).&lt;/p&gt;
&lt;p&gt;The default path that the gitlab application is configured to look for the SSL certificates is at &lt;code&gt;/home/git/data/certs&lt;/code&gt;, this can however be changed using the &lt;code&gt;SSL_KEY_PATH&lt;/code&gt;, &lt;code&gt;SSL_CERTIFICATE_PATH&lt;/code&gt; and &lt;code&gt;SSL_DHPARAM_PATH&lt;/code&gt; configuration options.&lt;/p&gt;
&lt;p&gt;If you remember from above, the &lt;code&gt;/home/git/data&lt;/code&gt; path is the path of the &lt;a href="#data-store"&gt;data store&lt;/a&gt;, which means that we have to create a folder named &lt;code&gt;certs/&lt;/code&gt; inside &lt;code&gt;/srv/docker/gitlab/gitlab/&lt;/code&gt; and copy the files into it and as a measure of security we'll update the permission on the &lt;code&gt;gitlab.key&lt;/code&gt; file to only be readable by the owner.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;mkdir -p /srv/docker/gitlab/gitlab/certs
cp gitlab.key /srv/docker/gitlab/gitlab/certs/
cp gitlab.crt /srv/docker/gitlab/gitlab/certs/
cp dhparam.pem /srv/docker/gitlab/gitlab/certs/
chmod 400 /srv/docker/gitlab/gitlab/certs/gitlab.key&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Great! we are now just one step away from having our application secured.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-enabling-https-support" class="anchor" aria-hidden="true" href="#enabling-https-support"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Enabling HTTPS support&lt;/h4&gt;
&lt;p&gt;HTTPS support can be enabled by setting the &lt;code&gt;GITLAB_HTTPS&lt;/code&gt; option to &lt;code&gt;true&lt;/code&gt;. Additionally, when using self-signed SSL certificates you need to the set &lt;code&gt;SSL_SELF_SIGNED&lt;/code&gt; option to &lt;code&gt;true&lt;/code&gt; as well. Assuming we are using self-signed certificates&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab -d \
    --publish 10022:22 --publish 10080:80 --publish 10443:443 \
    --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;GITLAB_SSH_PORT=10022&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;GITLAB_PORT=10443&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
    --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;GITLAB_HTTPS=true&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;SSL_SELF_SIGNED=true&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
    --volume /srv/docker/gitlab/gitlab:/home/git/data \
    sameersbn/gitlab:12.5.2&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In this configuration, any requests made over the plain http protocol will automatically be redirected to use the https protocol. However, this is not optimal when using a load balancer.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-configuring-hsts" class="anchor" aria-hidden="true" href="#configuring-hsts"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Configuring HSTS&lt;/h4&gt;
&lt;p&gt;HSTS if supported by the browsers makes sure that your users will only reach your sever via HTTPS. When the user comes for the first time it sees a header from the server which states for how long from now this site should only be reachable via HTTPS - that's the HSTS max-age value.&lt;/p&gt;
&lt;p&gt;With &lt;code&gt;NGINX_HSTS_MAXAGE&lt;/code&gt; you can configure that value. The default value is &lt;code&gt;31536000&lt;/code&gt; seconds. If you want to disable a already sent HSTS MAXAGE value, set it to &lt;code&gt;0&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab -d \
 --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;GITLAB_HTTPS=true&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;SSL_SELF_SIGNED=true&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
 --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;NGINX_HSTS_MAXAGE=2592000&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
 --volume /srv/docker/gitlab/gitlab:/home/git/data \
 sameersbn/gitlab:12.5.2&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you want to completely disable HSTS set &lt;code&gt;NGINX_HSTS_ENABLED&lt;/code&gt; to &lt;code&gt;false&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-using-https-with-a-load-balancer" class="anchor" aria-hidden="true" href="#using-https-with-a-load-balancer"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using HTTPS with a load balancer&lt;/h4&gt;
&lt;p&gt;Load balancers like nginx/haproxy/hipache talk to backend applications over plain http and as such the installation of ssl keys and certificates are not required and should &lt;strong&gt;NOT&lt;/strong&gt; be installed in the container. The SSL configuration has to instead be done at the load balancer.&lt;/p&gt;
&lt;p&gt;However, when using a load balancer you &lt;strong&gt;MUST&lt;/strong&gt; set &lt;code&gt;GITLAB_HTTPS&lt;/code&gt; to &lt;code&gt;true&lt;/code&gt;. Additionally you will need to set the &lt;code&gt;SSL_SELF_SIGNED&lt;/code&gt; option to &lt;code&gt;true&lt;/code&gt; if self signed SSL certificates are in use.&lt;/p&gt;
&lt;p&gt;With this in place, you should configure the load balancer to support handling of https requests. But that is out of the scope of this document. Please refer to &lt;a href="http://seanmcgary.com/posts/using-sslhttps-with-haproxy" rel="nofollow"&gt;Using SSL/HTTPS with HAProxy&lt;/a&gt; for information on the subject.&lt;/p&gt;
&lt;p&gt;When using a load balancer, you probably want to make sure the load balancer performs the automatic http to https redirection. Information on this can also be found in the link above.&lt;/p&gt;
&lt;p&gt;In summation, when using a load balancer, the docker command would look for the most part something like this:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab -d \
    --publish 10022:22 --publish 10080:80 \
    --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;GITLAB_SSH_PORT=10022&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;GITLAB_PORT=443&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
    --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;GITLAB_HTTPS=true&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;SSL_SELF_SIGNED=true&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
    --volume /srv/docker/gitlab/gitlab:/home/git/data \
    sameersbn/gitlab:12.5.2&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Again, drop the &lt;code&gt;--env 'SSL_SELF_SIGNED=true'&lt;/code&gt; option if you are using CA certified SSL certificates.&lt;/p&gt;
&lt;p&gt;In case GitLab responds to any kind of POST request (login, OAUTH, changing settings etc.) with a 422 HTTP Error, consider adding this to your reverse proxy configuration:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;proxy_set_header X-Forwarded-Ssl on;&lt;/code&gt; (nginx format)&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-establishing-trust-with-your-server" class="anchor" aria-hidden="true" href="#establishing-trust-with-your-server"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Establishing trust with your server&lt;/h4&gt;
&lt;p&gt;This section deals will self-signed ssl certificates. If you are using CA certified certificates, your done.&lt;/p&gt;
&lt;p&gt;This section is more of a client side configuration so as to add a level of confidence at the client to be 100 percent sure they are communicating with whom they think they.&lt;/p&gt;
&lt;p&gt;This is simply done by adding the servers certificate into their list of trusted certificates. On ubuntu, this is done by copying the &lt;code&gt;gitlab.crt&lt;/code&gt; file to &lt;code&gt;/usr/local/share/ca-certificates/&lt;/code&gt; and executing &lt;code&gt;update-ca-certificates&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Again, this is a client side configuration which means that everyone who is going to communicate with the server should perform this configuration on their machine. In short, distribute the &lt;code&gt;gitlab.crt&lt;/code&gt; file among your developers and ask them to add it to their list of trusted ssl certificates. Failure to do so will result in errors that look like this:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;git clone https://git.local.host/gitlab-foss.git
fatal: unable to access &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;https://git.local.host/gitlab-foss.git&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;: server certificate verification failed. CAfile: /etc/ssl/certs/ca-certificates.crt CRLfile: none&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can do the same at the web browser. Instructions for installing the root certificate for firefox can be found &lt;a href="http://portal.threatpulse.com/docs/sol/Content/03Solutions/ManagePolicy/SSL/ssl_firefox_cert_ta.htm" rel="nofollow"&gt;here&lt;/a&gt;. You will find similar options chrome, just make sure you install the certificate under the authorities tab of the certificate manager dialog.&lt;/p&gt;
&lt;p&gt;There you have it, that's all there is to it.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-installing-trusted-ssl-server-certificates" class="anchor" aria-hidden="true" href="#installing-trusted-ssl-server-certificates"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installing Trusted SSL Server Certificates&lt;/h4&gt;
&lt;p&gt;If your GitLab CI server is using self-signed SSL certificates then you should make sure the GitLab CI server certificate is trusted on the GitLab server for them to be able to talk to each other.&lt;/p&gt;
&lt;p&gt;The default path image is configured to look for the trusted SSL certificates is at &lt;code&gt;/home/git/data/certs/ca.crt&lt;/code&gt;, this can however be changed using the &lt;code&gt;SSL_CA_CERTIFICATES_PATH&lt;/code&gt; configuration option.&lt;/p&gt;
&lt;p&gt;Copy the &lt;code&gt;ca.crt&lt;/code&gt; file into the certs directory on the &lt;a href="#data-store"&gt;datastore&lt;/a&gt;. The &lt;code&gt;ca.crt&lt;/code&gt; file should contain the root certificates of all the servers you want to trust. With respect to GitLab CI, this will be the contents of the gitlab_ci.crt file as described in the &lt;a href="https://github.com/sameersbn/docker-gitlab-ci/blob/master/README.md#ssl"&gt;README&lt;/a&gt; of the &lt;a href="https://github.com/sameersbn/docker-gitlab-ci"&gt;docker-gitlab-ci&lt;/a&gt; container.&lt;/p&gt;
&lt;p&gt;By default, our own server certificate &lt;a href="#generation-of-self-signed-certificate"&gt;gitlab.crt&lt;/a&gt; is added to the trusted certificates list.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-deploy-to-a-subdirectory-relative-url-root" class="anchor" aria-hidden="true" href="#deploy-to-a-subdirectory-relative-url-root"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deploy to a subdirectory (relative url root)&lt;/h3&gt;
&lt;p&gt;By default GitLab expects that your application is running at the root (eg. /). This section explains how to run your application inside a directory.&lt;/p&gt;
&lt;p&gt;Let's assume we want to deploy our application to '/git'. GitLab needs to know this directory to generate the appropriate routes. This can be specified using the &lt;code&gt;GITLAB_RELATIVE_URL_ROOT&lt;/code&gt; configuration option like so:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab -it --rm \
    --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;GITLAB_RELATIVE_URL_ROOT=/git&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt; \
    --volume /srv/docker/gitlab/gitlab:/home/git/data \
    sameersbn/gitlab:12.5.2&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;GitLab will now be accessible at the &lt;code&gt;/git&lt;/code&gt; path, e.g. &lt;code&gt;http://www.example.com/git&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: &lt;em&gt;The &lt;code&gt;GITLAB_RELATIVE_URL_ROOT&lt;/code&gt; parameter should always begin with a slash and&lt;/em&gt; &lt;strong&gt;SHOULD NOT&lt;/strong&gt; &lt;em&gt;have any trailing slashes.&lt;/em&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-omniauth-integration" class="anchor" aria-hidden="true" href="#omniauth-integration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;OmniAuth Integration&lt;/h3&gt;
&lt;p&gt;GitLab leverages OmniAuth to allow users to sign in using Twitter, GitHub, and other popular services. Configuring OmniAuth does not prevent standard GitLab authentication or LDAP (if configured) from continuing to work. Users can choose to sign in using any of the configured mechanisms.&lt;/p&gt;
&lt;p&gt;Refer to the GitLab &lt;a href="http://doc.gitlab.com/ce/integration/omniauth.html" rel="nofollow"&gt;documentation&lt;/a&gt; for additional information.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-cas3" class="anchor" aria-hidden="true" href="#cas3"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;CAS3&lt;/h4&gt;
&lt;p&gt;To enable the CAS OmniAuth provider you must register your application with your CAS instance. This requires the service URL GitLab will supply to CAS. It should be something like: &lt;a href="https://git.example.com:443/users/auth/cas3/callback?url" rel="nofollow"&gt;https://git.example.com:443/users/auth/cas3/callback?url&lt;/a&gt;. By default handling for SLO is enabled, you only need to configure CAS for backchannel logout.&lt;/p&gt;
&lt;p&gt;For example, if your cas server url is &lt;code&gt;https://sso.example.com&lt;/code&gt;, then adding &lt;code&gt;--env 'OAUTH_CAS3_SERVER=https://sso.example.com'&lt;/code&gt; to the docker run command enables support for CAS3 OAuth. Please refer to &lt;a href="#available-configuration-parameters"&gt;Available Configuration Parameters&lt;/a&gt; for additional CAS3 configuration parameters.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-authentiq" class="anchor" aria-hidden="true" href="#authentiq"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Authentiq&lt;/h4&gt;
&lt;p&gt;To enable the Authentiq OmniAuth provider for passwordless authentication you must register an application with &lt;a href="https://www.authentiq.com/" rel="nofollow"&gt;Authentiq&lt;/a&gt;. Please refer to the GitLab &lt;a href="https://docs.gitlab.com/ce/administration/auth/authentiq.html" rel="nofollow"&gt;documentation&lt;/a&gt; for the procedure to generate the client ID and secret key with Authentiq.&lt;/p&gt;
&lt;p&gt;Once you have the API client id and client secret generated, configure them using the &lt;code&gt;OAUTH_AUTHENTIQ_CLIENT_ID&lt;/code&gt; and &lt;code&gt;OAUTH_AUTHENTIQ_CLIENT_SECRET&lt;/code&gt; environment variables respectively.&lt;/p&gt;
&lt;p&gt;For example, if your API key is &lt;code&gt;xxx&lt;/code&gt; and the API secret key is &lt;code&gt;yyy&lt;/code&gt;, then adding &lt;code&gt;--env 'OAUTH_AUTHENTIQ_CLIENT_ID=xxx' --env 'OAUTH_AUTHENTIQ_CLIENT_SECRET=yyy'&lt;/code&gt; to the docker run command enables support for Authentiq OAuth.&lt;/p&gt;
&lt;p&gt;You may want to specify &lt;code&gt;OAUTH_AUTHENTIQ_REDIRECT_URI&lt;/code&gt; as well. The OAuth scope can be altered as well with &lt;code&gt;OAUTH_AUTHENTIQ_SCOPE&lt;/code&gt; (defaults to &lt;code&gt;'aq:name email~rs address aq:push'&lt;/code&gt;).&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-google" class="anchor" aria-hidden="true" href="#google"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Google&lt;/h4&gt;
&lt;p&gt;To enable the Google OAuth2 OmniAuth provider you must register your application with Google. Google will generate a client ID and secret key for you to use. Please refer to the GitLab &lt;a href="http://doc.gitlab.com/ce/integration/google.html" rel="nofollow"&gt;documentation&lt;/a&gt; for the procedure to generate the client ID and secret key with google.&lt;/p&gt;
&lt;p&gt;Once you have the client ID and secret keys generated, configure them using the &lt;code&gt;OAUTH_GOOGLE_API_KEY&lt;/code&gt; and &lt;code&gt;OAUTH_GOOGLE_APP_SECRET&lt;/code&gt; environment variables respectively.&lt;/p&gt;
&lt;p&gt;For example, if your client ID is &lt;code&gt;xxx.apps.googleusercontent.com&lt;/code&gt; and client secret key is &lt;code&gt;yyy&lt;/code&gt;, then adding &lt;code&gt;--env 'OAUTH_GOOGLE_API_KEY=xxx.apps.googleusercontent.com' --env 'OAUTH_GOOGLE_APP_SECRET=yyy'&lt;/code&gt; to the docker run command enables support for Google OAuth.&lt;/p&gt;
&lt;p&gt;You can also restrict logins to a single domain by adding &lt;code&gt;--env "OAUTH_GOOGLE_RESTRICT_DOMAIN='example.com'"&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-facebook" class="anchor" aria-hidden="true" href="#facebook"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Facebook&lt;/h4&gt;
&lt;p&gt;To enable the Facebook OAuth2 OmniAuth provider you must register your application with Facebook. Facebook will generate a API key and secret for you to use. Please refer to the GitLab &lt;a href="http://doc.gitlab.com/ce/integration/facebook.html" rel="nofollow"&gt;documentation&lt;/a&gt; for the procedure to generate the API key and secret.&lt;/p&gt;
&lt;p&gt;Once you have the API key and secret generated, configure them using the &lt;code&gt;OAUTH_FACEBOOK_API_KEY&lt;/code&gt; and &lt;code&gt;OAUTH_FACEBOOK_APP_SECRET&lt;/code&gt; environment variables respectively.&lt;/p&gt;
&lt;p&gt;For example, if your API key is &lt;code&gt;xxx&lt;/code&gt; and the API secret key is &lt;code&gt;yyy&lt;/code&gt;, then adding &lt;code&gt;--env 'OAUTH_FACEBOOK_API_KEY=xxx' --env 'OAUTH_FACEBOOK_APP_SECRET=yyy'&lt;/code&gt; to the docker run command enables support for Facebook OAuth.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-twitter" class="anchor" aria-hidden="true" href="#twitter"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Twitter&lt;/h4&gt;
&lt;p&gt;To enable the Twitter OAuth2 OmniAuth provider you must register your application with Twitter. Twitter will generate a API key and secret for you to use. Please refer to the GitLab &lt;a href="http://doc.gitlab.com/ce/integration/twitter.html" rel="nofollow"&gt;documentation&lt;/a&gt; for the procedure to generate the API key and secret with twitter.&lt;/p&gt;
&lt;p&gt;Once you have the API key and secret generated, configure them using the &lt;code&gt;OAUTH_TWITTER_API_KEY&lt;/code&gt; and &lt;code&gt;OAUTH_TWITTER_APP_SECRET&lt;/code&gt; environment variables respectively.&lt;/p&gt;
&lt;p&gt;For example, if your API key is &lt;code&gt;xxx&lt;/code&gt; and the API secret key is &lt;code&gt;yyy&lt;/code&gt;, then adding &lt;code&gt;--env 'OAUTH_TWITTER_API_KEY=xxx' --env 'OAUTH_TWITTER_APP_SECRET=yyy'&lt;/code&gt; to the docker run command enables support for Twitter OAuth.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-github" class="anchor" aria-hidden="true" href="#github"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;GitHub&lt;/h4&gt;
&lt;p&gt;To enable the GitHub OAuth2 OmniAuth provider you must register your application with GitHub. GitHub will generate a Client ID and secret for you to use. Please refer to the GitLab &lt;a href="http://doc.gitlab.com/ce/integration/github.html" rel="nofollow"&gt;documentation&lt;/a&gt; for the procedure to generate the Client ID and secret with github.&lt;/p&gt;
&lt;p&gt;Once you have the Client ID and secret generated, configure them using the &lt;code&gt;OAUTH_GITHUB_API_KEY&lt;/code&gt; and &lt;code&gt;OAUTH_GITHUB_APP_SECRET&lt;/code&gt; environment variables respectively.&lt;/p&gt;
&lt;p&gt;For example, if your Client ID is &lt;code&gt;xxx&lt;/code&gt; and the Client secret is &lt;code&gt;yyy&lt;/code&gt;, then adding &lt;code&gt;--env 'OAUTH_GITHUB_API_KEY=xxx' --env 'OAUTH_GITHUB_APP_SECRET=yyy'&lt;/code&gt; to the docker run command enables support for GitHub OAuth.&lt;/p&gt;
&lt;p&gt;Users of GitHub Enterprise may want to specify &lt;code&gt;OAUTH_GITHUB_URL&lt;/code&gt; and &lt;code&gt;OAUTH_GITHUB_VERIFY_SSL&lt;/code&gt; as well.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-gitlab" class="anchor" aria-hidden="true" href="#gitlab"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;GitLab&lt;/h4&gt;
&lt;p&gt;To enable the GitLab OAuth2 OmniAuth provider you must register your application with GitLab. GitLab will generate a Client ID and secret for you to use. Please refer to the GitLab &lt;a href="http://doc.gitlab.com/ce/integration/gitlab.html" rel="nofollow"&gt;documentation&lt;/a&gt; for the procedure to generate the Client ID and secret with GitLab.&lt;/p&gt;
&lt;p&gt;Once you have the Client ID and secret generated, configure them using the &lt;code&gt;OAUTH_GITLAB_API_KEY&lt;/code&gt; and &lt;code&gt;OAUTH_GITLAB_APP_SECRET&lt;/code&gt; environment variables respectively.&lt;/p&gt;
&lt;p&gt;For example, if your Client ID is &lt;code&gt;xxx&lt;/code&gt; and the Client secret is &lt;code&gt;yyy&lt;/code&gt;, then adding &lt;code&gt;--env 'OAUTH_GITLAB_API_KEY=xxx' --env 'OAUTH_GITLAB_APP_SECRET=yyy'&lt;/code&gt; to the docker run command enables support for GitLab OAuth.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-bitbucket" class="anchor" aria-hidden="true" href="#bitbucket"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;BitBucket&lt;/h4&gt;
&lt;p&gt;To enable the BitBucket OAuth2 OmniAuth provider you must register your application with BitBucket. BitBucket will generate a Client ID and secret for you to use. Please refer to the GitLab &lt;a href="http://doc.gitlab.com/ce/integration/bitbucket.html" rel="nofollow"&gt;documentation&lt;/a&gt; for the procedure to generate the Client ID and secret with BitBucket.&lt;/p&gt;
&lt;p&gt;Once you have the Client ID and secret generated, configure them using the &lt;code&gt;OAUTH_BITBUCKET_API_KEY&lt;/code&gt; and &lt;code&gt;OAUTH_BITBUCKET_APP_SECRET&lt;/code&gt; environment variables respectively.&lt;/p&gt;
&lt;p&gt;For example, if your Client ID is &lt;code&gt;xxx&lt;/code&gt; and the Client secret is &lt;code&gt;yyy&lt;/code&gt;, then adding &lt;code&gt;--env 'OAUTH_BITBUCKET_API_KEY=xxx' --env 'OAUTH_BITBUCKET_APP_SECRET=yyy'&lt;/code&gt; to the docker run command enables support for BitBucket OAuth.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-saml" class="anchor" aria-hidden="true" href="#saml"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;SAML&lt;/h4&gt;
&lt;p&gt;GitLab can be configured to act as a SAML 2.0 Service Provider (SP). This allows GitLab to consume assertions from a SAML 2.0 Identity Provider (IdP) such as Microsoft ADFS to authenticate users. Please refer to the GitLab &lt;a href="http://doc.gitlab.com/ce/integration/saml.html" rel="nofollow"&gt;documentation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The following parameters have to be configured to enable SAML OAuth support in this image: &lt;code&gt;OAUTH_SAML_ASSERTION_CONSUMER_SERVICE_URL&lt;/code&gt;, &lt;code&gt;OAUTH_SAML_IDP_CERT_FINGERPRINT&lt;/code&gt;, &lt;code&gt;OAUTH_SAML_IDP_SSO_TARGET_URL&lt;/code&gt;, &lt;code&gt;OAUTH_SAML_ISSUER&lt;/code&gt; and &lt;code&gt;OAUTH_SAML_NAME_IDENTIFIER_FORMAT&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;You can also override the default "Sign in with" button label with &lt;code&gt;OAUTH_SAML_LABEL&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Please refer to &lt;a href="#available-configuration-parameters"&gt;Available Configuration Parameters&lt;/a&gt; for the default configurations of these parameters.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-crowd" class="anchor" aria-hidden="true" href="#crowd"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Crowd&lt;/h4&gt;
&lt;p&gt;To enable the Crowd server OAuth2 OmniAuth provider you must register your application with Crowd server.&lt;/p&gt;
&lt;p&gt;Configure GitLab to enable access the Crowd server by specifying the &lt;code&gt;OAUTH_CROWD_SERVER_URL&lt;/code&gt;, &lt;code&gt;OAUTH_CROWD_APP_NAME&lt;/code&gt; and &lt;code&gt;OAUTH_CROWD_APP_PASSWORD&lt;/code&gt; environment variables.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-auth0" class="anchor" aria-hidden="true" href="#auth0"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Auth0&lt;/h4&gt;
&lt;p&gt;To enable the Auth0 OmniAuth provider you must register your application with &lt;a href="https://auth0.com/" rel="nofollow"&gt;auth0&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Configure the following environment variables &lt;code&gt;OAUTH_AUTH0_CLIENT_ID&lt;/code&gt;, &lt;code&gt;OAUTH_AUTH0_CLIENT_SECRET&lt;/code&gt; and &lt;code&gt;OAUTH_AUTH0_DOMAIN&lt;/code&gt; to complete the integration.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-microsoft-azure" class="anchor" aria-hidden="true" href="#microsoft-azure"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Microsoft Azure&lt;/h4&gt;
&lt;p&gt;To enable the Microsoft Azure OAuth2 OmniAuth provider you must register your application with Azure. Azure will generate a Client ID, Client secret and Tenant ID for you to use. Please refer to the GitLab &lt;a href="http://doc.gitlab.com/ce/integration/azure.html" rel="nofollow"&gt;documentation&lt;/a&gt; for the procedure.&lt;/p&gt;
&lt;p&gt;Once you have the Client ID, Client secret and Tenant ID generated, configure them using the &lt;code&gt;OAUTH_AZURE_API_KEY&lt;/code&gt;, &lt;code&gt;OAUTH_AZURE_API_SECRET&lt;/code&gt; and &lt;code&gt;OAUTH_AZURE_TENANT_ID&lt;/code&gt; environment variables respectively.&lt;/p&gt;
&lt;p&gt;For example, if your Client ID is &lt;code&gt;xxx&lt;/code&gt;, the Client secret is &lt;code&gt;yyy&lt;/code&gt; and the Tenant ID is &lt;code&gt;zzz&lt;/code&gt;, then adding &lt;code&gt;--env 'OAUTH_AZURE_API_KEY=xxx' --env 'OAUTH_AZURE_API_SECRET=yyy' --env 'OAUTH_AZURE_TENANT_ID=zzz'&lt;/code&gt; to the docker run command enables support for Microsoft Azure OAuth.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-gitlab-pages" class="anchor" aria-hidden="true" href="#gitlab-pages"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Gitlab Pages&lt;/h3&gt;
&lt;p&gt;Gitlab Pages allows a user to host static websites from a project. Gitlab pages can be enabled with setting the envrionment variable &lt;code&gt;GITLAB_PAGES_ENABLED&lt;/code&gt; to &lt;code&gt;true&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-gitlab-pages-access-control" class="anchor" aria-hidden="true" href="#gitlab-pages-access-control"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Gitlab Pages Access Control&lt;/h3&gt;
&lt;p&gt;Since version &lt;code&gt;11.5.0&lt;/code&gt; Gitlab pages supports access control. This allows only access to a published website if you are a project member, or have access to a certain project.&lt;/p&gt;
&lt;p&gt;Gitlab pages access control requires additional configuration before activating it through the variable &lt;code&gt;GITLAB_PAGES_ACCESS_CONTROL&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Gitab pages access control makes use of the Gitlab OAuth Module.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Goto the Gitlab Admin area&lt;/li&gt;
&lt;li&gt;Select &lt;code&gt;Applications&lt;/code&gt; in the menu&lt;/li&gt;
&lt;li&gt;Create &lt;code&gt;New Application&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;Name: &lt;code&gt;Gitlab Pages&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Scopes:
&lt;ul&gt;
&lt;li&gt;api&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Trusted: NO (Do not select)&lt;/li&gt;
&lt;li&gt;Redirect URI: &lt;a href="https://projects" rel="nofollow"&gt;https://projects&lt;/a&gt;.&amp;lt;GITLAB_PAGES_DOMAIN&amp;gt;/auth&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note about the &lt;code&gt;Redirect URI&lt;/code&gt;; this can be tricky to configure or figure out, What needs to be achieved is to following, the redirect URI needs to end up at the &lt;code&gt;gitlab-pages&lt;/code&gt; daemon with the &lt;code&gt;/auth&lt;/code&gt; endpoint.&lt;/p&gt;
&lt;p&gt;This means that if you run your gitlab pages at domain &lt;code&gt;pages.example.io&lt;/code&gt; this will be a wilcard domain where your projects are created based on their namespace. The best trick is to enter a NON-Existing gitlab project pages URI as the redirect URI.&lt;/p&gt;
&lt;p&gt;In the example above; the pages domain &lt;code&gt;projects&lt;/code&gt; has been chosen. This will cause the nginx, either the built in or your own loadbalancer to redirect &lt;code&gt;*.&amp;lt;GITLAB_PAGES_DOMAIN&amp;gt;&lt;/code&gt; to the &lt;code&gt;gitlab-pages&lt;/code&gt; daemon. Which will trigger the pages endpoint.&lt;/p&gt;
&lt;p&gt;Make sure to choose own which does not exist and make sure that the request is routed to the &lt;code&gt;gitlab-pages&lt;/code&gt; daemon if you are using your own HTTP load balancer in front of Gitlab.&lt;/p&gt;
&lt;p&gt;After creating the OAuth application endpoint for the Gitlab Pages Daemon. Gitlab pages access control can now be enabled.&lt;/p&gt;
&lt;p&gt;Add to following environment variables to your Gitlab Container.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Variable&lt;/th&gt;
&lt;th&gt;R/O&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;GITLAB_PAGES_ACCESS_CONTROL&lt;/td&gt;
&lt;td&gt;Required&lt;/td&gt;
&lt;td&gt;Set to &lt;code&gt;true&lt;/code&gt; to enable access control.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;GITLAB_PAGES_ACCESS_SECRET&lt;/td&gt;
&lt;td&gt;Optional&lt;/td&gt;
&lt;td&gt;Secret Hash, minimal 32 characters, if omitted, it will be auto generated.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;GITLAB_PAGES_ACCESS_CONTROL_SERVER&lt;/td&gt;
&lt;td&gt;Required&lt;/td&gt;
&lt;td&gt;Gitlab instance URI, example: &lt;code&gt;https://gitlab.example.io&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;GITLAB_PAGES_ACCESS_CLIENT_ID&lt;/td&gt;
&lt;td&gt;Required&lt;/td&gt;
&lt;td&gt;Client ID from earlier generated OAuth application&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;GITLAB_PAGES_ACCESS_CLIENT_SECRET&lt;/td&gt;
&lt;td&gt;Required&lt;/td&gt;
&lt;td&gt;Client Secret from earlier genereated OAuth application&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;GITLAB_PAGES_ACCESS_REDIRECT_URI&lt;/td&gt;
&lt;td&gt;Required&lt;/td&gt;
&lt;td&gt;Redirect URI, non existing pages domain to redirect to pages daemon, &lt;code&gt;https://projects.example.io&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;After you have enabled the gitlab pages access control. When you go to a project &lt;code&gt;General Settings&lt;/code&gt; -&amp;gt; &lt;code&gt;Permissions&lt;/code&gt; you can choose the pages persmission level for the project.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-external-issue-trackers" class="anchor" aria-hidden="true" href="#external-issue-trackers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;External Issue Trackers&lt;/h3&gt;
&lt;p&gt;Since version &lt;code&gt;7.10.0&lt;/code&gt; support for external issue trackers can be enabled in the "Service Templates" section of the settings panel.&lt;/p&gt;
&lt;p&gt;If you are using the &lt;a href="https://github.com/sameersbn/docker-redmine"&gt;docker-redmine&lt;/a&gt; image, you can &lt;em&gt;one up&lt;/em&gt; the gitlab integration with redmine by adding &lt;code&gt;--volumes-from=gitlab&lt;/code&gt; flag to the docker run command while starting the redmine container.&lt;/p&gt;
&lt;p&gt;By using the above option the &lt;code&gt;/home/git/data/repositories&lt;/code&gt; directory will be accessible by the redmine container and now you can add your git repository path to your redmine project. If, for example, in your gitlab server you have a project named &lt;code&gt;opensource/gitlab&lt;/code&gt;, the bare repository will be accessible at &lt;code&gt;/home/git/data/repositories/opensource/gitlab.git&lt;/code&gt; in the redmine container.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-host-uid--gid-mapping" class="anchor" aria-hidden="true" href="#host-uid--gid-mapping"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Host UID / GID Mapping&lt;/h3&gt;
&lt;p&gt;Per default the container is configured to run gitlab as user and group &lt;code&gt;git&lt;/code&gt; with &lt;code&gt;uid&lt;/code&gt; and &lt;code&gt;gid&lt;/code&gt; &lt;code&gt;1000&lt;/code&gt;. The host possibly uses this ids for different purposes leading to unfavorable effects. From the host it appears as if the mounted data volumes are owned by the host's user/group &lt;code&gt;1000&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Also the container processes seem to be executed as the host's user/group &lt;code&gt;1000&lt;/code&gt;. The container can be configured to map the &lt;code&gt;uid&lt;/code&gt; and &lt;code&gt;gid&lt;/code&gt; of &lt;code&gt;git&lt;/code&gt; to different ids on host by passing the environment variables &lt;code&gt;USERMAP_UID&lt;/code&gt; and &lt;code&gt;USERMAP_GID&lt;/code&gt;. The following command maps the ids to user and group &lt;code&gt;git&lt;/code&gt; on the host.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab -it --rm [options] \
    --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;USERMAP_UID=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;$(&lt;/span&gt;id -u git&lt;span class="pl-pds"&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; --env &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;USERMAP_GID=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;$(&lt;/span&gt;id -g git&lt;span class="pl-pds"&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; \
    sameersbn/gitlab:12.5.2&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When changing this mapping, all files and directories in the mounted data volume &lt;code&gt;/home/git/data&lt;/code&gt; have to be re-owned by the new ids. This can be achieved automatically using the following command:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab -d [OPTIONS] \
    sameersbn/gitlab:12.5.2 app:sanitize&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-piwik" class="anchor" aria-hidden="true" href="#piwik"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Piwik&lt;/h3&gt;
&lt;p&gt;If you want to monitor your gitlab instance with &lt;a href="http://piwik.org/" rel="nofollow"&gt;Piwik&lt;/a&gt;, there are two options to setup: &lt;code&gt;PIWIK_URL&lt;/code&gt; and &lt;code&gt;PIWIK_SITE_ID&lt;/code&gt;.
These options should contain something like:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;PIWIK_URL=piwik.example.org&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;PIWIK_SITE_ID=42&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-available-configuration-parameters" class="anchor" aria-hidden="true" href="#available-configuration-parameters"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Available Configuration Parameters&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;Please refer the docker run command options for the &lt;code&gt;--env-file&lt;/code&gt; flag where you can specify all required environment variables in a single file. This will save you from writing a potentially long docker run command. Alternatively you can use docker-compose. docker-compose users and Docker Swarm mode users can also use the &lt;a href="#docker-secrets-and-configs"&gt;secrets and config file options&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Below is the complete list of available options that can be used to customize your gitlab installation.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Parameter&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DEBUG&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Set this to &lt;code&gt;true&lt;/code&gt; to enable entrypoint debugging.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_HOST&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The hostname of the GitLab server. Defaults to &lt;code&gt;localhost&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_CI_HOST&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;If you are migrating from GitLab CI use this parameter to configure the redirection to the GitLab service so that your existing runners continue to work without any changes. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PORT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The port of the GitLab server. This value indicates the public port on which the GitLab application will be accessible on the network and appropriately configures GitLab to generate the correct urls. It does not affect the port on which the internal nginx server will be listening on. Defaults to &lt;code&gt;443&lt;/code&gt; if &lt;code&gt;GITLAB_HTTPS=true&lt;/code&gt;, else defaults to &lt;code&gt;80&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_SECRETS_DB_KEY_BASE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Encryption key for GitLab CI secret variables, as well as import credentials, in the database. Ensure that your key is at least 32 characters long and that you don't lose it. You can generate one using &lt;code&gt;pwgen -Bsv1 64&lt;/code&gt;. If you are migrating from GitLab CI, you need to set this value to the value of &lt;code&gt;GITLAB_CI_SECRETS_DB_KEY_BASE&lt;/code&gt;. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_SECRETS_SECRET_KEY_BASE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Encryption key for session secrets. Ensure that your key is at least 64 characters long and that you don't lose it. This secret can be rotated with minimal impact - the main effect is that previously-sent password reset emails will no longer work. You can generate one using &lt;code&gt;pwgen -Bsv1 64&lt;/code&gt;. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_SECRETS_OTP_KEY_BASE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Encryption key for OTP related stuff with  GitLab. Ensure that your key is at least 64 characters long and that you don't lose it. &lt;strong&gt;If you lose or change this secret, 2FA will stop working for all users.&lt;/strong&gt; You can generate one using &lt;code&gt;pwgen -Bsv1 64&lt;/code&gt;. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_TIMEZONE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Configure the timezone for the gitlab application. This configuration does not effect cron jobs. Defaults to &lt;code&gt;UTC&lt;/code&gt;. See the list of &lt;a href="http://api.rubyonrails.org/classes/ActiveSupport/TimeZone.html" rel="nofollow"&gt;acceptable values&lt;/a&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_ROOT_PASSWORD&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The password for the root user on firstrun. Defaults to &lt;code&gt;5iveL!fe&lt;/code&gt;. GitLab requires this to be at least &lt;strong&gt;8 characters long&lt;/strong&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_ROOT_EMAIL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The email for the root user on firstrun. Defaults to &lt;code&gt;admin@example.com&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_EMAIL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The email address for the GitLab server. Defaults to value of &lt;code&gt;SMTP_USER&lt;/code&gt;, else defaults to &lt;code&gt;example@example.com&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_EMAIL_DISPLAY_NAME&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The name displayed in emails sent out by the GitLab mailer. Defaults to &lt;code&gt;GitLab&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_EMAIL_REPLY_TO&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The reply-to address of emails sent out by GitLab. Defaults to value of &lt;code&gt;GITLAB_EMAIL&lt;/code&gt;, else defaults to &lt;code&gt;noreply@example.com&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_EMAIL_SUBJECT_SUFFIX&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The e-mail subject suffix used in e-mails sent by GitLab. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_EMAIL_ENABLED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable or disable gitlab mailer. Defaults to the &lt;code&gt;SMTP_ENABLED&lt;/code&gt; configuration.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_EMAIL_SMIME_ENABLE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable or disable email S/MIME signing. Defaults is &lt;code&gt;false&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_EMAIL_SMIME_KEY_FILE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Specifies the path to a S/MIME private key file in PEM format, unencrypted. Defaults to ``.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_EMAIL_SMIME_CERT_FILE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Specifies the path to a S/MIME public certificate key in PEM format. Defaults to ``.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_DEFAULT_THEME&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Default theme ID, by default 2. (1 - Indigo, 2 - Dark, 3 - Light, 4 - Blue, 5 - Green, 6 - Light Indigo, 7 - Light Blue, 8 - Light Green, 9 - Red, 10 - Light Red)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_INCOMING_EMAIL_ADDRESS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The incoming email address for reply by email. Defaults to the value of &lt;code&gt;IMAP_USER&lt;/code&gt;, else defaults to &lt;code&gt;reply@example.com&lt;/code&gt;. Please read the &lt;a href="http://doc.gitlab.com/ce/incoming_email/README.html" rel="nofollow"&gt;reply by email&lt;/a&gt; documentation to currently set this parameter.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_INCOMING_EMAIL_ENABLED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable or disable gitlab reply by email feature. Defaults to the value of &lt;code&gt;IMAP_ENABLED&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_SIGNUP_ENABLED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable or disable user signups (first run only). Default is &lt;code&gt;true&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_IMPERSONATION_ENABLED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable or disable impersonation. Defaults to &lt;code&gt;true&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PROJECTS_LIMIT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Set default projects limit. Defaults to &lt;code&gt;100&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_USERNAME_CHANGE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable or disable ability for users to change their username. Defaults to &lt;code&gt;true&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_CREATE_GROUP&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable or disable ability for users to create groups. Defaults to &lt;code&gt;true&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PROJECTS_ISSUES&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Set if &lt;em&gt;issues&lt;/em&gt; feature should be enabled by default for new projects. Defaults to &lt;code&gt;true&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PROJECTS_MERGE_REQUESTS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Set if &lt;em&gt;merge requests&lt;/em&gt; feature should be enabled by default for new projects. Defaults to &lt;code&gt;true&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PROJECTS_WIKI&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Set if &lt;em&gt;wiki&lt;/em&gt; feature should be enabled by default for new projects. Defaults to &lt;code&gt;true&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PROJECTS_SNIPPETS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Set if &lt;em&gt;snippets&lt;/em&gt; feature should be enabled by default for new projects. Defaults to &lt;code&gt;false&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PROJECTS_BUILDS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Set if &lt;em&gt;builds&lt;/em&gt; feature should be enabled by default for new projects. Defaults to &lt;code&gt;true&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PROJECTS_CONTAINER_REGISTRY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Set if &lt;em&gt;container_registry&lt;/em&gt; feature should be enabled by default for new projects. Defaults to &lt;code&gt;true&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_WEBHOOK_TIMEOUT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sets the timeout for webhooks. Defaults to &lt;code&gt;10&lt;/code&gt; seconds.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_NOTIFY_ON_BROKEN_BUILDS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable or disable broken build notification emails. Defaults to &lt;code&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_NOTIFY_PUSHER&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Add pusher to recipients list of broken build notification emails. Defaults to &lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_REPOS_DIR&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The git repositories folder in the container. Defaults to &lt;code&gt;/home/git/data/repositories&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_BACKUP_DIR&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The backup folder in the container. Defaults to &lt;code&gt;/home/git/data/backups&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_BACKUP_DIR_CHOWN&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Optionally change ownership of backup files on start-up. Defaults to &lt;code&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_BACKUP_DIR_GROUP&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Optionally group backups into a subfolder. Can also be used to place backups in to a subfolder on remote storage. Not used by default.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_BUILDS_DIR&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The build traces directory. Defaults to &lt;code&gt;/home/git/data/builds&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_DOWNLOADS_DIR&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The repository downloads directory. A temporary zip is created in this directory when users click &lt;strong&gt;Download Zip&lt;/strong&gt; on a project. Defaults to &lt;code&gt;/home/git/data/tmp/downloads&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_SHARED_DIR&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The directory to store the build artifacts. Defaults to &lt;code&gt;/home/git/data/shared&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_ARTIFACTS_ENABLED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable/Disable GitLab artifacts support. Defaults to &lt;code&gt;true&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_ARTIFACTS_DIR&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Directory to store the artifacts. Defaults to &lt;code&gt;$GITLAB_SHARED_DIR/artifacts&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;AWS_ACCESS_KEY_ID&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Default AWS access key to be used for object store. Defaults to &lt;code&gt;AWS_ACCESS_KEY_ID&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;AWS_SECRET_ACCESS_KEY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Default AWS access key to be used for object store. Defaults to &lt;code&gt;AWS_SECRET_ACCESS_KEY&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_OBJECT_STORE_CONNECTION_GOOGLE_PROJECT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Default Google project to use for Object Store.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_OBJECT_STORE_CONNECTION_GOOGLE_CLIENT_EMAIL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Default Google service account email to use for Object Store.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_OBJECT_STORE_CONNECTION_GOOGLE_JSON_KEY_LOCATION&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Default Google key file Defaults to &lt;code&gt;/gcs/key.json&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_OBJECT_STORE_CONNECTION_PROVIDER&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Default object store connection provider. Defaults to &lt;code&gt;AWS&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_ARTIFACTS_OBJECT_STORE_ENABLED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enables Object Store for Artifacts that will be remote stored. Defaults to &lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_ARTIFACTS_OBJECT_STORE_REMOTE_DIRECTORY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Bucket name to store the artifacts. Defaults to &lt;code&gt;artifacts&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_ARTIFACTS_OBJECT_STORE_DIRECT_UPLOAD&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Set to true to enable direct upload of Artifacts without the need of local shared storage.  Defaults to &lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_ARTIFACTS_OBJECT_STORE_BACKGROUND_UPLOAD&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Temporary option to limit automatic upload. Defaults to &lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_ARTIFACTS_OBJECT_STORE_PROXY_DOWNLOAD&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Passthrough all downloads via GitLab instead of using Redirects to Object Storage. Defaults to &lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_ARTIFACTS_OBJECT_STORE_CONNECTION_PROVIDER&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Connection Provider for the Object Store. (&lt;code&gt;AWS&lt;/code&gt; or &lt;code&gt;Google&lt;/code&gt;) Defaults to &lt;code&gt;$GITLAB_OBJECT_STORE_CONNECTION_PROVIDER&lt;/code&gt; (&lt;code&gt;AWS&lt;/code&gt;)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_ARTIFACTS_OBJECT_STORE_CONNECTION_AWS_ACCESS_KEY_ID&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;AWS Access Key ID for the Bucket. Defaults to &lt;code&gt;$AWS_ACCESS_KEY_ID&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_ARTIFACTS_OBJECT_STORE_CONNECTION_AWS_SECRET_ACCESS_KEY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;AWS Secret Access Key. Defaults to &lt;code&gt;$AWS_SECRET_ACCESS_KEY&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_ARTIFACTS_OBJECT_STORE_CONNECTION_AWS_REGION&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;AWS Region. Defaults to &lt;code&gt;us-east-1&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_ARTIFACTS_OBJECT_STORE_CONNECTION_AWS_HOST&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Configure this for an compatible AWS host like minio. Defaults to &lt;code&gt;s3.amazonaws.com&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_ARTIFACTS_OBJECT_STORE_CONNECTION_AWS_ENDPOINT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;AWS Endpoint like &lt;code&gt;http://127.0.0.1:9000&lt;/code&gt;. Defaults to &lt;code&gt;nil&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_ARTIFACTS_OBJECT_STORE_CONNECTION_AWS_PATH_STYLE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Changes AWS Path Style to 'host/bucket_name/object' instead of 'bucket_name.host/object'. Defaults to &lt;code&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_ARTIFACTS_OBJECT_STORE_CONNECTION_GOOGLE_PROJECT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Google project. Defaults to &lt;code&gt;$GITLAB_OBJECT_STORE_CONNECTION_GOOGLE_PROJECT&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_ARTIFACTS_OBJECT_STORE_CONNECTION_GOOGLE_CLIENT_EMAIL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Google service account. Defaults to &lt;code&gt;$GITLAB_OBJECT_STORE_CONNECTION_GOOGLE_CLIENT_EMAIL&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_ARTIFACTS_OBJECT_STORE_CONNECTION_GOOGLE_JSON_KEY_LOCATION&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Default Google key file. Defaults to &lt;code&gt;$GITLAB_OBJECT_STORE_CONNECTION_GOOGLE_JSON_KEY_LOCATION&lt;/code&gt; (&lt;code&gt;/gcs/key.json&lt;/code&gt;)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PIPELINE_SCHEDULE_WORKER_CRON&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Cron notation for the GitLab pipeline schedule worker. Defaults to &lt;code&gt;'19 * * * *'&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_LFS_ENABLED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable/Disable Git LFS support. Defaults to &lt;code&gt;true&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_LFS_OBJECTS_DIR&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Directory to store the lfs-objects. Defaults to &lt;code&gt;$GITLAB_SHARED_DIR/lfs-objects&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_LFS_OBJECT_STORE_ENABLED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enables Object Store for LFS that will be remote stored. Defaults to &lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_LFS_OBJECT_STORE_REMOTE_DIRECTORY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Bucket name to store the LFS. Defaults to &lt;code&gt;lfs-object&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_LFS_OBJECT_STORE_BACKGROUND_UPLOAD&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Temporary option to limit automatic upload. Defaults to &lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_LFS_OBJECT_STORE_PROXY_DOWNLOAD&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Passthrough all downloads via GitLab instead of using Redirects to Object Storage. Defaults to &lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_LFS_OBJECT_STORE_CONNECTION_PROVIDER&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Connection Provider for the Object Store. (&lt;code&gt;AWS&lt;/code&gt; or &lt;code&gt;Google&lt;/code&gt;) Defaults to &lt;code&gt;$GITLAB_OBJECT_STORE_CONNECTION_PROVIDER&lt;/code&gt; (&lt;code&gt;AWS&lt;/code&gt;)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_LFS_OBJECT_STORE_CONNECTION_AWS_ACCESS_KEY_ID&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;AWS Access Key ID for the Bucket. Defaults to &lt;code&gt;AWS_ACCESS_KEY_ID&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_LFS_OBJECT_STORE_CONNECTION_AWS_SECRET_ACCESS_KEY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;AWS Secret Access Key. Defaults to &lt;code&gt;AWS_SECRET_ACCESS_KEY&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_LFS_OBJECT_STORE_CONNECTION_AWS_REGION&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;AWS Region. Defaults to &lt;code&gt;us-east-1&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_LFS_OBJECT_STORE_CONNECTION_AWS_HOST&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Configure this for an compatible AWS host like minio. Defaults to &lt;code&gt;s3.amazonaws.com&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_LFS_OBJECT_STORE_CONNECTION_AWS_ENDPOINT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;AWS Endpoint like &lt;code&gt;http://127.0.0.1:9000&lt;/code&gt;. Defaults to &lt;code&gt;nil&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_LFS_OBJECT_STORE_CONNECTION_AWS_PATH_STYLE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Changes AWS Path Style to 'host/bucket_name/object' instead of 'bucket_name.host/object'. Defaults to &lt;code&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_LFS_OBJECT_STORE_CONNECTION_GOOGLE_PROJECT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Google project. Defaults to &lt;code&gt;$GITLAB_OBJECT_STORE_CONNECTION_GOOGLE_PROJECT&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_LFS_OBJECT_STORE_CONNECTION_GOOGLE_CLIENT_EMAIL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Google service account. Defaults to &lt;code&gt;$GITLAB_OBJECT_STORE_CONNECTION_GOOGLE_CLIENT_EMAIL&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_LFS_OBJECT_STORE_CONNECTION_GOOGLE_JSON_KEY_LOCATION&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Default Google key file. Defaults to &lt;code&gt;$GITLAB_OBJECT_STORE_CONNECTION_GOOGLE_JSON_KEY_LOCATION&lt;/code&gt; (&lt;code&gt;/gcs/key.json&lt;/code&gt;)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_UPLOADS_STORAGE_PATH&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The location where uploads objects are stored. Defaults to &lt;code&gt;$GITLAB_SHARED_DIR/public&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_UPLOADS_BASE_DIR&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Mapping for the &lt;code&gt;GITLAB_UPLOADS_STORAGE_PATH&lt;/code&gt;. Defaults to &lt;code&gt;uploads/-/system&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_UPLOADS_OBJECT_STORE_ENABLED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enables Object Store for UPLOADS that will be remote stored. Defaults to &lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_UPLOADS_OBJECT_STORE_REMOTE_DIRECTORY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Bucket name to store the UPLOADS. Defaults to &lt;code&gt;uploads&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_UPLOADS_OBJECT_STORE_BACKGROUND_UPLOAD&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Temporary option to limit automatic upload. Defaults to &lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_UPLOADS_OBJECT_STORE_PROXY_DOWNLOAD&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Passthrough all downloads via GitLab instead of using Redirects to Object Storage. Defaults to &lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_UPLOADS_OBJECT_STORE_CONNECTION_PROVIDER&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Connection Provider for the Object Store. (&lt;code&gt;AWS&lt;/code&gt; or &lt;code&gt;Google&lt;/code&gt;) Defaults to &lt;code&gt;$GITLAB_OBJECT_STORE_CONNECTION_PROVIDER&lt;/code&gt; (&lt;code&gt;AWS&lt;/code&gt;)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_UPLOADS_OBJECT_STORE_CONNECTION_AWS_ACCESS_KEY_ID&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;AWS Access Key ID for the Bucket. Defaults to &lt;code&gt;AWS_ACCESS_KEY_ID&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_UPLOADS_OBJECT_STORE_CONNECTION_AWS_SECRET_ACCESS_KEY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;AWS Secret Access Key. Defaults to &lt;code&gt;AWS_SECRET_ACCESS_KEY&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_UPLOADS_OBJECT_STORE_CONNECTION_AWS_REGION&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;AWS Region. Defaults to &lt;code&gt;us-east-1&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_UPLOADS_OBJECT_STORE_CONNECTION_AWS_HOST&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Configure this for an compatible AWS host like minio. Defaults to &lt;code&gt;s3.amazonaws.com&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_UPLOADS_OBJECT_STORE_CONNECTION_AWS_ENDPOINT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;AWS Endpoint like &lt;code&gt;http://127.0.0.1:9000&lt;/code&gt;. Defaults to &lt;code&gt;nil&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_UPLOADS_OBJECT_STORE_CONNECTION_AWS_PATH_STYLE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Changes AWS Path Style to 'host/bucket_name/object' instead of 'bucket_name.host/object'. Defaults to &lt;code&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_UPLOADS_OBJECT_STORE_CONNECTION_GOOGLE_PROJECT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Google project. Defaults to &lt;code&gt;$GITLAB_OBJECT_STORE_CONNECTION_GOOGLE_PROJECT&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_UPLOADS_OBJECT_STORE_CONNECTION_GOOGLE_CLIENT_EMAIL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Google service account. Defaults to &lt;code&gt;$GITLAB_OBJECT_STORE_CONNECTION_GOOGLE_CLIENT_EMAIL&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_UPLOADS_OBJECT_STORE_CONNECTION_GOOGLE_JSON_KEY_LOCATION&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Default Google key file. Defaults to &lt;code&gt;$GITLAB_OBJECT_STORE_CONNECTION_GOOGLE_JSON_KEY_LOCATION&lt;/code&gt; (&lt;code&gt;/gcs/key.json&lt;/code&gt;)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_MATTERMOST_ENABLED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable/Disable GitLab Mattermost for &lt;em&gt;Add Mattermost button&lt;/em&gt;. Defaults to &lt;code&gt;false&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_MATTERMOST_URL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sets Mattermost URL. Defaults to &lt;code&gt;https://mattermost.example.com&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_BACKUP_SCHEDULE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Setup cron job to automatic backups. Possible values &lt;code&gt;disable&lt;/code&gt;, &lt;code&gt;daily&lt;/code&gt;, &lt;code&gt;weekly&lt;/code&gt; or &lt;code&gt;monthly&lt;/code&gt;. Disabled by default&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_BACKUP_EXPIRY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Configure how long (in seconds) to keep backups before they are deleted. By default when automated backups are disabled backups are kept forever (0 seconds), else the backups expire in 7 days (604800 seconds).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_BACKUP_PG_SCHEMA&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Specify the PostgreSQL schema for the backups. No defaults, which means that all schemas will be backed up. see #524&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_BACKUP_ARCHIVE_PERMISSIONS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sets the permissions of the backup archives. Defaults to &lt;code&gt;0600&lt;/code&gt;. &lt;a href="http://doc.gitlab.com/ce/raketasks/backup_restore.html#backup-archive-permissions" rel="nofollow"&gt;See&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_BACKUP_TIME&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Set a time for the automatic backups in &lt;code&gt;HH:MM&lt;/code&gt; format. Defaults to &lt;code&gt;04:00&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_BACKUP_SKIP&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Specified sections are skipped by the backups. Defaults to empty, i.e. &lt;code&gt;lfs,uploads&lt;/code&gt;. &lt;a href="http://doc.gitlab.com/ce/raketasks/backup_restore.html#create-a-backup-of-the-gitlab-system" rel="nofollow"&gt;See&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_SSH_HOST&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The ssh host. Defaults to &lt;strong&gt;GITLAB_HOST&lt;/strong&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_SSH_PORT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The ssh port number. Defaults to &lt;code&gt;22&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_RELATIVE_URL_ROOT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The relative url of the GitLab server, e.g. &lt;code&gt;/git&lt;/code&gt;. No default.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_TRUSTED_PROXIES&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Add IP address reverse proxy to trusted proxy list, otherwise users will appear signed in from that address. Currently only a single entry is permitted. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_REGISTRY_ENABLED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enables the GitLab Container Registry. Defaults to &lt;code&gt;false&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_REGISTRY_HOST&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sets the GitLab Registry Host. Defaults to &lt;code&gt;registry.example.com&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_REGISTRY_PORT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sets the GitLab Registry Port. Defaults to &lt;code&gt;443&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_REGISTRY_API_URL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sets the GitLab Registry API URL. Defaults to &lt;code&gt;http://localhost:5000&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_REGISTRY_KEY_PATH&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sets the GitLab Registry Key Path. Defaults to &lt;code&gt;config/registry.key&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_REGISTRY_DIR&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Directory to store the container images will be shared with registry. Defaults to &lt;code&gt;$GITLAB_SHARED_DIR/registry&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_REGISTRY_ISSUER&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sets the GitLab Registry Issuer. Defaults to &lt;code&gt;gitlab-issuer&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PAGES_ENABLED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enables the GitLab Pages. Defaults to &lt;code&gt;false&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PAGES_DOMAIN&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sets the GitLab Pages Domain. Defaults to &lt;code&gt;example.com&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PAGES_DIR&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sets GitLab Pages directory where all pages will be stored. Defaults to &lt;code&gt;$GITLAB_SHARED_DIR/pages&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PAGES_PORT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sets GitLab Pages Port that will be used in NGINX. Defaults to &lt;code&gt;80&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PAGES_HTTPS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sets GitLab Pages to HTTPS and the gitlab-pages-ssl config will be used. Defaults to &lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PAGES_ARTIFACTS_SERVER&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Set to &lt;code&gt;true&lt;/code&gt; to enable pages artifactsserver, enabled by default.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PAGES_EXTERNAL_HTTP&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sets GitLab Pages external http to receive request on an independen port. Disabled by default&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PAGES_EXTERNAL_HTTPS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sets GitLab Pages external https to receive request on an independen port. Disabled by default&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PAGES_ACCESS_CONTROL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Set to &lt;code&gt;true&lt;/code&gt; to enable access control for pages. Allows access to a Pages site to be controlled based on a user’s membership to that project. Disabled by default.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PAGES_NGINX_PROXY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Disable the nginx proxy for gitlab pages, defaults to &lt;code&gt;true&lt;/code&gt;. When set to &lt;code&gt;false&lt;/code&gt; this will turn off the nginx proxy to the gitlab pages daemon, used when the user provides their own http load balancer in combination with a gitlab pages custom domain setup.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PAGES_ACCESS_SECRET&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Secret Hash, minimal 32 characters, if omitted, it will be auto generated.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PAGES_ACCESS_CONTROL_SERVER&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Gitlab instance URI, example: &lt;code&gt;https://gitlab.example.io&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PAGES_ACCESS_CLIENT_ID&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Client ID from earlier generated OAuth application&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PAGES_ACCESS_CLIENT_SECRET&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Client Secret from earlier genereated OAuth application&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_PAGES_ACCESS_REDIRECT_URI&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Redirect URI, non existing pages domain to redirect to pages daemon, &lt;code&gt;https://projects.example.io/auth&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_HTTPS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Set to &lt;code&gt;true&lt;/code&gt; to enable https support, disabled by default.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITALY_CLIENT_PATH&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Set default path for gitaly. defaults to &lt;code&gt;/home/git/gitaly&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITALY_TOKEN&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Set a gitaly token, blank by default.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_MONITORING_UNICORN_SAMPLER_INTERVAL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Time between sampling of unicorn socket metrics, in seconds, defaults to &lt;code&gt;10&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_MONITORING_IP_WHITELIST&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;IP whitelist to access monitoring endpoints, defaults to &lt;code&gt;0.0.0.0/8&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_MONITORING_SIDEKIQ_EXPORTER_ENABLED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Set to &lt;code&gt;true&lt;/code&gt; to enable the sidekiq exporter, enabled by default.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_MONITORING_SIDEKIQ_EXPORTER_ADDRESS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sidekiq exporter address, defaults to &lt;code&gt;0.0.0.0&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_MONITORING_SIDEKIQ_EXPORTER_PORT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sidekiq exporter port, defaults to &lt;code&gt;3807&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SSL_SELF_SIGNED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Set to &lt;code&gt;true&lt;/code&gt; when using self signed ssl certificates. &lt;code&gt;false&lt;/code&gt; by default.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SSL_CERTIFICATE_PATH&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Location of the ssl certificate. Defaults to &lt;code&gt;/home/git/data/certs/gitlab.crt&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SSL_KEY_PATH&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Location of the ssl private key. Defaults to &lt;code&gt;/home/git/data/certs/gitlab.key&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SSL_DHPARAM_PATH&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Location of the dhparam file. Defaults to &lt;code&gt;/home/git/data/certs/dhparam.pem&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SSL_VERIFY_CLIENT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable verification of client certificates using the &lt;code&gt;SSL_CA_CERTIFICATES_PATH&lt;/code&gt; file or setting this variable to &lt;code&gt;on&lt;/code&gt;. Defaults to &lt;code&gt;off&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SSL_CA_CERTIFICATES_PATH&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;List of SSL certificates to trust. Defaults to &lt;code&gt;/home/git/data/certs/ca.crt&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SSL_REGISTRY_KEY_PATH&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Location of the ssl private key for gitlab container registry. Defaults to &lt;code&gt;/home/git/data/certs/registry.key&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SSL_REGISTRY_CERT_PATH&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Location of the ssl certificate for the gitlab container registry. Defaults to &lt;code&gt;/home/git/data/certs/registry.crt&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SSL_PAGES_KEY_PATH&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Location of the ssl private key for gitlab pages. Defaults to &lt;code&gt;/home/git/data/certs/pages.key&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SSL_PAGES_CERT_PATH&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Location of the ssl certificate for the gitlab pages. Defaults to &lt;code&gt;/home/git/data/certs/pages.crt&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SSL_CIPHERS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;List of supported SSL ciphers: Defaults to &lt;code&gt;ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA:ECDHE-RSA-AES128-SHA:ECDHE-RSA-DES-CBC3-SHA:AES256-GCM-SHA384:AES128-GCM-SHA256:AES256-SHA256:AES128-SHA256:AES256-SHA:AES128-SHA:DES-CBC3-SHA:!aNULL:!eNULL:!EXPORT:!DES:!MD5:!PSK:!RC4&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;NGINX_WORKERS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The number of nginx workers to start. Defaults to &lt;code&gt;1&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;NGINX_SERVER_NAMES_HASH_BUCKET_SIZE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sets the bucket size for the server names hash tables. This is needed when you have long server_names or your an error message from nginx like &lt;em&gt;nginx: [emerg] could not build server_names_hash, you should increase server_names_hash_bucket_size:..&lt;/em&gt;. It should be only increment by a power of 2. Defaults to &lt;code&gt;32&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;NGINX_HSTS_ENABLED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Advanced configuration option for turning off the HSTS configuration. Applicable only when SSL is in use. Defaults to &lt;code&gt;true&lt;/code&gt;. See &lt;a href="https://github.com/sameersbn/docker-gitlab/issues/138"&gt;#138&lt;/a&gt; for use case scenario.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;NGINX_HSTS_MAXAGE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Advanced configuration option for setting the HSTS max-age in the gitlab nginx vHost configuration. Applicable only when SSL is in use. Defaults to &lt;code&gt;31536000&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;NGINX_PROXY_BUFFERING&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable &lt;code&gt;proxy_buffering&lt;/code&gt;. Defaults to &lt;code&gt;off&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;NGINX_ACCEL_BUFFERING&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable &lt;code&gt;X-Accel-Buffering&lt;/code&gt; header. Default to &lt;code&gt;no&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;NGINX_X_FORWARDED_PROTO&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Advanced configuration option for the &lt;code&gt;proxy_set_header X-Forwarded-Proto&lt;/code&gt; setting in the gitlab nginx vHost configuration. Defaults to &lt;code&gt;https&lt;/code&gt; when &lt;code&gt;GITLAB_HTTPS&lt;/code&gt; is &lt;code&gt;true&lt;/code&gt;, else defaults to &lt;code&gt;$scheme&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;NGINX_REAL_IP_RECURSIVE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;set to &lt;code&gt;on&lt;/code&gt; if docker container runs behind a reverse proxy,you may not want the IP address of the proxy to show up as the client address. &lt;code&gt;off&lt;/code&gt; by default.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;NGINX_REAL_IP_TRUSTED_ADDRESSES&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;You can have NGINX look for a different address to use by adding your reverse proxy to the &lt;code&gt;NGINX_REAL_IP_TRUSTED_ADDRESSES&lt;/code&gt;. Currently only a single entry is permitted. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;REDIS_HOST&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The hostname of the redis server. Defaults to &lt;code&gt;localhost&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;REDIS_PORT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The connection port of the redis server. Defaults to &lt;code&gt;6379&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;REDIS_DB_NUMBER&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The redis database number. Defaults to '0'.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;UNICORN_WORKERS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The number of unicorn workers to start. Defaults to &lt;code&gt;3&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;UNICORN_TIMEOUT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sets the timeout of unicorn worker processes. Defaults to &lt;code&gt;60&lt;/code&gt; seconds.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SIDEKIQ_CONCURRENCY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The number of concurrent sidekiq jobs to run. Defaults to &lt;code&gt;25&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SIDEKIQ_SHUTDOWN_TIMEOUT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Timeout for sidekiq shutdown. Defaults to &lt;code&gt;4&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SIDEKIQ_MEMORY_KILLER_MAX_RSS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Non-zero value enables the SidekiqMemoryKiller. Defaults to &lt;code&gt;1000000&lt;/code&gt;. For additional options refer &lt;a href="http://doc.gitlab.com/ce/operations/sidekiq_memory_killer.html" rel="nofollow"&gt;Configuring the MemoryKiller&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_SIDEKIQ_LOG_FORMAT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sidekiq log format that will be used. Defaults to &lt;code&gt;json&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DB_ADAPTER&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The database type. Currently only postgresql is supported. Over 12.1 postgres force. Possible values: &lt;code&gt;postgresql&lt;/code&gt;. Defaults to &lt;code&gt;postgresql&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DB_ENCODING&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The database encoding. For &lt;code&gt;DB_ADAPTER&lt;/code&gt; values &lt;code&gt;postresql&lt;/code&gt; this parameter defaults and &lt;code&gt;utf8&lt;/code&gt; respectively.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DB_HOST&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The database server hostname. Defaults to &lt;code&gt;localhost&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DB_PORT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The database server port. Defaults to &lt;code&gt;5432&lt;/code&gt; for postgresql.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DB_NAME&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The database database name. Defaults to &lt;code&gt;gitlabhq_production&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DB_USER&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The database database user. Defaults to &lt;code&gt;root&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DB_PASS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The database database password. Defaults to no password&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DB_POOL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The database database connection pool count. Defaults to &lt;code&gt;10&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;DB_PREPARED_STATEMENTS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Whether use database prepared statements. No defaults. But set to &lt;code&gt;false&lt;/code&gt; if you want to use with &lt;a href="https://pgbouncer.github.io/" rel="nofollow"&gt;PgBouncer&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SMTP_ENABLED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable mail delivery via SMTP. Defaults to &lt;code&gt;true&lt;/code&gt; if &lt;code&gt;SMTP_USER&lt;/code&gt; is defined, else defaults to &lt;code&gt;false&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SMTP_DOMAIN&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;SMTP domain. Defaults to&lt;code&gt; www.gmail.com&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SMTP_HOST&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;SMTP server host. Defaults to &lt;code&gt;smtp.gmail.com&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SMTP_PORT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;SMTP server port. Defaults to &lt;code&gt;587&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SMTP_USER&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;SMTP username.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SMTP_PASS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;SMTP password.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SMTP_STARTTLS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable STARTTLS. Defaults to &lt;code&gt;true&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SMTP_TLS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable SSL/TLS. Defaults to &lt;code&gt;false&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SMTP_OPENSSL_VERIFY_MODE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;SMTP openssl verification mode. Accepted values are &lt;code&gt;none&lt;/code&gt;, &lt;code&gt;peer&lt;/code&gt;, &lt;code&gt;client_once&lt;/code&gt; and &lt;code&gt;fail_if_no_peer_cert&lt;/code&gt;. Defaults to &lt;code&gt;none&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SMTP_AUTHENTICATION&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Specify the SMTP authentication method. Defaults to &lt;code&gt;login&lt;/code&gt; if &lt;code&gt;SMTP_USER&lt;/code&gt; is set.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SMTP_CA_ENABLED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable custom CA certificates for SMTP email configuration. Defaults to &lt;code&gt;false&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SMTP_CA_PATH&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Specify the &lt;code&gt;ca_path&lt;/code&gt; parameter for SMTP email configuration. Defaults to &lt;code&gt;/home/git/data/certs&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SMTP_CA_FILE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Specify the &lt;code&gt;ca_file&lt;/code&gt; parameter for SMTP email configuration. Defaults to &lt;code&gt;/home/git/data/certs/ca.crt&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;IMAP_ENABLED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable mail delivery via IMAP. Defaults to &lt;code&gt;true&lt;/code&gt; if &lt;code&gt;IMAP_USER&lt;/code&gt; is defined, else defaults to &lt;code&gt;false&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;IMAP_HOST&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;IMAP server host. Defaults to &lt;code&gt;imap.gmail.com&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;IMAP_PORT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;IMAP server port. Defaults to &lt;code&gt;993&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;IMAP_USER&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;IMAP username.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;IMAP_PASS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;IMAP password.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;IMAP_SSL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable SSL. Defaults to &lt;code&gt;true&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;IMAP_STARTTLS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable STARTSSL. Defaults to &lt;code&gt;false&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;IMAP_MAILBOX&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The name of the mailbox where incoming mail will end up. Defaults to &lt;code&gt;inbox&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LDAP_ENABLED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable LDAP. Defaults to &lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LDAP_LABEL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Label to show on login tab for LDAP server. Defaults to 'LDAP'&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LDAP_HOST&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;LDAP Host&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LDAP_PORT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;LDAP Port. Defaults to &lt;code&gt;389&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LDAP_UID&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;LDAP UID. Defaults to &lt;code&gt;sAMAccountName&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LDAP_METHOD&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;LDAP method, Possible values are &lt;code&gt;simple_tls&lt;/code&gt;, &lt;code&gt;start_tls&lt;/code&gt; and &lt;code&gt;plain&lt;/code&gt;. Defaults to &lt;code&gt;plain&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LDAP_VERIFY_SSL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;LDAP verify ssl certificate for installations that are using &lt;code&gt;LDAP_METHOD: 'simple_tls'&lt;/code&gt; or &lt;code&gt;LDAP_METHOD: 'start_tls'&lt;/code&gt;. Defaults to &lt;code&gt;true&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LDAP_CA_FILE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Specifies the path to a file containing a PEM-format CA certificate. Defaults to ``&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LDAP_SSL_VERSION&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Specifies the SSL version for OpenSSL to use, if the OpenSSL default is not appropriate. Example: 'TLSv1_1'. Defaults to ``&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LDAP_BIND_DN&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;No default.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LDAP_PASS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;LDAP password&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LDAP_TIMEOUT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Timeout, in seconds, for LDAP queries. Defaults to &lt;code&gt;10&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LDAP_ACTIVE_DIRECTORY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Specifies if LDAP server is Active Directory LDAP server. If your LDAP server is not AD, set this to &lt;code&gt;false&lt;/code&gt;. Defaults to &lt;code&gt;true&lt;/code&gt;,&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LDAP_ALLOW_USERNAME_OR_EMAIL_LOGIN&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;If enabled, GitLab will ignore everything after the first '@' in the LDAP username submitted by the user on login. Defaults to &lt;code&gt;false&lt;/code&gt; if &lt;code&gt;LDAP_UID&lt;/code&gt; is &lt;code&gt;userPrincipalName&lt;/code&gt;, else &lt;code&gt;true&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LDAP_BLOCK_AUTO_CREATED_USERS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Locks down those users until they have been cleared by the admin. Defaults to &lt;code&gt;false&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LDAP_BASE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Base where we can search for users. No default.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LDAP_USER_FILTER&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Filter LDAP users. No default.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LDAP_USER_ATTRIBUTE_USERNAME&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Attribute fields for the identification of a user. Default to &lt;code&gt;['uid', 'userid', 'sAMAccountName']&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LDAP_USER_ATTRIBUTE_MAIL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Attribute fields for the shown mail address. Default to &lt;code&gt;['mail', 'email', 'userPrincipalName']&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LDAP_USER_ATTRIBUTE_NAME&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Attribute field for the used username of a user. Default to &lt;code&gt;cn&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LDAP_USER_ATTRIBUTE_FIRSTNAME&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Attribute field for the forename of a user. Default to &lt;code&gt;givenName&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LDAP_USER_ATTRIBUTE_LASTNAME&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Attribute field for the surname of a user. Default to &lt;code&gt;sn&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;LDAP_LOWERCASE_USERNAMES&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;GitLab will lower case the username for the LDAP Server. Defaults to &lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_ENABLED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable OAuth support. Defaults to &lt;code&gt;true&lt;/code&gt; if any of the support OAuth providers is configured, else defaults to &lt;code&gt;false&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_AUTO_SIGN_IN_WITH_PROVIDER&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Automatically sign in with a specific OAuth provider without showing GitLab sign-in page. Accepted values are &lt;code&gt;cas3&lt;/code&gt;, &lt;code&gt;github&lt;/code&gt;, &lt;code&gt;bitbucket&lt;/code&gt;, &lt;code&gt;gitlab&lt;/code&gt;, &lt;code&gt;google_oauth2&lt;/code&gt;, &lt;code&gt;facebook&lt;/code&gt;, &lt;code&gt;twitter&lt;/code&gt;, &lt;code&gt;saml&lt;/code&gt;, &lt;code&gt;crowd&lt;/code&gt;, &lt;code&gt;auth0&lt;/code&gt; and &lt;code&gt;azure_oauth2&lt;/code&gt;. No default.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_ALLOW_SSO&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Comma separated list of oauth providers for single sign-on. This allows users to login without having a user account. The account is created automatically when authentication is successful. Accepted values are &lt;code&gt;cas3&lt;/code&gt;, &lt;code&gt;github&lt;/code&gt;, &lt;code&gt;bitbucket&lt;/code&gt;, &lt;code&gt;gitlab&lt;/code&gt;, &lt;code&gt;google_oauth2&lt;/code&gt;, &lt;code&gt;facebook&lt;/code&gt;, &lt;code&gt;twitter&lt;/code&gt;, &lt;code&gt;saml&lt;/code&gt;, &lt;code&gt;crowd&lt;/code&gt;, &lt;code&gt;auth0&lt;/code&gt; and &lt;code&gt;azure_oauth2&lt;/code&gt;. No default.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_BLOCK_AUTO_CREATED_USERS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Locks down those users until they have been cleared by the admin. Defaults to &lt;code&gt;true&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_AUTO_LINK_LDAP_USER&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Look up new users in LDAP servers. If a match is found (same uid), automatically link the omniauth identity with the LDAP account. Defaults to &lt;code&gt;false&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_AUTO_LINK_SAML_USER&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Allow users with existing accounts to login and auto link their account via SAML login, without having to do a manual login first and manually add SAML. Defaults to &lt;code&gt;false&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_EXTERNAL_PROVIDERS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Comma separated list if oauth providers to disallow access to &lt;code&gt;internal&lt;/code&gt; projects. Users creating accounts via these providers will have access internal projects. Accepted values are &lt;code&gt;cas3&lt;/code&gt;, &lt;code&gt;github&lt;/code&gt;, &lt;code&gt;bitbucket&lt;/code&gt;, &lt;code&gt;gitlab&lt;/code&gt;, &lt;code&gt;google_oauth2&lt;/code&gt;, &lt;code&gt;facebook&lt;/code&gt;, &lt;code&gt;twitter&lt;/code&gt;, &lt;code&gt;saml&lt;/code&gt;, &lt;code&gt;crowd&lt;/code&gt;, &lt;code&gt;auth0&lt;/code&gt; and &lt;code&gt;azure_oauth2&lt;/code&gt;. No default.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_CAS3_LABEL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The "Sign in with" button label. Defaults to "cas3".&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_CAS3_SERVER&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;CAS3 server URL. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_CAS3_DISABLE_SSL_VERIFICATION&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Disable CAS3 SSL verification. Defaults to &lt;code&gt;false&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_CAS3_LOGIN_URL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;CAS3 login URL. Defaults to &lt;code&gt;/cas/login&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_CAS3_VALIDATE_URL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;CAS3 validation URL. Defaults to &lt;code&gt;/cas/p3/serviceValidate&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_CAS3_LOGOUT_URL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;CAS3 logout URL. Defaults to &lt;code&gt;/cas/logout&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_GOOGLE_API_KEY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Google App Client ID. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_GOOGLE_APP_SECRET&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Google App Client Secret. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_GOOGLE_RESTRICT_DOMAIN&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;List of Google App restricted domains. Value is comma separated list of single quoted groups. Example: &lt;code&gt;'exemple.com','exemple2.com'&lt;/code&gt;. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_FACEBOOK_API_KEY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Facebook App API key. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_FACEBOOK_APP_SECRET&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Facebook App API secret. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_TWITTER_API_KEY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Twitter App API key. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_TWITTER_APP_SECRET&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Twitter App API secret. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_AUTHENTIQ_CLIENT_ID&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;authentiq Client ID. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_AUTHENTIQ_CLIENT_SECRET&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;authentiq Client secret. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_AUTHENTIQ_SCOPE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Scope of Authentiq Application Defaults to &lt;code&gt;'aq:name email~rs address aq:push'&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_AUTHENTIQ_REDIRECT_URI&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Callback URL for Authentiq. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_GITHUB_API_KEY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;GitHub App Client ID. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_GITHUB_APP_SECRET&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;GitHub App Client secret. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_GITHUB_URL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Url to the GitHub Enterprise server. Defaults to &lt;a href="https://github.com"&gt;https://github.com&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_GITHUB_VERIFY_SSL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable SSL verification while communicating with the GitHub server. Defaults to &lt;code&gt;true&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_GITLAB_API_KEY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;GitLab App Client ID. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_GITLAB_APP_SECRET&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;GitLab App Client secret. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_BITBUCKET_API_KEY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;BitBucket App Client ID. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_BITBUCKET_APP_SECRET&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;BitBucket App Client secret. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_SAML_ASSERTION_CONSUMER_SERVICE_URL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The URL at which the SAML assertion should be received. When &lt;code&gt;GITLAB_HTTPS=true&lt;/code&gt;, defaults to &lt;code&gt;https://${GITLAB_HOST}/users/auth/saml/callback&lt;/code&gt; else defaults to &lt;code&gt;http://${GITLAB_HOST}/users/auth/saml/callback&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_SAML_IDP_CERT_FINGERPRINT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The SHA1 fingerprint of the certificate. No Defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_SAML_IDP_SSO_TARGET_URL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The URL to which the authentication request should be sent. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_SAML_ISSUER&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The name of your application. When &lt;code&gt;GITLAB_HTTPS=true&lt;/code&gt;, defaults to &lt;code&gt;https://${GITLAB_HOST}&lt;/code&gt; else defaults to &lt;code&gt;http://${GITLAB_HOST}&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_SAML_LABEL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;The "Sign in with" button label. Defaults to "Our SAML Provider".&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_SAML_NAME_IDENTIFIER_FORMAT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Describes the format of the username required by GitLab, Defaults to &lt;code&gt;urn:oasis:names:tc:SAML:2.0:nameid-format:transient&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_SAML_GROUPS_ATTRIBUTE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Map groups attribute in a SAMLResponse to external groups. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_SAML_EXTERNAL_GROUPS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;List of external groups in a SAMLResponse. Value is comma separated list of single quoted groups. Example: &lt;code&gt;'group1','group2'&lt;/code&gt;. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_SAML_ATTRIBUTE_STATEMENTS_EMAIL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Map 'email' attribute name in a SAMLResponse to entries in the OmniAuth info hash, No defaults. See &lt;a href="http://doc.gitlab.com/ce/integration/saml.html#attribute_statements" rel="nofollow"&gt;GitLab documentation&lt;/a&gt; for more details.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_SAML_ATTRIBUTE_STATEMENTS_USERNAME&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Map 'username' attribute in a SAMLResponse to entries in the OmniAuth info hash, No defaults. See &lt;a href="http://doc.gitlab.com/ce/integration/saml.html#attribute_statements" rel="nofollow"&gt;GitLab documentation&lt;/a&gt; for more details.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_SAML_ATTRIBUTE_STATEMENTS_NAME&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Map 'name' attribute in a SAMLResponse to entries in the OmniAuth info hash, No defaults. See &lt;a href="http://doc.gitlab.com/ce/integration/saml.html#attribute_statements" rel="nofollow"&gt;GitLab documentation&lt;/a&gt; for more details.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_SAML_ATTRIBUTE_STATEMENTS_FIRST_NAME&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Map 'first_name' attribute in a SAMLResponse to entries in the OmniAuth info hash, No defaults. See &lt;a href="http://doc.gitlab.com/ce/integration/saml.html#attribute_statements" rel="nofollow"&gt;GitLab documentation&lt;/a&gt; for more details.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_SAML_ATTRIBUTE_STATEMENTS_LAST_NAME&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Map 'last_name' attribute in a SAMLResponse to entries in the OmniAuth info hash, No defaults. See &lt;a href="http://doc.gitlab.com/ce/integration/saml.html#attribute_statements" rel="nofollow"&gt;GitLab documentation&lt;/a&gt; for more details.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_CROWD_SERVER_URL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Crowd server url. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_CROWD_APP_NAME&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Crowd server application name. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_CROWD_APP_PASSWORD&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Crowd server application password. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_AUTH0_CLIENT_ID&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Auth0 Client ID. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_AUTH0_CLIENT_SECRET&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Auth0 Client secret. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_AUTH0_DOMAIN&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Auth0 Domain. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_AUTH0_SCOPE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Auth0 Scope. Defaults to &lt;code&gt;openid profile email&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_AZURE_API_KEY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Azure Client ID. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_AZURE_API_SECRET&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Azure Client secret. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;OAUTH_AZURE_TENANT_ID&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Azure Tenant ID. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_GRAVATAR_ENABLED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enables gravatar integration. Defaults to &lt;code&gt;true&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_GRAVATAR_HTTP_URL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sets a custom gravatar url. Defaults to &lt;code&gt;http://www.gravatar.com/avatar/%{hash}?s=%{size}&amp;amp;d=identicon&lt;/code&gt;. This can be used for &lt;a href="http://doc.gitlab.com/ce/customization/libravatar.html" rel="nofollow"&gt;Libravatar integration&lt;/a&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_GRAVATAR_HTTPS_URL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Same as above, but for https. Defaults to &lt;code&gt;https://secure.gravatar.com/avatar/%{hash}?s=%{size}&amp;amp;d=identicon&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;USERMAP_UID&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sets the uid for user &lt;code&gt;git&lt;/code&gt; to the specified uid. Defaults to &lt;code&gt;1000&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;USERMAP_GID&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sets the gid for group &lt;code&gt;git&lt;/code&gt; to the specified gid. Defaults to &lt;code&gt;USERMAP_UID&lt;/code&gt; if defined, else defaults to &lt;code&gt;1000&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GOOGLE_ANALYTICS_ID&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Google Analytics ID. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;PIWIK_URL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sets the Piwik URL. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;PIWIK_SITE_ID&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sets the Piwik site ID. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;AWS_BACKUPS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enables automatic uploads to an Amazon S3 instance. Defaults to &lt;code&gt;false&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;AWS_BACKUP_REGION&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;AWS region. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;AWS_BACKUP_ENDPOINT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;AWS endpoint. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;AWS_BACKUP_ACCESS_KEY_ID&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;AWS access key id. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;AWS_BACKUP_SECRET_ACCESS_KEY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;AWS secret access key. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;AWS_BACKUP_BUCKET&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;AWS bucket for backup uploads. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;AWS_BACKUP_MULTIPART_CHUNK_SIZE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enables mulitpart uploads when file size reaches a defined size. See at &lt;a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/uploadobjusingmpu.html" rel="nofollow"&gt;AWS S3 Docs&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;AWS_BACKUP_ENCRYPTION&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Turns on AWS Server-Side Encryption.  Defaults to &lt;code&gt;false&lt;/code&gt;. See at &lt;a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/UsingServerSideEncryption.html" rel="nofollow"&gt;AWS S3 Docs&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;AWS_BACKUP_STORAGE_CLASS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Configure the storage class for the item. Defaults to &lt;code&gt;STANDARD&lt;/code&gt;  See at &lt;a href="http://docs.aws.amazon.com/AmazonS3/latest/dev/storage-class-intro.html" rel="nofollow"&gt;AWS S3 Docs&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;AWS_BACKUP_SIGNATURE_VERSION&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Configure the storage signature version. Defaults to &lt;code&gt;4&lt;/code&gt;  See at &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingAWSSDK.html#specify-signature-version" rel="nofollow"&gt;AWS S3 Docs&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GCS_BACKUPS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enables automatic uploads to an Google Cloud Storage (GCS) instance. Defaults to &lt;code&gt;false&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GCS_BACKUP_ACCESS_KEY_ID&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;GCS access key id. No defaults&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GCS_BACKUP_SECRET_ACCESS_KEY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;GCS secret access key. No defaults&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GCS_BACKUP_BUCKET&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;GCS bucket for backup uploads. No defaults&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_ROBOTS_PATH&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Location of custom &lt;code&gt;robots.txt&lt;/code&gt;. Uses GitLab's default &lt;code&gt;robots.txt&lt;/code&gt; configuration by default. See &lt;a href="http://www.robotstxt.org" rel="nofollow"&gt;www.robotstxt.org&lt;/a&gt; for examples.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;RACK_ATTACK_ENABLED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable/disable rack middleware for blocking &amp;amp; throttling abusive requests Defaults to &lt;code&gt;true&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;RACK_ATTACK_WHITELIST&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Always allow requests from whitelisted host. Defaults to &lt;code&gt;127.0.0.1&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;RACK_ATTACK_MAXRETRY&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Number of failed auth attempts before which an IP should be banned. Defaults to &lt;code&gt;10&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;RACK_ATTACK_FINDTIME&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Number of seconds before resetting the per IP auth attempt counter. Defaults to &lt;code&gt;60&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;RACK_ATTACK_BANTIME&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Number of seconds an IP should be banned after too many auth attempts. Defaults to &lt;code&gt;3600&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;GITLAB_WORKHORSE_TIMEOUT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Timeout for gitlab workhorse http proxy. Defaults to &lt;code&gt;5m0s&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SENTRY_ENABLED&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enables Error Reporting and Logging with Sentry. Defaults to &lt;code&gt;false&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SENTRY_DSN&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sentry DSN. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SENTRY_CLIENTSIDE_DSN&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sentry clientside DSN. No defaults.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;SENTRY_ENVIRONMENT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Sentry environment. Defaults to &lt;code&gt;production&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;&lt;a id="user-content-docker-secrets-and-configs" class="anchor" aria-hidden="true" href="#docker-secrets-and-configs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Docker secrets and configs&lt;/h3&gt;
&lt;p&gt;All the above environment variables can be put into a &lt;a href="https://docs.docker.com/compose/compose-file/#secrets" rel="nofollow"&gt;secrets&lt;/a&gt; or &lt;a href="https://docs.docker.com/compose/compose-file/#configs" rel="nofollow"&gt;config&lt;/a&gt; file
and then both docker-compose and Docker Swarm can import them into your gitlab container.&lt;/p&gt;
&lt;p&gt;On startup, the gitlab container will source env vars from a config file labeled &lt;code&gt;gitlab-config&lt;/code&gt;, and then a secrets file labeled &lt;code&gt;gitlab-secrets&lt;/code&gt; (both mounted in the default locations).&lt;/p&gt;
&lt;p&gt;See the example &lt;a href="./contrib/docker-swarm/docker-compose.yml"&gt;&lt;code&gt;contrib/docker-swarm/docker-compose.yml&lt;/code&gt;&lt;/a&gt; file, and the
example &lt;code&gt;gitlab.configs&lt;/code&gt; and &lt;code&gt;gitlab.secrets&lt;/code&gt; file.
You may as well choose file names other than the example source files (&lt;code&gt;gitlab.configs&lt;/code&gt; and &lt;code&gt;gitlab.secrets&lt;/code&gt;) and update
the &lt;code&gt;file: ./gitlab.configs&lt;/code&gt; and &lt;code&gt;file: ./gitlab.secrets&lt;/code&gt; references accordingly. But do not alter the config
keys &lt;a href="contrib/docker-swarm/docker-compose.yml#L158"&gt;&lt;code&gt;gitlab-configs&lt;/code&gt;&lt;/a&gt; and
&lt;a href="contrib/docker-swarm/docker-compose.yml#L162"&gt;&lt;code&gt;gitlab-secrets&lt;/code&gt;&lt;/a&gt; as they are currently
&lt;a href="./assets/runtime/functions#L4:L9"&gt;hardcoded&lt;/a&gt; and thus must be kept as in the example.&lt;/p&gt;
&lt;p&gt;If you're not using one of these files, then don't include its entry in the docker-compose file.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-maintenance" class="anchor" aria-hidden="true" href="#maintenance"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Maintenance&lt;/h1&gt;
&lt;h2&gt;&lt;a id="user-content-creating-backups" class="anchor" aria-hidden="true" href="#creating-backups"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Creating backups&lt;/h2&gt;
&lt;p&gt;GitLab defines a rake task to take a backup of your gitlab installation. The backup consists of all git repositories, uploaded files and as you might expect, the sql database.&lt;/p&gt;
&lt;p&gt;Before taking a backup make sure the container is stopped and removed to avoid container name conflicts.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker stop gitlab &lt;span class="pl-k"&gt;&amp;amp;&amp;amp;&lt;/span&gt; docker rm gitlab&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Execute the rake task to create a backup.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab -it --rm [OPTIONS] \
    sameersbn/gitlab:12.5.2 app:rake gitlab:backup:create&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A backup will be created in the backups folder of the &lt;a href="#data-store"&gt;Data Store&lt;/a&gt;. You can change the location of the backups using the &lt;code&gt;GITLAB_BACKUP_DIR&lt;/code&gt; configuration parameter.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;P.S. Backups can also be generated on a running instance using &lt;code&gt;docker exec&lt;/code&gt; as described in the &lt;a href="#rake-tasks"&gt;Rake Tasks&lt;/a&gt; section. However, to avoid undesired side-effects, I advice against running backup and restore operations on a running instance.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;When using &lt;code&gt;docker-compose&lt;/code&gt; you may use the following command to execute the backup.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker-compose rm -sf gitlab
docker-compose run --rm gitlab app:rake gitlab:backup:create&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Afterwards you can bring your Instance back with the following command:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker-compose up -d&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-restoring-backups" class="anchor" aria-hidden="true" href="#restoring-backups"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Restoring Backups&lt;/h2&gt;
&lt;p&gt;GitLab also defines a rake task to restore a backup.&lt;/p&gt;
&lt;p&gt;Before performing a restore make sure the container is stopped and removed to avoid container name conflicts.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker stop gitlab &lt;span class="pl-k"&gt;&amp;amp;&amp;amp;&lt;/span&gt; docker rm gitlab&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If this is a fresh database that you're doing the restore on, first
you need to prepare the database:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab -it --rm [OPTIONS] \
    sameersbn/gitlab:12.5.2 app:rake db:setup&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Execute the rake task to restore a backup. Make sure you run the container in interactive mode &lt;code&gt;-it&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab -it --rm [OPTIONS] \
    sameersbn/gitlab:12.5.2 app:rake gitlab:backup:restore&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The list of all available backups will be displayed in reverse chronological order. Select the backup you want to restore and continue.&lt;/p&gt;
&lt;p&gt;To avoid user interaction in the restore operation, specify the timestamp of the backup using the &lt;code&gt;BACKUP&lt;/code&gt; argument to the rake task.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab -it --rm [OPTIONS] \
    sameersbn/gitlab:12.5.2 app:rake gitlab:backup:restore BACKUP=1417624827&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When using &lt;code&gt;docker-compose&lt;/code&gt; you may use the following command to execute the restore.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker-compose run --rm gitlab app:rake gitlab:backup:restore &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; List available backups&lt;/span&gt;
docker-compose run --rm gitlab app:rake gitlab:backup:restore BACKUP=1417624827 &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Choose to restore from 1417624827&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-host-key-backups-ssh" class="anchor" aria-hidden="true" href="#host-key-backups-ssh"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Host Key Backups (ssh)&lt;/h2&gt;
&lt;p&gt;SSH keys are not backed up in the normal gitlab backup process. You
will need to backup the &lt;code&gt;ssh/&lt;/code&gt; directory in the data volume by hand
and you will want to restore it prior to doing a gitlab restore.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-automated-backups" class="anchor" aria-hidden="true" href="#automated-backups"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Automated Backups&lt;/h2&gt;
&lt;p&gt;The image can be configured to automatically take backups &lt;code&gt;daily&lt;/code&gt;, &lt;code&gt;weekly&lt;/code&gt; or &lt;code&gt;monthly&lt;/code&gt; using the &lt;code&gt;GITLAB_BACKUP_SCHEDULE&lt;/code&gt; configuration option.&lt;/p&gt;
&lt;p&gt;Daily backups are created at &lt;code&gt;GITLAB_BACKUP_TIME&lt;/code&gt; which defaults to &lt;code&gt;04:00&lt;/code&gt; everyday. Weekly backups are created every Sunday at the same time as the daily backups. Monthly backups are created on the 1st of every month at the same time as the daily backups.&lt;/p&gt;
&lt;p&gt;By default, when automated backups are enabled, backups are held for a period of 7 days. While when automated backups are disabled, the backups are held for an infinite period of time. This behavior can be configured via the &lt;code&gt;GITLAB_BACKUP_EXPIRY&lt;/code&gt; option.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-amazon-web-services-aws-remote-backups" class="anchor" aria-hidden="true" href="#amazon-web-services-aws-remote-backups"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Amazon Web Services (AWS) Remote Backups&lt;/h3&gt;
&lt;p&gt;The image can be configured to automatically upload the backups to an AWS S3 bucket. To enable automatic AWS backups first add &lt;code&gt;--env 'AWS_BACKUPS=true'&lt;/code&gt; to the docker run command. In addition &lt;code&gt;AWS_BACKUP_REGION&lt;/code&gt; and &lt;code&gt;AWS_BACKUP_BUCKET&lt;/code&gt; must be properly configured to point to the desired AWS location. Finally an IAM user must be configured with appropriate access permission and their AWS keys exposed through &lt;code&gt;AWS_BACKUP_ACCESS_KEY_ID&lt;/code&gt; and &lt;code&gt;AWS_BACKUP_SECRET_ACCESS_KEY&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;More details about the appropriate IAM user properties can found on &lt;a href="http://doc.gitlab.com/ce/raketasks/backup_restore.html#upload-backups-to-remote-cloud-storage" rel="nofollow"&gt;doc.gitlab.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;For remote backup to selfhosted s3 compatible storage, use &lt;code&gt;AWS_BACKUP_ENDPOINT&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;AWS uploads are performed alongside normal backups, both through the appropriate &lt;code&gt;app:rake&lt;/code&gt; command and when an automatic backup is performed.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-google-cloud-storage-gcs-remote-backups" class="anchor" aria-hidden="true" href="#google-cloud-storage-gcs-remote-backups"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Google Cloud Storage (GCS) Remote Backups&lt;/h3&gt;
&lt;p&gt;The image can be configured to automatically upload the backups to an Google Cloud Storage bucket. To enable automatic GCS backups first add &lt;code&gt;--env 'GCS_BACKUPS=true'&lt;/code&gt; to the docker run command. In addition &lt;code&gt;GCS_BACKUP_BUCKET&lt;/code&gt; must be properly configured to point to the desired GCS location.
Finally a couple of &lt;code&gt;Interoperable storage access keys&lt;/code&gt; user must be created and their keys exposed through &lt;code&gt;GCS_BACKUP_ACCESS_KEY_ID&lt;/code&gt; and &lt;code&gt;GCS_BACKUP_SECRET_ACCESS_KEY&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;More details about the Cloud storage interoperability  properties can found on &lt;a href="https://cloud.google.com/storage/docs/interoperability" rel="nofollow"&gt;cloud.google.com/storage&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;GCS uploads are performed alongside normal backups, both through the appropriate &lt;code&gt;app:rake&lt;/code&gt; command and when an automatic backup is performed.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-rake-tasks" class="anchor" aria-hidden="true" href="#rake-tasks"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Rake Tasks&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;app:rake&lt;/code&gt; command allows you to run gitlab rake tasks. To run a rake task simply specify the task to be executed to the &lt;code&gt;app:rake&lt;/code&gt; command. For example, if you want to gather information about GitLab and the system it runs on.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab -it --rm [OPTIONS] \
    sameersbn/gitlab:12.5.2 app:rake gitlab:env:info&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can also use &lt;code&gt;docker exec&lt;/code&gt; to run raketasks on running gitlab instance. For example,&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker &lt;span class="pl-c1"&gt;exec&lt;/span&gt; --user git -it gitlab bundle &lt;span class="pl-c1"&gt;exec&lt;/span&gt; rake gitlab:env:info RAILS_ENV=production&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Similarly, to import bare repositories into GitLab project instance&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab -it --rm [OPTIONS] \
    sameersbn/gitlab:12.5.2 app:rake gitlab:import:repos&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker &lt;span class="pl-c1"&gt;exec&lt;/span&gt; -it gitlab sudo -HEu git bundle &lt;span class="pl-c1"&gt;exec&lt;/span&gt; rake gitlab:import:repos RAILS_ENV=production&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For a complete list of available rake tasks please refer &lt;a href="https://github.com/gitlabhq/gitlabhq/tree/master/doc/raketasks"&gt;https://github.com/gitlabhq/gitlabhq/tree/master/doc/raketasks&lt;/a&gt; or the help section of your gitlab installation.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;P.S. Please avoid running the rake tasks for backup and restore operations on a running gitlab instance.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;To use the &lt;code&gt;app:rake&lt;/code&gt; command with &lt;code&gt;docker-compose&lt;/code&gt; use the following command.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; For stopped instances&lt;/span&gt;
docker-compose run --rm gitlab app:rake gitlab:env:info
docker-compose run --rm gitlab app:rake gitlab:import:repos

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; For running instances&lt;/span&gt;
docker-compose &lt;span class="pl-c1"&gt;exec&lt;/span&gt; --user git gitlab bundle &lt;span class="pl-c1"&gt;exec&lt;/span&gt; rake gitlab:env:info RAILS_ENV=production
docker-compose &lt;span class="pl-c1"&gt;exec&lt;/span&gt; gitlab sudo -HEu git bundle &lt;span class="pl-c1"&gt;exec&lt;/span&gt; rake gitlab:import:repos RAILS_ENV=production&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-import-repositories" class="anchor" aria-hidden="true" href="#import-repositories"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Import Repositories&lt;/h2&gt;
&lt;p&gt;Copy all the &lt;strong&gt;bare&lt;/strong&gt; git repositories to the &lt;code&gt;repositories/&lt;/code&gt; directory of the &lt;a href="#data-store"&gt;data store&lt;/a&gt; and execute the &lt;code&gt;gitlab:import:repos&lt;/code&gt; rake task like so:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab -it --rm [OPTIONS] \
    sameersbn/gitlab:12.5.2 app:rake gitlab:import:repos&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Watch the logs and your repositories should be available into your new gitlab container.&lt;/p&gt;
&lt;p&gt;See &lt;a href="#rake-tasks"&gt;Rake Tasks&lt;/a&gt; for more information on executing rake tasks.
Usage when using &lt;code&gt;docker-compose&lt;/code&gt; can also be found there.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-upgrading" class="anchor" aria-hidden="true" href="#upgrading"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Upgrading&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Important Notice&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Since GitLab release &lt;code&gt;8.6.0&lt;/code&gt; PostgreSQL users should enable &lt;code&gt;pg_trgm&lt;/code&gt; extension on the GitLab database. Refer to GitLab's &lt;a href="http://doc.gitlab.com/ce/install/requirements.html#postgresql-requirements" rel="nofollow"&gt;Postgresql Requirements&lt;/a&gt; for more information&lt;/p&gt;
&lt;p&gt;If you're using &lt;code&gt;sameersbn/postgresql&lt;/code&gt; then please upgrade to &lt;code&gt;sameersbn/postgresql:9.4-18&lt;/code&gt; or later and add &lt;code&gt;DB_EXTENSION=pg_trgm&lt;/code&gt; to the environment of the PostgreSQL container (see: &lt;a href="https://github.com/sameersbn/docker-gitlab/blob/master/docker-compose.yml#L8"&gt;https://github.com/sameersbn/docker-gitlab/blob/master/docker-compose.yml#L8&lt;/a&gt;).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;GitLabHQ releases new versions on the 22nd of every month, bugfix releases immediately follow. I update this project almost immediately when a release is made (at least it has been the case so far). If you are using the image in production environments I recommend that you delay updates by a couple of days after the gitlab release, allowing some time for the dust to settle down.&lt;/p&gt;
&lt;p&gt;To upgrade to newer gitlab releases, simply follow this 4 step upgrade procedure.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Upgrading to &lt;code&gt;sameersbn/gitlab:12.5.2&lt;/code&gt; from &lt;code&gt;sameersbn/gitlab:7.x.x&lt;/code&gt; can cause issues. It is therefore required that you first upgrade to &lt;code&gt;sameersbn/gitlab:8.0.5-1&lt;/code&gt; before upgrading to &lt;code&gt;sameersbn/gitlab:8.1.0&lt;/code&gt; or higher.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Step 1&lt;/strong&gt;: Update the docker image.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker pull sameersbn/gitlab:12.5.2&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Step 2&lt;/strong&gt;: Stop and remove the currently running image&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker stop gitlab
docker rm gitlab&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Step 3&lt;/strong&gt;: Create a backup&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab -it --rm [OPTIONS] \
    sameersbn/gitlab:x.x.x app:rake gitlab:backup:create&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Replace &lt;code&gt;x.x.x&lt;/code&gt; with the version you are upgrading from. For example, if you are upgrading from version &lt;code&gt;6.0.0&lt;/code&gt;, set &lt;code&gt;x.x.x&lt;/code&gt; to &lt;code&gt;6.0.0&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Step 4&lt;/strong&gt;: Start the image&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: Since GitLab &lt;code&gt;8.0.0&lt;/code&gt; you need to provide the &lt;code&gt;GITLAB_SECRETS_DB_KEY_BASE&lt;/code&gt; parameter while starting the image.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: Since GitLab &lt;code&gt;8.11.0&lt;/code&gt; you need to provide the &lt;code&gt;GITLAB_SECRETS_SECRET_KEY_BASE&lt;/code&gt; and &lt;code&gt;GITLAB_SECRETS_OTP_KEY_BASE&lt;/code&gt; parameters while starting the image. These should initially both have the same value as the contents of the &lt;code&gt;/home/git/data/.secret&lt;/code&gt; file. See &lt;a href="#available-configuration-parameters"&gt;Available Configuration Parameters&lt;/a&gt; for more information on these parameters.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker run --name gitlab -d [OPTIONS] sameersbn/gitlab:12.5.2&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-shell-access" class="anchor" aria-hidden="true" href="#shell-access"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Shell Access&lt;/h2&gt;
&lt;p&gt;For debugging and maintenance purposes you may want access the containers shell. If you are using docker version &lt;code&gt;1.3.0&lt;/code&gt; or higher you can access a running containers shell using &lt;code&gt;docker exec&lt;/code&gt; command.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;docker &lt;span class="pl-c1"&gt;exec&lt;/span&gt; -it gitlab bash&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;&lt;a id="user-content-references" class="anchor" aria-hidden="true" href="#references"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;References&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/gitlabhq/gitlabhq"&gt;https://github.com/gitlabhq/gitlabhq&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/gitlabhq/gitlabhq/blob/master/doc/install/installation.md"&gt;https://github.com/gitlabhq/gitlabhq/blob/master/doc/install/installation.md&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://wiki.nginx.org/HttpSslModule" rel="nofollow"&gt;http://wiki.nginx.org/HttpSslModule&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://raymii.org/s/tutorials/Strong_SSL_Security_On_nginx.html" rel="nofollow"&gt;https://raymii.org/s/tutorials/Strong_SSL_Security_On_nginx.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/gitlabhq/gitlab-recipes/blob/master/web-server/nginx/gitlab-ssl"&gt;https://github.com/gitlabhq/gitlab-recipes/blob/master/web-server/nginx/gitlab-ssl&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jpetazzo/nsenter"&gt;https://github.com/jpetazzo/nsenter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://jpetazzo.github.io/2014/03/23/lxc-attach-nsinit-nsenter-docker-0-9/" rel="nofollow"&gt;https://jpetazzo.github.io/2014/03/23/lxc-attach-nsinit-nsenter-docker-0-9/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>sameersbn</author><guid isPermaLink="false">https://github.com/sameersbn/docker-gitlab</guid><pubDate>Wed, 11 Dec 2019 00:18:00 GMT</pubDate></item><item><title>tldr-pages/tldr #19 in Shell, Today</title><link>https://github.com/tldr-pages/tldr</link><description>&lt;p&gt;&lt;i&gt;📚 Simplified and community-driven man pages&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-tldr" class="anchor" aria-hidden="true" href="#tldr"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;tldr&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://travis-ci.org/tldr-pages/tldr/builds" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/9595f896cbca2db5c666f10907af4d10f99f9e02/68747470733a2f2f7472617669732d63692e6f72672f746c64722d70616765732f746c64722e7376673f6272616e63683d6d6173746572" alt="Build status" data-canonical-src="https://travis-ci.org/tldr-pages/tldr.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://gitter.im/tldr-pages/tldr" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/66ded2bd161c2064591a3b440fae964650ce553b/68747470733a2f2f6261646765732e6769747465722e696d2f746c64722d70616765732f746c64722e737667" alt="Gitter chat" data-canonical-src="https://badges.gitter.im/tldr-pages/tldr.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://github.com/tldr-pages/tldr/pulls?q=is:pr+is:merged"&gt;&lt;img src="https://camo.githubusercontent.com/b8511cace7bca60610da73e0931673fb6e668958/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6973737565732d70722d636c6f7365642d7261772f746c64722d70616765732f746c64722e7376673f6c6162656c3d6d65726765642b505273" alt="Merged PRs" data-canonical-src="https://img.shields.io/github/issues-pr-closed-raw/tldr-pages/tldr.svg?label=merged+PRs" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="http://isitmaintained.com/project/tldr-pages/tldr" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/e7e47b0f507545638cb48b43f6a5c0fdb313df98/687474703a2f2f697369746d61696e7461696e65642e636f6d2f62616467652f7265736f6c7574696f6e2f746c64722d70616765732f746c64722e737667" alt="Issue stats" data-canonical-src="http://isitmaintained.com/badge/resolution/tldr-pages/tldr.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://github.com/tldr-pages/tldr/graphs/contributors"&gt;&lt;img src="https://camo.githubusercontent.com/681bdb4d6d3d9d19d5ce24e992d43c89a74b4f36/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f636f6e7472696275746f72732f746c64722d70616765732f746c64722e737667" alt="GitHub contributors" data-canonical-src="https://img.shields.io/github/contributors/tldr-pages/tldr.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://github.com/tldr-pages/tldr/blob/master/LICENSE.md"&gt;&lt;img src="https://camo.githubusercontent.com/dfb7fae57f6d95d0ce7206961b61ee88557eefc8/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f746c64722d70616765732f746c64722e737667" alt="license" data-canonical-src="https://img.shields.io/github/license/tldr-pages/tldr.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A collection of simplified and community-driven man pages.&lt;/p&gt;
&lt;p&gt;Install it with &lt;code&gt;npm install -g tldr&lt;/code&gt;
or &lt;a href="http://tldr.ostera.io" rel="nofollow"&gt;try the web client&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-what-is-tldr" class="anchor" aria-hidden="true" href="#what-is-tldr"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What is tldr?&lt;/h2&gt;
&lt;p&gt;New to the command-line world? Or just a little rusty?
Or perhaps you can't always remember the arguments to &lt;code&gt;lsof&lt;/code&gt;, or &lt;code&gt;tar&lt;/code&gt;?&lt;/p&gt;
&lt;p&gt;Maybe it doesn't help that the first option explained in &lt;code&gt;man tar&lt;/code&gt; is:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;-b blocksize
   Specify the block size, in 512-byte records, for tape drive I/O.
   As a rule, this argument is only needed when reading from or writing to tape drives,
   and usually not even then as the default block size of 20 records (10240 bytes) is very common.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Surely people could benefit from simplified man pages
focused on practical examples.
How about:&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="images/screenshot.png"&gt;&lt;img src="images/screenshot.png" alt="tldr screenshot" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This repository is just that: an ever-growing collection of examples
for the most common UNIX / Linux / macOS / SunOS commands.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-clients" class="anchor" aria-hidden="true" href="#clients"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Clients&lt;/h2&gt;
&lt;p&gt;You can access these pages on your computer using one of the following clients:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/cs1707/tldr-alfred"&gt;Alfred Workflow&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Android clients:
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/hidroh/tldroid"&gt;tldroid&lt;/a&gt;, available on
&lt;a href="https://play.google.com/store/apps/details?id=io.github.hidroh.tldroid" rel="nofollow"&gt;Google Play&lt;/a&gt; &lt;em&gt;(outdated)&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Bash clients:
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/raylee/tldr"&gt;tldr&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://gitlab.com/pepa65/tldr-bash-client" rel="nofollow"&gt;tldr-bash-client&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/principis/tldr-sharp"&gt;C# client&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/tldr-pages/tldr-cpp-client"&gt;C++ client&lt;/a&gt;:
&lt;code&gt;brew install tldr&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/hill/tldr-chrome"&gt;Chrome Extension&lt;/a&gt; available on
&lt;a href="https://chrome.google.com/webstore/detail/tldr-chrome/nnmlddkpgoecicoallmimonoboialpap" rel="nofollow"&gt;Chrome Web Store&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/porras/tlcr"&gt;Crystal client&lt;/a&gt;:
&lt;code&gt;brew install porras/tap/tlcr&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/hterkelsen/tldr"&gt;Dart client&lt;/a&gt;:
&lt;code&gt;pub global activate tldr&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/Moddus/tldr-python-dash-docset"&gt;Dash docset&lt;/a&gt;:
Open &lt;code&gt;Preferences &amp;gt; Downloads &amp;gt; User Contributed&lt;/code&gt; and find &lt;code&gt;tldr pages&lt;/code&gt; in the list&lt;/li&gt;
&lt;li&gt;Docker images:
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/nutellinoit/tldr-docker"&gt;tldr-docker&lt;/a&gt;- Run the &lt;code&gt;tldr&lt;/code&gt; command via a docker container: &lt;code&gt;alias tldr='docker run --rm -it -v ~/.tldr/:/root/.tldr/ nutellinoit/tldr'&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/edgurgel/tldr_elixir_client"&gt;Elixir client&lt;/a&gt;
(binaries not yet available)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kuanyui/tldr.el"&gt;Emacs client&lt;/a&gt;, available on
&lt;a href="https://github.com/melpa/melpa"&gt;MELPA&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Go clients:
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/pranavraja/tldr"&gt;github.com/pranavraja/tldr&lt;/a&gt;:
&lt;code&gt;go get github.com/pranavraja/tldr&lt;/code&gt;
(or &lt;a href="https://github.com/pranavraja/tldr/releases"&gt;platform binaries&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://4d63.com/tldr" rel="nofollow"&gt;4d63.com/tldr&lt;/a&gt;:
&lt;code&gt;go get 4d63.com/tldr&lt;/code&gt; or &lt;code&gt;brew install 4d63/tldr/tldr&lt;/code&gt;
(or &lt;a href="https://github.com/leighmcculloch/tldr/releases"&gt;platform binaries&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/elecprog/tldr"&gt;github.com/elecprog/tldr&lt;/a&gt;:
&lt;code&gt;go get github.com/elecprog/tldr&lt;/code&gt;
(or &lt;a href="https://github.com/elecprog/tldr/releases"&gt;platform binaries&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/isacikgoz/tldr"&gt;github.com/isacikgoz/tldr&lt;/a&gt;:
&lt;code&gt;go get github.com/isacikgoz/tldr&lt;/code&gt;
(or &lt;a href="https://github.com/isacikgoz/tldr/releases"&gt;platform binaries&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;iOS clients:
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/freesuraj/TLDR"&gt;tldr-man-page&lt;/a&gt;, available on
&lt;a href="https://appsto.re/sg/IQ0-_.i" rel="nofollow"&gt;App Store&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mflint/ios-tldr-viewer"&gt;tldr-pages&lt;/a&gt;, available on
&lt;a href="https://itunes.apple.com/us/app/tldt-pages/id1071725095?ls=1&amp;amp;mt=8" rel="nofollow"&gt;App Store&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/psibi/tldr-hs"&gt;Haskell client&lt;/a&gt;:
&lt;code&gt;stack install tldr&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/tldr-pages/tldr-node-client"&gt;Node.js client&lt;/a&gt;:
&lt;code&gt;npm install -g tldr&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/RosalesJ/tldr-ocaml"&gt;OCaml client&lt;/a&gt;: &lt;code&gt;opam install tldr&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/shoichikaji/perl-tldr"&gt;Perl5 client&lt;/a&gt;:
&lt;code&gt;cpanm App::tldr&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/BrainMaestro/tldr-php"&gt;PHP client&lt;/a&gt;:
&lt;code&gt;composer global require brainmaestro/tldr&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Python clients:
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/tldr-pages/tldr-python-client"&gt;tldr-python-client&lt;/a&gt;:
&lt;code&gt;pip install tldr&lt;/code&gt; or &lt;code&gt;pacman -S tldr&lt;/code&gt; on Arch Linux&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/lord63/tldr.py"&gt;tldr.py&lt;/a&gt;:
&lt;code&gt;pip install tldr.py&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/kirillseva/tldrrr"&gt;R client&lt;/a&gt;:
&lt;code&gt;devtools::install_github('kirillseva/tldrrr')&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/YellowApple/tldrb"&gt;Ruby client&lt;/a&gt;:
&lt;code&gt;gem install tldrb&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/dbrgn/tealdeer"&gt;Rust client&lt;/a&gt;:
&lt;code&gt;cargo install tealdeer&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/wlemuel/vim-tldr"&gt;Vim Client&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/bmuskalla/vscode-tldr"&gt;Visual Studio Code extension&lt;/a&gt; available on &lt;a href="https://marketplace.visualstudio.com/items?itemName=bmuskalla.vscode-tldr" rel="nofollow"&gt;Visual Studio Code Marketplace&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Web clients:
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/ostera/tldr.jsx"&gt;tldr.jsx&lt;/a&gt;: &lt;a href="http://tldr.ostera.io/" rel="nofollow"&gt;http://tldr.ostera.io/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://distrowatch.com/dwres.php?resource=man-pages" rel="nofollow"&gt;DistroWatch&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There is also a comprehensive
&lt;a href="https://github.com/tldr-pages/tldr/wiki/TLDR-clients"&gt;list of clients in our Wiki&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Your favourite command isn't covered?&lt;/li&gt;
&lt;li&gt;You can think of more examples for an existing command?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Contributions are most welcome!
We strive to maintain a &lt;a href="GOVERNANCE.md"&gt;welcoming and collaborative&lt;/a&gt; community.
Have a look at the &lt;a href="CONTRIBUTING.md"&gt;contributing guidelines&lt;/a&gt;, and go ahead!&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-similar-projects" class="anchor" aria-hidden="true" href="#similar-projects"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Similar projects&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/chrisallenlane/cheat"&gt;Cheat&lt;/a&gt;
allows you to create and view interactive cheatsheets on the command-line.
It was designed to help remind *nix system administrators of options
for commands that they use frequently, but not frequently enough to remember.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://bropages.org/" rel="nofollow"&gt;Bro pages&lt;/a&gt;
are a highly readable supplement to man pages.
Bro pages show concise, common-case examples for Unix commands.
The examples are submitted by the user base, and can be voted up or down;
the best entries are what people see first when they look up a command.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/srsudar/eg"&gt;eg&lt;/a&gt;
provides detailed examples with explanations on the command line.
Examples come from the repository, but &lt;code&gt;eg&lt;/code&gt; supports displaying
custom examples and commands alongside the defaults.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-what-does-tldr-mean" class="anchor" aria-hidden="true" href="#what-does-tldr-mean"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What does "tldr" mean?&lt;/h2&gt;
&lt;p&gt;TL;DR stands for "Too Long; Didn't Read".
It originates in Internet slang, where it is used to indicate that a long text
(or parts of it) has been skipped as too lengthy.
Read more in Wikipedia's &lt;a href="https://en.wikipedia.org/wiki/TL;DR" rel="nofollow"&gt;TL;DR article&lt;/a&gt;.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>tldr-pages</author><guid isPermaLink="false">https://github.com/tldr-pages/tldr</guid><pubDate>Wed, 11 Dec 2019 00:19:00 GMT</pubDate></item><item><title>sstephenson/bats #20 in Shell, Today</title><link>https://github.com/sstephenson/bats</link><description>&lt;p&gt;&lt;i&gt;Bash Automated Testing System&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-bats-bash-automated-testing-system" class="anchor" aria-hidden="true" href="#bats-bash-automated-testing-system"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bats: Bash Automated Testing System&lt;/h1&gt;
&lt;p&gt;Bats is a &lt;a href="http://testanything.org" rel="nofollow"&gt;TAP&lt;/a&gt;-compliant testing framework
for Bash. It provides a simple way to verify that the UNIX programs
you write behave as expected.&lt;/p&gt;
&lt;p&gt;A Bats test file is a Bash script with special syntax for defining
test cases. Under the hood, each test case is just a function with a
description.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#!&lt;/span&gt;/usr/bin/env bats&lt;/span&gt;

@test &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;addition using bc&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; {
  result=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;$(&lt;/span&gt;echo 2+2 &lt;span class="pl-k"&gt;|&lt;/span&gt; bc&lt;span class="pl-pds"&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  [ &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-smi"&gt;$result&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;-eq&lt;/span&gt; 4 ]
}

@test &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;addition using dc&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; {
  result=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;$(&lt;/span&gt;echo 2 2+p &lt;span class="pl-k"&gt;|&lt;/span&gt; dc&lt;span class="pl-pds"&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  [ &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-smi"&gt;$result&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;-eq&lt;/span&gt; 4 ]
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Bats is most useful when testing software written in Bash, but you can
use it to test any UNIX program.&lt;/p&gt;
&lt;p&gt;Test cases consist of standard shell commands. Bats makes use of
Bash's &lt;code&gt;errexit&lt;/code&gt; (&lt;code&gt;set -e&lt;/code&gt;) option when running test cases. If every
command in the test case exits with a &lt;code&gt;0&lt;/code&gt; status code (success), the
test passes. In this way, each line is an assertion of truth.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-running-tests" class="anchor" aria-hidden="true" href="#running-tests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Running tests&lt;/h2&gt;
&lt;p&gt;To run your tests, invoke the &lt;code&gt;bats&lt;/code&gt; interpreter with a path to a test
file. The file's test cases are run sequentially and in isolation. If
all the test cases pass, &lt;code&gt;bats&lt;/code&gt; exits with a &lt;code&gt;0&lt;/code&gt; status code. If there
are any failures, &lt;code&gt;bats&lt;/code&gt; exits with a &lt;code&gt;1&lt;/code&gt; status code.&lt;/p&gt;
&lt;p&gt;When you run Bats from a terminal, you'll see output as each test is
performed, with a check-mark next to the test's name if it passes or
an "X" if it fails.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ bats addition.bats
 ✓ addition using bc
 ✓ addition using dc

2 tests, 0 failures
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If Bats is not connected to a terminal—in other words, if you
run it from a continuous integration system, or redirect its output to
a file—the results are displayed in human-readable, machine-parsable
&lt;a href="http://testanything.org" rel="nofollow"&gt;TAP format&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;You can force TAP output from a terminal by invoking Bats with the
&lt;code&gt;--tap&lt;/code&gt; option.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ bats --tap addition.bats
1..2
ok 1 addition using bc
ok 2 addition using dc
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-test-suites" class="anchor" aria-hidden="true" href="#test-suites"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Test suites&lt;/h3&gt;
&lt;p&gt;You can invoke the &lt;code&gt;bats&lt;/code&gt; interpreter with multiple test file
arguments, or with a path to a directory containing multiple &lt;code&gt;.bats&lt;/code&gt;
files. Bats will run each test file individually and aggregate the
results. If any test case fails, &lt;code&gt;bats&lt;/code&gt; exits with a &lt;code&gt;1&lt;/code&gt; status code.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-writing-tests" class="anchor" aria-hidden="true" href="#writing-tests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Writing tests&lt;/h2&gt;
&lt;p&gt;Each Bats test file is evaluated &lt;em&gt;n+1&lt;/em&gt; times, where &lt;em&gt;n&lt;/em&gt; is the number of
test cases in the file. The first run counts the number of test cases,
then iterates over the test cases and executes each one in its own
process.&lt;/p&gt;
&lt;p&gt;For more details about how Bats evaluates test files, see
&lt;a href="https://github.com/sstephenson/bats/wiki/Bats-Evaluation-Process"&gt;Bats Evaluation Process&lt;/a&gt;
on the wiki.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-run-test-other-commands" class="anchor" aria-hidden="true" href="#run-test-other-commands"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;run&lt;/code&gt;: Test other commands&lt;/h3&gt;
&lt;p&gt;Many Bats tests need to run a command and then make assertions about
its exit status and output. Bats includes a &lt;code&gt;run&lt;/code&gt; helper that invokes
its arguments as a command, saves the exit status and output into
special global variables, and then returns with a &lt;code&gt;0&lt;/code&gt; status code so
you can continue to make assertions in your test case.&lt;/p&gt;
&lt;p&gt;For example, let's say you're testing that the &lt;code&gt;foo&lt;/code&gt; command, when
passed a nonexistent filename, exits with a &lt;code&gt;1&lt;/code&gt; status code and prints
an error message.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;@test &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;invoking foo with a nonexistent file prints an error&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; {
  run foo nonexistent_filename
  [ &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-smi"&gt;$status&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;-eq&lt;/span&gt; 1 ]
  [ &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-smi"&gt;$output&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;foo: no such file 'nonexistent_filename'&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; ]
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;$status&lt;/code&gt; variable contains the status code of the command, and
the &lt;code&gt;$output&lt;/code&gt; variable contains the combined contents of the command's
standard output and standard error streams.&lt;/p&gt;
&lt;p&gt;A third special variable, the &lt;code&gt;$lines&lt;/code&gt; array, is available for easily
accessing individual lines of output. For example, if you want to test
that invoking &lt;code&gt;foo&lt;/code&gt; without any arguments prints usage information on
the first line:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;@test &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;invoking foo without arguments prints usage&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; {
  run foo
  [ &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-smi"&gt;$status&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;-eq&lt;/span&gt; 1 ]
  [ &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-smi"&gt;${lines[0]}&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;=&lt;/span&gt; &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;usage: foo &amp;lt;filename&amp;gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; ]
}&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-load-share-common-code" class="anchor" aria-hidden="true" href="#load-share-common-code"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;load&lt;/code&gt;: Share common code&lt;/h3&gt;
&lt;p&gt;You may want to share common code across multiple test files. Bats
includes a convenient &lt;code&gt;load&lt;/code&gt; command for sourcing a Bash source file
relative to the location of the current test file. For example, if you
have a Bats test in &lt;code&gt;test/foo.bats&lt;/code&gt;, the command&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;load test_helper&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;will source the script &lt;code&gt;test/test_helper.bash&lt;/code&gt; in your test file. This
can be useful for sharing functions to set up your environment or load
fixtures.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-skip-easily-skip-tests" class="anchor" aria-hidden="true" href="#skip-easily-skip-tests"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;skip&lt;/code&gt;: Easily skip tests&lt;/h3&gt;
&lt;p&gt;Tests can be skipped by using the &lt;code&gt;skip&lt;/code&gt; command at the point in a
test you wish to skip.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;@test &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;A test I don't want to execute for now&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; {
  skip
  run foo
  [ &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-smi"&gt;$status&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;-eq&lt;/span&gt; 0 ]
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Optionally, you may include a reason for skipping:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;@test &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;A test I don't want to execute for now&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; {
  skip &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;This command will return zero soon, but not now&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  run foo
  [ &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-smi"&gt;$status&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;-eq&lt;/span&gt; 0 ]
}&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or you can skip conditionally:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;@test &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;A test which should run&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; {
  &lt;span class="pl-k"&gt;if&lt;/span&gt; [ foo &lt;span class="pl-k"&gt;!=&lt;/span&gt; bar ]&lt;span class="pl-k"&gt;;&lt;/span&gt; &lt;span class="pl-k"&gt;then&lt;/span&gt;
    skip &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;foo isn't bar&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
  &lt;span class="pl-k"&gt;fi&lt;/span&gt;

  run foo
  [ &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-smi"&gt;$status&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt; &lt;span class="pl-k"&gt;-eq&lt;/span&gt; 0 ]
}&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-setup-and-teardown-pre--and-post-test-hooks" class="anchor" aria-hidden="true" href="#setup-and-teardown-pre--and-post-test-hooks"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;code&gt;setup&lt;/code&gt; and &lt;code&gt;teardown&lt;/code&gt;: Pre- and post-test hooks&lt;/h3&gt;
&lt;p&gt;You can define special &lt;code&gt;setup&lt;/code&gt; and &lt;code&gt;teardown&lt;/code&gt; functions, which run
before and after each test case, respectively. Use these to load
fixtures, set up your environment, and clean up when you're done.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-code-outside-of-test-cases" class="anchor" aria-hidden="true" href="#code-outside-of-test-cases"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Code outside of test cases&lt;/h3&gt;
&lt;p&gt;You can include code in your test file outside of &lt;code&gt;@test&lt;/code&gt; functions.
For example, this may be useful if you want to check for dependencies
and fail immediately if they're not present. However, any output that
you print in code outside of &lt;code&gt;@test&lt;/code&gt;, &lt;code&gt;setup&lt;/code&gt; or &lt;code&gt;teardown&lt;/code&gt; functions
must be redirected to &lt;code&gt;stderr&lt;/code&gt; (&lt;code&gt;&amp;gt;&amp;amp;2&lt;/code&gt;). Otherwise, the output may
cause Bats to fail by polluting the TAP stream on &lt;code&gt;stdout&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-special-variables" class="anchor" aria-hidden="true" href="#special-variables"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Special variables&lt;/h3&gt;
&lt;p&gt;There are several global variables you can use to introspect on Bats
tests:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;$BATS_TEST_FILENAME&lt;/code&gt; is the fully expanded path to the Bats test
file.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$BATS_TEST_DIRNAME&lt;/code&gt; is the directory in which the Bats test file is
located.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$BATS_TEST_NAMES&lt;/code&gt; is an array of function names for each test case.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$BATS_TEST_NAME&lt;/code&gt; is the name of the function containing the current
test case.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$BATS_TEST_DESCRIPTION&lt;/code&gt; is the description of the current test
case.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$BATS_TEST_NUMBER&lt;/code&gt; is the (1-based) index of the current test case
in the test file.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$BATS_TMPDIR&lt;/code&gt; is the location to a directory that may be used to
store temporary files.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-installing-bats-from-source" class="anchor" aria-hidden="true" href="#installing-bats-from-source"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installing Bats from source&lt;/h2&gt;
&lt;p&gt;Check out a copy of the Bats repository. Then, either add the Bats
&lt;code&gt;bin&lt;/code&gt; directory to your &lt;code&gt;$PATH&lt;/code&gt;, or run the provided &lt;code&gt;install.sh&lt;/code&gt;
command with the location to the prefix in which you want to install
Bats. For example, to install Bats into &lt;code&gt;/usr/local&lt;/code&gt;,&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ git clone https://github.com/sstephenson/bats.git
$ cd bats
$ ./install.sh /usr/local
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that you may need to run &lt;code&gt;install.sh&lt;/code&gt; with &lt;code&gt;sudo&lt;/code&gt; if you do not
have permission to write to the installation prefix.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-support" class="anchor" aria-hidden="true" href="#support"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Support&lt;/h2&gt;
&lt;p&gt;The Bats source code repository is &lt;a href="https://github.com/sstephenson/bats"&gt;hosted on
GitHub&lt;/a&gt;. There you can file bugs
on the issue tracker or submit tested pull requests for review.&lt;/p&gt;
&lt;p&gt;For real-world examples from open-source projects using Bats, see
&lt;a href="https://github.com/sstephenson/bats/wiki/Projects-Using-Bats"&gt;Projects Using Bats&lt;/a&gt;
on the wiki.&lt;/p&gt;
&lt;p&gt;To learn how to set up your editor for Bats syntax highlighting, see
&lt;a href="https://github.com/sstephenson/bats/wiki/Syntax-Highlighting"&gt;Syntax Highlighting&lt;/a&gt;
on the wiki.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-version-history" class="anchor" aria-hidden="true" href="#version-history"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Version history&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;0.4.0&lt;/em&gt; (August 13, 2014)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Improved the display of failing test cases. Bats now shows the
source code of failing test lines, along with full stack traces
including function names, filenames, and line numbers.&lt;/li&gt;
&lt;li&gt;Improved the display of the pretty-printed test summary line to
include the number of skipped tests, if any.&lt;/li&gt;
&lt;li&gt;Improved the speed of the preprocessor, dramatically shortening test
and suite startup times.&lt;/li&gt;
&lt;li&gt;Added support for absolute pathnames to the &lt;code&gt;load&lt;/code&gt; helper.&lt;/li&gt;
&lt;li&gt;Added support for single-line &lt;code&gt;@test&lt;/code&gt; definitions.&lt;/li&gt;
&lt;li&gt;Added bats(1) and bats(7) manual pages.&lt;/li&gt;
&lt;li&gt;Modified the &lt;code&gt;bats&lt;/code&gt; command to default to TAP output when the &lt;code&gt;$CI&lt;/code&gt;
variable is set, to better support environments such as Travis CI.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;0.3.1&lt;/em&gt; (October 28, 2013)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fixed an incompatibility with the pretty formatter in certain
environments such as tmux.&lt;/li&gt;
&lt;li&gt;Fixed a bug where the pretty formatter would crash if the first line
of a test file's output was invalid TAP.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;0.3.0&lt;/em&gt; (October 21, 2013)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Improved formatting for tests run from a terminal. Failing tests
are now colored in red, and the total number of failing tests is
displayed at the end of the test run. When Bats is not connected to
a terminal (e.g. in CI runs), or when invoked with the &lt;code&gt;--tap&lt;/code&gt; flag,
output is displayed in standard TAP format.&lt;/li&gt;
&lt;li&gt;Added the ability to skip tests using the &lt;code&gt;skip&lt;/code&gt; command.&lt;/li&gt;
&lt;li&gt;Added a message to failing test case output indicating the file and
line number of the statement that caused the test to fail.&lt;/li&gt;
&lt;li&gt;Added "ad-hoc" test suite support. You can now invoke &lt;code&gt;bats&lt;/code&gt; with
multiple filename or directory arguments to run all the specified
tests in aggregate.&lt;/li&gt;
&lt;li&gt;Added support for test files with Windows line endings.&lt;/li&gt;
&lt;li&gt;Fixed regular expression warnings from certain versions of Bash.&lt;/li&gt;
&lt;li&gt;Fixed a bug running tests containing lines that begin with &lt;code&gt;-e&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;0.2.0&lt;/em&gt; (November 16, 2012)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Added test suite support. The &lt;code&gt;bats&lt;/code&gt; command accepts a directory
name containing multiple test files to be run in aggregate.&lt;/li&gt;
&lt;li&gt;Added the ability to count the number of test cases in a file or
suite by passing the &lt;code&gt;-c&lt;/code&gt; flag to &lt;code&gt;bats&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Preprocessed sources are cached between test case runs in the same
file for better performance.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;0.1.0&lt;/em&gt; (December 30, 2011)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Initial public release.&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;© 2014 Sam Stephenson. Bats is released under an MIT-style license;
see &lt;code&gt;LICENSE&lt;/code&gt; for details.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>sstephenson</author><guid isPermaLink="false">https://github.com/sstephenson/bats</guid><pubDate>Wed, 11 Dec 2019 00:20:00 GMT</pubDate></item><item><title>elastic/stack-docker #21 in Shell, Today</title><link>https://github.com/elastic/stack-docker</link><description>&lt;p&gt;&lt;i&gt;The Elastic Stack, on Docker, right now.&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-stack-docker" class="anchor" aria-hidden="true" href="#stack-docker"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;stack-docker&lt;/h1&gt;
&lt;p&gt;This example Docker Compose configuration demonstrates many components of the
Elastic Stack, all running on a single machine under Docker.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-prerequisites" class="anchor" aria-hidden="true" href="#prerequisites"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Prerequisites&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Docker and Docker Compose.
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Windows and Mac users get Compose installed automatically
with Docker for Windows/Mac.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Linux users can read the &lt;a href="https://docs.docker.com/compose/install/#install-compose" rel="nofollow"&gt;install instructions&lt;/a&gt; or can install via pip:&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;pip install docker-compose
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Windows Users must set the following 2 ENV vars:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;COMPOSE_CONVERT_WINDOWS_PATHS=1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;PWD=/path/to/checkout/for/stack-docker&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;for example I use the path: &lt;code&gt;/c/Users/nick/elastic/stack-docker&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Note: you're paths must be in the form of &lt;code&gt;/c/path/to/place&lt;/code&gt; using &lt;code&gt;C:\path\to\place&lt;/code&gt; will not work&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;You can set these two ways:
&lt;ol&gt;
&lt;li&gt;Temporarily add an env var in powershell use: &lt;code&gt;$Env:COMPOSE_CONVERT_WINDOWS_PATHS=1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Permanently add an env var in powershell use: &lt;code&gt;[Environment]::SetEnvironmentVariable("COMPOSE_CONVERT_WINDOWS_PATHS", "1", "Machine")&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: you will need to refresh or create a new powershell for this env var to take effect&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start="3"&gt;
&lt;li&gt;in System Properties add the environment variables.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;At least 4GiB of RAM for the containers. Windows and Mac users &lt;em&gt;must&lt;/em&gt;
configure their Docker virtual machine to have more than the default 2 GiB of
RAM:&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="screenshots/docker-vm-memory-settings.png"&gt;&lt;img src="screenshots/docker-vm-memory-settings.png" alt="Docker VM memory settings" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Linux Users must set the following configuration as &lt;code&gt;root&lt;/code&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;sysctl -w vm.max_map_count=262144
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;By default, the amount of Virtual Memory &lt;a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/vm-max-map-count.html" rel="nofollow"&gt;is not enough&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-starting-the-stack" class="anchor" aria-hidden="true" href="#starting-the-stack"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Starting the stack&lt;/h2&gt;
&lt;p&gt;First we need to:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;set default password&lt;/li&gt;
&lt;li&gt;create keystores to store passwords&lt;/li&gt;
&lt;li&gt;install dashboards, index patterns, etc.. for beats and apm&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;This is accomplished using the setup.yml file:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker-compose -f setup.yml up
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Please take note after the setup completes it will output the password
that is used for the &lt;code&gt;elastic&lt;/code&gt; login.&lt;/p&gt;
&lt;p&gt;Now we can launch the stack with &lt;code&gt;docker-compose up -d&lt;/code&gt; to create a demonstration Elastic Stack with
Elasticsearch, Kibana, Logstash, Auditbeat, Metricbeat, Filebeat, Packetbeat,
and Heartbeat.&lt;/p&gt;
&lt;p&gt;Point a browser at &lt;a href="http://localhost:5601" rel="nofollow"&gt;&lt;code&gt;http://localhost:5601&lt;/code&gt;&lt;/a&gt; to see the results.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;NOTE&lt;/em&gt;: Elasticsearch is now setup with self-signed certs.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Log in with &lt;code&gt;elastic&lt;/code&gt; and what ever your auto generated elastic password is from the
setup.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>elastic</author><guid isPermaLink="false">https://github.com/elastic/stack-docker</guid><pubDate>Wed, 11 Dec 2019 00:21:00 GMT</pubDate></item><item><title>StackExchange/blackbox #22 in Shell, Today</title><link>https://github.com/StackExchange/blackbox</link><description>&lt;p&gt;&lt;i&gt;Safely store secrets in Git/Mercurial/Subversion&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-blackbox-" class="anchor" aria-hidden="true" href="#blackbox-"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;BlackBox &lt;a href="https://circleci.com/gh/StackExchange/workflows/blackbox" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/a1f2bcef83e21becb27d41cb4f7961d31e92e106/68747470733a2f2f636972636c6563692e636f6d2f67682f537461636b45786368616e67652f626c61636b626f782e7376673f7374796c653d736869656c64" alt="CircleCI" data-canonical-src="https://circleci.com/gh/StackExchange/blackbox.svg?style=shield" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;Safely store secrets in a VCS repo (i.e. Git, Mercurial, Subversion or Perforce). These commands make it easy for you to Gnu Privacy Guard (GPG) encrypt specific files in a repo so they are "encrypted at rest" in your repository. However, the scripts make it easy to decrypt them when you need to view or edit them, and decrypt them for use in production. Originally written for Puppet, BlackBox now works with any Git or Mercurial repository.&lt;/p&gt;
&lt;p&gt;A slide presentation about an older release &lt;a href="http://www.slideshare.net/TomLimoncelli/the-blackbox-project-sfae" rel="nofollow"&gt;is on SlideShare&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Join our mailing list: &lt;a href="https://groups.google.com/d/forum/blackbox-project" rel="nofollow"&gt;https://groups.google.com/d/forum/blackbox-project&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-table-of-contents" class="anchor" aria-hidden="true" href="#table-of-contents"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Table of Contents&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#blackbox"&gt;BlackBox&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#table-of-contents"&gt;Table of Contents&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#overview"&gt;Overview&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#why-is-this-important"&gt;Why is this important?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#installation-instructions"&gt;Installation Instructions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#commands"&gt;Commands&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#compatibility"&gt;Compatibility&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#how-is-the-encryption-done"&gt;How is the encryption done?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#what-does-this-look-like-to-the-typical-user"&gt;What does this look like to the typical user?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#how-to-use-the-secrets-with-puppet"&gt;How to use the secrets with Puppet?&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#entire-files"&gt;Entire files&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#small-strings"&gt;Small strings&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;File Management
&lt;ul&gt;
&lt;li&gt;&lt;a href="#how-to-enroll-a-new-file-into-the-system"&gt;How to enroll a new file into the system?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#how-to-remove-a-file-from-the-system"&gt;How to remove a file from the system?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;User Management
&lt;ul&gt;
&lt;li&gt;&lt;a href="#how-to-indoctrinate-a-new-user-into-the-system"&gt;How to indoctrinate a new user into the system?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#how-to-remove-a-user-from-the-system"&gt;How to remove a user from the system?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Repo Management
&lt;ul&gt;
&lt;li&gt;&lt;a href="#enabling-blackbox-for-a-repo"&gt;Enabling BlackBox For a Repo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#set-up-automated-users-or-role-accounts"&gt;Set up automated users or “role accounts”&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#replacing-expired-keys"&gt;Replacing expired keys&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#some-common-errors"&gt;Some common errors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#using-blackbox-on-windows"&gt;Using BlackBox on Windows&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#using-blackbox-without-a-repo"&gt;Using BlackBox without a repo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#some-subversion-gotchas"&gt;Some Subversion gotchas&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#using-blackbox-when-gpg2-is-installed-next-to-gpg"&gt;Using Blackbox when gpg2 is installed next to gpg&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#how-to-submit-bugs-or-ask-questions"&gt;How to submit bugs or ask questions?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#developer-info"&gt;Developer Info&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#alternatives"&gt;Alternatives&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#license"&gt;License&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-overview" class="anchor" aria-hidden="true" href="#overview"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Overview&lt;/h1&gt;
&lt;p&gt;Suppose you have a VCS repository (i.e. a Git or Mercurial repo) and certain files contain secrets such as passwords or SSL private keys. Often people just store such files "and hope that nobody finds them in the repo". That's not safe.&lt;/p&gt;
&lt;p&gt;With BlackBox, those files are stored encrypted using GPG. Access to the VCS repo without also having the right GPG keys makes it worthless to have the files. As long as you keep your GPG keys safe, you don't have to worry about storing your VCS repo on an untrusted server. Heck, even if you trust your server, now you don't have to trust the people that do backups of that server, or the people that handle the backup tapes!&lt;/p&gt;
&lt;p&gt;Rather than one GPG passphrase for all the files, each person with access has their own GPG keys in the system. Any file can be decrypted by anyone with their GPG key. This way, if one person leaves the company, you don't have to communicate a new password to everyone with access. Simply disable the one key that should no longer have access. The process for doing this is as easy as running 2 commands (1 to disable their key, 1 to re-encrypt all files.)&lt;/p&gt;
&lt;p&gt;Automated processes often need access to all the decrypted files. This is easy too. For example, suppose Git is being used for Puppet files. The master needs access to the decrypted version of all the files. Simply set up a GPG key for the Puppet master (or the role account that pushes new files to the Puppet master) and have that user run &lt;code&gt;blackbox_postdeploy&lt;/code&gt; after any files are updated.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-getting-started" class="anchor" aria-hidden="true" href="#getting-started"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Getting started&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If you don't have a GPG key, set it up using instructions such as:
&lt;a href="https://help.github.com/articles/generating-a-new-gpg-key/"&gt;Set up GPG key&lt;/a&gt;. &lt;br&gt;
Now you are ready to go.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;cd&lt;/code&gt; into a Git, Mercurial, Subversion or Perforce repository and run &lt;code&gt;blackbox_initialize&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If a file is to be encrypted, run &lt;code&gt;blackbox_register_new_file&lt;/code&gt; and you are done.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add and remove keys with &lt;code&gt;blackbox_addadmin&lt;/code&gt; and &lt;code&gt;blackbox_removeadmin&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To view and/or edit a file, run &lt;code&gt;blackbox_edit&lt;/code&gt;;
this will decrypt the file and open with whatever is specified by
your $EDITOR environment variable. &lt;br&gt;
When you close the editor the
file will automatically be encrypted again and the temporary plaintext
file will be shredded. &lt;br&gt;
If you need to leave the file decrypted while
you update you can use the&lt;code&gt;blackbox_edit_start&lt;/code&gt; to decrypt the file
and &lt;code&gt;blackbox_edit_end&lt;/code&gt; when you want to "put it back in the box."&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;&lt;a id="user-content-why-is-this-important" class="anchor" aria-hidden="true" href="#why-is-this-important"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Why is this important?&lt;/h1&gt;
&lt;p&gt;OBVIOUSLY we don't want secret things like SSL private keys and passwords to be leaked.&lt;/p&gt;
&lt;p&gt;NOT SO OBVIOUSLY when we store "secrets" in a VCS repo like Git or Mercurial, suddenly we are less able to share our code with other people. Communication between subteams of an organization is hurt. You can't collaborate as well. Either you find yourself emailing individual files around (yuck!), making a special repo with just the files needed by your collaborators (yuck!!), or just deciding that collaboration isn't worth all that effort (yuck!!!).&lt;/p&gt;
&lt;p&gt;The ability to be open and transparent about our code, with the exception of a few specific files, is key to the kind of collaboration that DevOps and modern IT practitioners need to do.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-installation-instructions" class="anchor" aria-hidden="true" href="#installation-instructions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation Instructions&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;The hard way (manual)&lt;/em&gt;: Copy all the files in "bin" to your "bin".&lt;/li&gt;
&lt;li&gt;&lt;em&gt;The hard way (automatic)&lt;/em&gt;: &lt;code&gt;make copy-install&lt;/code&gt; will copy the bin files into /usr/local/bin (uninstall with &lt;code&gt;make usrlocal-uninstall&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;&lt;em&gt;The symlinks way&lt;/em&gt;: &lt;code&gt;make symlinks-install&lt;/code&gt; will make symlinks of the bin files into /usr/local/bin (uninstall with &lt;code&gt;make usrlocal-uninstall&lt;/code&gt;) (useful when doing development)&lt;/li&gt;
&lt;li&gt;&lt;em&gt;The MacPorts Way&lt;/em&gt;: &lt;code&gt;sudo port install vcs_blackbox&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;The Homebrew Way&lt;/em&gt;: &lt;code&gt;brew install blackbox&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;The RPM way&lt;/em&gt;: Check out the repo and make an RPM via &lt;code&gt;make packages-rpm&lt;/code&gt;; now you can distribute the RPM via local methods. (Requires &lt;a href="https://github.com/jordansissel/fpm"&gt;fpm&lt;/a&gt;.)&lt;/li&gt;
&lt;li&gt;&lt;em&gt;The Debian/Ubuntu way&lt;/em&gt;: Check out the repo and make a DEB via &lt;code&gt;make packages-deb&lt;/code&gt;; now you can distribute the DEB via local methods. (Requires &lt;a href="https://github.com/jordansissel/fpm"&gt;fpm&lt;/a&gt;.)&lt;/li&gt;
&lt;li&gt;&lt;em&gt;The Antigen Way&lt;/em&gt;: Add &lt;code&gt;antigen bundle StackExchange/blackbox&lt;/code&gt; to your .zshrc&lt;/li&gt;
&lt;li&gt;&lt;em&gt;The Zgen Way&lt;/em&gt;: Add &lt;code&gt;zgen load StackExchange/blackbox&lt;/code&gt; to your .zshrc where you're loading your other plugins.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;The Nix Way&lt;/em&gt;: &lt;code&gt;nix-env -i blackbox&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-commands" class="anchor" aria-hidden="true" href="#commands"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Commands&lt;/h1&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name:&lt;/th&gt;
&lt;th&gt;Description:&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_edit &amp;lt;file&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Decrypt, run $EDITOR, re-encrypt a file&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_edit_start &amp;lt;file&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Decrypt a file so it can be updated&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_edit_end &amp;lt;file&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Encrypt a file after blackbox_edit_start was used&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_cat &amp;lt;file&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Decrypt and view the contents of a file&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_view &amp;lt;file&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Like blackbox_cat but pipes to &lt;code&gt;less&lt;/code&gt; or $PAGER&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_diff&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Diff decrypted files against their original crypted version&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_initialize&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable blackbox for a GIT or HG repo&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_register_new_file &amp;lt;file&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Encrypt a file for the first time&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_deregister_file &amp;lt;file&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Remove a file from blackbox&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_list_files&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;List the files maintained by blackbox&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_list_admins&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;List admins currently authorized for blackbox&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_decrypt_file &amp;lt;file&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Decrypt a file&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_decrypt_all_files&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Decrypt all managed files (INTERACTIVE)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_postdeploy&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Decrypt all managed files (batch)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_addadmin &amp;lt;gpg-key&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Add someone to the list of people that can encrypt/decrypt secrets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_removeadmin &amp;lt;gpg-key&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Remove someone from the list of people that can encrypt/decrypt secrets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_shred_all_files&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Safely delete any decrypted files&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_update_all_files&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Decrypt then re-encrypt all files. Useful after keys are changed&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_whatsnew &amp;lt;file&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;show what has changed in the last commit for a given file&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1&gt;&lt;a id="user-content-compatibility" class="anchor" aria-hidden="true" href="#compatibility"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Compatibility&lt;/h1&gt;
&lt;p&gt;BlackBox automatically determines which VCS you are using and does the right thing. It has a plug-in architecture to make it easy to extend to work with other systems. It has been tested to work with many operating systems.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Version Control systems
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;git&lt;/code&gt; -- The Git&lt;/li&gt;
&lt;li&gt;&lt;code&gt;hg&lt;/code&gt; -- Mercurial&lt;/li&gt;
&lt;li&gt;&lt;code&gt;svn&lt;/code&gt; -- SubVersion (Thanks, Ben Drasin!)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;p4&lt;/code&gt; -- Perforce&lt;/li&gt;
&lt;li&gt;none -- The files can be decrypted outside of a repo if the &lt;code&gt;.blackbox&lt;/code&gt; directory is intact&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Operating system
&lt;ul&gt;
&lt;li&gt;CentOS / RedHat&lt;/li&gt;
&lt;li&gt;MacOS X&lt;/li&gt;
&lt;li&gt;Cygwin (Thanks, Ben Drasin!) &lt;strong&gt;See Note Below&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;MinGW (git bash on windows) &lt;strong&gt;See Note Below&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;NetBSD&lt;/li&gt;
&lt;li&gt;SmartOS&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To add or fix support for a VCS system, look for code at the end of &lt;code&gt;bin/_blackbox_common.sh&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;To add or fix support for a new operating system, look for the case statements in &lt;code&gt;bin/_blackbox_common.sh&lt;/code&gt; and &lt;code&gt;bin/_stack_lib.sh&lt;/code&gt; and maybe &lt;code&gt;tools/confidence_test.sh&lt;/code&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-using-blackbox-on-windows" class="anchor" aria-hidden="true" href="#using-blackbox-on-windows"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using BlackBox on Windows&lt;/h1&gt;
&lt;p&gt;BlackBox can be used with Cygwin or MinGW.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-protect-the-line-endings" class="anchor" aria-hidden="true" href="#protect-the-line-endings"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Protect the line endings&lt;/h3&gt;
&lt;p&gt;BlackBox assumes that &lt;code&gt;blackbox-admins.txt&lt;/code&gt; and &lt;code&gt;blackbox-files.txt&lt;/code&gt; will have
LF line endings. Windows users should be careful to configure Git or other systems
to not convert or "fix" those files.&lt;/p&gt;
&lt;p&gt;If you use Git, add the following lines to your &lt;code&gt;.gitattributes&lt;/code&gt; file:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;**/blackbox-admins.txt text eol=lf
**/blackbox-files.txt text eol=lf
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The latest version of &lt;code&gt;blackbox_initialize&lt;/code&gt; will create a &lt;code&gt;.gitattributes&lt;/code&gt; file in the &lt;code&gt;$BLACKBOXDATA&lt;/code&gt;
directory (usually &lt;code&gt;.blackbox&lt;/code&gt;) for you.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-cygwin" class="anchor" aria-hidden="true" href="#cygwin"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Cygwin&lt;/h3&gt;
&lt;p&gt;Cygwin support requires the following packages:&lt;/p&gt;
&lt;p&gt;Normal operation:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;gnupg&lt;/li&gt;
&lt;li&gt;git or mercurial or subversion or perforce (as appropriate)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Development (if you will be adding code and want to run the confidence test)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;procps&lt;/li&gt;
&lt;li&gt;make&lt;/li&gt;
&lt;li&gt;git (the confidence test currently only tests git)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-mingw" class="anchor" aria-hidden="true" href="#mingw"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;MinGW&lt;/h3&gt;
&lt;p&gt;MinGW (comes with Git for Windows) support requires the following:&lt;/p&gt;
&lt;p&gt;Normal operation:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://git-scm.com/" rel="nofollow"&gt;Git for Windows&lt;/a&gt; (not tested with Mercurial)
&lt;ul&gt;
&lt;li&gt;Git Bash MINTTY returns a MinGW console.  So when you install make sure you pick &lt;code&gt;MINTTY&lt;/code&gt; instead of windows console.  You'll be executing blackbox from the Git Bash prompt.&lt;/li&gt;
&lt;li&gt;You need at least version 2.8.1 of Git for Windows.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://sourceforge.net/projects/getgnuwin32/files/" rel="nofollow"&gt;GnuWin32&lt;/a&gt; - needed for various tools not least of which is mktemp which is used by blackbox
&lt;ul&gt;
&lt;li&gt;after downloading the install just provides you with some batch files.  Because of prior issues at sourceforge and to make sure you get the latest version of each package the batch files handle the brunt of the work of getting the correct packages and installing them for you.&lt;/li&gt;
&lt;li&gt;from a &lt;strong&gt;windows command prompt&lt;/strong&gt; run &lt;code&gt;download.bat&lt;/code&gt;  once it has completed run &lt;code&gt;install.bat&lt;/code&gt; then add the path for those tools to your PATH (ex: &lt;code&gt;PATH=%PATH%;c:\GnuWin32\bin&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Development:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;unknown (if you develop Blackbox under MinGW, please let us know if any additional packages are required to run &lt;code&gt;make test&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-how-is-the-encryption-done" class="anchor" aria-hidden="true" href="#how-is-the-encryption-done"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How is the encryption done?&lt;/h1&gt;
&lt;p&gt;GPG has many different ways to encrypt a file. BlackBox uses the mode that lets you specify a list of keys that can decrypt the message.&lt;/p&gt;
&lt;p&gt;If you have 5 people ("admins") that should be able to access the secrets, each creates a GPG key and adds their public key to the keychain. The GPG command used to encrypt the file lists all 5 key names, and therefore any 1 key can decrypt the file.&lt;/p&gt;
&lt;p&gt;To remove someone's access, remove that admin's key name (i.e. email address) from the list of admins and re-encrypt all the files. They can still read the .gpg file (assuming they have access to the repository) but they can't decrypt it any more.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;What if they kept a copy of the old repo before you removed access?&lt;/em&gt; Yes, they can decrypt old versions of the file. This is why when an admin leaves the team, you should change all your passwords, SSL certs, and so on. You should have been doing that before BlackBox, right?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Why don't you use symmetric keys?&lt;/em&gt; In other words, why mess with all this GPG key stuff and instead why don't we just encrypt all the files with a single passphrase. Yes, GPG supports that, but then we are managing a shared password, which is fraught with problems. If someone "leaves the team" we would have to communicate to everyone a new password. Now we just have to remove their key. This scales better.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;How do automated processes decrypt without asking for a password?&lt;/em&gt; GPG requires a passphrase on a private key. However, it permits the creation of subkeys that have no passphrase. For automated processes, create a subkey that is only stored on the machine that needs to decrypt the files. For example, at Stack Exchange, when our Continuous Integration (CI) system pushes a code change to our Puppet masters, they run &lt;code&gt;blackbox_postdeploy&lt;/code&gt; to decrypt all the files. The user that runs this code has a subkey that doesn't require a passphrase. Since we have many masters, each has its own key. And, yes, this means our Puppet Masters have to be very secure. However, they were already secure because, like, dude... if you can break into someone's puppet master you own their network.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;If you use Puppet, why didn't you just use hiera-eyaml?&lt;/em&gt; There are 4 reasons:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;This works with any Git or Mercurial repo, even if you aren't using Puppet.&lt;/li&gt;
&lt;li&gt;hiera-eyaml decrypts "on demand" which means your Puppet Master now uses a lot of CPU to decrypt keys every time it is contacted. It slows down your master, which, in my case, is already slow enough.&lt;/li&gt;
&lt;li&gt;This works with binary files, without having to ASCIIify them and paste them into a YAML file. Have you tried to do this with a cert that is 10K long and changes every few weeks? Ick.&lt;/li&gt;
&lt;li&gt;hiera-eyaml didn't exist when I wrote this.&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;&lt;a id="user-content-what-does-this-look-like-to-the-typical-user" class="anchor" aria-hidden="true" href="#what-does-this-look-like-to-the-typical-user"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What does this look like to the typical user?&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;If you need to, start the GPG Agent: &lt;code&gt;eval $(gpg-agent --daemon)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Decrypt the file so it is editable: &lt;code&gt;blackbox_edit_start FILENAME&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;(You will need to enter your GPG passphrase.)&lt;/li&gt;
&lt;li&gt;Edit FILENAME as you desire: &lt;code&gt;vim FILENAME&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Re-encrypt the file: &lt;code&gt;blackbox_edit_end FILENAME&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Commit the changes. &lt;code&gt;git commit -a&lt;/code&gt; or &lt;code&gt;hg commit&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Wait... it can be even easier than that! Run &lt;code&gt;blackbox_edit FILENAME&lt;/code&gt;, and it'll decrypt the file in a temp file and call &lt;code&gt;$EDITOR&lt;/code&gt; on it, re-encrypting again after the editor is closed.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-how-to-use-the-secrets-with-puppet" class="anchor" aria-hidden="true" href="#how-to-use-the-secrets-with-puppet"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How to use the secrets with Puppet?&lt;/h1&gt;
&lt;h3&gt;&lt;a id="user-content-entire-files" class="anchor" aria-hidden="true" href="#entire-files"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Entire files:&lt;/h3&gt;
&lt;p&gt;Entire files, such as SSL certs and private keys, are treated just like regular files. You decrypt them any time you push a new release to the puppet master.&lt;/p&gt;
&lt;p&gt;Puppet example for an encrypted file: &lt;code&gt;secret_file.key.gpg&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;file { '/etc/my_little_secret.key':
    ensure  =&amp;gt; 'file',
    owner   =&amp;gt; 'root',
    group   =&amp;gt; 'puppet',
    mode    =&amp;gt; '0760',
    source  =&amp;gt; "puppet:///modules/${module_name}/secret_file.key",
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-small-strings" class="anchor" aria-hidden="true" href="#small-strings"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Small strings:&lt;/h3&gt;
&lt;p&gt;Small strings, such as passwords and API keys, are stored in a hiera yaml file, which you encrypt with &lt;code&gt;blackbox_register_new_file&lt;/code&gt;. For example, we use a file called &lt;code&gt;blackbox.yaml&lt;/code&gt;. You can access them using the hiera() function.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Setup:&lt;/em&gt; Configure &lt;code&gt;hiera.yaml&lt;/code&gt; by adding "blackbox" to the search hierarchy:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;:hierarchy:
  - ...
  - blackbox
  - ...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In blackbox.yaml specify:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;---
module::test_password: "my secret password"
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In your Puppet Code, access the password as you would any hiera data:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$the_password = hiera('module::test_password', 'fail')

file {'/tmp/debug-blackbox.txt':
    content =&amp;gt; $the_password,
    owner   =&amp;gt; 'root',
    group   =&amp;gt; 'root',
    mode    =&amp;gt; '0600',
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The variable &lt;code&gt;$the_password&lt;/code&gt; will contain "my secret password" and can be used anywhere strings are used.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-how-to-enroll-a-new-file-into-the-system" class="anchor" aria-hidden="true" href="#how-to-enroll-a-new-file-into-the-system"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How to enroll a new file into the system?&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;If you need to, start the GPG Agent: &lt;code&gt;eval $(gpg-agent --daemon)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Add the file to the system:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;blackbox_register_new_file path/to/file.name.key
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Multiple file names can be specified on the command line:&lt;/p&gt;
&lt;p&gt;Example 1: Register 2 files:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;blackbox_register_new_file file1.txt file2.txt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Example 2: Register all the files in &lt;code&gt;$DIR&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;find $DIR -type f -not -name '*.gpg' -print0 | xargs -0 blackbox_register_new_file
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a id="user-content-how-to-remove-a-file-from-the-system" class="anchor" aria-hidden="true" href="#how-to-remove-a-file-from-the-system"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How to remove a file from the system?&lt;/h1&gt;
&lt;p&gt;This happens quite rarely, but we've got it covered:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;blackbox_deregister_file path/to/file.name.key
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a id="user-content-how-to-indoctrinate-a-new-user-into-the-system" class="anchor" aria-hidden="true" href="#how-to-indoctrinate-a-new-user-into-the-system"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How to indoctrinate a new user into the system?&lt;/h1&gt;
&lt;p&gt;FYI: Your repo may use &lt;code&gt;keyrings/live&lt;/code&gt; instead of &lt;code&gt;.blackbox&lt;/code&gt;. See "Where is the configuration stored?"&lt;/p&gt;
&lt;p&gt;&lt;code&gt;.blackbox/blackbox-admins.txt&lt;/code&gt; is a file that lists which users are able to decrypt files. (More pedantically, it is a list of the GnuPG key names that the file is encrypted for.)&lt;/p&gt;
&lt;p&gt;To join the list of people that can edit the file requires three steps; You create a GPG key and add it to the key ring. Then, someone that already has access adds you to the system. Lastly, you should test your access.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-step-1-you-create-a-gpg-key-pair-on-a-secure-machine-and-add-to-public-keychain" class="anchor" aria-hidden="true" href="#step-1-you-create-a-gpg-key-pair-on-a-secure-machine-and-add-to-public-keychain"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Step 1: YOU create a GPG key pair on a secure machine and add to public keychain.&lt;/h3&gt;
&lt;p&gt;If you don't already have a GPG key, here's how to generate one:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;gpg --gen-key
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;WARNING: New versions of GPG generate keys which are not understood by
old versions of GPG.  If you generate a key with a new version of GPG,
this will cause problems for users of older versions of GPG.
Therefore it is recommended that you either assure that everyone using
Blackbox have the exact same version of GPG, or generate GPG keys
using a version of GPG as old as the oldest version of GPG used by
everyone using Blackbox.&lt;/p&gt;
&lt;p&gt;Pick defaults for encryption settings, 0 expiration. Pick a VERY GOOD passphrase. Store a backup of the private key someplace secure. For example, keep the backup copy on a USB drive that is locked in safe.  Or, at least put it on a secure machine with little or no internet access, full-disk-encryption, etc. Your employer probably has rules about how to store such things.&lt;/p&gt;
&lt;p&gt;FYI: If generating the key is slow, this is usually because the system
isn't generating enough entropy.  Tip: Open another window on that
machine and run this command: &lt;code&gt;ls -R /&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Now that you have a GPG key, add yourself as an admin:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;blackbox_addadmin KEYNAME
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;...where "KEYNAME" is the email address listed in the gpg key you created previously. For example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;blackbox_addadmin tal@example.com
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;When the command completes successfully, instructions on how to commit these changes will be output. Run the command as given to commit the changes. It will look like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git commit -m'NEW ADMIN: tal@example.com' .blackbox/pubring.gpg .blackbox/trustdb.gpg .blackbox/blackbox-admins.txt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then push it to the repo:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git push

or

ht push

(or whatever is appropriate)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;NOTE: Creating a Role Account? If you are adding the pubring.gpg of a role account, you can specify the directory where the pubring.gpg file can be found as a 2nd parameter: &lt;code&gt;blackbox_addadmin puppetmaster@puppet-master-1.example.com /path/to/the/dir&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-step-2-someone-else-adds-you-to-the-system" class="anchor" aria-hidden="true" href="#step-2-someone-else-adds-you-to-the-system"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Step 2: SOMEONE ELSE adds you to the system.&lt;/h3&gt;
&lt;p&gt;Ask someone that already has access to re-encrypt the data files. This gives you access. They simply decrypt and re-encrypt the data without making any changes.&lt;/p&gt;
&lt;p&gt;Pre-check: Verify the new keys look good.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git pull    # Or whatever is required for your system
gpg --homedir=.blackbox --list-keys
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For example, examine the key name (email address) to make sure it conforms to corporate standards.&lt;/p&gt;
&lt;p&gt;Import the keychain into your personal keychain and reencrypt:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;gpg --import .blackbox/pubring.gpg
blackbox_update_all_files
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Push the re-encrypted files:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git commit -a
git push

or

hg commit
hg push
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-step-3-you-test" class="anchor" aria-hidden="true" href="#step-3-you-test"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Step 3: YOU test.&lt;/h3&gt;
&lt;p&gt;Make sure you can decrypt a file. (Suggestion: Keep a dummy file in VCS just for new people to practice on.)&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-how-to-remove-a-user-from-the-system" class="anchor" aria-hidden="true" href="#how-to-remove-a-user-from-the-system"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How to remove a user from the system?&lt;/h1&gt;
&lt;p&gt;Simply run &lt;code&gt;blackbox_removeadmin&lt;/code&gt; with their keyname then re-encrypt:&lt;/p&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;blackbox_removeadmin olduser@example.com
blackbox_update_all_files
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;When the command completes, you will be given a reminder to check in the change and push it.&lt;/p&gt;
&lt;p&gt;Note that their keys will still be in the key ring, but they will go unused. If you'd like to clean up the keyring, use the normal GPG commands and check in the file.&lt;/p&gt;
&lt;p&gt;FYI: Your repo may use &lt;code&gt;keyrings/live&lt;/code&gt; instead of &lt;code&gt;.blackbox&lt;/code&gt;. See "Where is the configuration stored?"&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;gpg --homedir=.blackbox --list-keys
gpg --homedir=.blackbox --delete-key olduser@example.com
git commit -m'Cleaned olduser@example.com from keyring'  .blackbox/*
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;FYI: Your repo may use &lt;code&gt;keyrings/live&lt;/code&gt; instead of &lt;code&gt;.blackbox&lt;/code&gt;. See "Where is the configuration stored?"&lt;/p&gt;
&lt;p&gt;The key ring only has public keys. There are no secret keys to delete.&lt;/p&gt;
&lt;p&gt;Remember that this person did have access to all the secrets at one time. They could have made a copy. Therefore, to be completely secure, you should change all passwords, generate new SSL keys, and so on just like when anyone that had privileged access leaves an organization.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-where-is-the-configuration-stored-blackbox-vs-keyringslive" class="anchor" aria-hidden="true" href="#where-is-the-configuration-stored-blackbox-vs-keyringslive"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Where is the configuration stored? .blackbox vs. keyrings/live&lt;/h1&gt;
&lt;p&gt;Blackbox stores its configuration data in the &lt;code&gt;.blackbox&lt;/code&gt; subdirectory.  Older
repos use &lt;code&gt;keyrings/live&lt;/code&gt;.  For backwards compatibility either will work.&lt;/p&gt;
&lt;p&gt;All documentation refers to &lt;code&gt;.blackbox&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;You can convert an old repo by simply renaming the directory:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mv keyrings/live .blackbox
rmdir keyrings
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;There is no technical reason to convert old repos except that it is less
confusing to users.&lt;/p&gt;
&lt;p&gt;This change was made in commit 60e782a0, release v1.20180615.&lt;/p&gt;
&lt;p&gt;The details:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;First Blackbox checks &lt;code&gt;$BLACKBOXDATA&lt;/code&gt;. If this environment variable is set, this is the directory that will be used. If it lists a directory that does not exist, Blackbox will print an error and exit.&lt;/li&gt;
&lt;li&gt;If &lt;code&gt;$BLACKBOXDATA&lt;/code&gt; is not set: (which is the typical use case)
&lt;ul&gt;
&lt;li&gt;Blackbox will first try &lt;code&gt;keyrings/live&lt;/code&gt; and use it if it exists.&lt;/li&gt;
&lt;li&gt;Otherwise the default &lt;code&gt;.blackbox&lt;/code&gt; will be used.  If &lt;code&gt;.blackbox&lt;/code&gt; does not exist, Blackbox will print an error and exit.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-enabling-blackbox-for-a-repo" class="anchor" aria-hidden="true" href="#enabling-blackbox-for-a-repo"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Enabling BlackBox For a Repo&lt;/h1&gt;
&lt;p&gt;Overview:&lt;/p&gt;
&lt;p&gt;To add "blackbox" to a git or mercurial repo, you'll need to do the following:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Run the initialize script. This adds a few files to your repo in a directory called ".blackbox".&lt;/li&gt;
&lt;li&gt;For the first user, create a GPG key and add it to the key ring.&lt;/li&gt;
&lt;li&gt;Encrypt the files you want to be "secret".&lt;/li&gt;
&lt;li&gt;For any automated user (one that must be able to decrypt without a passphrase), create a GPG key and create a subkey with an empty passphrase.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;FYI: Your repo may use &lt;code&gt;keyrings/live&lt;/code&gt; instead of &lt;code&gt;.blackbox&lt;/code&gt;. See "Where is the configuration stored?"&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-run-the-initialize-script" class="anchor" aria-hidden="true" href="#run-the-initialize-script"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Run the initialize script.&lt;/h3&gt;
&lt;p&gt;You'll want to include blackbox's "bin" directory in your PATH:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;export PATH=$PATH:/the/path/to/blackbox/bin
blackbox_initialize
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you're using antigen, adding &lt;code&gt;antigen bundle StackExchange/blackbox&lt;/code&gt; to your .zshrc will download this repository and add it to your $PATH.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-for-the-first-user-create-a-gpg-key-and-add-it-to-the-key-ring" class="anchor" aria-hidden="true" href="#for-the-first-user-create-a-gpg-key-and-add-it-to-the-key-ring"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;For the first user, create a GPG key and add it to the key ring.&lt;/h3&gt;
&lt;p&gt;Follow the instructions for "&lt;a href="#how-to-indoctrinate-a-new-user-into-the-system"&gt;How to indoctrinate a new user into the system?&lt;/a&gt;". Only do Step 1.&lt;/p&gt;
&lt;p&gt;Once that is done, is a good idea to test the system by making sure a file can be added to the system (see "How to enroll a new file into the system?"), and a different user can decrypt the file.&lt;/p&gt;
&lt;p&gt;Make a new file and register it:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;rm -f foo.txt.gpg foo.txt
echo This is a test. &amp;gt;foo.txt
blackbox_register_new_file foo.txt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Decrypt it:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;blackbox_edit_start foo.txt.gpg
cat foo.txt
echo This is the new file contents. &amp;gt;foo.txt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Re-encrypt it:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;blackbox_edit_end foo.txt.gpg
ls -l foo.txt*
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You should only see &lt;code&gt;foo.txt.gpg&lt;/code&gt; as &lt;code&gt;foo.txt&lt;/code&gt; should be gone.&lt;/p&gt;
&lt;p&gt;The next step is to commit &lt;code&gt;foo.txt.gpg&lt;/code&gt; and make sure another user can check out, view, and change the contents of the file. That is left as an exercise for the reader. If you are feel like taking a risk, don't commit &lt;code&gt;foo.txt.gpg&lt;/code&gt; and delete it instead.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-set-up-automated-users-or-role-accounts" class="anchor" aria-hidden="true" href="#set-up-automated-users-or-role-accounts"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Set up automated users or "role accounts"&lt;/h1&gt;
&lt;p&gt;i.e. This is how a Puppet Master can have access to the unencrypted data.&lt;/p&gt;
&lt;p&gt;FYI: Your repo may use &lt;code&gt;keyrings/live&lt;/code&gt; instead of &lt;code&gt;.blackbox&lt;/code&gt;. See "Where is the configuration stored?"&lt;/p&gt;
&lt;p&gt;An automated user (a "role account") is one that that must be able to decrypt without a passphrase. In general you'll want to do this for the user that pulls the files from the repo to the master. This may be automated with Jenkins CI or other CI system.&lt;/p&gt;
&lt;p&gt;GPG keys have to have a passphrase. However, passphrases are optional on subkeys. Therefore, we will create a key with a passphrase then create a subkey without a passphrase. Since the subkey is very powerful, it should be created on a very secure machine.&lt;/p&gt;
&lt;p&gt;There's another catch. The role account probably can't check files into Git/Mercurial. It probably only has read-only access to the repo. That's a good security policy. This means that the role account can't be used to upload the subkey public bits into the repo.&lt;/p&gt;
&lt;p&gt;Therefore, we will create the key/subkey on a secure machine as yourself. From there we can commit the public portions into the repo. Also from this account we will export the parts that the role account needs, copy them to where the role account can access them, and import them as the role account.&lt;/p&gt;
&lt;p&gt;ProTip: If asked to generate entropy, consider running this on the same machine in another window: &lt;code&gt;sudo dd if=/dev/sda of=/dev/null&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;For the rest of this doc, you'll need to make the following substitutions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ROLEUSER: svc_deployacct or whatever your role account's name is.&lt;/li&gt;
&lt;li&gt;NEWMASTER: the machine this role account exists on.&lt;/li&gt;
&lt;li&gt;SECUREHOST: The machine you use to create the keys.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;NOTE: This should be more automated/scripted. Patches welcome.&lt;/p&gt;
&lt;p&gt;On SECUREHOST, create the puppet master's keys:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ mkdir /tmp/NEWMASTER
$ cd /tmp/NEWMASTER
$ gpg --homedir . --gen-key
Your selection?
   (1) RSA and RSA (default)
What keysize do you want? (2048) DEFAULT
Key is valid for? (0) DEFAULT

# Real name: Puppet CI Deploy Account
# Email address: svc_deployacct@hostname.domain.name
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;NOTE: Rather than a real email address, use the username@FQDN of the host the key will be used on. If you use this role account on many machines, each should have its own key. By using the FQDN of the host, you will be able to know which key is which. In this doc, we'll refer to username@FQDN as $KEYNAME&lt;/p&gt;
&lt;p&gt;Save the passphrase somewhere safe!&lt;/p&gt;
&lt;p&gt;Create a sub-key that has no password:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ gpg --homedir . --edit-key svc_deployacct
gpg&amp;gt; addkey
(enter passphrase)
  Please select what kind of key you want:
   (3) DSA (sign only)
   (4) RSA (sign only)
   (5) Elgamal (encrypt only)
   (6) RSA (encrypt only)
Your selection? 6
What keysize do you want? (2048)
Key is valid for? (0)
Command&amp;gt; key 2
(the new subkey has a "*" next to it)
Command&amp;gt; passwd
(enter the main key's passphrase)
(enter an empty passphrase for the subkey... confirm you want to do this)
Command&amp;gt; save
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now securely export this directory to NEWMASTER:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;gpg --homedir . --export -a svc_sadeploy &amp;gt;/tmp/NEWMASTER/pubkey.txt
tar cvf /tmp/keys.tar .
rsync -avP /tmp/keys.tar NEWMASTER:/tmp/.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;On NEWMASTER, receive the new GnuPG config:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo -u svc_deployacct bash
mkdir -m 0700 -p ~/.gnupg
cd ~/.gnupg &amp;amp;&amp;amp; tar xpvf /tmp/keys.tar
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Back on SECUREHOST, add the new email address to .blackbox/blackbox-admins.txt:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cd /path/to/the/repo
blackbox_addadmin $KEYNAME /tmp/NEWMASTER
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Verify that secring.gpg is a zero-length file. If it isn't, you have somehow added a private key to the keyring. Start over.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cd .blackbox
ls -l secring.gpg
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Commit the recent changes:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cd .blackbox
git commit -m"Adding key for KEYNAME" pubring.gpg trustdb.gpg blackbox-admins.txt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Regenerate all encrypted files with the new key:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;blackbox_update_all_files
git status
git commit -m"updated encryption" -a
git push
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;On NEWMASTER, import the keys and decrypt the files:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo -u svc_sadeploy bash   # Become the role account.
gpg --import /etc/puppet/.blackbox/pubring.gpg
export PATH=$PATH:/path/to/blackbox/bin
blackbox_postdeploy
sudo -u puppet cat /etc/puppet/hieradata/blackbox.yaml # or any encrypted file.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ProTip: If you get "gpg: decryption failed: No secret key" then you forgot to re-encrypt blackbox.yaml with the new key.&lt;/p&gt;
&lt;p&gt;On SECUREHOST, securely delete your files:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cd /tmp/NEWMASTER
# On machines with the "shred" command:
shred -u /tmp/keys.tar
find . -type f -print0 | xargs -0 shred -u
# All else:
rm -rf /tmp/NEWMASTER
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Also shred any other temporary files you may have made.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-replacing-expired-keys" class="anchor" aria-hidden="true" href="#replacing-expired-keys"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Replacing expired keys&lt;/h1&gt;
&lt;p&gt;If someone's key has already expired, blackbox will stop
encrypting.  You see this error:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ blackbox_edit_end modified_file.txt
--&amp;gt; Error: can't re-encrypt because a key has expired.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;FYI: Your repo may use &lt;code&gt;keyrings/live&lt;/code&gt; instead of &lt;code&gt;.blackbox&lt;/code&gt;. See "Where is the configuration stored?"&lt;/p&gt;
&lt;p&gt;You can also detect keys that are about to expire by issuing this command and manually reviewing the "expired:" dates:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;gpg --homedir=.blackbox  --list-keys
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or... list UIDs that will expire within 1 month from today: (Warning: this also lists keys without an expiration date)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;gpg --homedir=.blackbox --list-keys  --with-colons --fixed-list-mode  | grep ^uid | awk -F: '$6 &amp;lt; '$(( $(date +%s) + 2592000))
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here's how to replace the key:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Step 1. Administrator removes expired user:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Warning: This process will erase any unencrypted files that you were in the process of editing. Copy them elsewhere and restore the changes when done.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;blackbox_removeadmin expired_user@example.com
# This next command overwrites any changed unencrypted files. See warning above.
blackbox_update_all_files
git commit -m "Re-encrypt all files"
gpg --homedir=.blackbox --delete-key expired_user@example.com
git commit -m 'Cleaned expired_user@example.com from keyring'  .blackbox/*
git push
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Step 2. Expired user adds an updated key:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;git pull
blackbox_addadmin updated_user@example.com
git commit -m'NEW ADMIN: updated_user@example.com .blackbox/pubring.gpg .blackbox/trustdb.gpg .blackbox/blackbox-admins.txt
git push
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Step 3. Administrator re-encrypts all files with the updated key of the expired user:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;git pull
gpg --import .blackbox/pubring.gpg
blackbox_update_all_files
git commit -m "Re-encrypt all files"
git push
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Step 4: Clean up:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Any files that were temporarily copied in the first step so as to not be overwritten can now be copied back and re-encrypted with the &lt;code&gt;blackbox_edit_end&lt;/code&gt; command.&lt;/p&gt;
&lt;p&gt;(Thanks to @chishaku for finding a solution to this problem!)&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-configure-git-to-show-diffs-in-encrypted-files" class="anchor" aria-hidden="true" href="#configure-git-to-show-diffs-in-encrypted-files"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Configure git to show diffs in encrypted files&lt;/h3&gt;
&lt;p&gt;It's possible to tell Git to decrypt versions of the file before running them through &lt;code&gt;git diff&lt;/code&gt; or &lt;code&gt;git log&lt;/code&gt;. To achieve this do:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Add the following to &lt;code&gt;.gitattributes&lt;/code&gt; at the top of the git repository:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;*.gpg diff=blackbox
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Add the following to &lt;code&gt;.git/config&lt;/code&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;[diff "blackbox"]
    textconv = gpg --use-agent -q --batch --decrypt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And now commands like &lt;code&gt;git log -p file.gpg&lt;/code&gt; will show a nice log of the changes in the encrypted file.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-some-common-errors" class="anchor" aria-hidden="true" href="#some-common-errors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Some common errors&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;gpg: filename: skipped: No public key&lt;/code&gt; -- Usually this means there is an item in &lt;code&gt;.blackbox/blackbox-admins.txt&lt;/code&gt; that is not the name of the key. Either something invalid was inserted (like a filename instead of a username) or a user has left the organization and their key was removed from the keychain, but their name wasn't removed from the blackbox-admins.txt file.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;gpg: decryption failed: No secret key&lt;/code&gt; -- Usually means you forgot to re-encrypt the file with the new key.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Error: can't re-encrypt because a key has expired.&lt;/code&gt; -- A user's key has expired and can't be used to encrypt any more. Follow the &lt;a href="#replace-expired-keys"&gt;Replace expired keys&lt;/a&gt; tip.&lt;/p&gt;
&lt;p&gt;FYI: Your repo may use &lt;code&gt;keyrings/live&lt;/code&gt; instead of &lt;code&gt;.blackbox&lt;/code&gt;. See "Where is the configuration stored?"&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-using-blackbox-without-a-repo" class="anchor" aria-hidden="true" href="#using-blackbox-without-a-repo"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using Blackbox without a repo&lt;/h1&gt;
&lt;p&gt;If the files are copied out of a repo they can still be decrypted and edited. Obviously edits, changes to keys, and such will be lost if they are made outside the repo. Also note that commands are most likely to only work if run from the base directory (i.e. the parent to the .blackbox directory).&lt;/p&gt;
&lt;p&gt;The following commands have been tested outside a repo:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;blackbox_postdeploy&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;blackbox_edit_start&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;blackbox_edit_end&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-some-subversion-gotchas" class="anchor" aria-hidden="true" href="#some-subversion-gotchas"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Some Subversion gotchas&lt;/h1&gt;
&lt;p&gt;The current implementation will store the blackbox in &lt;code&gt;/keyrings&lt;/code&gt; at the root of the entire repo.  This will create an issue between environments that have different roots (i.e. checking out &lt;code&gt;/&lt;/code&gt; on development vs &lt;code&gt;/releases/foo&lt;/code&gt; in production). To get around this, you can &lt;code&gt;export BLACKBOX_REPOBASE=/path/to/repo&lt;/code&gt; and set a specific base for your repo.&lt;/p&gt;
&lt;p&gt;This was originally written for git and supports a two-phase commit, in which &lt;code&gt;commit&lt;/code&gt; is a local commit and "push" sends the change upstream to the version control server when something is registered or deregistered with the system.  The current implementation will immediately &lt;code&gt;commit&lt;/code&gt; a file (to the upstream subversion server) when you execute a &lt;code&gt;blackbox_*&lt;/code&gt; command.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-using-blackbox-when-gpg2-is-installed-next-to-gpg" class="anchor" aria-hidden="true" href="#using-blackbox-when-gpg2-is-installed-next-to-gpg"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using Blackbox when gpg2 is installed next to gpg&lt;/h1&gt;
&lt;p&gt;In some situations, team members or automated roles need to install gpg
2.x alongside the system gpg version 1.x to catch up with the team's gpg
version. On Ubuntu 16, you can &lt;code&gt;apt-get install gnupg2&lt;/code&gt; which
installs the binary gpg2. If you want to use this gpg2 binary, run every
blackbox command with GPG=gpg2.&lt;/p&gt;
&lt;p&gt;For example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;GPG=gpg2 blackbox_postdeploy
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a id="user-content-how-to-submit-bugs-or-ask-questions" class="anchor" aria-hidden="true" href="#how-to-submit-bugs-or-ask-questions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How to submit bugs or ask questions?&lt;/h1&gt;
&lt;p&gt;We welcome questions, bug reports and feedback!&lt;/p&gt;
&lt;p&gt;The best place to start is to join the &lt;a href="https://groups.google.com/d/forum/blackbox-project" rel="nofollow"&gt;blackbox-project mailing list&lt;/a&gt; and ask there.&lt;/p&gt;
&lt;p&gt;Bugs are tracked here in Github. Please feel free to &lt;a href="https://github.com/StackExchange/blackbox/issues"&gt;report bugs&lt;/a&gt; yourself.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-developer-info" class="anchor" aria-hidden="true" href="#developer-info"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Developer Info&lt;/h1&gt;
&lt;p&gt;Code submissions are gladly welcomed! The code is fairly easy to read.&lt;/p&gt;
&lt;p&gt;Get the code:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git clone git@github.com:StackExchange/blackbox.git
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Test your changes:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;make confidence
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This runs through a number of system tests. It creates a repo, encrypts files, decrypts files, and so on. You can run these tests to verify that the changes you made didn't break anything. You can also use these tests to verify that the system works with a new operating system.&lt;/p&gt;
&lt;p&gt;Please submit tests with code changes:&lt;/p&gt;
&lt;p&gt;The best way to change BlackBox is via Test Driven Development. First add a test to &lt;code&gt;tools/confidence.sh&lt;/code&gt;. This test should fail, and demonstrate the need for the change you are about to make. Then fix the bug or add the feature you want. When you are done, &lt;code&gt;make confidence&lt;/code&gt; should pass all tests. The PR you submit should include your code as well as the new test. This way the confidence tests accumulate as the system grows as we know future changes don't break old features.&lt;/p&gt;
&lt;p&gt;Note: The tests currently assume "git" and have been tested only on CentOS, Mac OS X, and Cygwin. Patches welcome!&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-alternatives" class="anchor" aria-hidden="true" href="#alternatives"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Alternatives&lt;/h1&gt;
&lt;p&gt;Here are other open source packages that do something similar to BlackBox. If you like them better than BlackBox, please use them.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.agwa.name/projects/git-crypt/" rel="nofollow"&gt;git-crypt&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.zx2c4.com/projects/password-store/" rel="nofollow"&gt;Pass&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/elasticdog/transcrypt"&gt;Transcrypt&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://keyringer.pw/" rel="nofollow"&gt;Keyringer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sobolevn/git-secret"&gt;git-secret&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;git-crypt has the best git integration. Once set up it is nearly transparent to the users. However it only works with git.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h1&gt;
&lt;p&gt;This content is released under the MIT License.
See the &lt;a href="LICENSE.txt"&gt;LICENSE.txt&lt;/a&gt; file.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>StackExchange</author><guid isPermaLink="false">https://github.com/StackExchange/blackbox</guid><pubDate>Wed, 11 Dec 2019 00:22:00 GMT</pubDate></item><item><title>oracle/docker-images #23 in Shell, Today</title><link>https://github.com/oracle/docker-images</link><description>&lt;p&gt;&lt;i&gt;Official source for Docker configurations, images, and examples of Dockerfiles for Oracle products and projects&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-docker-images-from-oracle" class="anchor" aria-hidden="true" href="#docker-images-from-oracle"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Docker Images from Oracle&lt;/h1&gt;
&lt;p&gt;This repository contains &lt;a href="https://docs.docker.com/engine/reference/builder/" rel="nofollow"&gt;Dockerfiles&lt;/a&gt; and samples to build &lt;a href="https://www.docker.com/what-docker" rel="nofollow"&gt;Docker&lt;/a&gt; images for Oracle commercial products and &lt;a href="https://oss.oracle.com" rel="nofollow"&gt;Oracle sponsored open source projects&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-images-on-github" class="anchor" aria-hidden="true" href="#images-on-github"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Images on GitHub&lt;/h2&gt;
&lt;p&gt;These images will require you to download any required Oracle commercial software before installation. If you want commercial software downloaded for you, view &lt;a href="#pre-built-images-with-commercial-software"&gt;Pre-Built Images with Commercial Software&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-oracle-commercial-products" class="anchor" aria-hidden="true" href="#oracle-commercial-products"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Oracle Commercial Products&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/OracleBI"&gt;Oracle BI&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="/OracleCloudInfrastructure"&gt;Oracle Cloud Infrastructure Tools&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="/OracleCoherence"&gt;Oracle Coherence&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="/OracleDatabase"&gt;Oracle Database&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="/OracleDataIntegrator"&gt;Oracle Data Integrator&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="/OracleEDQ"&gt;Oracle Enterprise Data Quality&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="/OracleFMWInfrastructure"&gt;Oracle FMW Infrastructure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="/OracleGoldenGate"&gt;Oracle GoldenGate&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="/OracleHTTPServer"&gt;Oracle HTTP Server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="/OracleInstantClient"&gt;Oracle Instant Client&lt;/a&gt; (Basic, SDK and SQL*Plus)&lt;/li&gt;
&lt;li&gt;&lt;a href="/OracleJava"&gt;Oracle Java&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="OracleRestDataServices"&gt;Oracle Rest Data Services&lt;/a&gt; (ORDS)&lt;/li&gt;
&lt;li&gt;&lt;a href="/OracleSOASuite"&gt;Oracle SOA Suite&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="/OracleTuxedo"&gt;Oracle Tuxedo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="/OracleTuxedo/tsam"&gt;Oracle TSAM Plus&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="/OracleWebLogic"&gt;Oracle WebLogic Server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="/OracleWebCenterSites"&gt;Oracle WebCenter Sites&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-oracle-sponsored-open-source-projects" class="anchor" aria-hidden="true" href="#oracle-sponsored-open-source-projects"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Oracle Sponsored Open Source Projects&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/GraalVM"&gt;GraalVM CE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mysql/mysql-docker"&gt;MySQL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="/OpenJDK"&gt;OpenJDK&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="/NoSQL"&gt;Oracle NoSQL Database&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/oracle/container-images"&gt;Oracle Linux&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-pre-built-images-with-commercial-software" class="anchor" aria-hidden="true" href="#pre-built-images-with-commercial-software"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Pre-Built Images with Commercial Software&lt;/h2&gt;
&lt;p&gt;These sources will download any Oracle commercial software for you:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://container-registry.oracle.com" rel="nofollow"&gt;Oracle Container Registry&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://store.docker.com/search?certification_status=certified&amp;amp;q=oracle&amp;amp;source=verified&amp;amp;type=image" rel="nofollow"&gt;Docker Store&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-support" class="anchor" aria-hidden="true" href="#support"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Support&lt;/h2&gt;
&lt;p&gt;For support and certification information, please consult the documentation for each product.&lt;/p&gt;
&lt;p&gt;For support, bug reporting and feedback about the provided Dockerfiles, please open an &lt;a href="https://github.com/oracle/docker-images/issues"&gt;issue on GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;If you need general support with running containers on Oracle Linux, please visit the &lt;a href="https://community.oracle.com/community/server_&amp;amp;_storage_systems/containers" rel="nofollow"&gt;OTN Community Container Space&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-community-contributions" class="anchor" aria-hidden="true" href="#community-contributions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Community Contributions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/oracle/docker-images/issues/212"&gt;Oracle Forms and Reports&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>oracle</author><guid isPermaLink="false">https://github.com/oracle/docker-images</guid><pubDate>Wed, 11 Dec 2019 00:23:00 GMT</pubDate></item><item><title>robcowart/elastiflow #24 in Shell, Today</title><link>https://github.com/robcowart/elastiflow</link><description>&lt;p&gt;&lt;i&gt;Network flow Monitoring (Netflow, sFlow and IPFIX) with the Elastic Stack&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-elastiflow" class="anchor" aria-hidden="true" href="#elastiflow"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ElastiFlow™&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://www.patreon.com/elastiflow" rel="nofollow"&gt;&lt;img src="https://user-images.githubusercontent.com/10326954/52966127-c9847680-33a6-11e9-8640-10dd7abc3af0.png" alt="patreon" style="max-width:100%;"&gt;&lt;/a&gt; &lt;a href="https://www.paypal.me/robcowart" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/d5d24e33e2f4b6fe53987419a21b203c03789a8f/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f446f6e6174652d50617950616c2d677265656e2e737667" alt="Donate" data-canonical-src="https://img.shields.io/badge/Donate-PayPal-green.svg" style="max-width:100%;"&gt;&lt;/a&gt; &lt;a href="https://twitter.com/intent/tweet?text=ElastiFlow%E2%84%A2%20provides%20Netflow%20v5%2Fv9%2C%20sFlow%20and%20IPFIX%20data%20collection%20and%20visualization%20using%20the%20Elastic%20Stack.&amp;amp;url=https://github.com/robcowart/elastiflow&amp;amp;hashtags=elastiflow,netflow,sflow,ipfix" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/83d4084f7b71558e33b08844da5c773a8657e271/68747470733a2f2f696d672e736869656c64732e696f2f747769747465722f75726c2f687474702f736869656c64732e696f2e7376673f7374796c653d736f6369616c" alt="Tweet" data-canonical-src="https://img.shields.io/twitter/url/http/shields.io.svg?style=social" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;SUPPORTING ElastiFlow™ - Today literally 1000s of users leverage ElastiFlow™ As a powerful alternative to expensive commercial flow collecting solutions. As its popularity has increased, so has the time commitment necessary to support users and provide further enhancements. If you are one of the organizations who appreciate the value of ElastiFlow™, I would like to ask you to consider becoming a sponsor. The support from sponsors allows me dedicate more time and energy to the project. To become a sponsor, please visit ElastiFlow on &lt;a href="https://www.patreon.com/elastiflow" rel="nofollow"&gt;&lt;img src="https://user-images.githubusercontent.com/10326954/52966127-c9847680-33a6-11e9-8640-10dd7abc3af0.png" alt="patreon" style="max-width:100%;"&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ElastiFlow™ provides network flow data collection and visualization using the Elastic Stack (Elasticsearch, Logstash and Kibana). It supports Netflow v5/v9, sFlow and IPFIX flow types (1.x versions support only Netflow v5/v9).&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/10326954/57181284-fc141a80-6e91-11e9-9ec5-d0864c25a088.png"&gt;&lt;img src="https://user-images.githubusercontent.com/10326954/57181284-fc141a80-6e91-11e9-9ec5-d0864c25a088.png" alt="ElastiFlow™" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I was inspired to create ElastiFlow™ following the overwhelmingly positive feedback received to an article I posted on Linkedin... &lt;a href="https://www.linkedin.com/pulse/wtflow-you-really-still-paying-commercial-solutions-collect-cowart" rel="nofollow"&gt;WTFlow?! Are you really still paying for commercial solutions to collect and analyze network flow data?&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-user-testimonials" class="anchor" aria-hidden="true" href="#user-testimonials"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;User Testimonials&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Organization&lt;/th&gt;
&lt;th&gt;Feedback&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/10326954/44616427-b2c5f280-a84f-11e8-8add-1a458bffec68.png"&gt;&lt;img src="https://user-images.githubusercontent.com/10326954/44616427-b2c5f280-a84f-11e8-8add-1a458bffec68.png" alt="ESnet" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;em&gt;&lt;strong&gt;“Right now this is my personal favorite analytics tool. I use it extensively and am always finding a new way to leverage it."&lt;/strong&gt;&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/10326954/44616291-64afef80-a84d-11e8-804f-6537897bfe85.png"&gt;&lt;img src="https://user-images.githubusercontent.com/10326954/44616291-64afef80-a84d-11e8-804f-6537897bfe85.png" alt="Payback" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;em&gt;&lt;strong&gt;"We're using it since two months in our new datacenter and our network admins are very happy and impressed."&lt;/strong&gt;&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/10326954/44616396-2c111580-a84f-11e8-92dd-a509064d02f8.png"&gt;&lt;img src="https://user-images.githubusercontent.com/10326954/44616396-2c111580-a84f-11e8-92dd-a509064d02f8.png" alt="Catapult Systems" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;em&gt;&lt;strong&gt;"Of all the netflow tools I’ve tested it has, by far, the best visualizations."&lt;/strong&gt;&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/10326954/44616477-ee14f100-a850-11e8-9133-26917020e685.png"&gt;&lt;img src="https://user-images.githubusercontent.com/10326954/44616477-ee14f100-a850-11e8-9133-26917020e685.png" alt="Imagine Software" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;em&gt;&lt;strong&gt;"We absolutely love ElastiFlow and recently stood it up in production. Looking forward to new functionality and dashboards."&lt;/strong&gt;&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-getting-started" class="anchor" aria-hidden="true" href="#getting-started"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Getting Started&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;NOTE: Elastic Stack 7.x &lt;em&gt;&lt;em&gt;requires&lt;/em&gt;&lt;/em&gt; ElastiFlow™ 3.5.x. To deploy on Elastic Stack 6.x you &lt;em&gt;&lt;em&gt;must&lt;/em&gt;&lt;/em&gt; use ElastiFlow™ 3.4.2 or earlier. The 3.4 branch will be maintained independently of the master branch for a while, as most users are still using a pre-7 release of the Elastic Stack.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ElastiFlow™ is built using the Elastic Stack, including Elasticsearch, Logstash and Kibana. Please refer to &lt;a href="https://github.com/robcowart/elastiflow/blob/master/INSTALL.md"&gt;INSTALL.md&lt;/a&gt; for instructions on how to install and configure ElastiFlow™&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;NOTE: Please make sure that have reviewed &lt;a href="https://github.com/robcowart/elastiflow/blob/master/KNOWN_ISSUES.md"&gt;KNOWN_ISSUES.md&lt;/a&gt; prior to getting started.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;&lt;a id="user-content-provided-dashboards" class="anchor" aria-hidden="true" href="#provided-dashboards"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Provided Dashboards&lt;/h2&gt;
&lt;p&gt;The following dashboards are provided.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;NOTE: The dashboards are optimized for a monitor resolution of 1920x1080.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;&lt;a id="user-content-overview" class="anchor" aria-hidden="true" href="#overview"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Overview&lt;/h3&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/10326954/57179336-290a0280-6e7d-11e9-8e34-f4d3f04567f7.png"&gt;&lt;img src="https://user-images.githubusercontent.com/10326954/57179336-290a0280-6e7d-11e9-8e34-f4d3f04567f7.png" alt="Overview" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-top-n" class="anchor" aria-hidden="true" href="#top-n"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Top-N&lt;/h3&gt;
&lt;p&gt;There are separate Top-N dashboards for Top Talkers, Services, Conversations and Applications.
&lt;a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/10326954/57181182-c02c8580-6e90-11e9-8cc6-b32424566dea.png"&gt;&lt;img src="https://user-images.githubusercontent.com/10326954/57181182-c02c8580-6e90-11e9-8cc6-b32424566dea.png" alt="Top-N" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-threats" class="anchor" aria-hidden="true" href="#threats"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Threats&lt;/h3&gt;
&lt;p&gt;ElastiFlow™ includes a dictionary of public IP addresses that are known to have a poor reputation. This dictionary is built from many OSINT data sources, normalized to a common taxonomy. The Threats dashboard uses this IP reputation information to highlight three threat/risk types.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Public Threats - Public clients with a poor IP reputation that are reaching private addresses.&lt;/li&gt;
&lt;li&gt;At-Risk Servers - Private Servers that are being reached by clients with a poor IP reputation.&lt;/li&gt;
&lt;li&gt;High-Risk Clients - Private clients that are accessing public servers which have a poor reputation.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/10326954/57181155-865b7f00-6e90-11e9-82f8-bb8e7b2df083.png"&gt;&lt;img src="https://user-images.githubusercontent.com/10326954/57181155-865b7f00-6e90-11e9-82f8-bb8e7b2df083.png" alt="Threats" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-flows" class="anchor" aria-hidden="true" href="#flows"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Flows&lt;/h3&gt;
&lt;p&gt;There are separate Sankey dashboards for Client/Server, Source/Destination and Autonomous System perspectives. The sankey visualizations are built using the new Vega visualization plugin.
&lt;a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/10326954/57180877-65455f00-6e8d-11e9-9411-ca2b952748e7.png"&gt;&lt;img src="https://user-images.githubusercontent.com/10326954/57180877-65455f00-6e8d-11e9-9411-ca2b952748e7.png" alt="Flows" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-geo-ip" class="anchor" aria-hidden="true" href="#geo-ip"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Geo IP&lt;/h3&gt;
&lt;p&gt;There are separate Geo Loacation dashboards for Client/Server and Source/Destination perspectives.
&lt;a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/10326954/57180209-cf0e3a80-6e86-11e9-8b7b-acd3a82181af.png"&gt;&lt;img src="https://user-images.githubusercontent.com/10326954/57180209-cf0e3a80-6e86-11e9-8b7b-acd3a82181af.png" alt="Geo IP" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-as-traffic" class="anchor" aria-hidden="true" href="#as-traffic"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;AS Traffic&lt;/h3&gt;
&lt;p&gt;Provides a view of traffic to and from Autonomous Systems (public IP ranges)
&lt;a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/10326954/57180844-17305b80-6e8d-11e9-875e-a715d0c66a25.png"&gt;&lt;img src="https://user-images.githubusercontent.com/10326954/57180844-17305b80-6e8d-11e9-875e-a715d0c66a25.png" alt="AS Traffic" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-flow-exporters" class="anchor" aria-hidden="true" href="#flow-exporters"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Flow Exporters&lt;/h3&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/10326954/57180767-51e5c400-6e8c-11e9-9c06-6c34ec6ea922.png"&gt;&lt;img src="https://user-images.githubusercontent.com/10326954/57180767-51e5c400-6e8c-11e9-9c06-6c34ec6ea922.png" alt="Flow Exporters" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-traffic-details" class="anchor" aria-hidden="true" href="#traffic-details"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Traffic Details&lt;/h3&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/10326954/57180793-86598000-6e8c-11e9-9dc1-341abafbd20e.png"&gt;&lt;img src="https://user-images.githubusercontent.com/10326954/57180793-86598000-6e8c-11e9-9dc1-341abafbd20e.png" alt="Traffic Details" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-flow-records" class="anchor" aria-hidden="true" href="#flow-records"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Flow Records&lt;/h3&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/10326954/57180815-bf91f000-6e8c-11e9-823d-6fb10d5a9d16.png"&gt;&lt;img src="https://user-images.githubusercontent.com/10326954/57180815-bf91f000-6e8c-11e9-823d-6fb10d5a9d16.png" alt="Flow Records" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-ziften-zflow" class="anchor" aria-hidden="true" href="#ziften-zflow"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ziften ZFlow&lt;/h3&gt;
&lt;p&gt;ElastiFlow™ v3.4.0 added support for IPFIX records from Ziften's ZFlow agent. In addition to being fully integrated with the standard dashboards, a stand-alone ZFlow dashboards displays network traffic based on user and command data provided by ZFlow.
&lt;a target="_blank" rel="noopener noreferrer" href="https://user-images.githubusercontent.com/10326954/57181212-0da8f280-6e91-11e9-8725-4e06b22fc64b.png"&gt;&lt;img src="https://user-images.githubusercontent.com/10326954/57181212-0da8f280-6e91-11e9-8725-4e06b22fc64b.png" alt="Ziften ZFlow" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-attribution" class="anchor" aria-hidden="true" href="#attribution"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Attribution&lt;/h2&gt;
&lt;p&gt;This product includes GeoLite2 data created by MaxMind, available from (&lt;a href="http://www.maxmind.com" rel="nofollow"&gt;http://www.maxmind.com&lt;/a&gt;)&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>robcowart</author><guid isPermaLink="false">https://github.com/robcowart/elastiflow</guid><pubDate>Wed, 11 Dec 2019 00:24:00 GMT</pubDate></item><item><title>npryce/adr-tools #25 in Shell, Today</title><link>https://github.com/npryce/adr-tools</link><description>&lt;p&gt;&lt;i&gt;Command-line tools for working with Architecture Decision Records&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-adr-tools" class="anchor" aria-hidden="true" href="#adr-tools"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ADR Tools&lt;/h1&gt;
&lt;p&gt;A command-line tool for working with a log of &lt;a href="http://thinkrelevance.com/blog/2011/11/15/documenting-architecture-decisions" rel="nofollow"&gt;Architecture Decision Records&lt;/a&gt; (ADRs).&lt;/p&gt;
&lt;p&gt;&lt;a href="https://travis-ci.org/npryce/adr-tools" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/764f8901f48100a8221228d4244c1775e9e5a19f/68747470733a2f2f7472617669732d63692e6f72672f6e70727963652f6164722d746f6f6c732e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/npryce/adr-tools.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-quick-start" class="anchor" aria-hidden="true" href="#quick-start"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;
&lt;p&gt;&lt;a href="INSTALL.md"&gt;Install ADR Tools&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Use the &lt;code&gt;adr&lt;/code&gt; command to manage ADRs.  Try running &lt;code&gt;adr help&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;ADRs are stored in a subdirectory of your project as Markdown files.
The default directory is &lt;code&gt;doc/adr&lt;/code&gt;, but you can specify the directory
when you initialise the ADR log.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Create an ADR directory in the root of your project:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; adr init doc/architecture/decisions
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This will create a directory named `doc/architecture/decisions'
containing the first ADR, which records that you are using ADRs
to record architectural decisions and links to
&lt;a href="http://thinkrelevance.com/blog/2011/11/15/documenting-architecture-decisions" rel="nofollow"&gt;Michael Nygard's article on the subject&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create Architecture Decision Records&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; adr new Implement as Unix shell scripts
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This will create a new, numbered ADR file and open it in your
editor of choice (as specified by the VISUAL or EDITOR environment
variable).&lt;/p&gt;
&lt;p&gt;To create a new ADR that supercedes a previous one (ADR 9, for example),
use the -s option.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; adr new -s 9 Use Rust for performance-critical functionality
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This will create a new ADR file that is flagged as superceding
ADR 9, and changes the status of ADR 9 to indicate that it is
superceded by the new ADR.  It then opens the new ADR in your
editor of choice.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;For further information, use the built in help:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; adr help
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;See the &lt;a href="tests/"&gt;tests&lt;/a&gt; for detailed examples.&lt;/p&gt;
&lt;p&gt;The decisions for this tool are recorded as &lt;a href="doc/adr/"&gt;architecture decision records in the project repository&lt;/a&gt;.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>npryce</author><guid isPermaLink="false">https://github.com/npryce/adr-tools</guid><pubDate>Wed, 11 Dec 2019 00:25:00 GMT</pubDate></item></channel></rss>
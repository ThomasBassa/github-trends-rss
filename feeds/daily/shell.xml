<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>GitHub Trending: Shell, Today</title><link>https://github.com/trending/shell?since=daily</link><description>The top repositories on GitHub for shell, measured daily</description><pubDate>Sat, 02 Nov 2019 00:08:00 GMT</pubDate><lastBuildDate>Sat, 02 Nov 2019 00:08:00 GMT</lastBuildDate><generator>PyRSS2Gen-1.1.0</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><ttl>1400</ttl><item><title>EtherDream/jsproxy #1 in Shell, Today</title><link>https://github.com/EtherDream/jsproxy</link><description>&lt;p&gt;&lt;i&gt;[No description found.]&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-更新" class="anchor" aria-hidden="true" href="#更新"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;更新&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;2019-07-24 &lt;a href="https://github.com/EtherDream/jsproxy/blob/master/changelogs/v0.1.0.md"&gt;v0.1.0&lt;/a&gt; 发布，主要修复了缓存失效的问题。网络接口和之前版本不兼容，请及时更新服务端和 cfworker。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;2019-06-22 &lt;a href="cf-worker"&gt;cfworker 无服务器版&lt;/a&gt; 发布，长期使用演示服务的请使用该版本。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="changelogs"&gt;查看更多&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-安装" class="anchor" aria-hidden="true" href="#安装"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;安装&lt;/h1&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;curl https://raw.githubusercontent.com/EtherDream/jsproxy/0.1.0/i.sh &lt;span class="pl-k"&gt;|&lt;/span&gt; bash&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;自动安装目前只支持 Linux x64，并且需要 root 权限&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;安装过程中 80 端口能被外网访问（申请 HTTPS 证书）&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;无法满足上述条件，或想了解安装细节，可尝试&lt;a href="docs/setup.md"&gt;手动安装&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;测试: &lt;code&gt;https://服务器IP.xip.io:8443&lt;/code&gt;（具体参考脚本输出）&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-自定义域名" class="anchor" aria-hidden="true" href="#自定义域名"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;自定义域名&lt;/h3&gt;
&lt;p&gt;将域名 &lt;code&gt;example.com&lt;/code&gt; 解析到服务器 IP，然后执行：&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;curl https://raw.githubusercontent.com/EtherDream/jsproxy/master/i.sh &lt;span class="pl-k"&gt;|&lt;/span&gt; bash -s example.com&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;访问: &lt;code&gt;https://example.com:8443&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-自定义端口" class="anchor" aria-hidden="true" href="#自定义端口"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;自定义端口&lt;/h3&gt;
&lt;p&gt;默认端口为 8443 (HTTPS) 和 8080 (HTTP) ，如需改成 443 和 80，推荐使用端口转发：&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;iptables -A PREROUTING -t nat -p tcp --dport 443 -j REDIRECT --to-ports 8443
iptables -A PREROUTING -t nat -p tcp --dport 80 -j REDIRECT --to-ports 8080&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;同时修改 &lt;code&gt;www.conf&lt;/code&gt; 中的 &lt;code&gt;:8443&lt;/code&gt; 为 &lt;code&gt;:443&lt;/code&gt;。&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-使用-github-pages-前端" class="anchor" aria-hidden="true" href="#使用-github-pages-前端"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;使用 GitHub Pages 前端&lt;/h3&gt;
&lt;p&gt;本项目支持前后端分离，前端部分（&lt;code&gt;www&lt;/code&gt; 目录下的文件）可部署在第三方 Web 服务器上。&lt;/p&gt;
&lt;p&gt;例如演示站点的前端部署于 GitHub Pages 服务，从而可使用个性域名（*.github.io），还能减少一定的流量开销。&lt;/p&gt;
&lt;p&gt;Fork 本项目，进入 &lt;code&gt;gh-pages&lt;/code&gt; 分支（该分支内容和 &lt;code&gt;www&lt;/code&gt; 目录相同），编辑 &lt;code&gt;conf.js&lt;/code&gt; 文件：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;节点列表（&lt;code&gt;node_map&lt;/code&gt; 字段，包括节点 id 和节点主机）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;默认节点（&lt;code&gt;node_default&lt;/code&gt; 字段，指定节点 id）&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;访问 &lt;code&gt;https://用户名.github.io/jsproxy&lt;/code&gt; 预览。&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-维护" class="anchor" aria-hidden="true" href="#维护"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;维护&lt;/h1&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 切换到 jsproxy 用户&lt;/span&gt;
su - jsproxy

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 重启服务&lt;/span&gt;
./run.sh reload

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 关闭服务（参数和 nginx -s 相同）&lt;/span&gt;
./run.sh quit

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 启动服务&lt;/span&gt;
./run.sh

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; 查看代理日志&lt;/span&gt;
tail server/nginx/logs/proxy.log&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;目前暂未实现开机自启动。&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-禁止外链" class="anchor" aria-hidden="true" href="#禁止外链"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;禁止外链&lt;/h1&gt;
&lt;p&gt;默认情况下，代理接口允许所有 &lt;code&gt;github.io&lt;/code&gt; 子站点调用，这可能导致不必要的流量消耗。&lt;/p&gt;
&lt;p&gt;如果希望只给自己网站使用，可编辑 &lt;code&gt;allowed-sites.conf&lt;/code&gt;。（重启服务生效）&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-安全策略" class="anchor" aria-hidden="true" href="#安全策略"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;安全策略&lt;/h1&gt;
&lt;p&gt;如果不希望代理访问内网（避免 SSRF 风险），可执行 &lt;code&gt;setup-ipset.sh&lt;/code&gt;：&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;/home/jsproxy/server/setup-ipset.sh&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;需要 root 权限，依赖 &lt;code&gt;ipset&lt;/code&gt; 命令&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;该脚本可禁止 &lt;code&gt;jsporxy&lt;/code&gt; 用户访问保留 IP 段（针对 TCP）。nginx 之外的程序也生效，但不影响其他用户。&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-相关文章" class="anchor" aria-hidden="true" href="#相关文章"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;相关文章&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/EtherDream/jsproxy/blob/master/docs/blogs/js-hook.md"&gt;基于 JS Hook 技术，打造最先进的在线代理&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-项目特点" class="anchor" aria-hidden="true" href="#项目特点"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;项目特点&lt;/h1&gt;
&lt;p&gt;相比传统在线代理，本项目具有以下特点：&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-服务端开销低" class="anchor" aria-hidden="true" href="#服务端开销低"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;服务端开销低&lt;/h2&gt;
&lt;p&gt;传统在线代理几乎都是在服务端替换 HTML/JS/CSS 等资源中的 URL。这不仅需要对内容做大量的分析和处理，还需对流量进行解压和再压缩，消耗大量 CPU 资源。并且由于逻辑较复杂，通常使用 Python/PHP 等编程语言自己实现。&lt;/p&gt;
&lt;p&gt;为降低服务端开销，本项目使用浏览器的一个黑科技 —— Service Worker。它能让 JS 拦截网页产生的请求，并能自定义返回内容，相当于在浏览器内部实现一个反向代理。这使得绝大部分的内容处理都可以在浏览器上完成，服务器只需纯粹的转发流量。&lt;/p&gt;
&lt;p&gt;因此本项目服务端直接使用 nginx，并且转发过程不修改内容（只修改 HTTP 头），避免了内容处理产生的巨大开销。同时得益于 nginx 丰富的功能，很多常用需求无需重新造轮子，通过简单配置即可实现。并且无论性能还是稳定性，都远高于自己实现。&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-api-虚拟化" class="anchor" aria-hidden="true" href="#api-虚拟化"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;API 虚拟化&lt;/h2&gt;
&lt;p&gt;传统在线代理大多只针对静态 URL 的替换，忽视了动态 URL 以及和 URL 相关的网页 API。例如 a.com 反向代理 google.com，但页面中 JS 读取 &lt;code&gt;document.domain&lt;/code&gt; 得到的仍是 a.com。这可能导致某些业务逻辑出现问题。&lt;/p&gt;
&lt;p&gt;为缓解这个问题，本代理在页面头部注入一个 JS，用以重写绝大部分和 URL 相关的 API，使得页面中的 JS 获取到的仍是原始 URL：&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://raw.githubusercontent.com/EtherDream/jsproxy-localtest/temp/hook.png"&gt;&lt;img src="https://raw.githubusercontent.com/EtherDream/jsproxy-localtest/temp/hook.png" alt="" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;对于有些无法重写的 API，例如 &lt;code&gt;location&lt;/code&gt;，本代理会将代码中字面出现的 &lt;code&gt;location&lt;/code&gt; 替换成 &lt;code&gt;__location&lt;/code&gt;，从而将操作转移到自定义对象上。当然对于非字面的情况（例如 &lt;code&gt;this['lo' + 'cation']&lt;/code&gt;），目前还无法处理。&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-类似项目" class="anchor" aria-hidden="true" href="#类似项目"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;类似项目&lt;/h1&gt;
&lt;p&gt;目前找到的都是传统后端替换 URL 的方案。当然后端替换也有不少优点，例如浏览器兼容性高，甚至低版本的 IE 都可以使用。&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-zmirror" class="anchor" aria-hidden="true" href="#zmirror"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;zmirror&lt;/h2&gt;
&lt;p&gt;GitHub: &lt;a href="https://github.com/aploium/zmirror"&gt;https://github.com/aploium/zmirror&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-php-proxy" class="anchor" aria-hidden="true" href="#php-proxy"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;php-proxy&lt;/h2&gt;
&lt;p&gt;GitHub: &lt;a href="https://github.com/jenssegers/php-proxy"&gt;https://github.com/jenssegers/php-proxy&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-项目意义" class="anchor" aria-hidden="true" href="#项目意义"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;项目意义&lt;/h1&gt;
&lt;p&gt;本项目主要用于以下技术的研究：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;网站镜像 / 沙盒化&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;钓鱼网站检测技术&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;前端资源访问加速&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;当然请勿将本项目用于非法用途，否则后果自负。&lt;/p&gt;
&lt;p&gt;Demo 页面文明使用，不要进行登陆等涉及隐私的操作。&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h1&gt;
&lt;p&gt;MIT&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>EtherDream</author><guid isPermaLink="false">https://github.com/EtherDream/jsproxy</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>aws/containers-roadmap #2 in Shell, Today</title><link>https://github.com/aws/containers-roadmap</link><description>&lt;p&gt;&lt;i&gt;This is the public roadmap for AWS container services (ECS, ECR, Fargate, and EKS). &lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h2&gt;&lt;a id="user-content-containers-roadmap" class="anchor" aria-hidden="true" href="#containers-roadmap"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Containers Roadmap&lt;/h2&gt;
&lt;p&gt;This is the public roadmap for AWS container services (ECS, ECR, Fargate, and EKS).&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-introduction" class="anchor" aria-hidden="true" href="#introduction"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Introduction&lt;/h2&gt;
&lt;p&gt;This is the experimental public roadmap for AWS Container services.
Knowing about our upcoming products and priorities helps our customers plan. This repository contains information about what we are working on and allows all AWS customers to give direct feedback.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/aws/containers-roadmap/projects/1"&gt;See the roadmap »&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-developer-preview-programs" class="anchor" aria-hidden="true" href="#developer-preview-programs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Developer Preview Programs&lt;/h2&gt;
&lt;p&gt;We now have information for developer preview programs within this repository.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Issues tagged &lt;a href="https://github.com/aws/containers-roadmap/labels/Developer%20Preview"&gt;Developer Preview&lt;/a&gt; on the public roadmap are active preview programs.&lt;/li&gt;
&lt;li&gt;Participate in the EKS Windows preview &lt;a href="/preview-programs/eks-windows-preview"&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Participate in the EC2 A1 Instances preview &lt;a href="/preview-programs/eks-ec2-a1-preview"&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-security-disclosures" class="anchor" aria-hidden="true" href="#security-disclosures"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Security disclosures&lt;/h2&gt;
&lt;p&gt;If you think you’ve found a potential security issue, please do not post it in the Issues.  Instead, please follow the instructions &lt;a href="https://aws.amazon.com/security/vulnerability-reporting/" rel="nofollow"&gt;here&lt;/a&gt; or &lt;a href="mailto:aws-security@amazon.com"&gt;email AWS security directly&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-faqs" class="anchor" aria-hidden="true" href="#faqs"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;FAQs&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Q: Why did you build this?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A: We know that our customers are making decisions and plans based on what we are developing, and we want to provide our customers the insights they need to plan.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q: Why are there no dates on your roadmap?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A: Because job zero is security and operational stability, we can't provide specific target dates for features.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q: What do the roadmap categories mean?&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Just shipped&lt;/em&gt; - obvious, right?&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Coming soon&lt;/em&gt; - coming up.  Think a couple of months out, give or take.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;We're working on it&lt;/em&gt; - in progress, but further out.  We might still be working through the implementation details, or scoping stuff out.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Researching&lt;/em&gt; - We're thinking about it. This might mean we're still designing, or thinking through how this might work. This is a great phase to send how you want to see something implemented!  We'd love to see your usecase or design ideas here.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Q: Is everything on the roadmap?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A: The majority of our development work for Amazon ECS, Fargate, ECR, EKS and other AWS-sponsored OSS projects are included on this roadmap. Of course, there will be technologies we are very excited about that we are going to launch without notice to surprise and delight our customers.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q: How can I provide feedback or ask for more information?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A: Please open an issue!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q: How can I request a feature be added to the roadmap?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A: Please open an issue!  You can read about how to contribute &lt;a href="/CONTRIBUTING.md"&gt;here&lt;/a&gt;. Community submitted issues will be tagged "Proposed" and will be reviewed by the team.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Q: Will you accept a pull request?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;A: We haven't worked out how pull requests should work for a public roadmap page, but we will take all PRs very seriously and review for inclusion. Read about &lt;a href="/CONTRIBUTING.md"&gt;contributing&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;This library is licensed under the Creative Commons Attribution-ShareAlike 4.0 International License.&lt;/p&gt;
&lt;p&gt;To learn more about the services, head here: &lt;a href="http://aws.amazon.com/containers" rel="nofollow"&gt;http://aws.amazon.com/containers&lt;/a&gt;&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>aws</author><guid isPermaLink="false">https://github.com/aws/containers-roadmap</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>Medicean/VulApps #3 in Shell, Today</title><link>https://github.com/Medicean/VulApps</link><description>&lt;p&gt;&lt;i&gt;快速搭建各种漏洞环境(Various vulnerability environment)&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-vulapps-httpvulappsevalbugcom" class="anchor" aria-hidden="true" href="#vulapps-httpvulappsevalbugcom"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;VulApps &lt;a href="http://vulapps.evalbug.com/" rel="nofollow"&gt;http://vulapps.evalbug.com/&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;收集各种漏洞环境，为方便使用，统一采用 Dockerfile 形式。同时也收集了安全工具环境。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;喜欢请点 Star，如果不打算贡献，千万别 Fork&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;本项目 GitHub 地址: &lt;a href="https://github.com/Medicean/VulApps"&gt;https://github.com/Medicean/VulApps&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/medicean/vulapps/" rel="nofollow"&gt;DockerHub 在线镜像地址&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-获取并使用相关镜像" class="anchor" aria-hidden="true" href="#获取并使用相关镜像"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;获取并使用相关镜像&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;直接使用 docker 命令拉取相关镜像，并启动。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;需要查看相关环境的 tag 在Github具体的漏洞目录下查看 README 文件&lt;/strong&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-以-struts2-s2-037-漏洞环境为例" class="anchor" aria-hidden="true" href="#以-struts2-s2-037-漏洞环境为例"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;以 Struts2 S2-037 漏洞环境为例：&lt;/h3&gt;
&lt;p&gt;通过 S2-037漏洞环境的 &lt;a href="./s/struts2/s2-037/README.md"&gt;README文件&lt;/a&gt; 得知 tag 为 &lt;code&gt;s_struts2_s2-037&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;获取镜像：&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;docker pull medicean/vulapps:s_struts2_s2-037
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;如果获取速度慢，推荐使用 &lt;a href="https://lug.ustc.edu.cn/wiki/mirrors/help/docker" rel="nofollow"&gt;中科大 Docker Mirrors&lt;/a&gt; 或者使用 &lt;a href="https://cr.console.aliyun.com/#/accelerator" rel="nofollow"&gt;阿里云 Mirrors(加速器)&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start="2"&gt;
&lt;li&gt;创建并启动容器&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;docker run -d -p 80:8080 medicean/vulapps:s_struts2_s2-037
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;访问 &lt;code&gt;http://127.0.0.1/&lt;/code&gt; 即可访问启动好的 s2-037 环境，快拿出 exp 工具尝试一下吧。&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-组件首字母" class="anchor" aria-hidden="true" href="#组件首字母"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;组件首字母&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#b"&gt;B&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#c"&gt;C&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#d"&gt;D&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#f"&gt;F&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#i"&gt;I&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#j"&gt;J&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#m"&gt;M&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#n"&gt;N&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#o"&gt;O&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#p"&gt;P&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#r"&gt;R&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#s"&gt;S&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#t"&gt;T&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#w"&gt;W&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#z"&gt;Z&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-安全工具环境" class="anchor" aria-hidden="true" href="#安全工具环境"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;安全工具环境&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./tools/xunfeng/"&gt;巡风&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./tools/ant/"&gt;Ant(蚁逅)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./tools/hawkeye"&gt;Hawkeye&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-漏洞环境" class="anchor" aria-hidden="true" href="#漏洞环境"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;漏洞环境&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-b" class="anchor" aria-hidden="true" href="#b"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./b/"&gt;B&lt;/a&gt;&lt;div id="user-content-b"&gt;&lt;/div&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./b/bash/"&gt;Bash&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-c" class="anchor" aria-hidden="true" href="#c"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./c/"&gt;C&lt;/a&gt;&lt;div id="user-content-c"&gt;&lt;/div&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./c/cisco/"&gt;Cisco&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./c/cmseasy/"&gt;CmsEasy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-d" class="anchor" aria-hidden="true" href="#d"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./d/"&gt;D&lt;/a&gt;&lt;div id="user-content-d"&gt;&lt;/div&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./d/drupal/"&gt;Drupal&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-f" class="anchor" aria-hidden="true" href="#f"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./f/"&gt;F&lt;/a&gt;&lt;div id="user-content-f"&gt;&lt;/div&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./i/ffmpeg/"&gt;FFmpeg&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-g" class="anchor" aria-hidden="true" href="#g"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./g/"&gt;G&lt;/a&gt;&lt;div id="user-content-g"&gt;&lt;/div&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./g/git/"&gt;Git&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-i" class="anchor" aria-hidden="true" href="#i"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./i/"&gt;I&lt;/a&gt;&lt;div id="user-content-i"&gt;&lt;/div&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./i/imagemagick/"&gt;ImageMagick&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-j" class="anchor" aria-hidden="true" href="#j"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./j/"&gt;J&lt;/a&gt;&lt;div id="user-content-j"&gt;&lt;/div&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./j/jboss/"&gt;JBoss&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./j/jenkins/"&gt;Jenkins&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./j/joomla/"&gt;Joomla!&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-m" class="anchor" aria-hidden="true" href="#m"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./m/"&gt;M&lt;/a&gt;&lt;div id="user-content-m"&gt;&lt;/div&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./m/memcached/"&gt;Memcached&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-n" class="anchor" aria-hidden="true" href="#n"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./n/"&gt;N&lt;/a&gt;&lt;div id="user-content-n"&gt;&lt;/div&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./n/nagios/"&gt;Nagios&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./n/nodejs/"&gt;Node.js&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./n/nginx/"&gt;Nginx&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-o" class="anchor" aria-hidden="true" href="#o"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./o/"&gt;O&lt;/a&gt;&lt;div id="user-content-o"&gt;&lt;/div&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./o/openssl/"&gt;OpenSSL&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-p" class="anchor" aria-hidden="true" href="#p"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./p/"&gt;P&lt;/a&gt;&lt;div id="user-content-p"&gt;&lt;/div&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./p/phpmailer/"&gt;PHPMailer&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-r" class="anchor" aria-hidden="true" href="#r"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./r/"&gt;R&lt;/a&gt;&lt;div id="user-content-r"&gt;&lt;/div&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./r/redis/"&gt;Redis&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-s" class="anchor" aria-hidden="true" href="#s"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./s/"&gt;S&lt;/a&gt;&lt;div id="user-content-s"&gt;&lt;/div&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./s/samba/"&gt;Samba&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./s/shiro/"&gt;Shiro&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./s/ssh/"&gt;SSH&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./s/spring/"&gt;Spring&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./s/springboot/"&gt;Spring Boot&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./s/struts2/"&gt;Struts2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./s/springwebflow/"&gt;Spring WebFlow&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./s/supervisor/"&gt;Supervisor&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-t" class="anchor" aria-hidden="true" href="#t"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./t/"&gt;T&lt;/a&gt;&lt;div id="user-content-t"&gt;&lt;/div&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./t/tomcat/"&gt;Tomcat&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-w" class="anchor" aria-hidden="true" href="#w"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./w/"&gt;W&lt;/a&gt;&lt;div id="user-content-w"&gt;&lt;/div&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./w/wordpress/"&gt;WordPress&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-z" class="anchor" aria-hidden="true" href="#z"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./z/"&gt;Z&lt;/a&gt;&lt;div id="user-content-z"&gt;&lt;/div&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./z/zabbix/"&gt;Zabbix&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2&gt;&lt;a id="user-content-同类项目" class="anchor" aria-hidden="true" href="#同类项目"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;同类项目&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/phith0n/vulhub"&gt;phith0n/vulhub&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-相关链接" class="anchor" aria-hidden="true" href="#相关链接"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;相关链接&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="./.github/CONTRIBUTING.md"&gt;如何参与VulApps&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="./THANKS.md"&gt;致谢列表&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>Medicean</author><guid isPermaLink="false">https://github.com/Medicean/VulApps</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>raspberrypi/rpi-eeprom #4 in Shell, Today</title><link>https://github.com/raspberrypi/rpi-eeprom</link><description>&lt;p&gt;&lt;i&gt;This repository contains the scripts and pre-compiled binaries used to create the rpi-eeprom package which is used to update the Raspberry Pi4 bootloader EEPROM.&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-rpi-eeprom" class="anchor" aria-hidden="true" href="#rpi-eeprom"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;rpi-eeprom&lt;/h1&gt;
&lt;p&gt;This repository contains the scripts and pre-compiled binaries used to create the rpi-eeprom package which is used to update the Raspberry Pi4 bootloader EEPROM.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>raspberrypi</author><guid isPermaLink="false">https://github.com/raspberrypi/rpi-eeprom</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>233boy/v2ray #5 in Shell, Today</title><link>https://github.com/233boy/v2ray</link><description>&lt;p&gt;&lt;i&gt;最好用的 V2Ray 一键安装脚本 &amp; 管理脚本&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;p&gt;Removed&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>233boy</author><guid isPermaLink="false">https://github.com/233boy/v2ray</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>dotnet/core #6 in Shell, Today</title><link>https://github.com/dotnet/core</link><description>&lt;p&gt;&lt;i&gt;Home repository for .NET Core&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-net-core-home" class="anchor" aria-hidden="true" href="#net-core-home"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;.NET Core Home&lt;/h1&gt;
&lt;p&gt;The dotnet/core repository is a good starting point for .NET Core.&lt;/p&gt;
&lt;p&gt;The latest major release is &lt;a href="release-notes/3.0"&gt;.NET Core 3.0&lt;/a&gt;. The latest patch updates are listed in &lt;a href="release-notes/README.md"&gt;.NET Core release notes&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-download-the-latest-net-core-sdk" class="anchor" aria-hidden="true" href="#download-the-latest-net-core-sdk"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Download the latest .NET Core SDK&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="release-notes/3.0/README.md"&gt;.NET Core 3.0 SDK&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-net-core-releases-and-daily-builds" class="anchor" aria-hidden="true" href="#net-core-releases-and-daily-builds"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;.NET Core Releases and Daily Builds&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="release-notes/README.md"&gt;.NET Core released builds&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="daily-builds.md"&gt;.NET Core daily builds&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-learn-about-net-core" class="anchor" aria-hidden="true" href="#learn-about-net-core"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Learn about .NET Core&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/dotnet/core" rel="nofollow"&gt;Learn about .NET Core&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/dotnet/core/blob/master/roadmap.md"&gt;.NET Core Roadmap&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.microsoft.com/dotnet/standard/" rel="nofollow"&gt;Learn about the .NET platform&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/dotnet/core/blob/master/release-notes/README.md"&gt;.NET Core release notes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/dotnet/announcements"&gt;.NET Core Announcements&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://blogs.msdn.microsoft.com/dotnet/tag/net-core/" rel="nofollow"&gt;.NET Core blog&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-getting-help" class="anchor" aria-hidden="true" href="#getting-help"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Getting help&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/dotnet/core/issues"&gt;File a .NET Core issue&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/aspnet/home/issues"&gt;File an ASP.NET Core issue&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="Documentation/core-repos.md"&gt;File an issue for other components&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://stackoverflow.com/questions/tagged/.net-core" rel="nofollow"&gt;Ask on Stack Overflow&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://support.microsoft.com/contactus/" rel="nofollow"&gt;Contact Microsoft Support&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://developercommunity.visualstudio.com/" rel="nofollow"&gt;VS Developer Community Portal&lt;/a&gt; for "full" .NET Framework feedback (or via &lt;a href="https://aka.ms/vs-rap" rel="nofollow"&gt;Report a Problem&lt;/a&gt; tool)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-how-to-engage-contribute-and-provide-feedback" class="anchor" aria-hidden="true" href="#how-to-engage-contribute-and-provide-feedback"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How to Engage, Contribute and Provide Feedback&lt;/h2&gt;
&lt;p&gt;The .NET Core team encourages &lt;a href="https://github.com/dotnet/coreclr/blob/master/Documentation/project-docs/contributing.md"&gt;contributions&lt;/a&gt;, both issues and PRs. The first step is finding the &lt;a href="Documentation/core-repos.md"&gt;.NET Core repository&lt;/a&gt; that you want to contribute to.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-community" class="anchor" aria-hidden="true" href="#community"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Community&lt;/h3&gt;
&lt;p&gt;This project uses the &lt;a href="https://dotnetfoundation.org/code-of-conduct" rel="nofollow"&gt;.NET Foundation Code of Conduct&lt;/a&gt; to define expected conduct in our community.
Instances of abusive, harassing, or otherwise unacceptable behavior may be reported by contacting a project maintainer at &lt;a href="mailto:conduct@dotnetfoundation.org"&gt;conduct@dotnetfoundation.org&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-net-foundation" class="anchor" aria-hidden="true" href="#net-foundation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;.NET Foundation&lt;/h2&gt;
&lt;p&gt;The .NET Core platform is part of the &lt;a href="http://www.dotnetfoundation.org" rel="nofollow"&gt;.NET Foundation&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-licenses" class="anchor" aria-hidden="true" href="#licenses"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Licenses&lt;/h2&gt;
&lt;p&gt;.NET Core repos typically use either the &lt;a href="LICENSE.TXT"&gt;MIT&lt;/a&gt; or
&lt;a href="http://www.apache.org/licenses/LICENSE-2.0" rel="nofollow"&gt;Apache 2&lt;/a&gt; licenses for code.
Some projects license documentation and other forms of content under
&lt;a href="http://creativecommons.org/licenses/by/4.0/" rel="nofollow"&gt;Creative Commons Attribution 4.0&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;See specific &lt;a href="Documentation/core-repos.md"&gt;repos&lt;/a&gt; to understand the license used.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>dotnet</author><guid isPermaLink="false">https://github.com/dotnet/core</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>stefanprodan/dockprom #7 in Shell, Today</title><link>https://github.com/stefanprodan/dockprom</link><description>&lt;p&gt;&lt;i&gt;Docker hosts and containers monitoring with Prometheus, Grafana, cAdvisor, NodeExporter and AlertManager&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-dockprom" class="anchor" aria-hidden="true" href="#dockprom"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;dockprom&lt;/h1&gt;
&lt;p&gt;A monitoring solution for Docker hosts and containers with &lt;a href="https://prometheus.io/" rel="nofollow"&gt;Prometheus&lt;/a&gt;, &lt;a href="http://grafana.org/" rel="nofollow"&gt;Grafana&lt;/a&gt;, &lt;a href="https://github.com/google/cadvisor"&gt;cAdvisor&lt;/a&gt;,
&lt;a href="https://github.com/prometheus/node_exporter"&gt;NodeExporter&lt;/a&gt; and alerting with &lt;a href="https://github.com/prometheus/alertmanager"&gt;AlertManager&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;If you're looking for the Docker Swarm version please go to &lt;a href="https://github.com/stefanprodan/swarmprom"&gt;stefanprodan/swarmprom&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-install" class="anchor" aria-hidden="true" href="#install"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Install&lt;/h2&gt;
&lt;p&gt;Clone this repository on your Docker host, cd into dockprom directory and run compose up:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;git clone https://github.com/stefanprodan/dockprom
&lt;span class="pl-c1"&gt;cd&lt;/span&gt; dockprom

ADMIN_USER=admin ADMIN_PASSWORD=admin docker-compose up -d&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Prerequisites:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Docker Engine &amp;gt;= 1.13&lt;/li&gt;
&lt;li&gt;Docker Compose &amp;gt;= 1.11&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Containers:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Prometheus (metrics database) &lt;code&gt;http://&amp;lt;host-ip&amp;gt;:9090&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Prometheus-Pushgateway (push acceptor for ephemeral and batch jobs) &lt;code&gt;http://&amp;lt;host-ip&amp;gt;:9091&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;AlertManager (alerts management) &lt;code&gt;http://&amp;lt;host-ip&amp;gt;:9093&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Grafana (visualize metrics) &lt;code&gt;http://&amp;lt;host-ip&amp;gt;:3000&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;NodeExporter (host metrics collector)&lt;/li&gt;
&lt;li&gt;cAdvisor (containers metrics collector)&lt;/li&gt;
&lt;li&gt;Caddy (reverse proxy and basic auth provider for prometheus and alertmanager)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-setup-grafana" class="anchor" aria-hidden="true" href="#setup-grafana"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setup Grafana&lt;/h2&gt;
&lt;p&gt;Navigate to &lt;code&gt;http://&amp;lt;host-ip&amp;gt;:3000&lt;/code&gt; and login with user &lt;em&gt;&lt;strong&gt;admin&lt;/strong&gt;&lt;/em&gt; password &lt;em&gt;&lt;strong&gt;admin&lt;/strong&gt;&lt;/em&gt;. You can change the credentials in the compose file or by supplying the &lt;code&gt;ADMIN_USER&lt;/code&gt; and &lt;code&gt;ADMIN_PASSWORD&lt;/code&gt; environment variables on compose up. The config file can be added directly in grafana part like this&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;grafana:
  image: grafana/grafana:5.2.4
  env_file:
    - config

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and the config file format should have this content&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=changeme
GF_USERS_ALLOW_SIGN_UP=false
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you want to change the password, you have to remove this entry, otherwise the change will not take effect&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;- grafana_data:/var/lib/grafana
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Grafana is preconfigured with dashboards and Prometheus as the default data source:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Name: Prometheus&lt;/li&gt;
&lt;li&gt;Type: Prometheus&lt;/li&gt;
&lt;li&gt;Url: &lt;a href="http://prometheus:9090" rel="nofollow"&gt;http://prometheus:9090&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Access: proxy&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;Docker Host Dashboard&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://raw.githubusercontent.com/stefanprodan/dockprom/master/screens/Grafana_Docker_Host.png"&gt;&lt;img src="https://raw.githubusercontent.com/stefanprodan/dockprom/master/screens/Grafana_Docker_Host.png" alt="Host" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The Docker Host Dashboard shows key metrics for monitoring the resource usage of your server:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Server uptime, CPU idle percent, number of CPU cores, available memory, swap and storage&lt;/li&gt;
&lt;li&gt;System load average graph, running and blocked by IO processes graph, interrupts graph&lt;/li&gt;
&lt;li&gt;CPU usage graph by mode (guest, idle, iowait, irq, nice, softirq, steal, system, user)&lt;/li&gt;
&lt;li&gt;Memory usage graph by distribution (used, free, buffers, cached)&lt;/li&gt;
&lt;li&gt;IO usage graph (read Bps, read Bps and IO time)&lt;/li&gt;
&lt;li&gt;Network usage graph by device (inbound Bps, Outbound Bps)&lt;/li&gt;
&lt;li&gt;Swap usage and activity graphs&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For storage and particularly Free Storage graph, you have to specify the fstype in grafana graph request.
You can find it in &lt;code&gt;grafana/dashboards/docker_host.json&lt;/code&gt;, at line 480 :&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  "expr": "sum(node_filesystem_free_bytes{fstype=\"btrfs\"})",
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I work on BTRFS, so i need to change &lt;code&gt;aufs&lt;/code&gt; to &lt;code&gt;btrfs&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;You can find right value for your system in Prometheus &lt;code&gt;http://&amp;lt;host-ip&amp;gt;:9090&lt;/code&gt; launching this request :&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  node_filesystem_free_bytes
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;Docker Containers Dashboard&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://raw.githubusercontent.com/stefanprodan/dockprom/master/screens/Grafana_Docker_Containers.png"&gt;&lt;img src="https://raw.githubusercontent.com/stefanprodan/dockprom/master/screens/Grafana_Docker_Containers.png" alt="Containers" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The Docker Containers Dashboard shows key metrics for monitoring running containers:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Total containers CPU load, memory and storage usage&lt;/li&gt;
&lt;li&gt;Running containers graph, system load graph, IO usage graph&lt;/li&gt;
&lt;li&gt;Container CPU usage graph&lt;/li&gt;
&lt;li&gt;Container memory usage graph&lt;/li&gt;
&lt;li&gt;Container cached memory usage graph&lt;/li&gt;
&lt;li&gt;Container network inbound usage graph&lt;/li&gt;
&lt;li&gt;Container network outbound usage graph&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note that this dashboard doesn't show the containers that are part of the monitoring stack.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;Monitor Services Dashboard&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://raw.githubusercontent.com/stefanprodan/dockprom/master/screens/Grafana_Prometheus.png"&gt;&lt;img src="https://raw.githubusercontent.com/stefanprodan/dockprom/master/screens/Grafana_Prometheus.png" alt="Monitor Services" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The Monitor Services Dashboard shows key metrics for monitoring the containers that make up the monitoring stack:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Prometheus container uptime, monitoring stack total memory usage, Prometheus local storage memory chunks and series&lt;/li&gt;
&lt;li&gt;Container CPU usage graph&lt;/li&gt;
&lt;li&gt;Container memory usage graph&lt;/li&gt;
&lt;li&gt;Prometheus chunks to persist and persistence urgency graphs&lt;/li&gt;
&lt;li&gt;Prometheus chunks ops and checkpoint duration graphs&lt;/li&gt;
&lt;li&gt;Prometheus samples ingested rate, target scrapes and scrape duration graphs&lt;/li&gt;
&lt;li&gt;Prometheus HTTP requests graph&lt;/li&gt;
&lt;li&gt;Prometheus alerts graph&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-define-alerts" class="anchor" aria-hidden="true" href="#define-alerts"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Define alerts&lt;/h2&gt;
&lt;p&gt;Three alert groups have been setup within the &lt;a href="https://github.com/stefanprodan/dockprom/blob/master/prometheus/alert.rules"&gt;alert.rules&lt;/a&gt; configuration file:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Monitoring services alerts &lt;a href="https://github.com/stefanprodan/dockprom/blob/master/prometheus/alert.rules#L2-L11"&gt;targets&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Docker Host alerts &lt;a href="https://github.com/stefanprodan/dockprom/blob/master/prometheus/alert.rules#L13-L40"&gt;host&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Docker Containers alerts &lt;a href="https://github.com/stefanprodan/dockprom/blob/master/prometheus/alert.rules#L42-L69"&gt;containers&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can modify the alert rules and reload them by making a HTTP POST call to Prometheus:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;curl -X POST http://admin:admin@&amp;lt;host-ip&amp;gt;:9090/-/reload
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;Monitoring services alerts&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Trigger an alert if any of the monitoring targets (node-exporter and cAdvisor) are down for more than 30 seconds:&lt;/p&gt;
&lt;div class="highlight highlight-source-yaml"&gt;&lt;pre&gt;- &lt;span class="pl-ent"&gt;alert&lt;/span&gt;: &lt;span class="pl-s"&gt;monitor_service_down&lt;/span&gt;
    &lt;span class="pl-ent"&gt;expr&lt;/span&gt;: &lt;span class="pl-s"&gt;up == 0&lt;/span&gt;
    &lt;span class="pl-ent"&gt;for&lt;/span&gt;: &lt;span class="pl-c1"&gt;30s&lt;/span&gt;
    &lt;span class="pl-ent"&gt;labels&lt;/span&gt;:
      &lt;span class="pl-ent"&gt;severity&lt;/span&gt;: &lt;span class="pl-s"&gt;critical&lt;/span&gt;
    &lt;span class="pl-ent"&gt;annotations&lt;/span&gt;:
      &lt;span class="pl-ent"&gt;summary&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Monitor service non-operational&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      &lt;span class="pl-ent"&gt;description&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Service {{ $labels.instance }} is down.&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;Docker Host alerts&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Trigger an alert if the Docker host CPU is under high load for more than 30 seconds:&lt;/p&gt;
&lt;div class="highlight highlight-source-yaml"&gt;&lt;pre&gt;- &lt;span class="pl-ent"&gt;alert&lt;/span&gt;: &lt;span class="pl-s"&gt;high_cpu_load&lt;/span&gt;
    &lt;span class="pl-ent"&gt;expr&lt;/span&gt;: &lt;span class="pl-s"&gt;node_load1 &amp;gt; 1.5&lt;/span&gt;
    &lt;span class="pl-ent"&gt;for&lt;/span&gt;: &lt;span class="pl-c1"&gt;30s&lt;/span&gt;
    &lt;span class="pl-ent"&gt;labels&lt;/span&gt;:
      &lt;span class="pl-ent"&gt;severity&lt;/span&gt;: &lt;span class="pl-s"&gt;warning&lt;/span&gt;
    &lt;span class="pl-ent"&gt;annotations&lt;/span&gt;:
      &lt;span class="pl-ent"&gt;summary&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Server under high load&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      &lt;span class="pl-ent"&gt;description&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Docker host is under high load, the avg load 1m is at {{ $value}}. Reported by instance {{ $labels.instance }} of job {{ $labels.job }}.&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Modify the load threshold based on your CPU cores.&lt;/p&gt;
&lt;p&gt;Trigger an alert if the Docker host memory is almost full:&lt;/p&gt;
&lt;div class="highlight highlight-source-yaml"&gt;&lt;pre&gt;- &lt;span class="pl-ent"&gt;alert&lt;/span&gt;: &lt;span class="pl-s"&gt;high_memory_load&lt;/span&gt;
    &lt;span class="pl-ent"&gt;expr&lt;/span&gt;: &lt;span class="pl-s"&gt;(sum(node_memory_MemTotal_bytes) - sum(node_memory_MemFree_bytes + node_memory_Buffers_bytes + node_memory_Cached_bytes) ) / sum(node_memory_MemTotal_bytes) * 100 &amp;gt; 85&lt;/span&gt;
    &lt;span class="pl-ent"&gt;for&lt;/span&gt;: &lt;span class="pl-c1"&gt;30s&lt;/span&gt;
    &lt;span class="pl-ent"&gt;labels&lt;/span&gt;:
      &lt;span class="pl-ent"&gt;severity&lt;/span&gt;: &lt;span class="pl-s"&gt;warning&lt;/span&gt;
    &lt;span class="pl-ent"&gt;annotations&lt;/span&gt;:
      &lt;span class="pl-ent"&gt;summary&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Server memory is almost full&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      &lt;span class="pl-ent"&gt;description&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Docker host memory usage is {{ humanize $value}}%. Reported by instance {{ $labels.instance }} of job {{ $labels.job }}.&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trigger an alert if the Docker host storage is almost full:&lt;/p&gt;
&lt;div class="highlight highlight-source-yaml"&gt;&lt;pre&gt;- &lt;span class="pl-ent"&gt;alert&lt;/span&gt;: &lt;span class="pl-s"&gt;high_storage_load&lt;/span&gt;
    &lt;span class="pl-ent"&gt;expr&lt;/span&gt;: &lt;span class="pl-s"&gt;(node_filesystem_size_bytes{fstype="aufs"} - node_filesystem_free_bytes{fstype="aufs"}) / node_filesystem_size_bytes{fstype="aufs"}  * 100 &amp;gt; 85&lt;/span&gt;
    &lt;span class="pl-ent"&gt;for&lt;/span&gt;: &lt;span class="pl-c1"&gt;30s&lt;/span&gt;
    &lt;span class="pl-ent"&gt;labels&lt;/span&gt;:
      &lt;span class="pl-ent"&gt;severity&lt;/span&gt;: &lt;span class="pl-s"&gt;warning&lt;/span&gt;
    &lt;span class="pl-ent"&gt;annotations&lt;/span&gt;:
      &lt;span class="pl-ent"&gt;summary&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Server storage is almost full&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      &lt;span class="pl-ent"&gt;description&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Docker host storage usage is {{ humanize $value}}%. Reported by instance {{ $labels.instance }} of job {{ $labels.job }}.&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;Docker Containers alerts&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Trigger an alert if a container is down for more than 30 seconds:&lt;/p&gt;
&lt;div class="highlight highlight-source-yaml"&gt;&lt;pre&gt;- &lt;span class="pl-ent"&gt;alert&lt;/span&gt;: &lt;span class="pl-s"&gt;jenkins_down&lt;/span&gt;
    &lt;span class="pl-ent"&gt;expr&lt;/span&gt;: &lt;span class="pl-s"&gt;absent(container_memory_usage_bytes{name="jenkins"})&lt;/span&gt;
    &lt;span class="pl-ent"&gt;for&lt;/span&gt;: &lt;span class="pl-c1"&gt;30s&lt;/span&gt;
    &lt;span class="pl-ent"&gt;labels&lt;/span&gt;:
      &lt;span class="pl-ent"&gt;severity&lt;/span&gt;: &lt;span class="pl-s"&gt;critical&lt;/span&gt;
    &lt;span class="pl-ent"&gt;annotations&lt;/span&gt;:
      &lt;span class="pl-ent"&gt;summary&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Jenkins down&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      &lt;span class="pl-ent"&gt;description&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Jenkins container is down for more than 30 seconds.&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trigger an alert if a container is using more than 10% of total CPU cores for more than 30 seconds:&lt;/p&gt;
&lt;div class="highlight highlight-source-yaml"&gt;&lt;pre&gt;- &lt;span class="pl-ent"&gt;alert&lt;/span&gt;: &lt;span class="pl-s"&gt;jenkins_high_cpu&lt;/span&gt;
    &lt;span class="pl-ent"&gt;expr&lt;/span&gt;: &lt;span class="pl-s"&gt;sum(rate(container_cpu_usage_seconds_total{name="jenkins"}[1m])) / count(node_cpu_seconds_total{mode="system"}) * 100 &amp;gt; 10&lt;/span&gt;
    &lt;span class="pl-ent"&gt;for&lt;/span&gt;: &lt;span class="pl-c1"&gt;30s&lt;/span&gt;
    &lt;span class="pl-ent"&gt;labels&lt;/span&gt;:
      &lt;span class="pl-ent"&gt;severity&lt;/span&gt;: &lt;span class="pl-s"&gt;warning&lt;/span&gt;
    &lt;span class="pl-ent"&gt;annotations&lt;/span&gt;:
      &lt;span class="pl-ent"&gt;summary&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Jenkins high CPU usage&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      &lt;span class="pl-ent"&gt;description&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Jenkins CPU usage is {{ humanize $value}}%.&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Trigger an alert if a container is using more than 1.2GB of RAM for more than 30 seconds:&lt;/p&gt;
&lt;div class="highlight highlight-source-yaml"&gt;&lt;pre&gt;- &lt;span class="pl-ent"&gt;alert&lt;/span&gt;: &lt;span class="pl-s"&gt;jenkins_high_memory&lt;/span&gt;
    &lt;span class="pl-ent"&gt;expr&lt;/span&gt;: &lt;span class="pl-s"&gt;sum(container_memory_usage_bytes{name="jenkins"}) &amp;gt; 1200000000&lt;/span&gt;
    &lt;span class="pl-ent"&gt;for&lt;/span&gt;: &lt;span class="pl-c1"&gt;30s&lt;/span&gt;
    &lt;span class="pl-ent"&gt;labels&lt;/span&gt;:
      &lt;span class="pl-ent"&gt;severity&lt;/span&gt;: &lt;span class="pl-s"&gt;warning&lt;/span&gt;
    &lt;span class="pl-ent"&gt;annotations&lt;/span&gt;:
      &lt;span class="pl-ent"&gt;summary&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Jenkins high memory usage&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
      &lt;span class="pl-ent"&gt;description&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;Jenkins memory consumption is at {{ humanize $value}}.&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-setup-alerting" class="anchor" aria-hidden="true" href="#setup-alerting"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setup alerting&lt;/h2&gt;
&lt;p&gt;The AlertManager service is responsible for handling alerts sent by Prometheus server.
AlertManager can send notifications via email, Pushover, Slack, HipChat or any other system that exposes a webhook interface.
A complete list of integrations can be found &lt;a href="https://prometheus.io/docs/alerting/configuration" rel="nofollow"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;You can view and silence notifications by accessing &lt;code&gt;http://&amp;lt;host-ip&amp;gt;:9093&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The notification receivers can be configured in &lt;a href="https://github.com/stefanprodan/dockprom/blob/master/alertmanager/config.yml"&gt;alertmanager/config.yml&lt;/a&gt; file.&lt;/p&gt;
&lt;p&gt;To receive alerts via Slack you need to make a custom integration by choose &lt;em&gt;&lt;strong&gt;incoming web hooks&lt;/strong&gt;&lt;/em&gt; in your Slack team app page.
You can find more details on setting up Slack integration &lt;a href="http://www.robustperception.io/using-slack-with-the-alertmanager/" rel="nofollow"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Copy the Slack Webhook URL into the &lt;em&gt;&lt;strong&gt;api_url&lt;/strong&gt;&lt;/em&gt; field and specify a Slack &lt;em&gt;&lt;strong&gt;channel&lt;/strong&gt;&lt;/em&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-yaml"&gt;&lt;pre&gt;&lt;span class="pl-ent"&gt;route&lt;/span&gt;:
    &lt;span class="pl-ent"&gt;receiver&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;slack&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-ent"&gt;receivers&lt;/span&gt;:
    - &lt;span class="pl-ent"&gt;name&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;slack&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
      &lt;span class="pl-ent"&gt;slack_configs&lt;/span&gt;:
          - &lt;span class="pl-ent"&gt;send_resolved&lt;/span&gt;: &lt;span class="pl-c1"&gt;true&lt;/span&gt;
            &lt;span class="pl-ent"&gt;text&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;{{ .CommonAnnotations.description }}&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;
            &lt;span class="pl-ent"&gt;username&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;Prometheus&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
            &lt;span class="pl-ent"&gt;channel&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;#&amp;lt;channel&amp;gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;
            &lt;span class="pl-ent"&gt;api_url&lt;/span&gt;: &lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;https://hooks.slack.com/services/&amp;lt;webhook-id&amp;gt;&lt;span class="pl-pds"&gt;'&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://raw.githubusercontent.com/stefanprodan/dockprom/master/screens/Slack_Notifications.png"&gt;&lt;img src="https://raw.githubusercontent.com/stefanprodan/dockprom/master/screens/Slack_Notifications.png" alt="Slack Notifications" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-sending-metrics-to-the-pushgateway" class="anchor" aria-hidden="true" href="#sending-metrics-to-the-pushgateway"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Sending metrics to the Pushgateway&lt;/h2&gt;
&lt;p&gt;The &lt;a href="https://github.com/prometheus/pushgateway"&gt;pushgateway&lt;/a&gt; is used to collect data from batch jobs or from services.&lt;/p&gt;
&lt;p&gt;To push data, simply execute:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;echo "some_metric 3.14" | curl --data-binary @- http://user:password@localhost:9091/metrics/job/some_job
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Please replace the &lt;code&gt;user:password&lt;/code&gt; part with your user and password set in the initial configuration (default: &lt;code&gt;admin:admin&lt;/code&gt;).&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-updating-grafana-to-v522" class="anchor" aria-hidden="true" href="#updating-grafana-to-v522"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Updating Grafana to v5.2.2&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://docs.grafana.org/installation/docker/#migration-from-a-previous-version-of-the-docker-container-to-5-1-or-later" rel="nofollow"&gt;In Grafana versions &amp;gt;= 5.1 the id of the grafana user has been changed&lt;/a&gt;. Unfortunately this means that files created prior to 5.1 won’t have the correct permissions for later versions.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="center"&gt;Version&lt;/th&gt;
&lt;th align="center"&gt;User&lt;/th&gt;
&lt;th align="center"&gt;User ID&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&amp;lt; 5.1&lt;/td&gt;
&lt;td align="center"&gt;grafana&lt;/td&gt;
&lt;td align="center"&gt;104&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="center"&gt;&amp;gt;= 5.1&lt;/td&gt;
&lt;td align="center"&gt;grafana&lt;/td&gt;
&lt;td align="center"&gt;472&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;There are two possible solutions to this problem.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Change ownership from 104 to 472&lt;/li&gt;
&lt;li&gt;Start the upgraded container as user 104&lt;/li&gt;
&lt;/ul&gt;
&lt;h5&gt;&lt;a id="user-content-specifying-a-user-in-docker-composeyml" class="anchor" aria-hidden="true" href="#specifying-a-user-in-docker-composeyml"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Specifying a user in docker-compose.yml&lt;/h5&gt;
&lt;p&gt;To change ownership of the files run your grafana container as root and modify the permissions.&lt;/p&gt;
&lt;p&gt;First perform a &lt;code&gt;docker-compose down&lt;/code&gt; then modify your docker-compose.yml to include the &lt;code&gt;user: root&lt;/code&gt; option:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  grafana:
    image: grafana/grafana:5.2.2
    container_name: grafana
    volumes:
      - grafana_data:/var/lib/grafana
      - ./grafana/datasources:/etc/grafana/datasources
      - ./grafana/dashboards:/etc/grafana/dashboards
      - ./grafana/setup.sh:/setup.sh
    entrypoint: /setup.sh
    user: root
    environment:
      - GF_SECURITY_ADMIN_USER=${ADMIN_USER:-admin}
      - GF_SECURITY_ADMIN_PASSWORD=${ADMIN_PASSWORD:-admin}
      - GF_USERS_ALLOW_SIGN_UP=false
    restart: unless-stopped
    expose:
      - 3000
    networks:
      - monitor-net
    labels:
      org.label-schema.group: "monitoring"
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Perform a &lt;code&gt;docker-compose up -d&lt;/code&gt; and then issue the following commands:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker exec -it --user root grafana bash

# in the container you just started:
chown -R root:root /etc/grafana &amp;amp;&amp;amp; \
chmod -R a+r /etc/grafana &amp;amp;&amp;amp; \
chown -R grafana:grafana /var/lib/grafana &amp;amp;&amp;amp; \
chown -R grafana:grafana /usr/share/grafana
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To run the grafana container as &lt;code&gt;user: 104&lt;/code&gt; change your &lt;code&gt;docker-compose.yml&lt;/code&gt; like such:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  grafana:
    image: grafana/grafana:5.2.2
    container_name: grafana
    volumes:
      - grafana_data:/var/lib/grafana
      - ./grafana/datasources:/etc/grafana/datasources
      - ./grafana/dashboards:/etc/grafana/dashboards
      - ./grafana/setup.sh:/setup.sh
    entrypoint: /setup.sh
    user: "104"
    environment:
      - GF_SECURITY_ADMIN_USER=${ADMIN_USER:-admin}
      - GF_SECURITY_ADMIN_PASSWORD=${ADMIN_PASSWORD:-admin}
      - GF_USERS_ALLOW_SIGN_UP=false
    restart: unless-stopped
    expose:
      - 3000
    networks:
      - monitor-net
    labels:
      org.label-schema.group: "monitoring"
&lt;/code&gt;&lt;/pre&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>stefanprodan</author><guid isPermaLink="false">https://github.com/stefanprodan/dockprom</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>puckel/docker-airflow #8 in Shell, Today</title><link>https://github.com/puckel/docker-airflow</link><description>&lt;p&gt;&lt;i&gt;Docker Apache Airflow&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-docker-airflow" class="anchor" aria-hidden="true" href="#docker-airflow"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;docker-airflow&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://circleci.com/gh/puckel/docker-airflow/tree/master" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/47a0e5c141f16ed1bb6cd3abe7f521ce65bebb29/68747470733a2f2f636972636c6563692e636f6d2f67682f7075636b656c2f646f636b65722d616972666c6f772f747265652f6d61737465722e7376673f7374796c653d737667" alt="CircleCI" data-canonical-src="https://circleci.com/gh/puckel/docker-airflow/tree/master.svg?style=svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href=""&gt;&lt;img src="https://camo.githubusercontent.com/f87195eb24d1535b93c643ea73659e42e738966b/68747470733a2f2f696d672e736869656c64732e696f2f646f636b65722f6275696c642f7075636b656c2f646f636b65722d616972666c6f772e737667" alt="Docker Build Status" data-canonical-src="https://img.shields.io/docker/build/puckel/docker-airflow.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://hub.docker.com/r/puckel/docker-airflow/" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/2339383c51e6dc70773bd95044b17f14d24e1db6/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f636b65722d72656164792d626c75652e737667" alt="Docker Hub" data-canonical-src="https://img.shields.io/badge/docker-ready-blue.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href=""&gt;&lt;img src="https://camo.githubusercontent.com/bb3f60f9fd87309f1535bc5bec3d50be425796ba/68747470733a2f2f696d672e736869656c64732e696f2f646f636b65722f70756c6c732f7075636b656c2f646f636b65722d616972666c6f772e737667" alt="Docker Pulls" data-canonical-src="https://img.shields.io/docker/pulls/puckel/docker-airflow.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href=""&gt;&lt;img src="https://camo.githubusercontent.com/ba4b5415f0bc9424c58e008a2a1d1e4e19a5c886/68747470733a2f2f696d672e736869656c64732e696f2f646f636b65722f73746172732f7075636b656c2f646f636b65722d616972666c6f772e737667" alt="Docker Stars" data-canonical-src="https://img.shields.io/docker/stars/puckel/docker-airflow.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This repository contains &lt;strong&gt;Dockerfile&lt;/strong&gt; of &lt;a href="https://github.com/apache/incubator-airflow"&gt;apache-airflow&lt;/a&gt; for &lt;a href="https://www.docker.com/" rel="nofollow"&gt;Docker&lt;/a&gt;'s &lt;a href="https://registry.hub.docker.com/u/puckel/docker-airflow/" rel="nofollow"&gt;automated build&lt;/a&gt; published to the public &lt;a href="https://registry.hub.docker.com/" rel="nofollow"&gt;Docker Hub Registry&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-informations" class="anchor" aria-hidden="true" href="#informations"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Informations&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Based on Python (3.7-slim-stretch) official Image &lt;a href="https://hub.docker.com/_/python/" rel="nofollow"&gt;python:3.7-slim-stretch&lt;/a&gt; and uses the official &lt;a href="https://hub.docker.com/_/postgres/" rel="nofollow"&gt;Postgres&lt;/a&gt; as backend and &lt;a href="https://hub.docker.com/_/redis/" rel="nofollow"&gt;Redis&lt;/a&gt; as queue&lt;/li&gt;
&lt;li&gt;Install &lt;a href="https://www.docker.com/" rel="nofollow"&gt;Docker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Install &lt;a href="https://docs.docker.com/compose/install/" rel="nofollow"&gt;Docker Compose&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Following the Airflow release from &lt;a href="https://pypi.python.org/pypi/apache-airflow" rel="nofollow"&gt;Python Package Index&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation&lt;/h2&gt;
&lt;p&gt;Pull the image from the Docker repository.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker pull puckel/docker-airflow
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-build" class="anchor" aria-hidden="true" href="#build"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Build&lt;/h2&gt;
&lt;p&gt;Optionally install &lt;a href="https://airflow.incubator.apache.org/installation.html#extra-package" rel="nofollow"&gt;Extra Airflow Packages&lt;/a&gt; and/or python dependencies at build time :&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker build --rm --build-arg AIRFLOW_DEPS="datadog,dask" -t puckel/docker-airflow .
docker build --rm --build-arg PYTHON_DEPS="flask_oauthlib&amp;gt;=0.9" -t puckel/docker-airflow .
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or combined&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker build --rm --build-arg AIRFLOW_DEPS="datadog,dask" --build-arg PYTHON_DEPS="flask_oauthlib&amp;gt;=0.9" -t puckel/docker-airflow .
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Don't forget to update the airflow images in the docker-compose files to puckel/docker-airflow:latest.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h2&gt;
&lt;p&gt;By default, docker-airflow runs Airflow with &lt;strong&gt;SequentialExecutor&lt;/strong&gt; :&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker run -d -p 8080:8080 puckel/docker-airflow webserver
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you want to run another executor, use the other docker-compose.yml files provided in this repository.&lt;/p&gt;
&lt;p&gt;For &lt;strong&gt;LocalExecutor&lt;/strong&gt; :&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker-compose -f docker-compose-LocalExecutor.yml up -d
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For &lt;strong&gt;CeleryExecutor&lt;/strong&gt; :&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker-compose -f docker-compose-CeleryExecutor.yml up -d
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;NB : If you want to have DAGs example loaded (default=False), you've to set the following environment variable :&lt;/p&gt;
&lt;p&gt;&lt;code&gt;LOAD_EX=n&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker run -d -p 8080:8080 -e LOAD_EX=y puckel/docker-airflow
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you want to use Ad hoc query, make sure you've configured connections:
Go to Admin -&amp;gt; Connections and Edit "postgres_default" set this values (equivalent to values in airflow.cfg/docker-compose*.yml) :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Host : postgres&lt;/li&gt;
&lt;li&gt;Schema : airflow&lt;/li&gt;
&lt;li&gt;Login : airflow&lt;/li&gt;
&lt;li&gt;Password : airflow&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For encrypted connection passwords (in Local or Celery Executor), you must have the same fernet_key. By default docker-airflow generates the fernet_key at startup, you have to set an environment variable in the docker-compose (ie: docker-compose-LocalExecutor.yml) file to set the same key accross containers. To generate a fernet_key :&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker run puckel/docker-airflow python -c "from cryptography.fernet import Fernet; FERNET_KEY = Fernet.generate_key().decode(); print(FERNET_KEY)"
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-configurating-airflow" class="anchor" aria-hidden="true" href="#configurating-airflow"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Configurating Airflow&lt;/h2&gt;
&lt;p&gt;It's possible to set any configuration value for Airflow from environment variables, which are used over values from the airflow.cfg.&lt;/p&gt;
&lt;p&gt;The general rule is the environment variable should be named &lt;code&gt;AIRFLOW__&amp;lt;section&amp;gt;__&amp;lt;key&amp;gt;&lt;/code&gt;, for example &lt;code&gt;AIRFLOW__CORE__SQL_ALCHEMY_CONN&lt;/code&gt; sets the &lt;code&gt;sql_alchemy_conn&lt;/code&gt; config option in the &lt;code&gt;[core]&lt;/code&gt; section.&lt;/p&gt;
&lt;p&gt;Check out the &lt;a href="http://airflow.readthedocs.io/en/latest/howto/set-config.html#setting-configuration-options" rel="nofollow"&gt;Airflow documentation&lt;/a&gt; for more details&lt;/p&gt;
&lt;p&gt;You can also define connections via environment variables by prefixing them with &lt;code&gt;AIRFLOW_CONN_&lt;/code&gt; - for example &lt;code&gt;AIRFLOW_CONN_POSTGRES_MASTER=postgres://user:password@localhost:5432/master&lt;/code&gt; for a connection called "postgres_master". The value is parsed as a URI. This will work for hooks etc, but won't show up in the "Ad-hoc Query" section unless an (empty) connection is also created in the DB&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-custom-airflow-plugins" class="anchor" aria-hidden="true" href="#custom-airflow-plugins"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Custom Airflow plugins&lt;/h2&gt;
&lt;p&gt;Airflow allows for custom user-created plugins which are typically found in &lt;code&gt;${AIRFLOW_HOME}/plugins&lt;/code&gt; folder. Documentation on plugins can be found &lt;a href="https://airflow.apache.org/plugins.html" rel="nofollow"&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;In order to incorporate plugins into your docker container&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create the plugins folders &lt;code&gt;plugins/&lt;/code&gt; with your custom plugins.&lt;/li&gt;
&lt;li&gt;Mount the folder as a volume by doing either of the following:
&lt;ul&gt;
&lt;li&gt;Include the folder as a volume in command-line &lt;code&gt;-v $(pwd)/plugins/:/usr/local/airflow/plugins&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Use docker-compose-LocalExecutor.yml or docker-compose-CeleryExecutor.yml which contains support for adding the plugins folder as a volume&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-install-custom-python-package" class="anchor" aria-hidden="true" href="#install-custom-python-package"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Install custom python package&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Create a file "requirements.txt" with the desired python modules&lt;/li&gt;
&lt;li&gt;Mount this file as a volume &lt;code&gt;-v $(pwd)/requirements.txt:/requirements.txt&lt;/code&gt; (or add it as a volume in docker-compose file)&lt;/li&gt;
&lt;li&gt;The entrypoint.sh script execute the pip install command (with --user option)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-ui-links" class="anchor" aria-hidden="true" href="#ui-links"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;UI Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Airflow: &lt;a href="http://localhost:8080/" rel="nofollow"&gt;localhost:8080&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Flower: &lt;a href="http://localhost:5555/" rel="nofollow"&gt;localhost:5555&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-scale-the-number-of-workers" class="anchor" aria-hidden="true" href="#scale-the-number-of-workers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Scale the number of workers&lt;/h2&gt;
&lt;p&gt;Easy scaling using docker-compose:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker-compose -f docker-compose-CeleryExecutor.yml scale worker=5
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This can be used to scale to a multi node setup using docker swarm.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-running-other-airflow-commands" class="anchor" aria-hidden="true" href="#running-other-airflow-commands"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Running other airflow commands&lt;/h2&gt;
&lt;p&gt;If you want to run other airflow sub-commands, such as &lt;code&gt;list_dags&lt;/code&gt; or &lt;code&gt;clear&lt;/code&gt; you can do so like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker run --rm -ti puckel/docker-airflow airflow list_dags
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or with your docker-compose set up like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker-compose -f docker-compose-CeleryExecutor.yml run --rm webserver airflow list_dags
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can also use this to run a bash shell or any other command in the same environment that airflow would be run in:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker run --rm -ti puckel/docker-airflow bash
docker run --rm -ti puckel/docker-airflow ipython
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a id="user-content-wanna-help" class="anchor" aria-hidden="true" href="#wanna-help"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Wanna help?&lt;/h1&gt;
&lt;p&gt;Fork, improve and PR. ;-)&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>puckel</author><guid isPermaLink="false">https://github.com/puckel/docker-airflow</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>EtherDream/anti-portscan #9 in Shell, Today</title><link>https://github.com/EtherDream/anti-portscan</link><description>&lt;p&gt;&lt;i&gt;使用 iptables 防止端口扫描&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h2&gt;&lt;a id="user-content-原理和实现" class="anchor" aria-hidden="true" href="#原理和实现"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;原理和实现&lt;/h2&gt;
&lt;p&gt;如何拦截端口扫描？其实有个简单的思路：布置陷阱。我们随机监听一些未使用的端口，假如有 IP 在短时间内前来连接好几个，那么很可能就是扫描者。于是可临时屏蔽该 IP 所有流量，保护那些还未被扫到的端口。&lt;/p&gt;
&lt;p&gt;这个思路很简单，但如何让实现也简单？如果使用普通 socket 监听端口，那么扫描者可根据连接成功信息，陆续获得陷阱端口号，之后就可以避开这些端口，一段时间后即可完全破解。因此，陷阱需要在底层实现。&lt;/p&gt;
&lt;p&gt;使用 raw socket 或 libpcap 倒是可以，不过需要写点代码。况且这两者只能接收包，无法拦截包。要简单的实现拦截，还得把 IP 扔给 iptables/ipset 去处理。这需要频繁和内核交互，浪费资源。&lt;/p&gt;
&lt;p&gt;那么，能不能让接收和拦截都由 iptables 实现？&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-动态黑名单" class="anchor" aria-hidden="true" href="#动态黑名单"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;动态黑名单&lt;/h2&gt;
&lt;p&gt;事实上 iptables 非常强大，除了常用的功能，还有丰富的 &lt;a href="http://ipset.netfilter.org/iptables-extensions.man.html" rel="nofollow"&gt;扩展模块&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;这次要介绍的，是一个可以在运行时动态增删 ipset 的模块：&lt;code&gt;SET&lt;/code&gt;。它的用法很简单，例如：&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;iptables 匹配条件 -j SET --add-set ip-set-xxx src&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;通过它，即可将 iptables 匹配到的包的源 IP 直接添加到 ipset，无需自己实现交互，简单并且高效！&lt;/p&gt;
&lt;p&gt;我们来尝试一下。首先创建一个名为 &lt;code&gt;scanner-ip-set&lt;/code&gt; 的集合，用于存放扫描者的 IP：&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;ipset create scanner-ip-set hash:ip&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;我们假设保护 12345 端口，因此对任何尝试连接非 12345 的 IP 都当做扫描者，添加到黑名单里：&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;iptables \
  -A INPUT \
  -p tcp --syn &lt;span class="pl-k"&gt;!&lt;/span&gt; --dport 12345 \
  -j SET --add-set scanner-ip-set src&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;我们来验证下，每隔 1 秒列出 &lt;code&gt;scanner-ip-set&lt;/code&gt; 表：&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;watch -n1 \
  ipset list scanner-ip-set&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;当我们使用另一台设备连接非 12345 端口时，该设备的 IP 出现在黑名单里了！&lt;/p&gt;
&lt;p&gt;接下来，我们实现拦截的功能。&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-拦截流量" class="anchor" aria-hidden="true" href="#拦截流量"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;拦截流量&lt;/h2&gt;
&lt;p&gt;需要注意，我们得拦截两种包：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;拦截扫描者连接 &lt;strong&gt;陷阱&lt;/strong&gt; 端口（IP 添加到黑名单之前）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;拦截扫描者连接 &lt;strong&gt;任何&lt;/strong&gt; 端口（IP 添加到黑名单之后）&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果不拦截第 1 种，扫描者的 SYN 包可能会触发系统回复 RST 包，这在使用云主机的场合下，会暴露云防火墙开放的陷阱端口，细节后面讨论。&lt;/p&gt;
&lt;p&gt;至于实现是非常简单的，这里大致表示下。拦截第 1 种：&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;iptables \
  -A INPUT \
  -p tcp --syn &lt;span class="pl-k"&gt;!&lt;/span&gt; --dport 12345 \
  -j DROP&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;拦截第 2 种：&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;iptables \
  -A INPUT \
  -p tcp --syn \
  -m &lt;span class="pl-c1"&gt;set&lt;/span&gt; --match-set scanner-ip-set src \
  -j DROP&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;现在，当我们连接非 12345 端口之后，该设备其他任何端口都无法连接了！&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;使用 &lt;code&gt;ipset flush scanner-ip-set&lt;/code&gt; 可清空黑名单。推荐在本地虚拟机上试验，不要远程试验~&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;&lt;a id="user-content-过期和累计" class="anchor" aria-hidden="true" href="#过期和累计"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;过期和累计&lt;/h2&gt;
&lt;p&gt;即便确定是扫描者，IP 也不能永远拉黑。长时间拉黑意义并不大，扫描者可以重新拨号不断换 IP，反而我们可能将之后分到这些 IP 的正常用户给屏蔽了。&lt;/p&gt;
&lt;p&gt;因此我们在创建 ipset 时需要加上过期时间，例如 30 秒：&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;ipset create scanner-ip-set hash:ip timeout 30&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;现在展示黑名单时，每条记录都有 &lt;code&gt;timeout&lt;/code&gt; 参数。该值每秒自动 -1，到 0 记录就删除了。&lt;/p&gt;
&lt;p&gt;如果某 IP 在过期时间内又出现，那么是重置定时器，还是保持原先倒计时？&lt;/p&gt;
&lt;p&gt;默认是不重置的。如果希望重置，可参考 &lt;code&gt;SET&lt;/code&gt; 模块的 &lt;code&gt;--exist&lt;/code&gt; 选项。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;此外，在本文开头也提到「IP 短时间内前来连接好几个」，而在上述实现中，只要连接一个陷阱端口 IP 就拉黑了，这也许太过苛刻。&lt;/p&gt;
&lt;p&gt;因此，我们需要加上统计功能。可以通过 ipset 的 &lt;code&gt;counters&lt;/code&gt; 选项实现：&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;ipset create scanner-ip-set hash:ip timeout 30 counters&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;现在展示黑名单时，每条记录又多了 &lt;code&gt;packets&lt;/code&gt; 和 &lt;code&gt;bytes&lt;/code&gt; 参数。每当包匹配成功时，参与过的 set 记录的 &lt;code&gt;packets&lt;/code&gt; 累加 1，&lt;code&gt;bytes&lt;/code&gt; 累加包长度。&lt;/p&gt;
&lt;p&gt;那么，怎样才能读取 &lt;code&gt;packets&lt;/code&gt; 然后做比较？这需要另一个选项 &lt;code&gt;--packets-gt&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;我们将该条件加在上述第 2 种拦截（拦截所有端口）中，例如：&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;iptables \
  -A INPUT \
  -p tcp --syn \
  -m &lt;span class="pl-c1"&gt;set&lt;/span&gt; --match-set scanner-ip-set src \
  --packets-gt 5 \
  -j DROP&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这样，只有当某 IP 在过期时间内访问 5 次以上陷阱端口时，才会进行拦截。策略相对宽松了一些。&lt;/p&gt;
&lt;p&gt;这个值可根据当前风险状况进行调整。例如在被很多 IP 扫描时，可以降低一些。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;上述提到的这些功能，事实上用 &lt;code&gt;-m recent&lt;/code&gt; 也能实现，甚至更简单。当然本文主要介绍的 &lt;code&gt;-j SET&lt;/code&gt; 灵活性更高一些。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;&lt;a id="user-content-tcp-状态" class="anchor" aria-hidden="true" href="#tcp-状态"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;TCP 状态&lt;/h2&gt;
&lt;p&gt;在上述两种拦截中，我们都只针对 SYN 包，为什么不是所有包？&lt;/p&gt;
&lt;p&gt;在第 2 种拦截（所有端口）中，只针对 SYN 可以让已建立的 TCP 连接不受影响。当然这个策略可根据实际情况调整。&lt;/p&gt;
&lt;p&gt;在第 1 种拦截（陷阱端口）中，如果拦截所有包，那么服务器对外的连接可能会受到影响，如果本地端口正好和陷阱端口相同，对方 IP 就进黑名单了。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;不过第 1 种情况仍存在问题：假如扫描者不用 SYN 而是用 ACK 进行探测，那么系统会回复 RST 包，导致端口暴露。&lt;/p&gt;
&lt;p&gt;因此我们还得通过连接跟踪，将非 SYN 的异常包进行拦截：&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;iptables \
  -A INPUT \
  -p tcp &lt;span class="pl-k"&gt;!&lt;/span&gt; --syn \
  -m conntrack &lt;span class="pl-k"&gt;!&lt;/span&gt; --ctstate ESTABLISHED \
  -j DROP&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-云防火墙" class="anchor" aria-hidden="true" href="#云防火墙"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;云防火墙&lt;/h2&gt;
&lt;p&gt;使用云主机时，通常会用到厂商提供的防火墙，例如只开放使用的端口，其他端口都屏蔽。&lt;/p&gt;
&lt;p&gt;然而这会导致陷阱端口失效，因此我们需要开放一定数量的端口。这个数量不能太少，否则安全性会降低。&lt;/p&gt;
&lt;p&gt;假如开放 100 个随机端口，那么主机每收到 1 个陷阱包，意味着扫描者其实发送了 655.36 个，其中绝大部分都被云防火墙丢弃了。如果没有云防火墙，这个 IP 早被判定为扫描者了；但现在只收到 1 个，甚至还没达到拦截计数器的阈值。因此有些策略需要进行调整。&lt;/p&gt;
&lt;p&gt;例如，可以在需要保护的端口前后埋设陷阱。假设保护 12345 端口，那么我们可放行 12340 - 12350 端口，如果扫描器发送的端口号是线性的话，无论递增还是递减，都可以大概率提前落入陷阱。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;需要注意的是，陷阱端口必须足够随机，以防被猜中。如果攻击者知道陷阱端口号，就可以将源 IP 伪造成正常用户故意踩陷阱，从而导致正常用户被拉黑无法访问。&lt;/strong&gt; 因此，最好通过云防火墙 API 定期修改陷阱端口。（当然攻击者即使不知道陷阱端口，也可以通过发送很多包，把正常 IP 拉黑，只是效率较低。这个问题之后再写文讨论）&lt;/p&gt;
&lt;p&gt;云防火墙虽然用起来比较麻烦，每个厂商的 API 也都不同，但它有个很大的优点：被拦截的流量不占带宽。这对安全防护很有用。即使有超大的扫描流量，我们的服务器也不受影响。&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-延迟反馈" class="anchor" aria-hidden="true" href="#延迟反馈"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;延迟反馈&lt;/h2&gt;
&lt;p&gt;假如我们要保护 80 端口，但扫描者发的第一个包就是 80，那么是不是就没办法了？&lt;/p&gt;
&lt;p&gt;如果扫描器在短时间里发送了多个包，这种情况仍有解决方案：延迟反馈。&lt;/p&gt;
&lt;p&gt;当我们收到 80 端口的 SYN 包时，不立即放行到系统，而是先延迟一会。假如在这段时间内，该 IP 命中了其他的陷阱端口，那么将延迟队列里的 80 SYN 删除，这样就可以防止首次猜中的情况！&lt;/p&gt;
&lt;p&gt;至于延迟多少，取决于安全和性能的平衡。当然，如果扫描器发包很慢的话，这种方案未必奏效。&lt;/p&gt;
&lt;p&gt;至于实现，目前暂未研究。iptables 似乎没有延迟的功能，而 tc 命令只能延迟发送的包，看来需要一些奇技淫巧才能简单实现~&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-端口集合" class="anchor" aria-hidden="true" href="#端口集合"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;端口集合&lt;/h2&gt;
&lt;p&gt;前面为了简单表示，我们使用 12345 端口，但现实中端口也许不止一个，并且可能不断变化。&lt;/p&gt;
&lt;p&gt;如果端口变一次 iptables 就得改一次，显然很累赘。因此不妨将端口也放在 ipset 里：&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;ipset create pub-port-set bitmap:port range 0-65535

iptables \
  -A INPUT \
  -p tcp --syn \
  -m &lt;span class="pl-c1"&gt;set&lt;/span&gt; &lt;span class="pl-k"&gt;!&lt;/span&gt; --match-set pub-port-set dst \
  -j SET --add-set scanner-ip-set src&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;之后我们只需操作 &lt;code&gt;pub-port-set&lt;/code&gt; 集合即可：&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;ipset add pub-port-set 12345&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-完整实现" class="anchor" aria-hidden="true" href="#完整实现"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;完整实现&lt;/h2&gt;
&lt;p&gt;综上所述，整理了一个相对完整的版本：&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/EtherDream/anti-portscan/blob/master/install.sh"&gt;https://github.com/EtherDream/anti-portscan/blob/master/install.sh&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;由于写的比较仓促，如果存在问题请及时指出，有更好的思路也可以交流~&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-在线演示" class="anchor" aria-hidden="true" href="#在线演示"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;在线演示&lt;/h2&gt;
&lt;p&gt;可以试试多久找出这个 HTTP 端口？&lt;/p&gt;
&lt;p&gt;IP：106.13.167.86&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://github.com/EtherDream/anti-portscan/blob/master/demo.png"&gt;&lt;img src="https://github.com/EtherDream/anti-portscan/raw/master/demo.png" alt="demo.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>EtherDream</author><guid isPermaLink="false">https://github.com/EtherDream/anti-portscan</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>awslabs/git-secrets #10 in Shell, Today</title><link>https://github.com/awslabs/git-secrets</link><description>&lt;p&gt;&lt;i&gt;Prevents you from committing secrets and credentials into git repositories&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body rst" data-path="README.rst"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-git-secrets" class="anchor" aria-hidden="true" href="#git-secrets"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;git-secrets&lt;/h1&gt;
&lt;h2 id="user-content-prevents-you-from-committing-passwords-and-other-sensitive-information-to-a-git-repository"&gt;&lt;a id="user-content-prevents-you-from-committing-passwords-and-other-sensitive-information-to-a-git-repository" class="anchor" aria-hidden="true" href="#prevents-you-from-committing-passwords-and-other-sensitive-information-to-a-git-repository"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Prevents you from committing passwords and other sensitive information to a git repository.&lt;/h2&gt;
&lt;div id="user-content-contents"&gt;
&lt;p&gt;Contents&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#synopsis" id="user-content-id4"&gt;Synopsis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#description" id="user-content-id5"&gt;Description&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#installing-git-secrets" id="user-content-id6"&gt;Installing git-secrets&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#nix-linux-macos" id="user-content-id7"&gt;*nix (Linux/macOS)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#windows" id="user-content-id8"&gt;Windows&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#homebrew-for-macos-users" id="user-content-id9"&gt;Homebrew (for macOS users)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#advanced-configuration" id="user-content-id10"&gt;Advanced configuration&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#before-making-public-a-repository" id="user-content-id11"&gt;Before making public a repository&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#options" id="user-content-id12"&gt;Options&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#operation-modes" id="user-content-id13"&gt;Operation Modes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#options-for-install" id="user-content-id14"&gt;Options for &lt;code&gt;--install&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#options-for-scan" id="user-content-id15"&gt;Options for &lt;code&gt;--scan&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#options-for-list" id="user-content-id16"&gt;Options for &lt;code&gt;--list&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#options-for-add" id="user-content-id17"&gt;Options for &lt;code&gt;--add&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#options-for-register-aws" id="user-content-id18"&gt;Options for &lt;code&gt;--register-aws&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#options-for-aws-provider" id="user-content-id19"&gt;Options for &lt;code&gt;--aws-provider&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#options-for-add-provider" id="user-content-id20"&gt;Options for &lt;code&gt;--add-provider&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#defining-prohibited-patterns" id="user-content-id21"&gt;Defining prohibited patterns&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ignoring-false-positives" id="user-content-id22"&gt;Ignoring false positives&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#secret-providers" id="user-content-id23"&gt;Secret providers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#example-walkthrough" id="user-content-id24"&gt;Example walkthrough&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#skipping-validation" id="user-content-id25"&gt;Skipping validation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#about" id="user-content-id26"&gt;About&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;a name="user-content-synopsis"&gt;&lt;/a&gt;
&lt;h2&gt;&lt;a id="user-content-synopsis" class="anchor" aria-hidden="true" href="#synopsis"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#id4"&gt;Synopsis&lt;/a&gt;&lt;/h2&gt;
&lt;pre&gt;git secrets --scan [-r|--recursive] [--cached] [--no-index] [--untracked] [&amp;lt;files&amp;gt;...]
git secrets --scan-history
git secrets --install [-f|--force] [&amp;lt;target-directory&amp;gt;]
git secrets --list [--global]
git secrets --add [-a|--allowed] [-l|--literal] [--global] &amp;lt;pattern&amp;gt;
git secrets --add-provider [--global] &amp;lt;command&amp;gt; [arguments...]
git secrets --register-aws [--global]
git secrets --aws-provider [&amp;lt;credentials-file&amp;gt;]
&lt;/pre&gt;
&lt;a name="user-content-description"&gt;&lt;/a&gt;
&lt;h2&gt;&lt;a id="user-content-description" class="anchor" aria-hidden="true" href="#description"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#id5"&gt;Description&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;git-secrets&lt;/code&gt; scans commits, commit messages, and &lt;code&gt;--no-ff&lt;/code&gt; merges to
prevent adding secrets into your git repositories. If a commit,
commit message, or any commit in a &lt;code&gt;--no-ff&lt;/code&gt; merge history matches one of
your configured prohibited regular expression patterns, then the commit is
rejected.&lt;/p&gt;
&lt;a name="user-content-installing-git-secrets"&gt;&lt;/a&gt;
&lt;h2&gt;&lt;a id="user-content-installing-git-secrets" class="anchor" aria-hidden="true" href="#installing-git-secrets"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#id6"&gt;Installing git-secrets&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;git-secrets&lt;/code&gt; must be placed somewhere in your PATH so that it is picked up
by &lt;code&gt;git&lt;/code&gt; when running &lt;code&gt;git secrets&lt;/code&gt;.&lt;/p&gt;
&lt;a name="user-content-nix-linux-macos"&gt;&lt;/a&gt;
&lt;h3&gt;&lt;a id="user-content-nix-linuxmacos" class="anchor" aria-hidden="true" href="#nix-linuxmacos"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#id7"&gt;*nix (Linux/macOS)&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;You can use the &lt;code&gt;install&lt;/code&gt; target of the provided Makefile to install &lt;code&gt;git secrets&lt;/code&gt; and the man page.
You can customize the install path using the PREFIX and MANPREFIX variables.&lt;/p&gt;
&lt;pre&gt;make install
&lt;/pre&gt;
&lt;a name="user-content-windows"&gt;&lt;/a&gt;
&lt;h3&gt;&lt;a id="user-content-windows" class="anchor" aria-hidden="true" href="#windows"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#id8"&gt;Windows&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Run the provided &lt;code&gt;install.ps1&lt;/code&gt; powershell script. This will copy the needed files
to an installation directory (&lt;code&gt;%USERPROFILE%/.git-secrets&lt;/code&gt; by default) and add
the directory to the current user &lt;code&gt;PATH&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;PS &amp;gt; ./install.ps1
&lt;/pre&gt;
&lt;a name="user-content-homebrew-for-macos-users"&gt;&lt;/a&gt;
&lt;h3&gt;&lt;a id="user-content-homebrew-for-macos-users" class="anchor" aria-hidden="true" href="#homebrew-for-macos-users"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#id9"&gt;Homebrew (for macOS users)&lt;/a&gt;&lt;/h3&gt;
&lt;pre&gt;brew install git-secrets
&lt;/pre&gt;
&lt;div&gt;
&lt;p&gt;Warning&lt;/p&gt;
&lt;p&gt;You're not done yet! You MUST install the git hooks for every repo that
you wish to use with &lt;code&gt;git secrets --install&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Here's a quick example of how to ensure a git repository is scanned for secrets
on each commit:&lt;/p&gt;
&lt;pre&gt;cd /path/to/my/repo
git secrets --install
git secrets --register-aws
&lt;/pre&gt;
&lt;a name="user-content-advanced-configuration"&gt;&lt;/a&gt;
&lt;h2&gt;&lt;a id="user-content-advanced-configuration" class="anchor" aria-hidden="true" href="#advanced-configuration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#id10"&gt;Advanced configuration&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Add a configuration template if you want to add hooks to all repositories you
initialize or clone in the future.&lt;/p&gt;
&lt;pre&gt;git secrets --register-aws --global
&lt;/pre&gt;
&lt;p&gt;Add hooks to all your local repositories.&lt;/p&gt;
&lt;pre&gt;git secrets --install ~/.git-templates/git-secrets
git config --global init.templateDir ~/.git-templates/git-secrets
&lt;/pre&gt;
&lt;p&gt;Add custom providers to scan for security credentials.&lt;/p&gt;
&lt;pre&gt;git secrets --add-provider -- cat /path/to/secret/file/patterns
&lt;/pre&gt;
&lt;a name="user-content-before-making-public-a-repository"&gt;&lt;/a&gt;
&lt;h2&gt;&lt;a id="user-content-before-making-public-a-repository" class="anchor" aria-hidden="true" href="#before-making-public-a-repository"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#id11"&gt;Before making public a repository&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;With git-secrets is also possible to scan a repository including all revisions:&lt;/p&gt;
&lt;pre&gt;git secrets --scan-history
&lt;/pre&gt;
&lt;a name="user-content-options"&gt;&lt;/a&gt;
&lt;h2&gt;&lt;a id="user-content-options" class="anchor" aria-hidden="true" href="#options"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#id12"&gt;Options&lt;/a&gt;&lt;/h2&gt;
&lt;a name="user-content-operation-modes"&gt;&lt;/a&gt;
&lt;h3&gt;&lt;a id="user-content-operation-modes" class="anchor" aria-hidden="true" href="#operation-modes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#id13"&gt;Operation Modes&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Each of these options must appear first on the command line.&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;code&gt;--install&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Installs git hooks for a repository. Once the hooks are installed for a git
repository, commits and non-fast-forward merges for that repository will be prevented
from committing secrets.&lt;/dd&gt;
&lt;dt&gt;&lt;code&gt;--scan&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Scans one or more files for secrets. When a file contains a secret, the
matched text from the file being scanned will be written to stdout and the
script will exit with a non-zero status. Each matched line will be written with
the name of the file that matched, a colon, the line number that matched,
a colon, and then the line of text that matched. If no files are provided,
all files returned by &lt;code&gt;git ls-files&lt;/code&gt; are scanned.&lt;/dd&gt;
&lt;dt&gt;&lt;code&gt;--scan-history&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Scans repository including all revisions. When a file contains a secret, the
matched text from the file being scanned will be written to stdout and the
script will exit with a non-zero status. Each matched line will be written with
the name of the file that matched, a colon, the line number that matched,
a colon, and then the line of text that matched.&lt;/dd&gt;
&lt;dt&gt;&lt;code&gt;--list&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Lists the &lt;code&gt;git-secrets&lt;/code&gt; configuration for the current repo or in the global
git config.&lt;/dd&gt;
&lt;dt&gt;&lt;code&gt;--add&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Adds a prohibited or allowed pattern.&lt;/dd&gt;
&lt;dt&gt;&lt;code&gt;--add-provider&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Registers a secret provider. Secret providers are executables that when
invoked output prohibited patterns that &lt;code&gt;git-secrets&lt;/code&gt; should treat as
prohibited.&lt;/dd&gt;
&lt;dt&gt;&lt;code&gt;--register-aws&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;&lt;p&gt;Adds common AWS patterns to the git config and ensures that keys present
in &lt;code&gt;~/.aws/credentials&lt;/code&gt; are not found in any commit. The following
checks are added:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AWS Access Key IDs via &lt;code&gt;(A3T[A-Z0-9]|AKIA|AGPA|AIDA|AROA|AIPA|ANPA|ANVA|ASIA)[A-Z0-9]{16}&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;AWS Secret Access Key assignments via ":" or "=" surrounded by optional
quotes&lt;/li&gt;
&lt;li&gt;AWS account ID assignments via ":" or "=" surrounded by optional quotes&lt;/li&gt;
&lt;li&gt;Allowed patterns for example AWS keys (&lt;code&gt;AKIAIOSFODNN7EXAMPLE&lt;/code&gt; and
&lt;code&gt;wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Known credentials from &lt;code&gt;~/.aws/credentials&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div&gt;
&lt;p&gt;Note&lt;/p&gt;
&lt;p&gt;While the patterns registered by this command should catch most
instances of AWS credentials, these patterns are &lt;strong&gt;not&lt;/strong&gt; guaranteed to
catch them &lt;strong&gt;all&lt;/strong&gt;. &lt;code&gt;git-secrets&lt;/code&gt; should be used as an extra means of
insurance -- you still need to do your due diligence to ensure that you
do not commit credentials to a repository.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;dt&gt;&lt;code&gt;--aws-provider&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Secret provider that outputs credentials found in an INI file. You can
optionally provide the path to an INI file.&lt;/dd&gt;
&lt;/dl&gt;
&lt;a name="user-content-options-for-install"&gt;&lt;/a&gt;
&lt;h3&gt;&lt;a id="user-content-options-for---install" class="anchor" aria-hidden="true" href="#options-for---install"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#id14"&gt;Options for &lt;code&gt;--install&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;code&gt;-f, --force&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Overwrites existing hooks if present.&lt;/dd&gt;
&lt;dt&gt;&lt;code&gt;&amp;lt;target-directory&amp;gt;&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;&lt;p&gt;When provided, installs git hooks to the given directory. The current
directory is assumed if &lt;code&gt;&amp;lt;target-directory&amp;gt;&lt;/code&gt; is not provided.&lt;/p&gt;
&lt;p&gt;If the provided &lt;code&gt;&amp;lt;target-directory&amp;gt;&lt;/code&gt; is not in a git repository, the
directory will be created and hooks will be placed in
&lt;code&gt;&amp;lt;target-directory&amp;gt;/hooks&lt;/code&gt;. This can be useful for creating git template
directories using with &lt;code&gt;git init --template &amp;lt;target-directory&amp;gt;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;You can run &lt;code&gt;git init&lt;/code&gt; on a repository that has already been initialized.
From the &lt;a href="https://git-scm.com/docs/git-init" rel="nofollow"&gt;git init documentation&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
From the git documentation: Running &lt;code&gt;git init&lt;/code&gt; in an existing repository
is safe. It will not overwrite things that are already there. The
primary reason for rerunning &lt;code&gt;git init&lt;/code&gt; is to pick up newly added
templates (or to move the repository to another place if
&lt;code&gt;--separate-git-dir&lt;/code&gt; is given).&lt;/blockquote&gt;
&lt;p&gt;The following git hooks are installed:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;pre-commit&lt;/code&gt;: Used to check if any of the files changed in the commit
use prohibited patterns.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;commit-msg&lt;/code&gt;: Used to determine if a commit message contains a
prohibited patterns.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;prepare-commit-msg&lt;/code&gt;: Used to determine if a merge commit will
introduce a history that contains a prohibited pattern at any point.
Please note that this hook is only invoked for non fast-forward merges.&lt;/li&gt;
&lt;/ol&gt;
&lt;div&gt;
&lt;p&gt;Note&lt;/p&gt;
&lt;p&gt;Git only allows a single script to be executed per hook. If the
repository contains Debian-style subdirectories like &lt;code&gt;pre-commit.d&lt;/code&gt;
and &lt;code&gt;commit-msg.d&lt;/code&gt;, then the git hooks will be installed into these
directories, which assumes that you've configured the corresponding
hooks to execute all of the scripts found in these directories. If
these git subdirectories are not present, then the git hooks will be
installed to the git repo's &lt;code&gt;.git/hooks&lt;/code&gt; directory.&lt;/p&gt;
&lt;/div&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;a name="user-content-examples"&gt;&lt;/a&gt;
&lt;h4&gt;&lt;a id="user-content-examples" class="anchor" aria-hidden="true" href="#examples"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Examples&lt;/h4&gt;
&lt;p&gt;Install git hooks to the current directory:&lt;/p&gt;
&lt;pre&gt;cd /path/to/my/repository
git secrets --install
&lt;/pre&gt;
&lt;p&gt;Install git hooks to a repository other than the current directory:&lt;/p&gt;
&lt;pre&gt;git secrets --install /path/to/my/repository
&lt;/pre&gt;
&lt;p&gt;Create a git template that has &lt;code&gt;git-secrets&lt;/code&gt; installed, and then copy that
template into a git repository:&lt;/p&gt;
&lt;pre&gt;git secrets --install ~/.git-templates/git-secrets
git init --template ~/.git-templates/git-secrets
&lt;/pre&gt;
&lt;p&gt;Overwrite existing hooks if present:&lt;/p&gt;
&lt;pre&gt;git secrets --install -f
&lt;/pre&gt;
&lt;a name="user-content-options-for-scan"&gt;&lt;/a&gt;
&lt;h3&gt;&lt;a id="user-content-options-for---scan" class="anchor" aria-hidden="true" href="#options-for---scan"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#id15"&gt;Options for &lt;code&gt;--scan&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;code&gt;-r, --recursive&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;&lt;p&gt;Scans the given files recursively. If a directory is encountered, the
directory will be scanned. If &lt;code&gt;-r&lt;/code&gt; is not provided, directories will be
ignored.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-r&lt;/code&gt; cannot be used alongside &lt;code&gt;--cached&lt;/code&gt;, &lt;code&gt;--no-index&lt;/code&gt;, or
&lt;code&gt;--untracked&lt;/code&gt;.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;&lt;code&gt;--cached&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Searches blobs registered in the index file.&lt;/dd&gt;
&lt;dt&gt;&lt;code&gt;--no-index&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Searches files in the current directory that is not managed by git.&lt;/dd&gt;
&lt;dt&gt;&lt;code&gt;--untracked&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;In addition to searching in the tracked files in the working tree,
&lt;code&gt;--scan&lt;/code&gt; also in untracked files.&lt;/dd&gt;
&lt;dt&gt;&lt;code&gt;&amp;lt;files&amp;gt;...&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;&lt;p&gt;The path to one or more files on disk to scan for secrets.&lt;/p&gt;
&lt;p&gt;If no files are provided, all files returned by &lt;code&gt;git ls-files&lt;/code&gt; are
scanned.&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;a name="user-content-id1"&gt;&lt;/a&gt;
&lt;h4&gt;&lt;a id="user-content-examples-1" class="anchor" aria-hidden="true" href="#examples-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Examples&lt;/h4&gt;
&lt;p&gt;Scan all files in the repo:&lt;/p&gt;
&lt;pre&gt;git secrets --scan
&lt;/pre&gt;
&lt;p&gt;Scans a single file for secrets:&lt;/p&gt;
&lt;pre&gt;git secrets --scan /path/to/file
&lt;/pre&gt;
&lt;p&gt;Scans a directory recursively for secrets:&lt;/p&gt;
&lt;pre&gt;git secrets --scan -r /path/to/directory
&lt;/pre&gt;
&lt;p&gt;Scans multiple files for secrets:&lt;/p&gt;
&lt;pre&gt;git secrets --scan /path/to/file /path/to/other/file
&lt;/pre&gt;
&lt;p&gt;You can scan by globbing:&lt;/p&gt;
&lt;pre&gt;git secrets --scan /path/to/directory/*
&lt;/pre&gt;
&lt;p&gt;Scan from stdin:&lt;/p&gt;
&lt;pre&gt;echo 'hello!' | git secrets --scan -
&lt;/pre&gt;
&lt;a name="user-content-options-for-list"&gt;&lt;/a&gt;
&lt;h3&gt;&lt;a id="user-content-options-for---list" class="anchor" aria-hidden="true" href="#options-for---list"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#id16"&gt;Options for &lt;code&gt;--list&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;code&gt;--global&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Lists only git-secrets configuration in the global git config.&lt;/dd&gt;
&lt;/dl&gt;
&lt;a name="user-content-options-for-add"&gt;&lt;/a&gt;
&lt;h3&gt;&lt;a id="user-content-options-for---add" class="anchor" aria-hidden="true" href="#options-for---add"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#id17"&gt;Options for &lt;code&gt;--add&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;code&gt;--global&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Adds patterns to the global git config&lt;/dd&gt;
&lt;dt&gt;&lt;code&gt;-l, --literal&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Escapes special regular expression characters in the provided pattern so
that the pattern is searched for literally.&lt;/dd&gt;
&lt;dt&gt;&lt;code&gt;-a, --allowed&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Mark the pattern as allowed instead of prohibited. Allowed patterns are
used to filter our false positives.&lt;/dd&gt;
&lt;dt&gt;&lt;code&gt;&amp;lt;pattern&amp;gt;&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;The regex pattern to search.&lt;/dd&gt;
&lt;/dl&gt;
&lt;a name="user-content-id2"&gt;&lt;/a&gt;
&lt;h4&gt;&lt;a id="user-content-examples-2" class="anchor" aria-hidden="true" href="#examples-2"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Examples&lt;/h4&gt;
&lt;p&gt;Adds a prohibited pattern to the current repo:&lt;/p&gt;
&lt;pre&gt;git secrets --add '[A-Z0-9]{20}'
&lt;/pre&gt;
&lt;p&gt;Adds a prohibited pattern to the global git config:&lt;/p&gt;
&lt;pre&gt;git secrets --add --global '[A-Z0-9]{20}'
&lt;/pre&gt;
&lt;p&gt;Adds a string that is scanned for literally (&lt;code&gt;+&lt;/code&gt; is escaped):&lt;/p&gt;
&lt;pre&gt;git secrets --add --literal 'foo+bar'
&lt;/pre&gt;
&lt;p&gt;Add an allowed pattern:&lt;/p&gt;
&lt;pre&gt;git secrets --add -a 'allowed pattern'
&lt;/pre&gt;
&lt;a name="user-content-options-for-register-aws"&gt;&lt;/a&gt;
&lt;h3&gt;&lt;a id="user-content-options-for---register-aws" class="anchor" aria-hidden="true" href="#options-for---register-aws"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#id18"&gt;Options for &lt;code&gt;--register-aws&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;code&gt;--global&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Adds AWS specific configuration variables to the global git config.&lt;/dd&gt;
&lt;/dl&gt;
&lt;a name="user-content-options-for-aws-provider"&gt;&lt;/a&gt;
&lt;h3&gt;&lt;a id="user-content-options-for---aws-provider" class="anchor" aria-hidden="true" href="#options-for---aws-provider"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#id19"&gt;Options for &lt;code&gt;--aws-provider&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;code&gt;[&amp;lt;credentials-file&amp;gt;]&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;If provided, specifies the custom path to an INI file to scan. If not
provided, &lt;code&gt;~/.aws/credentials&lt;/code&gt; is assumed.&lt;/dd&gt;
&lt;/dl&gt;
&lt;a name="user-content-options-for-add-provider"&gt;&lt;/a&gt;
&lt;h3&gt;&lt;a id="user-content-options-for---add-provider" class="anchor" aria-hidden="true" href="#options-for---add-provider"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#id20"&gt;Options for &lt;code&gt;--add-provider&lt;/code&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;code&gt;--global&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Adds the provider to the global git config.&lt;/dd&gt;
&lt;dt&gt;&lt;code&gt;&amp;lt;command&amp;gt;&lt;/code&gt;&lt;/dt&gt;
&lt;dd&gt;Provider command to invoke. When invoked the command is expected to write
prohibited patterns separated by new lines to stdout. Any extra arguments
provided are passed on to the command.&lt;/dd&gt;
&lt;/dl&gt;
&lt;a name="user-content-id3"&gt;&lt;/a&gt;
&lt;h4&gt;&lt;a id="user-content-examples-3" class="anchor" aria-hidden="true" href="#examples-3"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Examples&lt;/h4&gt;
&lt;p&gt;Registers a secret provider with arguments:&lt;/p&gt;
&lt;pre&gt;git secrets --add-provider -- git secrets --aws-provider
&lt;/pre&gt;
&lt;p&gt;Cats secrets out of a file:&lt;/p&gt;
&lt;pre&gt;git secrets --add-provider -- cat /path/to/secret/file/patterns
&lt;/pre&gt;
&lt;a name="user-content-defining-prohibited-patterns"&gt;&lt;/a&gt;
&lt;h2&gt;&lt;a id="user-content-defining-prohibited-patterns" class="anchor" aria-hidden="true" href="#defining-prohibited-patterns"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#id21"&gt;Defining prohibited patterns&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;egrep&lt;/code&gt;-compatible regular expressions are used to determine if a commit or
commit message contains any prohibited patterns. These regular expressions are
defined using the &lt;code&gt;git config&lt;/code&gt; command. It is important to note that
different systems use different versions of egrep. For example, when running on
macOS, you will use a different version of &lt;code&gt;egrep&lt;/code&gt; than when running on something
like Ubuntu (BSD vs GNU).&lt;/p&gt;
&lt;p&gt;You can add prohibited regular expression patterns to your git config using
&lt;code&gt;git secrets --add &amp;lt;pattern&amp;gt;&lt;/code&gt;.&lt;/p&gt;
&lt;a name="user-content-ignoring-false-positives"&gt;&lt;/a&gt;
&lt;h2&gt;&lt;a id="user-content-ignoring-false-positives" class="anchor" aria-hidden="true" href="#ignoring-false-positives"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#id22"&gt;Ignoring false positives&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Sometimes a regular expression might match false positives. For example, git
commit SHAs look a lot like AWS access keys. You can specify many different
regular expression patterns as false positives using the following command:&lt;/p&gt;
&lt;pre&gt;git secrets --add --allowed 'my regex pattern'
&lt;/pre&gt;
&lt;p&gt;You can also add regular expressions patterns to filter false positives to a
&lt;code&gt;.gitallowed&lt;/code&gt; file located in the repository's root directory. Lines starting
with &lt;code&gt;#&lt;/code&gt; are skipped (comment line) and empty lines are also skipped.&lt;/p&gt;
&lt;p&gt;First, git-secrets will extract all lines from a file that contain a prohibited
match. Included in the matched results will be the full path to the name of
the file that was matched, followed by ':', followed by the line number that was
matched, followed by the entire line from the file that was matched by a secret
pattern. Then, if you've defined allowed regular expressions, git-secrets will
check to see if all of the matched lines match at least one of your registered
allowed regular expressions. If all of the lines that were flagged as secret
are canceled out by an allowed match, then the subject text does not contain
any secrets. If any of the matched lines are not matched by an allowed regular
expression, then git-secrets will fail the commit/merge/message.&lt;/p&gt;
&lt;div&gt;
&lt;p&gt;Important&lt;/p&gt;
&lt;p&gt;Just as it is a bad practice to add prohibited patterns that are too
greedy, it is also a bad practice to add allowed patterns that are too
forgiving. Be sure to test out your patterns using ad-hoc calls to
&lt;code&gt;git secrets --scan $filename&lt;/code&gt; to ensure they are working as intended.&lt;/p&gt;
&lt;/div&gt;
&lt;a name="user-content-secret-providers"&gt;&lt;/a&gt;
&lt;h2&gt;&lt;a id="user-content-secret-providers" class="anchor" aria-hidden="true" href="#secret-providers"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#id23"&gt;Secret providers&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Sometimes you want to check for an exact pattern match against a set of known
secrets. For example, you might want to ensure that no credentials present in
&lt;code&gt;~/.aws/credentials&lt;/code&gt; ever show up in a commit. In these cases, it's better to
leave these secrets in one location rather than spread them out across git
repositories in git configs. You can use "secret providers" to fetch these
types of credentials. A secret provider is an executable that when invoked
outputs prohibited patterns separated by new lines.&lt;/p&gt;
&lt;p&gt;You can add secret providers using the &lt;code&gt;--add-provider&lt;/code&gt; command:&lt;/p&gt;
&lt;pre&gt;git secrets --add-provider -- git secrets --aws-provider
&lt;/pre&gt;
&lt;p&gt;Notice the use of &lt;code&gt;--&lt;/code&gt;. This ensures that any arguments associated with the
provider are passed to the provider each time it is invoked when scanning
for secrets.&lt;/p&gt;
&lt;a name="user-content-example-walkthrough"&gt;&lt;/a&gt;
&lt;h2&gt;&lt;a id="user-content-example-walkthrough" class="anchor" aria-hidden="true" href="#example-walkthrough"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#id24"&gt;Example walkthrough&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Let's take a look at an example. Given the following subject text (stored in
&lt;code&gt;/tmp/example&lt;/code&gt;):&lt;/p&gt;
&lt;pre&gt;This is a test!
password=ex@mplepassword
password=******
More test...
&lt;/pre&gt;
&lt;p&gt;And the following registered patterns:&lt;/p&gt;
&lt;pre&gt;git secrets --add 'password\s*=\s*.+'
git secrets --add --allowed --literal 'ex@mplepassword'
&lt;/pre&gt;
&lt;p&gt;Running &lt;code&gt;git secrets --scan /tmp/example&lt;/code&gt;, the result will
result in the following error output:&lt;/p&gt;
&lt;pre&gt;/tmp/example:3:password=******

[ERROR] Matched prohibited pattern

Possible mitigations:
- Mark false positives as allowed using: git config --add secrets.allowed ...
- List your configured patterns: git config --get-all secrets.patterns
- List your configured allowed patterns: git config --get-all secrets.allowed
- Use --no-verify if this is a one-time false positive
&lt;/pre&gt;
&lt;p&gt;Breaking this down, the prohibited pattern value of &lt;code&gt;password\s*=\s*.+&lt;/code&gt; will
match the following lines:&lt;/p&gt;
&lt;pre&gt;/tmp/example:2:password=ex@mplepassword
/tmp/example:3:password=******
&lt;/pre&gt;
&lt;p&gt;...But the first match will be filtered out due to the fact that it matches the
allowed regular expression of &lt;code&gt;ex@mplepassword&lt;/code&gt;. Because there is still a
remaining line that did not match, it is considered a secret.&lt;/p&gt;
&lt;p&gt;Because that matching lines are placed on lines that start with the filename
and line number (e.g., &lt;code&gt;/tmp/example:3:...&lt;/code&gt;), you can create allowed
patterns that take filenames and line numbers into account in the regular
expression. For example, you could whitelist an entire file using something
like:&lt;/p&gt;
&lt;pre&gt;git secrets --add --allowed '/tmp/example:.*'
git secrets --scan /tmp/example &amp;amp;&amp;amp; echo $?
# Outputs: 0
&lt;/pre&gt;
&lt;p&gt;Alternatively, you could allow a specific line number of a file if that
line is unlikely to change using something like the following:&lt;/p&gt;
&lt;pre&gt;git secrets --add --allowed '/tmp/example:3:.*'
git secrets --scan /tmp/example &amp;amp;&amp;amp; echo $?
# Outputs: 0
&lt;/pre&gt;
&lt;p&gt;Keep this in mind when creating allowed patterns to ensure that your allowed
patterns are not inadvertently matched due to the fact that the filename is
included in the subject text that allowed patterns are matched against.&lt;/p&gt;
&lt;a name="user-content-skipping-validation"&gt;&lt;/a&gt;
&lt;h2&gt;&lt;a id="user-content-skipping-validation" class="anchor" aria-hidden="true" href="#skipping-validation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#id25"&gt;Skipping validation&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Use the &lt;code&gt;--no-verify&lt;/code&gt; option in the event of a false positive match in a
commit, merge, or commit message. This will skip the execution of the
git hook and allow you to make the commit or merge.&lt;/p&gt;
&lt;a name="user-content-about"&gt;&lt;/a&gt;
&lt;h2&gt;&lt;a id="user-content-about" class="anchor" aria-hidden="true" href="#about"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="#id26"&gt;About&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Author: &lt;a href="https://github.com/mtdowling"&gt;Michael Dowling&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Issue tracker: This project's source code and issue tracker can be found at
&lt;a href="https://github.com/awslabs/git-secrets"&gt;https://github.com/awslabs/git-secrets&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Special thanks to Adrian Vatchinsky and Ari Juels of Cornell University for
providing suggestions and feedback.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Copyright 2015 Amazon.com, Inc. or its affiliates. All Rights Reserved.&lt;/p&gt;

&lt;/article&gt;&lt;/div&gt;</description><author>awslabs</author><guid isPermaLink="false">https://github.com/awslabs/git-secrets</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>foxlet/macOS-Simple-KVM #11 in Shell, Today</title><link>https://github.com/foxlet/macOS-Simple-KVM</link><description>&lt;p&gt;&lt;i&gt;Tools to set up a quick macOS VM in QEMU, accelerated by KVM.&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-macos-simple-kvm" class="anchor" aria-hidden="true" href="#macos-simple-kvm"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;macOS-Simple-KVM&lt;/h1&gt;
&lt;p&gt;Documentation to set up a simple macOS VM in QEMU, accelerated by KVM.&lt;/p&gt;
&lt;p&gt;By &lt;a href="https://twitter.com/foxletfox" rel="nofollow"&gt;@FoxletFox&lt;/a&gt;, and the help of many others. Find this useful? You can donate &lt;a href="https://commerce.coinbase.com/checkout/96dc5777-0abf-437d-a9b5-a78ae2c4c227" rel="nofollow"&gt;on Coinbase&lt;/a&gt; or &lt;a href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&amp;amp;business=QFXXKKAB2B9MA&amp;amp;item_name=macOS-Simple-KVM" rel="nofollow"&gt;Paypal!&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;New to macOS and KVM? Check &lt;a href="docs/FAQs.md"&gt;the FAQs.&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-getting-started" class="anchor" aria-hidden="true" href="#getting-started"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Getting Started&lt;/h2&gt;
&lt;p&gt;You'll need a Linux system with &lt;code&gt;qemu&lt;/code&gt; (3.1 or later), &lt;code&gt;python3&lt;/code&gt;, &lt;code&gt;pip&lt;/code&gt; and the KVM modules enabled. A Mac is &lt;strong&gt;not&lt;/strong&gt; required. Some examples for different distributions:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo apt-get install qemu-system qemu-utils python3 python3-pip  # for Ubuntu, Debian, Mint, and PopOS.
sudo pacman -S qemu python python-pip            # for Arch.
sudo xbps-install -Su qemu python3 python3-pip   # for Void Linux.
sudo zypper in qemu-tools qemu-kvm qemu-x86 qemu-audio-pa python3-pip  # for openSUSE Tumbleweed
sudo dnf install qemu qemu-img python3 python3-pip # for Fedora
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-step-1" class="anchor" aria-hidden="true" href="#step-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Step 1&lt;/h2&gt;
&lt;p&gt;Run &lt;code&gt;jumpstart.sh&lt;/code&gt; to download installation media for macOS (internet required). The default installation uses Catalina, but you can choose which version to get by adding either &lt;code&gt;--high-sierra&lt;/code&gt;, &lt;code&gt;--mojave&lt;/code&gt;, or &lt;code&gt;--catalina&lt;/code&gt;. For example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;./jumpstart.sh --mojave
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: You can skip this if you already have &lt;code&gt;BaseSystem.img&lt;/code&gt; downloaded. If you have &lt;code&gt;BaseSystem.dmg&lt;/code&gt;, you will need to convert it with the &lt;code&gt;dmg2img&lt;/code&gt; tool.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;&lt;a id="user-content-step-2" class="anchor" aria-hidden="true" href="#step-2"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Step 2&lt;/h2&gt;
&lt;p&gt;Create an empty hard disk using &lt;code&gt;qemu-img&lt;/code&gt;, changing the name and size to preference:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;qemu-img create -f qcow2 MyDisk.qcow2 64G
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and add it to the end of &lt;code&gt;basic.sh&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    -drive id=SystemDisk,if=none,file=MyDisk.qcow2 \
    -device ide-hd,bus=sata.4,drive=SystemDisk \
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: If you're running on a headless system (such as on Cloud providers), you will need &lt;code&gt;-nographic&lt;/code&gt; and &lt;code&gt;-vnc :0 -k en-us&lt;/code&gt; for VNC support.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Then run &lt;code&gt;basic.sh&lt;/code&gt; to start the machine and install macOS. Remember to partition in Disk Utility first!&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-step-2a-virtual-machine-manager" class="anchor" aria-hidden="true" href="#step-2a-virtual-machine-manager"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Step 2a (Virtual Machine Manager)&lt;/h2&gt;
&lt;p&gt;If instead of QEMU, you'd like to import the setup into Virt-Manager for further configuration, just run &lt;code&gt;sudo ./make.sh --add&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-step-2b-headless-systems" class="anchor" aria-hidden="true" href="#step-2b-headless-systems"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Step 2b (Headless Systems)&lt;/h2&gt;
&lt;p&gt;If you're using a cloud-based/headless system, you can use &lt;code&gt;headless.sh&lt;/code&gt; to set up a quick VNC instance. Settings are defined through variables as seen in the following example. VNC will start on port &lt;code&gt;5900&lt;/code&gt; by default.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;HEADLESS=1 MEM=1G CPUS=2 SYSTEM_DISK=MyDisk.qcow2 ./headless.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-step-3" class="anchor" aria-hidden="true" href="#step-3"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Step 3&lt;/h2&gt;
&lt;p&gt;You're done!&lt;/p&gt;
&lt;p&gt;To fine-tune the system and improve performance, look in the &lt;code&gt;docs&lt;/code&gt; folder for more information on &lt;a href="docs/guide-performance.md"&gt;adding memory&lt;/a&gt;, setting up &lt;a href="docs/guide-networking.md"&gt;bridged networking&lt;/a&gt;, adding &lt;a href="docs/guide-passthrough.md"&gt;passthrough hardware (for GPUs)&lt;/a&gt;, tweaking &lt;a href="docs/guide-screen-resolution.md"&gt;screen resolution&lt;/a&gt;, and enabling sound features.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>foxlet</author><guid isPermaLink="false">https://github.com/foxlet/macOS-Simple-KVM</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>quicwg/base-drafts #12 in Shell, Today</title><link>https://github.com/quicwg/base-drafts</link><description>&lt;p&gt;&lt;i&gt; Internet-Drafts that make up the base QUIC specification&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-quic-protocol" class="anchor" aria-hidden="true" href="#quic-protocol"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;QUIC Protocol&lt;/h1&gt;
&lt;p&gt;This is the working area for the IETF QUIC Working Group documents for the
QUIC protocol suite. &lt;strong&gt;See also&lt;/strong&gt; the &lt;a href="https://quicwg.org/base-drafts/" rel="nofollow"&gt;draft index&lt;/a&gt; for diffs and pull requests.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-quic-invariants" class="anchor" aria-hidden="true" href="#quic-invariants"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;QUIC Invariants&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://quicwg.github.io/base-drafts/draft-ietf-quic-invariants.html" rel="nofollow"&gt;Editor's copy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://tools.ietf.org/html/draft-ietf-quic-invariants" rel="nofollow"&gt;Working Group Draft&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://tools.ietf.org/rfcdiff?url1=https://tools.ietf.org/id/draft-ietf-quic-invariants&amp;amp;url2=https://quicwg.github.io/base-drafts/draft-ietf-quic-invariants.txt" rel="nofollow"&gt;Compare Working Group Draft and Editor's copy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-core-transport-protocol" class="anchor" aria-hidden="true" href="#core-transport-protocol"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Core Transport Protocol&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://quicwg.github.io/base-drafts/draft-ietf-quic-transport.html" rel="nofollow"&gt;Editor's copy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://tools.ietf.org/html/draft-ietf-quic-transport" rel="nofollow"&gt;Working Group Draft&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://tools.ietf.org/rfcdiff?url1=https://tools.ietf.org/id/draft-ietf-quic-transport&amp;amp;url2=https://quicwg.github.io/base-drafts/draft-ietf-quic-transport.txt" rel="nofollow"&gt;Compare Working Group Draft and Editor's copy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-loss-detection--congestion-control" class="anchor" aria-hidden="true" href="#loss-detection--congestion-control"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Loss Detection &amp;amp; Congestion Control&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://quicwg.github.io/base-drafts/draft-ietf-quic-recovery.html" rel="nofollow"&gt;Editor's copy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://tools.ietf.org/html/draft-ietf-quic-recovery" rel="nofollow"&gt;Working Group Draft&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://tools.ietf.org/rfcdiff?url1=https://tools.ietf.org/id/draft-ietf-quic-recovery&amp;amp;url2=https://quicwg.github.io/base-drafts/draft-ietf-quic-recovery.txt" rel="nofollow"&gt;Compare Working Group Draft and Editor's copy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-tls-mapping" class="anchor" aria-hidden="true" href="#tls-mapping"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;TLS Mapping&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://quicwg.github.io/base-drafts/draft-ietf-quic-tls.html" rel="nofollow"&gt;Editor's copy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://tools.ietf.org/html/draft-ietf-quic-tls" rel="nofollow"&gt;Working Group Draft&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://tools.ietf.org/rfcdiff?url1=https://tools.ietf.org/id/draft-ietf-quic-tls&amp;amp;url2=https://quicwg.github.io/base-drafts/draft-ietf-quic-tls.txt" rel="nofollow"&gt;Compare Working Group Draft and Editor's copy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-http-mapping" class="anchor" aria-hidden="true" href="#http-mapping"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;HTTP Mapping&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://quicwg.github.io/base-drafts/draft-ietf-quic-http.html" rel="nofollow"&gt;Editor's copy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://tools.ietf.org/html/draft-ietf-quic-http" rel="nofollow"&gt;Working Group Draft&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://tools.ietf.org/rfcdiff?url1=https://tools.ietf.org/id/draft-ietf-quic-http&amp;amp;url2=https://quicwg.github.io/base-drafts/draft-ietf-quic-http.txt" rel="nofollow"&gt;Compare Working Group Draft and Editor's copy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-qpack" class="anchor" aria-hidden="true" href="#qpack"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;QPACK&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://quicwg.github.io/base-drafts/draft-ietf-quic-qpack.html" rel="nofollow"&gt;Editor's copy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://tools.ietf.org/html/draft-ietf-quic-qpack" rel="nofollow"&gt;Working Group Draft&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://tools.ietf.org/rfcdiff?url1=https://tools.ietf.org/id/draft-ietf-quic-qpack&amp;amp;url2=https://quicwg.github.io/base-drafts/draft-ietf-quic-qpack.txt" rel="nofollow"&gt;Compare Working Group Draft and Editor's copy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-building-the-draft" class="anchor" aria-hidden="true" href="#building-the-draft"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Building the Draft&lt;/h2&gt;
&lt;p&gt;Formatted text and HTML versions of the draft can be built using &lt;code&gt;make&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;$ make&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This requires that you have the necessary software installed.  See &lt;a href="https://github.com/martinthomson/i-d-template/blob/master/doc/SETUP.md"&gt;the
instructions&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing&lt;/h2&gt;
&lt;p&gt;See our
&lt;a href="https://github.com/quicwg/base-drafts/blob/master/CONTRIBUTING.md"&gt;guidelines for contribution&lt;/a&gt;.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>quicwg</author><guid isPermaLink="false">https://github.com/quicwg/base-drafts</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>longhorn/longhorn #13 in Shell, Today</title><link>https://github.com/longhorn/longhorn</link><description>&lt;p&gt;&lt;i&gt;Cloud-Native distributed block storage built on and for Kubernetes&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-longhorn" class="anchor" aria-hidden="true" href="#longhorn"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Longhorn&lt;/h1&gt;
&lt;h3&gt;&lt;a id="user-content-status" class="anchor" aria-hidden="true" href="#status"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Status&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Engine: &lt;a href="https://drone-publish.rancher.io/longhorn/longhorn-engine" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/d53204bd12cb837dde199b8b26666f3bf249a874/68747470733a2f2f64726f6e652d7075626c6973682e72616e636865722e696f2f6170692f6261646765732f6c6f6e67686f726e2f6c6f6e67686f726e2d656e67696e652f7374617475732e737667" alt="Build Status" data-canonical-src="https://drone-publish.rancher.io/api/badges/longhorn/longhorn-engine/status.svg" style="max-width:100%;"&gt;&lt;/a&gt; &lt;a href="https://goreportcard.com/report/github.com/rancher/longhorn-engine" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/afcf7266d42e691631e7d1648ffd9de596160a10/68747470733a2f2f676f7265706f7274636172642e636f6d2f62616467652f6769746875622e636f6d2f72616e636865722f6c6f6e67686f726e2d656e67696e65" alt="Go Report Card" data-canonical-src="https://goreportcard.com/badge/github.com/rancher/longhorn-engine" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Manager: &lt;a href="https://drone-publish.rancher.io/longhorn/longhorn-manager" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/bd0749be2145f8f5ba5416deed6600d3bcbfd377/68747470733a2f2f64726f6e652d7075626c6973682e72616e636865722e696f2f6170692f6261646765732f6c6f6e67686f726e2f6c6f6e67686f726e2d6d616e616765722f7374617475732e737667" alt="Build Status" data-canonical-src="https://drone-publish.rancher.io/api/badges/longhorn/longhorn-manager/status.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;a href="https://goreportcard.com/report/github.com/rancher/longhorn-manager" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/2d56f37b5128f600daa92cdd1373ee1ad1ae150b/68747470733a2f2f676f7265706f7274636172642e636f6d2f62616467652f6769746875622e636f6d2f72616e636865722f6c6f6e67686f726e2d6d616e61676572" alt="Go Report Card" data-canonical-src="https://goreportcard.com/badge/github.com/rancher/longhorn-manager" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;UI: &lt;a href="https://drone-publish.rancher.io/longhorn/longhorn-ui" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/0ac7deddabfb7c80abb9cc1a292719a9d3f856f3/68747470733a2f2f64726f6e652d7075626c6973682e72616e636865722e696f2f6170692f6261646765732f6c6f6e67686f726e2f6c6f6e67686f726e2d75692f7374617475732e737667" alt="Build Status" data-canonical-src="https://drone-publish.rancher.io/api/badges/longhorn/longhorn-ui/status.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Test: &lt;a href="http://drone-publish.rancher.io/longhorn/longhorn-tests" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/6d03915f53cc4e1fed2584bc49abd493701ed932/687474703a2f2f64726f6e652d7075626c6973682e72616e636865722e696f2f6170692f6261646765732f6c6f6e67686f726e2f6c6f6e67686f726e2d74657374732f7374617475732e737667" alt="Build Status" data-canonical-src="http://drone-publish.rancher.io/api/badges/longhorn/longhorn-tests/status.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Longhorn is a distributed block storage system for Kubernetes.&lt;/p&gt;
&lt;p&gt;Longhorn is lightweight, reliable, and powerful. You can install Longhorn on an existing Kubernetes cluster with one &lt;code&gt;kubectl apply&lt;/code&gt; command or using Helm charts. Once Longhorn is installed, it adds persistent volume support to the Kubernetes cluster.&lt;/p&gt;
&lt;p&gt;Longhorn implements distributed block storage using containers and microservices. Longhorn creates a dedicated storage controller for each block device volume and synchronously replicates the volume across multiple replicas stored on multiple nodes. The storage controller and replicas are themselves orchestrated using Kubernetes. Here are some notable features of Longhorn:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Enterprise-grade distributed storage with no single point of failure&lt;/li&gt;
&lt;li&gt;Incremental snapshot of block storage&lt;/li&gt;
&lt;li&gt;Backup to secondary storage (NFS or S3-compatible object storage) built on efficient change block detection&lt;/li&gt;
&lt;li&gt;Recurring snapshot and backup&lt;/li&gt;
&lt;li&gt;Automated non-disruptive upgrade. You can upgrade the entire Longhorn software stack without disrupting running volumes!&lt;/li&gt;
&lt;li&gt;Intuitive GUI dashboard&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;You can read more technical details of Longhorn &lt;a href="http://rancher.com/microservices-block-storage/" rel="nofollow"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-current-status" class="anchor" aria-hidden="true" href="#current-status"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Current status&lt;/h2&gt;
&lt;p&gt;Longhorn is alpha-quality software. We appreciate your willingness to deploy Longhorn and provide feedback.&lt;/p&gt;
&lt;p&gt;The latest release of Longhorn is &lt;strong&gt;v0.6.2&lt;/strong&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-source-code" class="anchor" aria-hidden="true" href="#source-code"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Source code&lt;/h2&gt;
&lt;p&gt;Longhorn is 100% open source software. Project source code is spread across a number of repos:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Longhorn engine -- Core controller/replica logic &lt;a href="https://github.com/longhorn/longhorn-engine"&gt;https://github.com/longhorn/longhorn-engine&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Longhorn manager -- Longhorn orchestration, includes Flexvolume driver for Kubernetes &lt;a href="https://github.com/longhorn/longhorn-manager"&gt;https://github.com/longhorn/longhorn-manager&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Longhorn UI -- Dashboard &lt;a href="https://github.com/longhorn/longhorn-ui"&gt;https://github.com/longhorn/longhorn-ui&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/7ecc3a2cf10e1216d6fbb09eb445c1780f9cfd04/68747470733a2f2f73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f72616e636865722d6c6f6e67686f726e2f4c6f6e67686f726e5f55492e706e67"&gt;&lt;img src="https://camo.githubusercontent.com/7ecc3a2cf10e1216d6fbb09eb445c1780f9cfd04/68747470733a2f2f73332d75732d776573742d312e616d617a6f6e6177732e636f6d2f72616e636865722d6c6f6e67686f726e2f4c6f6e67686f726e5f55492e706e67" alt="Longhorn UI" data-canonical-src="https://s3-us-west-1.amazonaws.com/rancher-longhorn/Longhorn_UI.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-requirements" class="anchor" aria-hidden="true" href="#requirements"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Requirements&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Docker v1.13+&lt;/li&gt;
&lt;li&gt;Kubernetes v1.8+. Recommend v1.12+.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;open-iscsi&lt;/code&gt; has been installed on all the nodes of the Kubernetes cluster.
&lt;ol&gt;
&lt;li&gt;For GKE, recommended Ubuntu as guest OS image since it contains open-iscsi already.&lt;/li&gt;
&lt;li&gt;For Debian/Ubuntu, use &lt;code&gt;apt-get install open-iscsi&lt;/code&gt; to install.&lt;/li&gt;
&lt;li&gt;For RHEL/CentOS, use &lt;code&gt;yum install iscsi-initiator-utils&lt;/code&gt; to install.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;A host filesystem supports &lt;code&gt;file extents&lt;/code&gt; feature on the nodes to store the data. Currently we support:
&lt;ol&gt;
&lt;li&gt;ext4&lt;/li&gt;
&lt;li&gt;XFS&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;&lt;a id="user-content-install" class="anchor" aria-hidden="true" href="#install"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Install&lt;/h1&gt;
&lt;h2&gt;&lt;a id="user-content-on-kubernetes-clusters-managed-by-rancher-21-or-newer" class="anchor" aria-hidden="true" href="#on-kubernetes-clusters-managed-by-rancher-21-or-newer"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;On Kubernetes clusters Managed by Rancher 2.1 or newer&lt;/h2&gt;
&lt;p&gt;The easiest way to install Longhorn is to deploy Longhorn from Rancher Catalog.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;On Rancher UI, select the cluster and project you want to install Longhorn. We recommended to create a new project e.g. &lt;code&gt;Storage&lt;/code&gt; for Longhorn.&lt;/li&gt;
&lt;li&gt;Navigate to the &lt;code&gt;Catalog Apps&lt;/code&gt; screen. Select &lt;code&gt;Launch&lt;/code&gt;, find Longhorn in the list. Select &lt;code&gt;View Details&lt;/code&gt;, then click &lt;code&gt;Launch&lt;/code&gt;. Longhorn will be installed in the &lt;code&gt;longhorn-system&lt;/code&gt; namespace.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;After Longhorn has been successfully installed, you can access the Longhorn UI by navigating to the &lt;code&gt;Catalog Apps&lt;/code&gt; screen.&lt;/p&gt;
&lt;p&gt;One benefit of installing Longhorn through Rancher catalog is Rancher provides authentication to Longhorn UI.&lt;/p&gt;
&lt;p&gt;If there is a new version of Longhorn available, you will see an &lt;code&gt;Upgrade Available&lt;/code&gt; sign on the &lt;code&gt;Catalog Apps&lt;/code&gt; screen. You can click &lt;code&gt;Upgrade&lt;/code&gt; button to upgrade Longhorn manager. See more about upgrade &lt;a href="#upgrade"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-on-any-kubernetes-cluster" class="anchor" aria-hidden="true" href="#on-any-kubernetes-cluster"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;On any Kubernetes cluster&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-install-longhorn-with-kubectl" class="anchor" aria-hidden="true" href="#install-longhorn-with-kubectl"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Install Longhorn with kubectl&lt;/h3&gt;
&lt;p&gt;You can install Longhorn on any Kubernetes cluster using following command:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;kubectl apply -f https://raw.githubusercontent.com/longhorn/longhorn/master/deploy/longhorn.yaml
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Google Kubernetes Engine (GKE) requires additional setup in order for Longhorn to function properly. If your are a GKE user, read &lt;a href="docs/gke.md"&gt;this page&lt;/a&gt; before proceeding.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-install-longhorn-with-helm" class="anchor" aria-hidden="true" href="#install-longhorn-with-helm"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Install Longhorn with Helm&lt;/h3&gt;
&lt;p&gt;First, you need to initialize Helm locally and &lt;a href="https://helm.sh/docs/using_helm/#role-based-access-control" rel="nofollow"&gt;install Tiller into your Kubernetes cluster with RBAC&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Then download Longhorn repository:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git clone https://github.com/longhorn/longhorn.git
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now using following command to install Longhorn:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;helm install ./longhorn/chart --name longhorn --namespace longhorn-system
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;p&gt;Longhorn will be installed in the namespace &lt;code&gt;longhorn-system&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;One of the two available drivers (CSI and Flexvolume) would be chosen automatically based on the version of Kubernetes you use. See &lt;a href="docs/driver.md"&gt;here&lt;/a&gt; for details.&lt;/p&gt;
&lt;p&gt;A successful CSI-based deployment looks like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# kubectl -n longhorn-system get pod
NAME                                        READY     STATUS    RESTARTS   AGE
csi-attacher-0                              1/1       Running   0          6h
csi-provisioner-0                           1/1       Running   0          6h
engine-image-ei-57b85e25-8v65d              1/1       Running   0          7d
engine-image-ei-57b85e25-gjjs6              1/1       Running   0          7d
engine-image-ei-57b85e25-t2787              1/1       Running   0          7d
longhorn-csi-plugin-4cpk2                   2/2       Running   0          6h
longhorn-csi-plugin-ll6mq                   2/2       Running   0          6h
longhorn-csi-plugin-smlsh                   2/2       Running   0          6h
longhorn-driver-deployer-7b5bdcccc8-fbncl   1/1       Running   0          6h
longhorn-manager-7x8x8                      1/1       Running   0          6h
longhorn-manager-8kqf4                      1/1       Running   0          6h
longhorn-manager-kln4h                      1/1       Running   0          6h
longhorn-ui-f849dcd85-cgkgg                 1/1       Running   0          5d
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-accessing-the-ui" class="anchor" aria-hidden="true" href="#accessing-the-ui"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Accessing the UI&lt;/h3&gt;
&lt;p&gt;You can run &lt;code&gt;kubectl -n longhorn-system get svc&lt;/code&gt; to get the external service IP for UI:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;NAME                TYPE           CLUSTER-IP      EXTERNAL-IP      PORT(S)        AGE
longhorn-backend    ClusterIP      10.20.248.250   &amp;lt;none&amp;gt;           9500/TCP       58m
longhorn-frontend   LoadBalancer   10.20.245.110   100.200.200.123  80:30697/TCP   58m

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If the Kubernetes Cluster supports creating LoadBalancer, you can use &lt;code&gt;EXTERNAL-IP&lt;/code&gt;(&lt;code&gt;100.200.200.123&lt;/code&gt; in the case above) of &lt;code&gt;longhorn-frontend&lt;/code&gt; to access the Longhorn UI. Otherwise you can use &lt;code&gt;&amp;lt;node_ip&amp;gt;:&amp;lt;port&amp;gt;&lt;/code&gt; (port is &lt;code&gt;30697&lt;/code&gt;in the case above) to access the UI.&lt;/p&gt;
&lt;p&gt;Noted that the UI is unauthenticated when you installed Longhorn using YAML file.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-upgrade" class="anchor" aria-hidden="true" href="#upgrade"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Upgrade&lt;/h1&gt;
&lt;h2&gt;&lt;a id="user-content-upgrade-longhorn-manager" class="anchor" aria-hidden="true" href="#upgrade-longhorn-manager"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Upgrade Longhorn manager&lt;/h2&gt;
&lt;h5&gt;&lt;a id="user-content-on-kubernetes-clusters-managed-by-rancher-21-or-newer-1" class="anchor" aria-hidden="true" href="#on-kubernetes-clusters-managed-by-rancher-21-or-newer-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;On Kubernetes clusters Managed by Rancher 2.1 or newer&lt;/h5&gt;
&lt;p&gt;Follow &lt;a href="#install"&gt;the same steps for installation&lt;/a&gt; to upgrade Longhorn manager&lt;/p&gt;
&lt;h5&gt;&lt;a id="user-content-using-kubectl" class="anchor" aria-hidden="true" href="#using-kubectl"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using kubectl&lt;/h5&gt;
&lt;pre&gt;&lt;code&gt;kubectl apply -f https://raw.githubusercontent.com/longhorn/longhorn/master/deploy/longhorn.yaml
&lt;/code&gt;&lt;/pre&gt;
&lt;h5&gt;&lt;a id="user-content-using-helm" class="anchor" aria-hidden="true" href="#using-helm"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using Helm&lt;/h5&gt;
&lt;pre&gt;&lt;code&gt;helm upgrade longhorn ./longhorn/chart
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-upgrade-longhorn-engine" class="anchor" aria-hidden="true" href="#upgrade-longhorn-engine"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Upgrade Longhorn engine&lt;/h2&gt;
&lt;p&gt;After upgraded manager, follow &lt;a href="docs/upgrade.md#upgrade-longhorn-engine"&gt;the steps here&lt;/a&gt; to upgrade Longhorn engine for existing volumes.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Upgrade v0.5.0 to v0.6.0 requires offline upgrade. Live upgrade is not supported for this upgrade.&lt;/li&gt;
&lt;li&gt;For non distruptive upgrade from previous version to v0.5.0, follow &lt;a href="./docs/upgrade.md#live-upgrade"&gt;the live upgrade steps here&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;For more details about upgrade in Longhorn or upgrade from older versions, &lt;a href="docs/upgrade.md"&gt;see here&lt;/a&gt;.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-create-longhorn-volumes" class="anchor" aria-hidden="true" href="#create-longhorn-volumes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Create Longhorn Volumes&lt;/h1&gt;
&lt;p&gt;Before you create Kubernetes volumes, you must first create a storage class. Use following command to create a StorageClass called &lt;code&gt;longhorn&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;kubectl create -f https://raw.githubusercontent.com/longhorn/longhorn/master/examples/storageclass.yaml
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now you can create a pod using Longhorn like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;kubectl create -f https://raw.githubusercontent.com/longhorn/longhorn/master/examples/pvc.yaml
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The above yaml file contains two parts:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Create a PVC using Longhorn StorageClass.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: longhorn-volv-pvc
spec:
  accessModes:
    - ReadWriteOnce
  storageClassName: longhorn
  resources:
    requests:
      storage: 2Gi
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start="2"&gt;
&lt;li&gt;Use it in the a Pod as a persistent volume:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;apiVersion: v1
kind: Pod
metadata:
  name: volume-test
  namespace: default
spec:
  containers:
  - name: volume-test
    image: nginx:stable-alpine
    imagePullPolicy: IfNotPresent
    volumeMounts:
    - name: volv
      mountPath: /data
    ports:
    - containerPort: 80
  volumes:
  - name: volv
    persistentVolumeClaim:
      claimName: longhorn-volv-pvc
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;More examples are available at &lt;code&gt;./examples/&lt;/code&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-documentation" class="anchor" aria-hidden="true" href="#documentation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Documentation&lt;/h1&gt;
&lt;h3&gt;&lt;a id="user-content-snapshot-and-backup" class="anchor" aria-hidden="true" href="#snapshot-and-backup"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./docs/snapshot-backup.md"&gt;Snapshot and Backup&lt;/a&gt;&lt;/h3&gt;
&lt;h3&gt;&lt;a id="user-content-volume-operations" class="anchor" aria-hidden="true" href="#volume-operations"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./docs/volume.md"&gt;Volume operations&lt;/a&gt;&lt;/h3&gt;
&lt;h3&gt;&lt;a id="user-content-settings" class="anchor" aria-hidden="true" href="#settings"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./docs/settings.md"&gt;Settings&lt;/a&gt;&lt;/h3&gt;
&lt;h3&gt;&lt;a id="user-content-multiple-disks" class="anchor" aria-hidden="true" href="#multiple-disks"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./docs/multidisk.md"&gt;Multiple disks&lt;/a&gt;&lt;/h3&gt;
&lt;h3&gt;&lt;a id="user-content-iscsi" class="anchor" aria-hidden="true" href="#iscsi"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./docs/iscsi.md"&gt;iSCSI&lt;/a&gt;&lt;/h3&gt;
&lt;h3&gt;&lt;a id="user-content-kubernetes-workload-in-longhorn-ui" class="anchor" aria-hidden="true" href="#kubernetes-workload-in-longhorn-ui"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./docs/k8s-workload.md"&gt;Kubernetes workload in Longhorn UI&lt;/a&gt;&lt;/h3&gt;
&lt;h3&gt;&lt;a id="user-content-storage-tags" class="anchor" aria-hidden="true" href="#storage-tags"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./docs/storage-tags.md"&gt;Storage Tags&lt;/a&gt;&lt;/h3&gt;
&lt;h3&gt;&lt;a id="user-content-customized-default-setting" class="anchor" aria-hidden="true" href="#customized-default-setting"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./docs/customized-default-setting.md"&gt;Customized default setting&lt;/a&gt;&lt;/h3&gt;
&lt;h3&gt;&lt;a id="user-content-taint-toleration" class="anchor" aria-hidden="true" href="#taint-toleration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./docs/taint-toleration.md"&gt;Taint Toleration&lt;/a&gt;&lt;/h3&gt;
&lt;h3&gt;&lt;a id="user-content-restoring-stateful-set-volumes" class="anchor" aria-hidden="true" href="#restoring-stateful-set-volumes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./docs/restore_statefulset.md"&gt;Restoring Stateful Set volumes&lt;/a&gt;&lt;/h3&gt;
&lt;h3&gt;&lt;a id="user-content-google-kubernetes-engine" class="anchor" aria-hidden="true" href="#google-kubernetes-engine"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./docs/gke.md"&gt;Google Kubernetes Engine&lt;/a&gt;&lt;/h3&gt;
&lt;h3&gt;&lt;a id="user-content-deal-with-kubernetes-node-failure" class="anchor" aria-hidden="true" href="#deal-with-kubernetes-node-failure"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./docs/node-failure.md"&gt;Deal with Kubernetes node failure&lt;/a&gt;&lt;/h3&gt;
&lt;h3&gt;&lt;a id="user-content-use-csi-driver-on-rancheroscoreos--rke-or-k3s" class="anchor" aria-hidden="true" href="#use-csi-driver-on-rancheroscoreos--rke-or-k3s"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./docs/csi-config.md"&gt;Use CSI driver on RancherOS/CoreOS + RKE or K3S&lt;/a&gt;&lt;/h3&gt;
&lt;h3&gt;&lt;a id="user-content-restore-a-backup-to-an-image-file" class="anchor" aria-hidden="true" href="#restore-a-backup-to-an-image-file"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./docs/restore-to-file.md"&gt;Restore a backup to an image file&lt;/a&gt;&lt;/h3&gt;
&lt;h3&gt;&lt;a id="user-content-disaster-recovery-volume" class="anchor" aria-hidden="true" href="#disaster-recovery-volume"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a href="./docs/dr-volume.md"&gt;Disaster Recovery Volume&lt;/a&gt;&lt;/h3&gt;
&lt;h1&gt;&lt;a id="user-content-troubleshooting" class="anchor" aria-hidden="true" href="#troubleshooting"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Troubleshooting&lt;/h1&gt;
&lt;p&gt;You can click &lt;code&gt;Generate Support Bundle&lt;/code&gt; link at the bottom of the UI to download a zip file contains Longhorn related configuration and logs.&lt;/p&gt;
&lt;p&gt;See &lt;a href="./docs/troubleshooting.md"&gt;here&lt;/a&gt; for the troubleshooting guide.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-uninstall-longhorn" class="anchor" aria-hidden="true" href="#uninstall-longhorn"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Uninstall Longhorn&lt;/h1&gt;
&lt;h3&gt;&lt;a id="user-content-using-kubectl-1" class="anchor" aria-hidden="true" href="#using-kubectl-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using kubectl&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;To prevent damaging the Kubernetes cluster, we recommend deleting all Kubernetes workloads using Longhorn volumes (PersistentVolume, PersistentVolumeClaim, StorageClass, Deployment, StatefulSet, DaemonSet, etc) first.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create the uninstallation job to clean up CRDs from the system and wait for success:&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;kubectl create -f https://raw.githubusercontent.com/longhorn/longhorn/master/uninstall/uninstall.yaml
kubectl get job/longhorn-uninstall -w
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Example output:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ kubectl create -f https://raw.githubusercontent.com/longhorn/longhorn/master/uninstall/uninstall.yaml
serviceaccount/longhorn-uninstall-service-account created
clusterrole.rbac.authorization.k8s.io/longhorn-uninstall-role created
clusterrolebinding.rbac.authorization.k8s.io/longhorn-uninstall-bind created
job.batch/longhorn-uninstall created

$ kubectl get job/longhorn-uninstall -w
NAME                 COMPLETIONS   DURATION   AGE
longhorn-uninstall   0/1           3s         3s
longhorn-uninstall   1/1           20s        20s
^C
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start="3"&gt;
&lt;li&gt;Remove remaining components:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;kubectl delete -f https://raw.githubusercontent.com/longhorn/longhorn/master/deploy/longhorn.yaml
kubectl delete -f https://raw.githubusercontent.com/longhorn/longhorn/master/uninstall/uninstall.yaml
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Tip: If you try &lt;code&gt;kubectl delete -f https://raw.githubusercontent.com/longhorn/longhorn/master/deploy/longhorn.yaml&lt;/code&gt; first and get stuck there,
pressing &lt;code&gt;Ctrl C&lt;/code&gt; then running &lt;code&gt;kubectl create -f https://raw.githubusercontent.com/longhorn/longhorn/master/uninstall/uninstall.yaml&lt;/code&gt; can also help you remove Longhorn. Finally, don't forget to cleanup remaining components.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-using-helm-1" class="anchor" aria-hidden="true" href="#using-helm-1"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using Helm&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;helm delete longhorn --purge
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-community" class="anchor" aria-hidden="true" href="#community"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Community&lt;/h2&gt;
&lt;p&gt;Longhorn is an open source software, so contribution are greatly welcome. Please read &lt;a href="./CODE_OF_CONDUCT.md"&gt;Code of Conduct&lt;/a&gt; and &lt;a href="./CONTRIBUTING.md"&gt;Contributing Guideline&lt;/a&gt; before contributing.&lt;/p&gt;
&lt;p&gt;Contributing code is not the only way of contributing. We value feedbacks very much and many of the Longhorn features are originated from users' feedback. If you have any feedbacks, feel free to &lt;a href="https://github.com/longhorn/longhorn/issues/new?title=*Summarize%20your%20issue%20here*&amp;amp;body=*Describe%20your%20issue%20here*%0A%0A---%0AVersion%3A%20%60%60"&gt;file an issue&lt;/a&gt; and talk to the developers at the &lt;a href="https://slack.cncf.io/" rel="nofollow"&gt;CNCF&lt;/a&gt; &lt;a href="https://cloud-native.slack.com/messages/longhorn" rel="nofollow"&gt;#longhorn&lt;/a&gt; slack channel.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;p&gt;Copyright (c) 2014-2019 The Longhorn Authors&lt;/p&gt;
&lt;p&gt;Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.apache.org/licenses/LICENSE-2.0" rel="nofollow"&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>longhorn</author><guid isPermaLink="false">https://github.com/longhorn/longhorn</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>nicothin/web-development #14 in Shell, Today</title><link>https://github.com/nicothin/web-development</link><description>&lt;p&gt;&lt;i&gt;Инструменты, настройки, шпаргалки, для веб-технолога&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="readme.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-веб-разработка" class="anchor" aria-hidden="true" href="#веб-разработка"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Веб-разработка&lt;/h1&gt;
&lt;p&gt;Настройки, инструкции, инструменты, применяемые в веб-разработке.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>nicothin</author><guid isPermaLink="false">https://github.com/nicothin/web-development</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>Bash-it/bash-it #15 in Shell, Today</title><link>https://github.com/Bash-it/bash-it</link><description>&lt;p&gt;&lt;i&gt;A community Bash framework.&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-bash-it" class="anchor" aria-hidden="true" href="#bash-it"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bash-it&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://travis-ci.org/Bash-it/bash-it" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/3eccd9ada45fbf999f72cec134eb364061e339c4/68747470733a2f2f7472617669732d63692e6f72672f426173682d69742f626173682d69742e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/Bash-it/bash-it.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt; &lt;a href="https://gitter.im/Bash-it/bash-it?utm_source=badge&amp;amp;utm_medium=badge&amp;amp;utm_campaign=pr-badge&amp;amp;utm_content=badge" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667" alt="Join the chat at https://gitter.im/Bash-it/bash-it" data-canonical-src="https://badges.gitter.im/Join%20Chat.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Bash-it&lt;/strong&gt; is a collection of community Bash commands and scripts for Bash 3.2+.
(And a shameless ripoff of &lt;a href="https://github.com/robbyrussell/oh-my-zsh"&gt;oh-my-zsh&lt;/a&gt; &lt;g-emoji class="g-emoji" alias="smiley" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f603.png"&gt;😃&lt;/g-emoji&gt;)&lt;/p&gt;
&lt;p&gt;Includes autocompletion, themes, aliases, custom functions, a few stolen pieces from Steve Losh, and more.&lt;/p&gt;
&lt;p&gt;Bash-it provides a solid framework for using, developing and maintaining shell scripts and custom commands for your daily work.
If you're using the &lt;em&gt;Bourne Again Shell&lt;/em&gt; (Bash) regularly and have been looking for an easy way on how to keep all of these nice little scripts and aliases under control, then Bash-it is for you!
Stop polluting your &lt;code&gt;~/bin&lt;/code&gt; directory and your &lt;code&gt;.bashrc&lt;/code&gt; file, fork/clone Bash-it and start hacking away.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#contributing"&gt;Contributing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#installation"&gt;Installation&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#install-options"&gt;Install Options&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#install-using-docker"&gt;via Docker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#updating"&gt;Updating&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#help-screens"&gt;Help&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#search"&gt;Search&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#syntax"&gt;Syntax&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#searching-with-negations"&gt;Searching with Negations&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#using-search-to-enable-or-disable-components"&gt;Using Search to Enable or Disable Components&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#disabling-ascii-color"&gt;Disabling ASCII Color&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#custom-scripts-aliases-themes-and-functions"&gt;Custom scripts, aliases, themes, and functions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#themes"&gt;Themes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#uninstalling"&gt;Uninstalling&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#misc"&gt;Misc&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#help-out"&gt;Help Out&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#contributors"&gt;Contributors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing&lt;/h2&gt;
&lt;p&gt;Please take a look at the &lt;a href="CONTRIBUTING.md"&gt;Contribution Guidelines&lt;/a&gt; before reporting a bug or providing a new feature.&lt;/p&gt;
&lt;p&gt;The &lt;a href="DEVELOPMENT.md"&gt;Development Guidelines&lt;/a&gt; have more information on some of the internal workings of Bash-it,
please feel free to read through this page if you're interested in how Bash-it loads its components.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Check out a clone of this repo to a location of your choice, such as
&lt;code&gt;git clone --depth=1 https://github.com/Bash-it/bash-it.git ~/.bash_it&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Run &lt;code&gt;~/.bash_it/install.sh&lt;/code&gt; (it automatically backs up your &lt;code&gt;~/.bash_profile&lt;/code&gt; or &lt;code&gt;~/.bashrc&lt;/code&gt;, depending on your OS)&lt;/li&gt;
&lt;li&gt;Edit your modified config (&lt;code&gt;~/.bash_profile&lt;/code&gt; or &lt;code&gt;~/.bashrc&lt;/code&gt;) file in order to customize Bash-it.&lt;/li&gt;
&lt;li&gt;Check out available aliases, completions, and plugins and enable the ones you want to use (see the next section for more details).&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;&lt;a id="user-content-install-options" class="anchor" aria-hidden="true" href="#install-options"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Install Options&lt;/h3&gt;
&lt;p&gt;The install script can take the following options:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;--interactive&lt;/code&gt;: Asks the user which aliases, completions and plugins to enable.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--silent&lt;/code&gt;: Ask nothing and install using default settings.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--no-modify-config&lt;/code&gt;: Do not modify the existing config file (&lt;code&gt;~/.bash_profile&lt;/code&gt; or &lt;code&gt;~/.bashrc&lt;/code&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;When run without the &lt;code&gt;--interactive&lt;/code&gt; switch, Bash-it only enables a sane default set of functionality to keep your shell clean and to avoid issues with missing dependencies.
Feel free to enable the tools you want to use after the installation.&lt;/p&gt;
&lt;p&gt;When you run without the &lt;code&gt;--no-modify-config&lt;/code&gt; switch, the Bash-it installer automatically modifies/replaces your existing config file.
Use the &lt;code&gt;--no-modify-config&lt;/code&gt; switch to avoid unwanted modifications, e.g. if your Bash config file already contains the code that loads Bash-it.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NOTE&lt;/strong&gt;: Keep in mind how Bash loads its configuration files,
&lt;code&gt;.bash_profile&lt;/code&gt; for login shells (and in macOS in terminal emulators like &lt;a href="http://www.apple.com/osx/apps/" rel="nofollow"&gt;Terminal.app&lt;/a&gt; or
&lt;a href="https://www.iterm2.com/" rel="nofollow"&gt;iTerm2&lt;/a&gt;) and &lt;code&gt;.bashrc&lt;/code&gt; for interactive shells (default mode in most of the GNU/Linux terminal emulators),
to ensure that Bash-it is loaded correctly.
A good "practice" is sourcing &lt;code&gt;.bashrc&lt;/code&gt; into &lt;code&gt;.bash_profile&lt;/code&gt; to keep things working in all the scenarios.
To achieve this, you can add this snippet in your &lt;code&gt;.bash_profile&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;if [ -f ~/.bashrc ]; then
  . ~/.bashrc
fi
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Refer to the official &lt;a href="https://www.gnu.org/software/bash/manual/bashref.html#Bash-Startup-Files" rel="nofollow"&gt;Bash documentation&lt;/a&gt; to get more info.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-install-using-docker" class="anchor" aria-hidden="true" href="#install-using-docker"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Install using Docker&lt;/h3&gt;
&lt;p&gt;You can try Bash-it in an isolated environment without changing any local files via a &lt;a href="https://www.docker.com/" rel="nofollow"&gt;Docker&lt;/a&gt; Container.
(Bash Shell v4.4 with Bash-it, &lt;a href="https://github.com/sstephenson/bats"&gt;bats&lt;/a&gt;,and bash-completion based on &lt;a href="https://alpinelinux.org/" rel="nofollow"&gt;Alpine Linux&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker pull ellerbrock/bash-it&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Have a look at our &lt;a href="https://github.com/Bash-it/bash-it-docker"&gt;bash-it-docker repository&lt;/a&gt; for further information.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-updating" class="anchor" aria-hidden="true" href="#updating"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Updating&lt;/h3&gt;
&lt;p&gt;To update Bash-it to the latest version, simply run:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;bash-it update&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;that's all.&lt;/p&gt;
&lt;p&gt;If you are using an older version of Bash-it, it's possible that some functionality has changed, or that the internal structure of how Bash-it organizes its functionality has been updated.
For these cases, we provide a &lt;code&gt;migrate&lt;/code&gt; command:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;bash-it migrate&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This command will automatically migrate the Bash-it structure to the latest version.
The &lt;code&gt;migrate&lt;/code&gt; command is run automatically if you run the &lt;code&gt;update&lt;/code&gt;, &lt;code&gt;enable&lt;/code&gt; or &lt;code&gt;disable&lt;/code&gt; commands.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-help-screens" class="anchor" aria-hidden="true" href="#help-screens"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Help Screens&lt;/h2&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;bash-it show aliases        &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; shows installed and available aliases&lt;/span&gt;
bash-it show completions    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; shows installed and available completions&lt;/span&gt;
bash-it show plugins        &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; shows installed and available plugins&lt;/span&gt;
bash-it &lt;span class="pl-c1"&gt;help&lt;/span&gt; aliases        &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; shows help for installed aliases&lt;/span&gt;
bash-it &lt;span class="pl-c1"&gt;help&lt;/span&gt; completions    &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; shows help for installed completions&lt;/span&gt;
bash-it &lt;span class="pl-c1"&gt;help&lt;/span&gt; plugins        &lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; shows help for installed plugins&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-search" class="anchor" aria-hidden="true" href="#search"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Search&lt;/h2&gt;
&lt;p&gt;If you need to quickly find out which of the plugins, aliases or completions are available for a specific framework, programming language, or an environment, you can &lt;em&gt;search&lt;/em&gt; for multiple terms related to the commands you use frequently.
Search will find and print out modules with the name or description matching the terms provided.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-syntax" class="anchor" aria-hidden="true" href="#syntax"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Syntax&lt;/h3&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;  bash-it search term1 [[-]term2] [[-]term3]....&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As an example, a ruby developer might want to enable everything related to the commands such as &lt;code&gt;ruby&lt;/code&gt;, &lt;code&gt;rake&lt;/code&gt;, &lt;code&gt;gem&lt;/code&gt;, &lt;code&gt;bundler&lt;/code&gt;, and &lt;code&gt;rails&lt;/code&gt;.
Search command helps you find related modules so that you can decide which of them you'd like to use:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;❯ bash-it search ruby rake gem bundle irb rails
      aliases:  bundler rails
      plugins:  chruby chruby-auto ruby
  completions:  bundler gem rake&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Currently enabled modules will be shown in green.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-searching-with-negations" class="anchor" aria-hidden="true" href="#searching-with-negations"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Searching with Negations&lt;/h3&gt;
&lt;p&gt;You can prefix a search term with a "-" to exclude it from the results.
In the above example, if we wanted to hide &lt;code&gt;chruby&lt;/code&gt; and &lt;code&gt;chruby-auto&lt;/code&gt;,
we could change the command as follows:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;❯ bash-it search ruby rake gem bundle irb rails -chruby
      aliases:  bundler rails
      plugins:  ruby
  completions:  bundler gem rake&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;&lt;a id="user-content-using-search-to-enable-or-disable-components" class="anchor" aria-hidden="true" href="#using-search-to-enable-or-disable-components"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using Search to Enable or Disable Components&lt;/h3&gt;
&lt;p&gt;By adding a &lt;code&gt;--enable&lt;/code&gt; or &lt;code&gt;--disable&lt;/code&gt; to the search command, you can automatically enable all modules that come up as a result of a search query.
This could be quite handy if you like to enable a bunch of components related to the same topic.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-disabling-ascii-color" class="anchor" aria-hidden="true" href="#disabling-ascii-color"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Disabling ASCII Color&lt;/h3&gt;
&lt;p&gt;To remove non-printing non-ASCII characters responsible for the coloring of the search output, you can set environment variable &lt;code&gt;NO_COLOR&lt;/code&gt;.
Enabled components will then be shown with a checkmark:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;❯ NO_COLOR=1 bash-it search ruby rake gem bundle irb rails -chruby
      aliases  =&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt;   ✓bundler ✓rails
      plugins  =&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt;   ✓ruby
  completions  =&lt;span class="pl-k"&gt;&amp;gt;&lt;/span&gt;   bundler gem rake&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;&lt;a id="user-content-custom-scripts-aliases-themes-and-functions" class="anchor" aria-hidden="true" href="#custom-scripts-aliases-themes-and-functions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Custom scripts, aliases, themes, and functions&lt;/h2&gt;
&lt;p&gt;For custom scripts, and aliases, just create the following files (they'll be ignored by the git repo):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;aliases/custom.aliases.bash&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;completion/custom.completion.bash&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;lib/custom.bash&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;plugins/custom.plugins.bash&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;custom/themes/&amp;lt;custom theme name&amp;gt;/&amp;lt;custom theme name&amp;gt;.theme.bash&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Anything in the custom directory will be ignored, with the exception of &lt;code&gt;custom/example.bash&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Alternately, if you would like to keep your custom scripts under version control, you can set &lt;code&gt;BASH_IT_CUSTOM&lt;/code&gt; in your &lt;code&gt;~/.bashrc&lt;/code&gt; to another location outside of the &lt;code&gt;$BASH_IT&lt;/code&gt; folder.
In this case, any &lt;code&gt;*.bash&lt;/code&gt; file under every directory below &lt;code&gt;BASH_IT_CUSTOM&lt;/code&gt; folder will be used.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-themes" class="anchor" aria-hidden="true" href="#themes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Themes&lt;/h2&gt;
&lt;p&gt;There are over 50+ Bash-it themes to pick from in &lt;code&gt;$BASH_IT/themes&lt;/code&gt;.
The default theme is &lt;code&gt;bobby&lt;/code&gt;.
Set &lt;code&gt;BASH_IT_THEME&lt;/code&gt; to the theme name you want, or if you've developed your own custom theme outside of &lt;code&gt;$BASH_IT/themes&lt;/code&gt;,
point the &lt;code&gt;BASH_IT_THEME&lt;/code&gt; variable directly to the theme file.
To disable theming completely, leave the variable empty.&lt;/p&gt;
&lt;p&gt;Examples:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Use the "powerline-multiline" theme&lt;/span&gt;
&lt;span class="pl-k"&gt;export&lt;/span&gt; BASH_IT_THEME=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;powerline-multiline&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Use a theme outside of the Bash-it folder&lt;/span&gt;
&lt;span class="pl-k"&gt;export&lt;/span&gt; BASH_IT_THEME=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;/home/foo/my_theme/my_theme.theme.bash&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;

&lt;span class="pl-c"&gt;&lt;span class="pl-c"&gt;#&lt;/span&gt; Disable theming&lt;/span&gt;
&lt;span class="pl-k"&gt;export&lt;/span&gt; BASH_IT_THEME=&lt;span class="pl-s"&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;span class="pl-pds"&gt;"&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can easily preview the themes in your own shell using &lt;code&gt;BASH_PREVIEW=true bash-it reload&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;If you've created your own custom prompts, we'd love it if you shared them with everyone else! Just submit a Pull Request.
You can see theme screenshots on &lt;a href="https://github.com/Bash-it/bash-it/wiki/Themes"&gt;wiki/Themes&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NOTE&lt;/strong&gt;: Bash-it and some themes use UTF-8 characters, so to avoid strange behavior in your terminal, set your locale to &lt;code&gt;LC_ALL=en_US.UTF-8&lt;/code&gt; or the equivalent to your language if it isn't American English.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-uninstalling" class="anchor" aria-hidden="true" href="#uninstalling"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Uninstalling&lt;/h2&gt;
&lt;p&gt;To uninstall Bash-it, run the &lt;code&gt;uninstall.sh&lt;/code&gt; script found in the &lt;code&gt;$BASH_IT&lt;/code&gt; directory:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cd $BASH_IT
./uninstall.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This will restore your previous Bash profile.
After the uninstall script finishes, remove the Bash-it directory from your machine (&lt;code&gt;rm -rf $BASH_IT&lt;/code&gt;) and start a new shell.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-misc" class="anchor" aria-hidden="true" href="#misc"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Misc&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-bash-profile-aliases" class="anchor" aria-hidden="true" href="#bash-profile-aliases"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bash Profile Aliases&lt;/h3&gt;
&lt;p&gt;Bash-it creates a &lt;code&gt;reload&lt;/code&gt; alias that makes it convenient to reload
your Bash profile when you make changes.&lt;/p&gt;
&lt;p&gt;Additionally, if you export &lt;code&gt;BASH_IT_AUTOMATIC_RELOAD_AFTER_CONFIG_CHANGE&lt;/code&gt; as a non-null value,
Bash-it will automatically reload itself after activating or deactivating plugins, aliases, or completions.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-prompt-version-control-check" class="anchor" aria-hidden="true" href="#prompt-version-control-check"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Prompt Version Control Check&lt;/h3&gt;
&lt;p&gt;Bash-it provides prompt themes with the ability to check and display version control information for the current directory.
The information is retrieved for each directory and can slow down the navigation of projects with a large number of files and folders.
Turn version control checking off to prevent slow directory navigation within large projects.&lt;/p&gt;
&lt;p&gt;Bash-it provides a flag (&lt;code&gt;SCM_CHECK&lt;/code&gt;) within the &lt;code&gt;~/.bash_profile&lt;/code&gt; file that turns off/on version control information checking and display within all themes.
Version control checking is on by default unless explicitly turned off.&lt;/p&gt;
&lt;p&gt;Set &lt;code&gt;SCM_CHECK&lt;/code&gt; to 'false' to &lt;strong&gt;turn off&lt;/strong&gt; version control checks for all themes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;export SCM_CHECK=false&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Set &lt;code&gt;SCM_CHECK&lt;/code&gt; to 'true' (the default value) to &lt;strong&gt;turn on&lt;/strong&gt; version control checks for all themes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;export SCM_CHECK=true&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt;
It is possible for themes to ignore the &lt;code&gt;SCM_CHECK&lt;/code&gt; flag and query specific version control information directly.
For example, themes that use functions like &lt;code&gt;git_prompt_vars&lt;/code&gt; skip the &lt;code&gt;SCM_CHECK&lt;/code&gt; flag to retrieve and display git prompt information.
If you turned version control checking off and you still see version control information within your prompt, then functions like &lt;code&gt;git_prompt_vars&lt;/code&gt; are most likely the reason why.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-git-prompt" class="anchor" aria-hidden="true" href="#git-prompt"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Git prompt&lt;/h3&gt;
&lt;p&gt;Bash-it has some nice features related to Git, continue reading to know more about these features.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-repository-info-in-the-prompt" class="anchor" aria-hidden="true" href="#repository-info-in-the-prompt"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Repository info in the prompt&lt;/h3&gt;
&lt;p&gt;Bash-it can show some information about Git repositories in the shell prompt: the current branch, tag or commit you are at, how many commits the local branch is ahead or behind from the remote branch, and if you have changes stashed.&lt;/p&gt;
&lt;p&gt;Additionally, you can view the status of your working copy and get the count of &lt;em&gt;staged&lt;/em&gt;, &lt;em&gt;unstaged&lt;/em&gt; and &lt;em&gt;untracked&lt;/em&gt; files.
This feature is controlled through the flag &lt;code&gt;SCM_GIT_SHOW_DETAILS&lt;/code&gt; as follows:&lt;/p&gt;
&lt;p&gt;Set &lt;code&gt;SCM_GIT_SHOW_DETAILS&lt;/code&gt; to 'true' (the default value) to &lt;strong&gt;show&lt;/strong&gt; the working copy details in your prompt:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;export SCM_GIT_SHOW_DETAILS=true&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Set &lt;code&gt;SCM_GIT_SHOW_DETAILS&lt;/code&gt; to 'false' to &lt;strong&gt;don't show&lt;/strong&gt; it:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;export SCM_GIT_SHOW_DETAILS=false&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; If using &lt;code&gt;SCM_GIT_SHOW_MINIMAL_INFO=true&lt;/code&gt;, then the value of &lt;code&gt;SCM_GIT_SHOW_DETAILS&lt;/code&gt; is ignored.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-remotes-and-remote-branches" class="anchor" aria-hidden="true" href="#remotes-and-remote-branches"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Remotes and remote branches&lt;/h3&gt;
&lt;p&gt;In some git workflows, you must work with various remotes, for this reason, Bash-it can provide some useful information about your remotes and your remote branches, for example, the remote on you are working, or if your local branch is tracking a remote branch.&lt;/p&gt;
&lt;p&gt;You can control this feature with the flag &lt;code&gt;SCM_GIT_SHOW_REMOTE_INFO&lt;/code&gt; as follows:&lt;/p&gt;
&lt;p&gt;Set &lt;code&gt;SCM_GIT_SHOW_REMOTE_INFO&lt;/code&gt; to 'auto' (the default value) to activate it only when more than one remote is configured in the current repo:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;export SCM_GIT_SHOW_REMOTE_INFO=auto&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Set &lt;code&gt;SCM_GIT_SHOW_REMOTE_INFO&lt;/code&gt; to 'true' to always activate the feature:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;export SCM_GIT_SHOW_REMOTE_INFO=true&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Set &lt;code&gt;SCM_GIT_SHOW_REMOTE_INFO&lt;/code&gt; to 'false' to &lt;strong&gt;disable the feature&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;export SCM_GIT_SHOW_REMOTE_INFO=false&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; If using &lt;code&gt;SCM_GIT_SHOW_MINIMAL_INFO=true&lt;/code&gt;, then the value of &lt;code&gt;SCM_GIT_SHOW_REMOTE_INFO&lt;/code&gt; is ignored.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-untracked-files" class="anchor" aria-hidden="true" href="#untracked-files"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Untracked files&lt;/h3&gt;
&lt;p&gt;By default, the &lt;code&gt;git status&lt;/code&gt; command shows information about &lt;em&gt;untracked&lt;/em&gt; files.
This behavior can be controlled through command-line flags or git configuration files.
For big repositories, ignoring &lt;em&gt;untracked&lt;/em&gt; files can make git faster.
Bash-it uses &lt;code&gt;git status&lt;/code&gt; to gather the repo information it shows in the prompt, so in some circumstances, it can be useful to instruct Bash-it to ignore these files.
You can control this behavior with the flag &lt;code&gt;SCM_GIT_IGNORE_UNTRACKED&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;Set &lt;code&gt;SCM_GIT_IGNORE_UNTRACKED&lt;/code&gt; to 'false' (the default value) to get information about &lt;em&gt;untracked&lt;/em&gt; files:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;export SCM_GIT_IGNORE_UNTRACKED=false&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Set &lt;code&gt;SCM_GIT_IGNORE_UNTRACKED&lt;/code&gt; to 'true' to &lt;strong&gt;ignore&lt;/strong&gt; &lt;em&gt;untracked&lt;/em&gt; files:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;export SCM_GIT_IGNORE_UNTRACKED=true&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Also, with this flag to false, Bash-it will not show the repository as dirty when the repo has &lt;em&gt;untracked&lt;/em&gt; files, and will not display the count of &lt;em&gt;untracked&lt;/em&gt; files.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; If you set in git configuration file the option to ignore &lt;em&gt;untracked&lt;/em&gt; files, this flag has no effect, and Bash-it will ignore &lt;em&gt;untracked&lt;/em&gt; files always.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-stash-item-count" class="anchor" aria-hidden="true" href="#stash-item-count"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Stash item count&lt;/h3&gt;
&lt;p&gt;When &lt;code&gt;SCM_GIT_SHOW_DETAILS&lt;/code&gt; is enabled, you can get the count of &lt;em&gt;stashed&lt;/em&gt; items. This feature can be useful when a user has a lot of stash items.
This feature is controlled through the flag &lt;code&gt;SCM_GIT_SHOW_STASH_INFO&lt;/code&gt; as follows:&lt;/p&gt;
&lt;p&gt;Set &lt;code&gt;SCM_GIT_SHOW_STASH_INFO&lt;/code&gt; to 'true' (the default value) to &lt;strong&gt;show&lt;/strong&gt; the count of stashed items:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;export SCM_GIT_SHOW_STASH_INFO=true&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Set &lt;code&gt;SCM_GIT_SHOW_STASH_INFO&lt;/code&gt; to 'false' to &lt;strong&gt;don't show&lt;/strong&gt; it:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;export SCM_GIT_SHOW_STASH_INFO=false&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-aheadbehind-count" class="anchor" aria-hidden="true" href="#aheadbehind-count"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ahead/Behind Count&lt;/h3&gt;
&lt;p&gt;When displaying information regarding whether or not the local branch is ahead or behind its remote counterpart, you can opt to display the number of commits ahead/behind.
This is useful if you only care whether or not you are ahead or behind and do not care how far ahead/behind you are.&lt;/p&gt;
&lt;p&gt;Set &lt;code&gt;SCM_GIT_SHOW_COMMIT_COUNT&lt;/code&gt; to 'true' (the default value) to &lt;strong&gt;show&lt;/strong&gt; the count of commits ahead/behind:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;export SCM_GIT_SHOW_COMMIT_COUNT=true&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Set &lt;code&gt;SCM_GIT_SHOW_COMMIT_COUNT&lt;/code&gt; to 'false' to &lt;strong&gt;don't show&lt;/strong&gt; it:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;export SCM_GIT_SHOW_COMMIT_COUNT=false&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-git-user" class="anchor" aria-hidden="true" href="#git-user"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Git user&lt;/h3&gt;
&lt;p&gt;In some environments, it is useful to know the value of the current git user, which is used to mark all new commits.
For example, any organization that uses the practice of pair programming will typically author each commit with &lt;a href="https://github.com/pivotal/git_scripts"&gt;combined names of the two authors&lt;/a&gt;.
When another pair uses the same pairing station, the authors are changed at the beginning of the session.&lt;/p&gt;
&lt;p&gt;To get up and running with this technique, run &lt;code&gt;gem install pivotal_git_scripts&lt;/code&gt;, and then edit your &lt;code&gt;~/.pairs&lt;/code&gt; file, according to the specification on the &lt;a href="https://github.com/pivotal/git_scripts"&gt;gem's homepage&lt;/a&gt;.
After that, you should be able to run &lt;code&gt;git pair kg as&lt;/code&gt; to set the author to, eg. "Konstantin Gredeskoul and Alex Saxby", assuming they've been added to the &lt;code&gt;~/.pairs&lt;/code&gt; file.
Please see gem's documentation for more information.&lt;/p&gt;
&lt;p&gt;To enable the display of the current pair in the prompt, you must set &lt;code&gt;SCM_GIT_SHOW_CURRENT_USER&lt;/code&gt; to &lt;code&gt;true&lt;/code&gt;.
Once set, the &lt;code&gt;SCM_CURRENT_USER&lt;/code&gt; variable will be automatically populated with the initials of the git author(s).
It will also be included in the default git prompt.
Even if you do not have &lt;code&gt;git pair&lt;/code&gt; installed, as long as your &lt;code&gt;user.name&lt;/code&gt; is set, your initials will be computed from your name and shown in the prompt.&lt;/p&gt;
&lt;p&gt;You can control the prefix and the suffix of this component using the two variables:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;export SCM_THEME_CURRENT_USER_PREFFIX=' ☺︎ '&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;export SCM_THEME_CURRENT_USER_SUFFIX=' ☺︎ '&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; If using &lt;code&gt;SCM_GIT_SHOW_MINIMAL_INFO=true&lt;/code&gt;, then the value of &lt;code&gt;SCM_GIT_SHOW_CURRENT_USER&lt;/code&gt; is ignored.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-git-show-minimal-status-info" class="anchor" aria-hidden="true" href="#git-show-minimal-status-info"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Git show minimal status info&lt;/h3&gt;
&lt;p&gt;To speed up the prompt while still getting minimal git status information displayed such as the value of &lt;code&gt;HEAD&lt;/code&gt; and whether there are any dirty objects, you can set:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;export SCM_GIT_SHOW_MINIMAL_INFO=true
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-ignore-repo-status" class="anchor" aria-hidden="true" href="#ignore-repo-status"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ignore repo status&lt;/h3&gt;
&lt;p&gt;When working in repos with a large codebase, Bash-it can slow down your prompt when checking the repo status.
To avoid it, there is an option you can set via Git config to disable checking repo status in Bash-it.&lt;/p&gt;
&lt;p&gt;To disable checking the status in the current repo:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ git config --add bash-it.hide-status 1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;But if you would like to disable it globally, and stop checking the status for all of your repos:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ git config --global --add bash-it.hide-status 1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Setting this flag globally has the same effect as &lt;code&gt;SCM_CHECK=true&lt;/code&gt;, but only for Git repos.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-pass-function-renamed-to-passgen" class="anchor" aria-hidden="true" href="#pass-function-renamed-to-passgen"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Pass function renamed to passgen&lt;/h3&gt;
&lt;p&gt;The Bash-it &lt;code&gt;pass&lt;/code&gt; function has been renamed to &lt;code&gt;passgen&lt;/code&gt; in order to avoid a naming conflict with the &lt;a href="https://www.passwordstore.org/" rel="nofollow"&gt;pass password manager&lt;/a&gt;.
In order to minimize the impact on users of the legacy Bash-it &lt;code&gt;pass&lt;/code&gt; function, Bash-it will create the alias &lt;code&gt;pass&lt;/code&gt; that calls the new &lt;code&gt;passgen&lt;/code&gt; function if the &lt;code&gt;pass&lt;/code&gt; password manager command is not found on the &lt;code&gt;PATH&lt;/code&gt; (default behavior).&lt;/p&gt;
&lt;p&gt;This behavior can be overridden with the &lt;code&gt;BASH_IT_LEGACY_PASS&lt;/code&gt; flag as follows:&lt;/p&gt;
&lt;p&gt;Set &lt;code&gt;BASH_IT_LEGACY_PASS&lt;/code&gt; to 'true' to force Bash-it to always &lt;strong&gt;create&lt;/strong&gt; the &lt;code&gt;pass&lt;/code&gt; alias to &lt;code&gt;passgen&lt;/code&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;export BASH_IT_LEGACY_PASS=true&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Unset &lt;code&gt;BASH_IT_LEGACY_PASS&lt;/code&gt; to have Bash-it &lt;strong&gt;return to default behavior&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;unset BASH_IT_LEGACY_PASS&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-proxy-support" class="anchor" aria-hidden="true" href="#proxy-support"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Proxy Support&lt;/h3&gt;
&lt;p&gt;If you are working in a corporate environment where you have to go through a proxy server for internet access,
then you know how painful it is to configure the OS proxy variables in the shell,
especially if you are switching between environments, e.g. office (with proxy) and home (without proxy).&lt;/p&gt;
&lt;p&gt;The Bash shell (and many shell tools) use the following variables to define the proxy to use:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;HTTP_PROXY&lt;/code&gt; (and &lt;code&gt;http_proxy&lt;/code&gt;): Defines the proxy server for HTTP requests&lt;/li&gt;
&lt;li&gt;&lt;code&gt;HTTPS_PROXY&lt;/code&gt; (and &lt;code&gt;https_proxy&lt;/code&gt;): Defines the proxy server for HTTPS requests&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ALL_PROXY&lt;/code&gt; (and &lt;code&gt;all_proxy&lt;/code&gt;): Used by some tools for the same purpose as above&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NO_PROXY&lt;/code&gt; (and &lt;code&gt;no_proxy&lt;/code&gt;): Comma-separated list of hostnames that don't have to go through the proxy&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Bash-it's &lt;code&gt;proxy&lt;/code&gt; plugin allows to enable and disable these variables with a simple command.
To start using the &lt;code&gt;proxy&lt;/code&gt; plugin, run the following:&lt;/p&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;bash-it &lt;span class="pl-c1"&gt;enable&lt;/span&gt; plugin proxy&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Bash-it also provides support for enabling/disabling proxy settings for various shell tools.
The following backends are currently supported (in addition to the shell's environment variables): Git, SVN, npm, ssh.
The &lt;code&gt;proxy&lt;/code&gt; plugin changes the configuration files of these tools to enable or disable the proxy settings.&lt;/p&gt;
&lt;p&gt;Bash-it uses the following variables to set the shell's proxy settings when you call &lt;code&gt;enable-proxy&lt;/code&gt;.
These variables are best defined in a custom script in Bash-it's custom script folder (&lt;code&gt;$BASH_IT/custom&lt;/code&gt;), e.g. &lt;code&gt;$BASH_IT/custom/proxy.env.bash&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;BASH_IT_HTTP_PROXY&lt;/code&gt; and &lt;code&gt;BASH_IT_HTTPS_PROXY&lt;/code&gt;: Define the proxy URL to be used, e.g. '&lt;a href="http://localhost:1234" rel="nofollow"&gt;http://localhost:1234&lt;/a&gt;'&lt;/li&gt;
&lt;li&gt;&lt;code&gt;BASH_IT_NO_PROXY&lt;/code&gt;: A comma-separated list of proxy exclusions, e.g. &lt;code&gt;127.0.0.1,localhost&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Once you have defined these variables (and have run &lt;code&gt;reload&lt;/code&gt; to load the changes), you can use the following commands to enable or disable the proxy settings in your current shell:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;enable-proxy&lt;/code&gt;: This sets the shell's proxy environment variables and configures proxy support in your SVN, npm, and SSH configuration files.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;disable-proxy&lt;/code&gt;: This unsets the shell's proxy environment variables and disables proxy support in your SVN, npm, and SSH configuration files.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are many more proxy commands, e.g. for changing the local Git project's proxy settings.
Run &lt;code&gt;glossary proxy&lt;/code&gt; to show the available proxy functions with a short description.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-help-out" class="anchor" aria-hidden="true" href="#help-out"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Help out&lt;/h2&gt;
&lt;p&gt;We think everyone has their own custom scripts accumulated over time.
And so, following in the footsteps of oh-my-zsh, Bash-it is a framework for easily customizing your Bash shell.
Everyone's got a custom toolbox, so let's start making them even better, &lt;strong&gt;as a community!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Send us a pull request and we'll merge it as long as it looks good.
If you change an existing command, please give an explanation why.
That will help a lot when we merge your changes in.&lt;/p&gt;
&lt;p&gt;Please take a look at the &lt;a href="CONTRIBUTING.md"&gt;Contribution Guidelines&lt;/a&gt; before reporting a bug or providing a new feature.&lt;/p&gt;
&lt;p&gt;Thanks, and happing bashing!&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-contributors" class="anchor" aria-hidden="true" href="#contributors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributors&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/Bash-it/bash-it/contributors"&gt;List of contributors&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>Bash-it</author><guid isPermaLink="false">https://github.com/Bash-it/bash-it</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>MatthewPierson/checkm8-nonce-setter #16 in Shell, Today</title><link>https://github.com/MatthewPierson/checkm8-nonce-setter</link><description>&lt;p&gt;&lt;i&gt;A nonce setter for devices compatible with checkm8&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-checkm8-nonce-setter" class="anchor" aria-hidden="true" href="#checkm8-nonce-setter"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;checkm8-nonce-setter&lt;/h1&gt;
&lt;p&gt;A nonce setter for devices compatible with checkm8&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;iOS version doesn't matter. If your device is compatible with checkm8 + Linus Henze's Signature Check Remover then you can set your nonce and downgrade. This script is macOS only.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Instructions -&lt;/p&gt;
&lt;p&gt;&lt;code&gt;"./main.sh"&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Thats it. The script will tell you what to do.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;You need git installed for this to work. There shouldn't be any other dependencies&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;After setting nonce with this, you can futurerestore with the shsh you used during the script.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Keep in mind SEP and Baseband both need to be compatible with the version you are trying to downgrade to. This script doesn't change that, only allows you to set your nonce without being jailbroken.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Basically, this is useless unless some iOS 13 SEP + Baseband is compatible with iOS 12, but someone may find some use for it.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Please don't ask me stupid questions, I'll just ignore you. Please don't use issues to ask stupid questions, just for actual issues thanks.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Support includes :
&lt;br&gt;
&lt;br&gt;
iPhone 5s&lt;/p&gt;
&lt;p&gt;iPhone 7&lt;/p&gt;
&lt;p&gt;iPhone 7 Plus&lt;/p&gt;
&lt;p&gt;iPhone X&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;iPad Air 1&lt;/p&gt;
&lt;p&gt;iPad Mini 2&lt;/p&gt;
&lt;p&gt;iPad 6th Gen (2018)&lt;/p&gt;
&lt;p&gt;iPad Mini 3&lt;/p&gt;
&lt;p&gt;iPad 7th Gen (2019) (Thanks to @RazMashat on twitter for keys =) )&lt;/p&gt;
&lt;br&gt;
&lt;p&gt;iPod Touch 7th Gen (2019)&lt;/p&gt;
&lt;p&gt;SUPPORT COMING FOR:&lt;/p&gt;
&lt;p&gt;iPad Pro (10.5 Inch) (Need firmware keys)&lt;/p&gt;
&lt;p&gt;iPad Pro (12.9 Inch 2nd Gen) (Need firmware keys)&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;I will expand support when more devices are supported by checkm8 + Linus Henze's Signature Check Remover&lt;/p&gt;
&lt;hr&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>MatthewPierson</author><guid isPermaLink="false">https://github.com/MatthewPierson/checkm8-nonce-setter</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>MendelXu/ANN #17 in Shell, Today</title><link>https://github.com/MendelXu/ANN</link><description>&lt;p&gt;&lt;i&gt;semantic segmentation，pytorch，non-local&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-ann" class="anchor" aria-hidden="true" href="#ann"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ANN&lt;/h1&gt;
&lt;p&gt;This repository is for Asymmetric Non-local Neural Networks for Semantic Segmentation (to appear in ICCV 2019),&lt;/p&gt;
&lt;p&gt;by &lt;a href="https://zzhu.vision" rel="nofollow"&gt;Zhen Zhu&lt;/a&gt;, &lt;a href="https://github.com/MendelXu"&gt;Mengde Xu&lt;/a&gt;, &lt;a href="http://songbai.site" rel="nofollow"&gt;Song Bai&lt;/a&gt;, &lt;a href="https://github.com/tengteng95"&gt;Tengteng Huang&lt;/a&gt; and &lt;a href="https://scholar.google.com/citations?hl=en&amp;amp;user=UeltiQ4AAAAJ" rel="nofollow"&gt;Xiang Bai&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The source code is in preparing. We will release as soon as possible.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-citation" class="anchor" aria-hidden="true" href="#citation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;citation&lt;/h3&gt;
&lt;p&gt;If you find our paper useful in your research, please consider citing:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;@inproceedings{annn,
  author    = {Zhen Zhu and
               Mengde Xu and
               Song Bai and
               Tengteng Huang and
               Xiang Bai},
  title     = {Asymmetric Non-local Neural Networks for Semantic Segmentation},
  booktitle={International Conference on Computer Vision},
  year      = {2019},
  url       = {http://arxiv.org/abs/1908.07678},
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-table-of-contents" class="anchor" aria-hidden="true" href="#table-of-contents"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Table of contents&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#introduction"&gt;Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#usage"&gt;Usage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#results"&gt;Results&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#acknowledgement"&gt;Acknowledgement&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-introduction" class="anchor" aria-hidden="true" href="#introduction"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Introduction&lt;/h2&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="resource/images/model.png"&gt;&lt;img src="resource/images/model.png" alt="ANNet" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;div align="center" id="user-content-model"&gt;Fig.1 Model Architecture&lt;/div&gt;
&lt;p&gt;In this work, we present Asymmetric Non-local Neural Network to semantic segmentation for acquiring long range dependency efficiently and effectively. The whole network is shown in &lt;a href="#model"&gt;Fig. 1&lt;/a&gt;. It can fuse features between different level under a sufficient consideration of inter long range dependencies  with AFNB and refine features in the same level involving the inner long range  dependencies with APNB.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Preparation&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Prepare running env:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;python==3.6.8
gcc==5.4.0
cuda==9.2
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Install required package&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight highlight-source-shell"&gt;&lt;pre&gt;pip install -r requirements.txt   
&lt;span class="pl-c1"&gt;cd&lt;/span&gt; ext   
bash make.sh&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Download dataset and pre-process it with scripts in &lt;code&gt;datasets/seg/preprocess&lt;/code&gt;.&lt;br&gt;
Take Cityscapes for example.
&lt;ol&gt;
&lt;li&gt;Download the leftImg8bit.zip and gtFine.zip from cityscapes-dataset.com and extract those.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;cd datasets/seg/preprocess/cityscapes
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start="2"&gt;
&lt;li&gt;Modify the variable &lt;code&gt;ORI_ROOT_DIR&lt;/code&gt; in &lt;code&gt;cityscapes_seg_generator.sh&lt;/code&gt; to where you save the extracted dataset.&lt;/li&gt;
&lt;li&gt;run the preprocessing program.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;bash cityscapes_seg_generator.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Add dataset path where you save the preprocessed dataset to &lt;code&gt;data.conf&lt;/code&gt; or directly modify the data path in scripts.&lt;/li&gt;
&lt;li&gt;Download &lt;a href="https://drive.google.com/open?id=1bUzCKazlh8ElGVYWlABBAb0b0uIqFgtR" rel="nofollow"&gt;model&lt;/a&gt; pretrained on imagenet and save it in &lt;code&gt;./pretrained_models&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Train&lt;/p&gt;
&lt;p&gt;Take Cityscapes for example.&lt;br&gt;
For training only on train set:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# you can change 'tag' to anything you want
bash scripts/seg/cityscapes/run_fs_annn_cityscapes_seg.sh train tag
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For training on both train set and validation set:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;bash scripts/seg/cityscapes/run_fs_annn_cityscapes_seg_test.sh train tag
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Validation&lt;br&gt;
Download trained &lt;a href="https://drive.google.com/open?id=1lw4g41l8tX3XZsdW3WuDGDSxiI77Fw13" rel="nofollow"&gt;model&lt;/a&gt; to &lt;code&gt;checkpoints/seg/cityscapes/fs_annn_cityscapes_segohem_latest.pth&lt;/code&gt; and test on validation set with single scale.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;bash scripts/seg/cityscapes/run_fs_annn_cityscapes_seg.sh val ohem
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The final output should be:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; classes          IoU      nIoU 
--------------------------------
road          : 0.984      nan
sidewalk      : 0.863      nan
building      : 0.930      nan
wall          : 0.521      nan
fence         : 0.629      nan
pole          : 0.667      nan
traffic light : 0.737      nan
traffic sign  : 0.816      nan
vegetation    : 0.927      nan
terrain       : 0.648      nan
sky           : 0.948      nan
person        : 0.838    0.000
rider         : 0.663    0.000
car           : 0.958    0.000
truck         : 0.830    0.000
bus           : 0.894    0.000
train         : 0.858    0.000
motorcycle    : 0.669    0.000
bicycle       : 0.796    0.000
--------------------------------
Score Average : 0.799    0.000
--------------------------------


categories       IoU      nIoU
--------------------------------
flat          : 0.987      nan
construction  : 0.936      nan
object        : 0.735      nan
nature        : 0.929      nan
sky           : 0.948      nan
human         : 0.849    0.000
vehicle       : 0.945    0.000
--------------------------------
Score Average : 0.904    0.000
--------------------------------
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Test on test set&lt;/p&gt;
&lt;p&gt;Download trained &lt;a href="https://drive.google.com/open?id=1yNjItS3IREN8Dqn7qB5EK7xpzoPRM8_e" rel="nofollow"&gt;model&lt;/a&gt; to &lt;code&gt;checkpoints/seg/cityscapes/fs_annn_cityscapes_segohem_latest.pth&lt;/code&gt; and test on test set with multiple scales.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;bash scripts/seg/cityscapes/run_fs_annn_cityscapes_seg_test.sh test ohem
cd results/seg/cityscapes/fs_annn_cityscapes_segohem/test/label
zip ../res.zip *
# submit the result on cityscapes official web page.
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Efficiency Statistics&lt;/p&gt;
&lt;p&gt;For details, please refer to &lt;code&gt;./efficiency_statics/readme.md&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-results" class="anchor" aria-hidden="true" href="#results"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Results&lt;/h2&gt;
&lt;p&gt;Tab.1 Comparisons on the test set of Cityscapes with the state-of-the-art methods.(multi scale testing)&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Method&lt;/th&gt;
&lt;th&gt;Backbone&lt;/th&gt;
&lt;th&gt;mIOU&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;DeepLab-V2&lt;/td&gt;
&lt;td&gt;ResNet-101&lt;/td&gt;
&lt;td&gt;70.4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;RefineNet&lt;/td&gt;
&lt;td&gt;ResNet-101&lt;/td&gt;
&lt;td&gt;73.6&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;GCN&lt;/td&gt;
&lt;td&gt;ResNet-101&lt;/td&gt;
&lt;td&gt;76.9&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DUC&lt;/td&gt;
&lt;td&gt;ResNet-101&lt;/td&gt;
&lt;td&gt;77.6&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SAC&lt;/td&gt;
&lt;td&gt;ResNet-101&lt;/td&gt;
&lt;td&gt;78.1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ResNet-38&lt;/td&gt;
&lt;td&gt;ResNet-101&lt;/td&gt;
&lt;td&gt;78.4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PSPNet&lt;/td&gt;
&lt;td&gt;ResNet-101&lt;/td&gt;
&lt;td&gt;78.4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;BiSeNet&lt;/td&gt;
&lt;td&gt;ResNet-101&lt;/td&gt;
&lt;td&gt;78.9&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;AAF&lt;/td&gt;
&lt;td&gt;ResNet-101&lt;/td&gt;
&lt;td&gt;79.1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DFN&lt;/td&gt;
&lt;td&gt;ResNet-101&lt;/td&gt;
&lt;td&gt;79.3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PSANet&lt;/td&gt;
&lt;td&gt;ResNet-101&lt;/td&gt;
&lt;td&gt;79.3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DenseASPP&lt;/td&gt;
&lt;td&gt;DenseNet-101&lt;/td&gt;
&lt;td&gt;80.1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Ours&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ResNet-101&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;81.3&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Tab.2 Comparisons on the validation set of PASCAL Context with the state-of-the-art methods.(multi scale testing)&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Method&lt;/th&gt;
&lt;th&gt;Backbone&lt;/th&gt;
&lt;th&gt;mIOU&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;FCN-8s&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;37.8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Piecewise&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;43.3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DeepLab-v2&lt;/td&gt;
&lt;td&gt;ResNet-101&lt;/td&gt;
&lt;td&gt;45.7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;RefineNet&lt;/td&gt;
&lt;td&gt;ResNet-152&lt;/td&gt;
&lt;td&gt;47.3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PSPNet&lt;/td&gt;
&lt;td&gt;Resnet-101&lt;/td&gt;
&lt;td&gt;47.8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CCL&lt;/td&gt;
&lt;td&gt;ResNet-101&lt;/td&gt;
&lt;td&gt;51.6&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;EncNet&lt;/td&gt;
&lt;td&gt;ResNet-101&lt;/td&gt;
&lt;td&gt;51.7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Ours&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ResNet-101&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;52.8&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Tab.3 Comparisons on the validation set of ADE20k with the state-of-the-art methods.(multi scale testing)&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Method&lt;/th&gt;
&lt;th&gt;Backbone&lt;/th&gt;
&lt;th&gt;mIOU&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;RefineNet&lt;/td&gt;
&lt;td&gt;ResNet-152&lt;/td&gt;
&lt;td&gt;40.70&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;UperNet&lt;/td&gt;
&lt;td&gt;ResNet-101&lt;/td&gt;
&lt;td&gt;42.65&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DSSPN&lt;/td&gt;
&lt;td&gt;ResNet-101&lt;/td&gt;
&lt;td&gt;43.68&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PSANet&lt;/td&gt;
&lt;td&gt;ResNet-101&lt;/td&gt;
&lt;td&gt;43.77&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;SAC&lt;/td&gt;
&lt;td&gt;ResNet-101&lt;/td&gt;
&lt;td&gt;44.30&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;EncNet&lt;/td&gt;
&lt;td&gt;ResNet-101&lt;/td&gt;
&lt;td&gt;44.65&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PSPNet&lt;/td&gt;
&lt;td&gt;ResNet-101&lt;/td&gt;
&lt;td&gt;43.29&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;PSPNet&lt;/td&gt;
&lt;td&gt;ResNet-269&lt;/td&gt;
&lt;td&gt;44.94&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Ours&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;ResNet-101&lt;/td&gt;
&lt;td&gt;&lt;strong&gt;45.24&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;a id="user-content-acknowledgement" class="anchor" aria-hidden="true" href="#acknowledgement"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Acknowledgement&lt;/h2&gt;
&lt;p&gt;We genuinely thank &lt;a href="https://github.com/donnyyou"&gt;Ansheng You&lt;/a&gt; for his kind help and suggestions throughout our work. We also recommend others to implement computer vision algorithm with his framework &lt;a href="https://github.com/donnyyou/torchcv"&gt;torchcv&lt;/a&gt;.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>MendelXu</author><guid isPermaLink="false">https://github.com/MendelXu/ANN</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>openshift/jenkins #18 in Shell, Today</title><link>https://github.com/openshift/jenkins</link><description>&lt;p&gt;&lt;i&gt;[No description found.]&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-jenkins-docker-image" class="anchor" aria-hidden="true" href="#jenkins-docker-image"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Jenkins Docker Image&lt;/h1&gt;
&lt;p&gt;This repository contains Dockerfiles for Jenkins Docker images intended for
use with &lt;a href="https://github.com/openshift/origin"&gt;OpenShift v3 and OpenShift v4&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;For an example of how to use it, &lt;a href="https://github.com/openshift/origin/blob/master/examples/jenkins/README.md"&gt;see this sample.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The images are pushed to DockerHub as openshift/jenkins-2-centos7, openshift/jenkins-slave-base-centos7, openshift/jenkins-agent-maven-35-centos7, and openshift/jenkins-agent-nodejs-8-centos7.&lt;/p&gt;
&lt;p&gt;The slave-maven and slave-nodejs for both centos7 and rhel7  are being deprecated as part of v3.10 of OpenShift.
Additionally, development of these images will cease as of v3.10.  And they are removed from this repository as
part of the v4.0 development cycle.&lt;/p&gt;
&lt;p&gt;Support for the &lt;a href="https://github.com/openshift/jenkins-plugin"&gt;OpenShift Pipeline Plugin&lt;/a&gt; stopped with v3.11 of OpenShift.
The plugin itself and any samples around it are removed as part of v4.0.&lt;/p&gt;
&lt;p&gt;For more information about using these images with OpenShift, please see the
official &lt;a href="https://docs.okd.io/latest/using_images/other_images/jenkins.html" rel="nofollow"&gt;OpenShift Documentation&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-versions" class="anchor" aria-hidden="true" href="#versions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Versions&lt;/h2&gt;
&lt;p&gt;Jenkins versions currently provided are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="../master/2"&gt;jenkins-2.x&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For OpenShift v3, the options for the images` operating system are as follows:&lt;/p&gt;
&lt;p&gt;RHEL versions currently supported are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;RHEL7&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;CentOS versions currently supported are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CentOS7&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For OpenShift v4, the operating system choice is reduced.  All OpenShift v4 images (including the ones from this repository) are based
off of the &lt;a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux_atomic_host/7/html/getting_started_with_containers/using_red_hat_base_container_images_standard_and_minimal#using_rhel_atomic_base_images_minimal" rel="nofollow"&gt;"Universal Based Image" or "UBI"&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-installation-openshift-v3" class="anchor" aria-hidden="true" href="#installation-openshift-v3"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation (OpenShift V3)&lt;/h2&gt;
&lt;p&gt;Choose either the CentOS7 or RHEL7 based image:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;RHEL7 based image&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can access these images from the Red Hat Container Catalog. For OpenShift v3 see:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://access.redhat.com/containers/#/registry.access.redhat.com/openshift3/jenkins-2-rhel7" rel="nofollow"&gt;https://access.redhat.com/containers/#/registry.access.redhat.com/openshift3/jenkins-2-rhel7&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://access.redhat.com/containers/#/registry.access.redhat.com/openshift3/jenkins-slave-base-rhel7" rel="nofollow"&gt;https://access.redhat.com/containers/#/registry.access.redhat.com/openshift3/jenkins-slave-base-rhel7&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://access.redhat.com/containers/#/registry.access.redhat.com/openshift3/jenkins-agent-maven-35-rhel7" rel="nofollow"&gt;https://access.redhat.com/containers/#/registry.access.redhat.com/openshift3/jenkins-agent-maven-35-rhel7&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://access.redhat.com/containers/#/registry.access.redhat.com/openshift3/jenkins-agent-nodejs-8-rhel7" rel="nofollow"&gt;https://access.redhat.com/containers/#/registry.access.redhat.com/openshift3/jenkins-agent-nodejs-8-rhel7&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To build a RHEL7 based image, you need to run Docker build on a properly
subscribed RHEL machine.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;```
$ git clone https://github.com/openshift/jenkins.git
$ cd jenkins
$ make build TARGET=rhel7 VERSION=2
```
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can also run the build using Podman. However, e2e tests does not run&lt;br&gt;
with Podman (which is the default).
&lt;code&gt;$ make build TARGET=rhel7 VERSION=2 BUILD_COMMAND="podman build"&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Also note, as of 3.11, the RHEL images are hosted at registry.redhat.io as well.  This is the terms based
registry and requires credentials for access.  See &lt;a href="https://www.redhat.com/en/blog/transitioning-red-hat-container-registry" rel="nofollow"&gt;Transitioning the Red Hat container registry&lt;/a&gt; for details:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;registry.redhat.io/openshift3/jenkins-2-rhel7:v3.11&lt;/li&gt;
&lt;li&gt;registry.redhat.io/openshift3/jenkins-agent-nodejs-8-rhel7:v3.11&lt;/li&gt;
&lt;li&gt;registry.redhat.io/openshift3/jenkins-agent-maven-35-rhel7:v3.11&lt;/li&gt;
&lt;li&gt;registry.redhat.io/openshift3/jenkins-slave-base-rhel7:v3.11&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The openshift cluster install for 3.11 will ensure that credentials are provided and subsequently available on the nodes
in the cluster to facilitate image pulling.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;CentOS7 based image&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The v3.x images are available on DockerHub. An example download command is:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;```
$ docker pull openshift/jenkins-2-centos7
```
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To build a Jenkins image from scratch run:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;```
$ git clone https://github.com/openshift/jenkins.git
$ cd jenkins
$ make build VERSION=2
```
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Notice: By omitting the &lt;code&gt;VERSION&lt;/code&gt; parameter, the build/test action will be performed
on all provided versions of Jenkins.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;If you are curious about the precise level of Jenkins for either &lt;code&gt;jenkins-2-centos7&lt;/code&gt; or &lt;code&gt;jenkins-2-rhel7&lt;/code&gt;, then
you can execute:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ docker run -it &amp;lt;image spec&amp;gt; /etc/alternatives/java -jar /usr/lib/jenkins/jenkins.war --version
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ docker run -it docker.io/openshift/jenkins-2-centos7:latest /etc/alternatives/java -jar /usr/lib/jenkins/jenkins.war --version
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-installation-openshift-v4" class="anchor" aria-hidden="true" href="#installation-openshift-v4"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation (OpenShift V4)&lt;/h2&gt;
&lt;p&gt;Starting with v4.0, the images are only available on quay.io for public community support. Their pull specs are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;quay.io/openshift/origin-jenkins:&lt;/li&gt;
&lt;li&gt;quay.io/openshift/origin-jenkins-agent-nodejs:&lt;/li&gt;
&lt;li&gt;quay.io/openshift/origin-jenkins-agent-maven:&lt;/li&gt;
&lt;li&gt;quay.io/openshift/origin-jenkins-agent-base:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Visit quay.io to discover the set of tags for each image.  For example, for the core jenkins image, the tags are &lt;a href="https://quay.io/repository/openshift/origin-jenkins?tab=tags" rel="nofollow"&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The images are also still available at the Red Hat Container Catalog for customers with subscriptions,
though with some changes in the naming.&lt;/p&gt;
&lt;p&gt;As with the initial introduction in 3.11, given the &lt;a href="https://www.redhat.com/en/blog/transitioning-red-hat-container-registry" rel="nofollow"&gt;transitioning of the Red Hat container registry&lt;/a&gt;, the RHEL based images are available at both registry.access.redhat.com and registry.redhat.io.
The terms based registry, registry.redhat.io, which requires credentials for access, is the strategic direction, and
will be the only location for RHEL8 based content when that is available.  The pull secret you obtain from try.openshift.com includes
access to registry.redhat.io.  The image pull specs are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;registry.redhat.io/openshift4/ose-jenkins:&lt;/li&gt;
&lt;li&gt;registry.redhat.io/openshift4/ose-jenkins-agent-nodejs:&lt;/li&gt;
&lt;li&gt;registry.redhat.io/openshift4/ose-jenkins-agent-maven:&lt;/li&gt;
&lt;li&gt;registry.redhat.io/openshift4/ose-jenkins-agent-base:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;OpenShift v4 also removes the 32 bit JVM option.  Only 64 bit will be provided for all images.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;Dockerfile.rhel7&lt;/code&gt; variants still exists, but as part of the &lt;code&gt;CentOS&lt;/code&gt; vs. &lt;code&gt;RHEL&lt;/code&gt; distinction no longer existing, the various &lt;code&gt;Dockerfile&lt;/code&gt; files have been renamed to &lt;code&gt;Dockerfile.localdev&lt;/code&gt; to more clearly denote that they are for builds on developers' local machines that most likely do not have a Red Hat subscription / entitlement.  The &lt;code&gt;Dockerfile.localdev&lt;/code&gt; variants are structured to allow building of the images on machines without &lt;code&gt;RHEL&lt;/code&gt; subscriptions, even though the base images are no longer based on &lt;code&gt;CentOS&lt;/code&gt;.  Subscriptions are still required for use of &lt;code&gt;Dockerfile.rhel7&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;With any local builds, if for example you plan on submitting a PR to this repository, you still build the same way as with OpenShift v3 with respect to the &lt;code&gt;make&lt;/code&gt; invocations.&lt;/p&gt;
&lt;p&gt;Be aware, no support in any way is provided for running images created from any of the &lt;code&gt;Dockerfile.localdev&lt;/code&gt; files.  And in fact the images hosted on both quay.io and the Red Hat Container Catalog are based off the &lt;code&gt;Dockerfile.rhel7&lt;/code&gt; files.&lt;/p&gt;
&lt;p&gt;And lastly, as part of 4.x cluster installs, the OpenShift Jenkins image version corresponding to the cluster version is part of the image payload for the install.  So the &lt;code&gt;jenkins&lt;/code&gt; ImageStream in the &lt;code&gt;openshift&lt;/code&gt; namespace will have image references that point to the image registry associated with your install instead of these public registries noted above.  There is also an ImageStream for each of the agent images in the &lt;code&gt;openshift&lt;/code&gt; namespace in 4.x installs.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-startup-notes-for-the-jenkins-core-image" class="anchor" aria-hidden="true" href="#startup-notes-for-the-jenkins-core-image"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Startup notes for the Jenkins core image&lt;/h2&gt;
&lt;p&gt;When you run you startup the main Jenkins image in an OpenShift pod for the first time, it performs various set up actions, including:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Setting the JVM parameters for the actual start of the Jenkins JVM&lt;/li&gt;
&lt;li&gt;Updating the /etc/passwd so that the random, non-root user ID employed works&lt;/li&gt;
&lt;li&gt;Copies all the default configuration from the image to the appropriate locations under the Jenkins home directory (which maps to the image's volume mount)&lt;/li&gt;
&lt;li&gt;Copies all the plugins to the appropriate locations under the Jenkins home directory&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;By default, all copies to the Jenkins home directory are only done on the initial startup if a Persistent Volume is employed for the Jenkins deployment.  There are ways to override that behavior by environment variables (see the next section below).  But you can also recycle the PVCs during restarts of your Jenkins deployment if you update the image being used and want to reset the system that way.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-environment-variables" class="anchor" aria-hidden="true" href="#environment-variables"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Environment variables&lt;/h2&gt;
&lt;p&gt;The image recognizes the following environment variables that you can set during
initialization by passing &lt;code&gt;-e VAR=VALUE&lt;/code&gt; to the Docker run command.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="left"&gt;Variable name&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;JENKINS_PASSWORD&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Password for the 'admin' account when using default Jenkins authentication.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;OPENSHIFT_ENABLE_OAUTH&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Determines whether the OpenShift Login plugin manages authentication when logging into Jenkins.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;OPENSHIFT_PERMISSIONS_POLL_INTERVAL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Specifies in milliseconds how often the OpenShift Login plugin polls OpenShift for the permissions associated with each user defined in Jenkins.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;INSTALL_PLUGINS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Comma-separated list of additional plugins to install on startup. The format of each plugin spec is &lt;code&gt;plugin-id:version&lt;/code&gt; (as in plugins.txt)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;OVERRIDE_PV_CONFIG_WITH_IMAGE_CONFIG&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;When running this image with an OpenShift persistent volume for the Jenkins config directory, the transfer of configuration from the image to the persistent volume is only done the first startup of the image as the persistent volume is assigned by the persistent volume claim creation. If you create a custom image that extends this image and updates configuration in the custom image after the initial startup, by default it will not be copied over, unless you set this environment variable to some non-empty value other than 'false'.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;OVERRIDE_PV_PLUGINS_WITH_IMAGE_PLUGINS&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;When running this image with an OpenShift persistent volume for the Jenkins config directory, the transfer of plugins from the image to the persistent volume is only done the first startup of the image as the persistent volume is assigned by the persistent volume claim creation. If you create a custom image that extends this image and updates plugins in the custom image after the initial startup, by default they will not be copied over, unless you set this environment variable to some non-empty value other than 'false'.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;OVERRIDE_RELEASE_MIGRATION_OVERWRITE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;When running this image with an OpenShift persistent volume for the Jenkins config directory, and this image is starting in an existing deployment created with an earlier version of this image, unless the environment variable is set to some non-empty value other than 'false', the plugins from the image will replace any versions of those plugins currently residing in the Jenkins plugin directory.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;SKIP_NO_PROXY_DEFAULT&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;This environment variable applies to the agent/slave images produced by this repository.  By default, the agent/slave images will create/update the 'no_proxy' environment variable with the hostnames for the Jenkins server endpoint and Jenkins JNLP endpoint, as communication flows to endpoints typically should &lt;em&gt;NOT&lt;/em&gt; go through a HTTP Proxy.  However, if your use case dictates those flows should not be exempt from the proxy, set this environment variable to any non-empty value other than 'false'.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;ENABLE_FATAL_ERROR_LOG_FILE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;When running this image with an OpenShift persistent volume claim for the Jenkins config directory, this environment variable allows the fatal error log file to persist if a fatal error occurs. The fatal error file will be located at &lt;code&gt;/var/lib/jenkins/logs&lt;/code&gt;.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;NODEJS_SLAVE_IMAGE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Setting this value will override the image used for the default NodeJS agent pod configuration.  For 3.x, the default NodeJS agent pod uses &lt;code&gt;docker.io/openshift/jenkins-agent-nodejs-8-centos7&lt;/code&gt; or &lt;code&gt;registry.redhat.io/openshift3/jenkins-agent-nodejs-8-rhel7&lt;/code&gt; depending whether you are running the centos or rhel version of the Jenkins image.  This variable must be set before Jenkins starts the first time for it to have an effect. For 4.x, the image is included in the 4.0 payload via an imagestream in the openshift namespace, and the image spec points to the internal image registry.  If you are running this image outside of OpenShift, you must either set this environment variable or manually update the setting to an accessible image spec.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;MAVEN_SLAVE_IMAGE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Setting this value overrides the image used for the default maven agent pod configuration.  For 3.x, the default maven agent pod uses &lt;code&gt;docker.io/openshift/jenkins-agent-maven-35-centos7&lt;/code&gt; or &lt;code&gt;registry.redhat.io/openshift3/jenkins-agent-maven-35-rhel7&lt;/code&gt; depending whether you are running the centos or rhel version of the Jenkins image.  For 4.x, the image is included in the 4.0 payload via an imagestream in the openshift namespace, and the image spec points to the internal image registry.  If you are running this image outside of OpenShift, you must either set this environment variable or manually update the setting to an accessible image spec. This variable must be set before Jenkins starts the first time for it to have an effect.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;JENKINS_UC_INSECURE&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;When your Jenkins Update Center repository is using a self-signed certificate with an unknown Certificate Authority, this variable allows one to bypass the repository's SSL certificate check. The variable applies to download of the plugin which may occur during Jenkins image build, if you build an extension of the jenkins image or if you run the Jenkins image and leverage one of the options to download additional plugins (use of s2i whith plugins.txt or use of &lt;code&gt;INSTALL_PLUGINS&lt;/code&gt; environment variable.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;MAVEN_MIRROR_URL&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Allows you to specify a &lt;a href="https://maven.apache.org/guides/mini/guide-mirror-settings.html" rel="nofollow"&gt;Maven mirror repository&lt;/a&gt; in the form of &lt;code&gt;MAVEN_MIRROR_URL=https://nexus.mycompany.com/repository/maven-public&lt;/code&gt;. The mirror repository is used by maven as an additional location for artifacts downloads. For more details on &lt;a href="https://maven.apache.org/guides/mini/guide-mirror-settings.html" rel="nofollow"&gt;how maven mirrors works&lt;/a&gt;, you can refer to maven documentation.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;You can also set the following mount points by passing the &lt;code&gt;-v /host:/container&lt;/code&gt; flag to Docker.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="left"&gt;Volume mount point&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;/var/lib/jenkins&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Jenkins config directory&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;Notice: When mounting a directory from the host into the container, ensure that the mounted
directory has the appropriate permissions and that the owner and group of the directory
matches the user UID or name which is running inside the container.&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-inclusion-of-the-oc-binary" class="anchor" aria-hidden="true" href="#inclusion-of-the-oc-binary"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Inclusion of the &lt;code&gt;oc&lt;/code&gt; binary&lt;/h2&gt;
&lt;p&gt;To assist in interacting with the OpenShift API server while using this image, the &lt;code&gt;oc&lt;/code&gt; binary, the CLI command for OpenShift, has been
installed in the master and slave images defined in this repository.&lt;/p&gt;
&lt;p&gt;However, it needs to be noted that backward compatibility is not guaranteed between different versions of &lt;code&gt;oc&lt;/code&gt; and the OpenShift
API Server.  As such, it is recommended that you align versions of this image present in the nodes of your cluster with your
OpenShift API server.  In other words, you should use the version specific tag instead of the &lt;code&gt;latest&lt;/code&gt; tag.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="left"&gt;Jenkins image version&lt;/th&gt;
&lt;th&gt;&lt;code&gt;oc&lt;/code&gt; client version&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;jenkins-*-centos7:v3.7&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;3.7 &lt;code&gt;oc&lt;/code&gt; binary&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;jenkins-*-centos7:v3.6&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;3.6 &lt;code&gt;oc&lt;/code&gt; binary&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;jenkins-*-centos7:latest&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;oc&lt;/code&gt; binary from &lt;code&gt;docker.io/openshift/origin:latest&lt;/code&gt; image&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;jenkins-*-rhel7:v3.7&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;3.7 &lt;code&gt;oc&lt;/code&gt; binary&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;jenkins-*-rhel7:v3.6&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;3.6 &lt;code&gt;oc&lt;/code&gt; binary&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;&lt;code&gt;jenkins-*-rhel7:latest&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;3.6 &lt;code&gt;oc&lt;/code&gt; binary **&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;**Notice: the &lt;code&gt;latest&lt;/code&gt; tag for the RHEL7 images will point to 3.6 indefinitely in order to support users on older clusters with older slave
configurations that point to the "latest" tag.  This way, they will have an older &lt;code&gt;oc&lt;/code&gt; client which should be able to communicate with both 3.6
and newer versions of OpenShift API Servers.  As the support policy is less stringent for the CentOS7 image, the &lt;code&gt;latest&lt;/code&gt; tag there will
make the more obvious correlation to the latest built version of OpenShift (which can include pre-GA versions).&lt;/p&gt;
&lt;p&gt;**Notice:  There is an additional consideration with the pod configurations for the Kubernetes Plugin; earlier versions of this image
did not specify the "pull always" policy for the default agents/slaves configured.  As a result, users may have older/different images on
your nodes depending when the images were pulled.  Starting with the 3.7 release, the default changed to "pull always" to avoid this problem
in the future.  But if you started using this image prior to 3.7, verification of your Kubernetes plugin configurations for the image pull
policy used is warranted to guarantee consistency around what image is being used on each of your nodes.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;oc&lt;/code&gt; binary is still included in the v4 images as well.  And the same recommendations around client/server version synchronization still apply.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-jenkins-security-advisories-the-master-image-from-this-repository-and-the-oc-binary" class="anchor" aria-hidden="true" href="#jenkins-security-advisories-the-master-image-from-this-repository-and-the-oc-binary"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Jenkins security advisories, the "master" image from this repository, and the &lt;code&gt;oc&lt;/code&gt; binary&lt;/h2&gt;
&lt;p&gt;Any security advisory related updates to Jenkins core or the plugins we include in the OpenShift Jenkins master image will only occur in the v3.11 and v4.x
branches of this repository.&lt;/p&gt;
&lt;p&gt;We do support running the v3.11 version of the master image against older v3.x (as far back as v3.4) OpenShift clusters if you want to pick up Jenkins security advisory
updates.  Per the prior section, we advise that you import a version of &lt;code&gt;oc&lt;/code&gt; into your Jenkins installation that matches your OpenShift
cluster via the "Global Tool Configuration" option in Jenkins either via the UI, CLI, or groovy init scripts.&lt;/p&gt;
&lt;p&gt;Our OpenShift Client Plugin has some documentation on doing this &lt;a href="https://github.com/openshift/jenkins-client-plugin#setting-up-jenkins-nodes"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Also note for the RHEL image, the v3.11 image examines whether it is running in an OpenShift Pod and what version the cluster is at.  If the cluster is at a version prior to v3.11, the Maven and NodeJS agent example configuration for the kubernetes plugin will point to registry.access.redhat.com for
the image setting.  If the cluster is at v3.11, the image setting will point to the terms based registry at registry.access.io.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-plugins" class="anchor" aria-hidden="true" href="#plugins"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Plugins&lt;/h2&gt;
&lt;h3&gt;&lt;a id="user-content-base-set-of-plugins" class="anchor" aria-hidden="true" href="#base-set-of-plugins"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Base set of plugins&lt;/h3&gt;
&lt;p&gt;An initial set of Jenkins plugins are included in the OpenShift Jenkins images.  The general methodology
is that the CentOS7 image if first updated with any changes to the list of plugins.  After some level
of verification with that image, the RHEL7 image is updated.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-plugin-installation-for-centos7-v3-only" class="anchor" aria-hidden="true" href="#plugin-installation-for-centos7-v3-only"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Plugin installation for CentOS7 V3 Only&lt;/h4&gt;
&lt;p&gt;The top level list of plugins to install is located &lt;a href="2/contrib/openshift/base-plugins.txt"&gt;here&lt;/a&gt;.  The
format of the file is:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;pluginId:pluginVersion
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For v3, the file is processed by the following call in the &lt;a href="2/Dockerfile"&gt;CentOS7 Dockerfile&lt;/a&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/usr/local/bin/install-plugins.sh /opt/openshift/base-plugins.txt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In v4. that call has been moved to &lt;a href="2/contrib/jenkins/install-jenkins-core-plugins.sh"&gt;this script&lt;/a&gt;, which is called from
both &lt;code&gt;Dockerfile.localdev&lt;/code&gt; and &lt;code&gt;Dockerfile.rhel7&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Where both &lt;a href="2/contrib/openshift/base-plugins.txt"&gt;base-plugins.txt&lt;/a&gt; and &lt;a href="2/contrib/jenkins/install-plugins.sh"&gt;install-plugins.sh&lt;/a&gt;
are copied into the image prior to that invocation.&lt;/p&gt;
&lt;p&gt;The running of &lt;code&gt;install-plugins.sh&lt;/code&gt; will download the files listed in &lt;code&gt;base-plugins.txt&lt;/code&gt;, and then open each plugin's manifest
and download any needed dependencies listed, including upgrading any previously installed dependencies as needed.&lt;/p&gt;
&lt;p&gt;To update the version of a plugin or add a new plugin, construct a PR for this repository that updates &lt;code&gt;base-plugins.txt&lt;/code&gt; appropriately.
Administrators for this repository will make sure necessary tests are run and merge the PR when things are ready.&lt;/p&gt;
&lt;p&gt;When PRs for this repository's &lt;code&gt;openshift-3*&lt;/code&gt; branches are merged, they kick off associated builds in the &lt;a href="https://ci.openshift.redhat.com/jenkins/view/All/job/push_jenkins_images/" rel="nofollow"&gt;&lt;code&gt;push_jenkins_images&lt;/code&gt; job on OpenShift's public
Jenkins CI/CD server&lt;/a&gt;.  When those builds complete,
new versions of the CentOS7 based versions of the images produced by this repository are pushed to Docker Hub.  See the top of the README for the precise list.&lt;/p&gt;
&lt;p&gt;For v4.0, the job definitions for this repository in &lt;a href="https://github.com/openshif/release"&gt;https://github.com/openshif/release&lt;/a&gt; result in our Prow based infrastructure to eventually
mirror the image content on quay.io.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-plugin-installation-for-rhel7-v3-and-v4" class="anchor" aria-hidden="true" href="#plugin-installation-for-rhel7-v3-and-v4"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Plugin installation for RHEL7 V3 and V4&lt;/h4&gt;
&lt;p&gt;Only OpenShift developers working for Red Hat can update the list of plugins for the RHEL7 image.  For those developers, visit this
&lt;a href="https://buildvm.openshift.eng.bos.redhat.com:8443/job/devex/job/devex%252Fjenkins-plugins/" rel="nofollow"&gt;internal Jenkins server&lt;/a&gt; and log in (contact our CD team for permissions to this job).  Click the &lt;code&gt;Build with parameters&lt;/code&gt; link, update the &lt;code&gt;PLUGIN_LIST&lt;/code&gt; field, and submit the build.  The format of the data for the &lt;code&gt;PLUGIN_LIST&lt;/code&gt; field is the same as &lt;code&gt;base-plugins.txt&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The complete list of plugins (i.e. including dependencies) needs to be provided though.  The most straight forward approach is to mine the output of the CentOS7 build which passed verification for the complete list.  Just search for &lt;code&gt;Installed plugins:&lt;/code&gt; and leverage copy/paste to compile what is needed.&lt;/p&gt;
&lt;p&gt;Although this document will refrain on detailing the precise details, once the build on the internal Jenkins server is complete,
the processes will be set in motion to build the &lt;code&gt;jenkins-2-plugins&lt;/code&gt; RPM that is installed by the &lt;a href="2/Dockerfile.rhel7"&gt;RHEL7 Dockerfile&lt;/a&gt; when the next version of the RHEL7 based OpenShift Jenkins image is built.  When new versions of OpenShift are released, associated versions of the RHEL7 based versions of the images produced by this repository are pushed to the Docker registry provided to RHEL7 subscribers.&lt;/p&gt;
&lt;p&gt;Some reference links for the OpenShift Jenkins developers and where things cross over with the CD/CL/Atomic/RHEL teams:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://pkgs.devel.redhat.com/cgit/rpms/?q=jenkins" rel="nofollow"&gt;http://pkgs.devel.redhat.com/cgit/rpms/?q=jenkins&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://brewweb.engineering.redhat.com/brew/search?match=glob&amp;amp;type=package&amp;amp;terms=*jenkins" rel="nofollow"&gt;https://brewweb.engineering.redhat.com/brew/search?match=glob&amp;amp;type=package&amp;amp;terms=*jenkins&lt;/a&gt;*&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-adding-plugins-or-updating-existing-plugins" class="anchor" aria-hidden="true" href="#adding-plugins-or-updating-existing-plugins"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Adding plugins or updating existing plugins&lt;/h3&gt;
&lt;p&gt;A combination of the contents of this repository and the capabilities of OpenShift allow for a variety of ways to modify
the list of plugins either for the images directly produced from this repository, or by creating images which build
from the images directly produced from this repository.&lt;/p&gt;
&lt;p&gt;The specifics for each approach are detailed below.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-installing-using-layering" class="anchor" aria-hidden="true" href="#installing-using-layering"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installing using layering&lt;/h4&gt;
&lt;p&gt;In order to install additional Jenkins plugins, the OpenShift Jenkins image provides a way similar to how
the &lt;a href="#plugin-installation-for-centos7-v3-only"&gt;initial set of plugins are added&lt;/a&gt; to this image that will allow one
to add or update by layering on top of this image. The derived image will provide the same functionality
as described in this documentation, in addition it will also include all plugins you list in the &lt;code&gt;plugins.txt&lt;/code&gt; file.&lt;/p&gt;
&lt;p&gt;To create a derived image in this fashion, create the following &lt;code&gt;Dockerfile&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;FROM openshift/jenkins-2-centos7
COPY plugins.txt /opt/openshift/configuration/plugins.txt
RUN /usr/local/bin/install-plugins.sh /opt/openshift/configuration/plugins.txt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The format of &lt;code&gt;plugins.txt&lt;/code&gt; file is:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;pluginId:pluginVersion
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For example, to install the github Jenkins plugin, you specify following to &lt;code&gt;plugins.txt&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;github:1.11.3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;After this, just run &lt;code&gt;docker build -t my_jenkins_image -f Dockerfile&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-installing-using-s2i-build" class="anchor" aria-hidden="true" href="#installing-using-s2i-build"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installing using S2I build&lt;/h4&gt;
&lt;p&gt;The &lt;a href="https://github.com/openshift/source-to-image"&gt;s2i&lt;/a&gt; tool allows you to do additional modifications of this Jenkins image.
For example, you can use S2I to copy custom Jenkins Jobs definitions, additional
plugins or replace the default &lt;code&gt;config.xml&lt;/code&gt; file with your own configuration.&lt;/p&gt;
&lt;p&gt;To do that, you can either use the standalone &lt;code&gt;s2i&lt;/code&gt; tool, that will produce the
customized Docker image or you can use OpenShift Source build strategy.&lt;/p&gt;
&lt;p&gt;In order to include your modifications in Jenkins image, you need to have a Git
repository with following directory structure:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;./plugins&lt;/code&gt; folder that contains binary Jenkins plugins you want to copy into Jenkins&lt;/li&gt;
&lt;li&gt;&lt;code&gt;./plugins.txt&lt;/code&gt; file that list the plugins you want to install (see the section above)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;./configuration/jobs&lt;/code&gt; folder that contains the Jenkins job definitions&lt;/li&gt;
&lt;li&gt;&lt;code&gt;./configuration/config.xml&lt;/code&gt; file that contains your custom Jenkins configuration&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note that the &lt;code&gt;./configuration&lt;/code&gt; folder will be copied into &lt;code&gt;/var/lib/jenkins&lt;/code&gt;
folder, so you can also include additional files (like &lt;code&gt;credentials.xml&lt;/code&gt;, etc.).&lt;/p&gt;
&lt;p&gt;To build your customized Jenkins image, you can then execute following command:&lt;/p&gt;
&lt;div class="highlight highlight-text-shell-session"&gt;&lt;pre&gt;$ &lt;span class="pl-s1"&gt;s2i build https://github.com/your/repository openshift/jenkins-2-centos7 your_image_name&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;NOTE:  if instead of adding a plugin you want to replace an existing plugin via dropping the binary plugin in the &lt;code&gt;./plugins&lt;/code&gt; directory,
make sure the filename ends in &lt;code&gt;.jpi&lt;/code&gt;.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-installing-on-startup" class="anchor" aria-hidden="true" href="#installing-on-startup"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installing on Startup&lt;/h4&gt;
&lt;p&gt;The &lt;code&gt;INSTALL_PLUGINS&lt;/code&gt; environment variable may be used to install a set of plugins on startup. When using a
persistent volume for &lt;code&gt;/var/lib/jenkins&lt;/code&gt;, plugin installation will only happen on the initial run of the image.&lt;/p&gt;
&lt;p&gt;In the following example, the Groovy and Pull Request Builder plugins are installed&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;INSTALL_PLUGINS=groovy:1.30,ghprb:1.35.0
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-plugins-focused-on-integration-with-openshift" class="anchor" aria-hidden="true" href="#plugins-focused-on-integration-with-openshift"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Plugins focused on integration with OpenShift&lt;/h3&gt;
&lt;p&gt;A subset of the plugins included by the images of this repository play a direct part in integrating between Jenkins and OpenShift.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;OpenShift Client Plugin&lt;/strong&gt;
Visit &lt;a href="https://github.com/openshift/jenkins-client-plugin"&gt;the upstream repository&lt;/a&gt; as well as the &lt;a href="https://wiki.jenkins-ci.org/display/JENKINS/OpenShift+Client+Plugin" rel="nofollow"&gt;Jenkins plugin wiki&lt;/a&gt;.  With the lessons learned from OpenShift Pipeline Plugin, as well as adjustments to the rapid evolutions of both Jenkins and OpenShift, this plugin, with its fluent styled syntax and use of the &lt;code&gt;oc&lt;/code&gt; binary (exposing all the capabilities of that command), is the preferred choice for interacting with OpenShift via either Jenkins Pipeline or Freestyle jobs.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;OpenShift Sync Plugin&lt;/strong&gt;
Visit &lt;a href="https://github.com/openshift/jenkins-sync-plugin"&gt;the upstream repository&lt;/a&gt; as well as the &lt;a href="https://wiki.jenkins-ci.org/display/JENKINS/OpenShift+Sync+Plugin" rel="nofollow"&gt;Jenkins plugin wiki&lt;/a&gt;.  This plugin facilitates the integration between the OpenShift Jenkinsfile Build Strategy and Jenkins Pipelines.  It also facilitates auto-configuration of the slave pod templates for the Kubernetes Plugin.  See the &lt;a href="https://docs.openshift.com" rel="nofollow"&gt;OpenShift documentation&lt;/a&gt; for more details.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;OpenShift Login Plugin&lt;/strong&gt;
Visit &lt;a href="https://github.com/openshift/jenkins-openshift-login-plugin"&gt;the upstream repository&lt;/a&gt; as well as the &lt;a href="https://wiki.jenkins-ci.org/display/JENKINS/OpenShift+Login+Plugin" rel="nofollow"&gt;Jenkins plugin wiki&lt;/a&gt;.  This plugin integrates the authentication and authorization of your Jenkins instance with you OpenShift cluster, providing a single sign-on look and feel.  You'll sign into the Jenkins server using the same credentials that you use to sign into the OpenShift Web Console or interact with OpenShift via the &lt;code&gt;oc&lt;/code&gt; CLI.  See the &lt;a href="https://docs.openshift.com" rel="nofollow"&gt;OpenShift documentation&lt;/a&gt; for more details.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For the above OpenShift Jenkins plugins, each of their READMEs have specifics unique to each of them on how to use and if so desired contribute to their development.  That said, there is a good deal of commonality and shared infrastructure
related to developing, creating new versions, and ultimately updating the images of this repository with those new versions.  If you would like to understand the specifics of that process, please visit our &lt;a href="CONTRIBUTING_TO_OPENSHIFT_JENKINS_IMAGE_AND_PLUGINS.md"&gt;contribution guide&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Kubernetes Plugin&lt;/strong&gt;
Though not originated out of the OpenShift organization, this plugin is invaluable in that it allows slaves to be dynamically provisioned on multiple Docker hosts using &lt;a href="https://github.com/kubernetes/kubernetes"&gt;Kubernetes&lt;/a&gt;. To learn how to use this plugin, see the &lt;a href="https://github.com/openshift/origin/tree/master/examples/jenkins/master-slave"&gt;example&lt;/a&gt; available in the OpenShift Origin repository. For more details about this plugin, visit the &lt;a href="https://wiki.jenkins-ci.org/display/JENKINS/Kubernetes+Plugin" rel="nofollow"&gt;plugin&lt;/a&gt; web site.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-configuration-files" class="anchor" aria-hidden="true" href="#configuration-files"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Configuration files&lt;/h2&gt;
&lt;p&gt;The layering and s2i build flows noted above for updating the list of plugins can also be used to update the configuration injected into the Jenkins deployment.  However, don't forget the note about copying of config data and Persistent Volumes in the &lt;a href="#startup-notes-for-the-jenkins-core-image"&gt;startup notes&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;A typical scenario employed by our users has been extending the Jenkins image to add groovy init scripts to customize your Jenkins installation.&lt;/p&gt;
&lt;p&gt;A quick recipe of how to do that via layering would be:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;mkdir -p contrib/openshift/configuration/init.groovy.d&lt;/li&gt;
&lt;li&gt;create a contrib/openshift/configuration/init.groovy.d/foo.groovy file with whatever groovy init steps you desire&lt;/li&gt;
&lt;li&gt;create a Dockerfile with (adjusting the image ref as you see fit)&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;FROM registry.access.redhat.com/openshift3/jenkins-2-rhel7:v3.11
COPY ./contrib/openshift /opt/openshift
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And then update your Jenkins deployment to use the resulting image directly, or update the ImageStreamTag reference you Jenkins deployment is employing, with our new image.  During startup,
the existing run script your new image inherits from this repositories Jenkins image will copy the groovy init script to the appropriate spot under the Jenkins home directory.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage&lt;/h2&gt;
&lt;p&gt;For this, we will assume that you are using an &lt;code&gt;openshift/jenkins-2-centos7&lt;/code&gt; image for v3.x, or
&lt;code&gt;quay.io/openshift/origin-jenkins&lt;/code&gt; for v4.x.&lt;/p&gt;
&lt;p&gt;If you want to set only the mandatory environment variables and store the database
in the &lt;code&gt;/tmp/jenkins&lt;/code&gt; directory on the host filesystem, execute the following command:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ docker run -d -e JENKINS_PASSWORD=&amp;lt;password&amp;gt; -v /tmp/jenkins:/var/lib/jenkins openshift/jenkins-2-centos7
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-jenkins-admin-user" class="anchor" aria-hidden="true" href="#jenkins-admin-user"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Jenkins admin user&lt;/h2&gt;
&lt;p&gt;Authenticating into a Jenkins server running within the OpenShift Jenkins image is controlled by the &lt;a href="https://github.com/openshift/jenkins-openshift-login-plugin"&gt;OpenShift Login plugin&lt;/a&gt;, taking into account:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Whether or not the container is running in an OpenShift Pod&lt;/li&gt;
&lt;li&gt;How the &lt;a href="https://github.com/openshift/jenkins#environment-variables"&gt;environment variables&lt;/a&gt; recognized by the image are set&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See the &lt;a href="https://github.com/openshift/jenkins-openshift-login-plugin"&gt;OpenShift Login plugin documentation&lt;/a&gt; for details on how it manages authentication.&lt;/p&gt;
&lt;p&gt;However, when the default authentication mechanism for Jenkins is used, if you are using the OpenShift Jenkins image, you log in with the user name &lt;code&gt;admin&lt;/code&gt;, supplying the password specified by the &lt;code&gt;JENKINS_PASSWORD&lt;/code&gt; environment variable set on the container. If you do not override &lt;code&gt;JENKINS_PASSWORD&lt;/code&gt;, the default password for &lt;code&gt;admin&lt;/code&gt; is &lt;code&gt;password&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-test" class="anchor" aria-hidden="true" href="#test"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Test&lt;/h2&gt;
&lt;p&gt;This repository also provides a test framework which checks basic functionality
of the Jenkins image.&lt;/p&gt;
&lt;p&gt;With v3, users can choose between testing Jenkins based on a RHEL (where you are running on a platform with subscriptions) or CentOS image.
With v4, there is not CentOS vs. RHEL distinction, but we still use TARGET to control whether subscriptions are required when building the test image,
and we reuse the v3 values (i.e. &lt;code&gt;rhel7&lt;/code&gt;) for that purpose.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;RHEL based image&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;To test a RHEL7 based Jenkins image, you need to run the test on a properly
subscribed RHEL machine.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cd jenkins
$ make test TARGET=rhel7 VERSION=2
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;CentOS based image&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cd jenkins
$ make test VERSION=2
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Notice: By omitting the &lt;code&gt;VERSION&lt;/code&gt; parameter, the build/test action will be performed
on all provided versions of Jenkins. Since we are currently providing only version &lt;code&gt;2&lt;/code&gt;,
you can omit this parameter.&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-pr-testing-for-this-repository" class="anchor" aria-hidden="true" href="#pr-testing-for-this-repository"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;PR testing for this repository&lt;/h2&gt;
&lt;p&gt;As with the plugins focused on OpenShift integration, see &lt;a href="CONTRIBUTING_TO_OPENSHIFT_JENKINS_IMAGE_AND_PLUGINS.md"&gt;the contribution guide&lt;/a&gt;.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>openshift</author><guid isPermaLink="false">https://github.com/openshift/jenkins</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>bioconda/bioconda-recipes #19 in Shell, Today</title><link>https://github.com/bioconda/bioconda-recipes</link><description>&lt;p&gt;&lt;i&gt;Conda recipes for the bioconda channel.&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://raw.githubusercontent.com/bioconda/bioconda-recipes/master/logo/bioconda_monochrome_small.png"&gt;&lt;img src="https://raw.githubusercontent.com/bioconda/bioconda-recipes/master/logo/bioconda_monochrome_small.png" alt="" title="Bioconda" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-the-bioconda-channel" class="anchor" aria-hidden="true" href="#the-bioconda-channel"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The bioconda channel&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://circleci.com/gh/bioconda/bioconda-recipes/tree/master" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/f32600fc4a51a8218c717751cc3cb89f3f197e5e/68747470733a2f2f636972636c6563692e636f6d2f67682f62696f636f6e64612f62696f636f6e64612d726563697065732f747265652f6d61737465722e7376673f7374796c653d736869656c64" alt="CircleCI" data-canonical-src="https://circleci.com/gh/bioconda/bioconda-recipes/tree/master.svg?style=shield" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://gitter.im/bioconda/Lobby?utm_source=badge&amp;amp;utm_medium=badge&amp;amp;utm_campaign=pr-badge" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/f21b6951e2b9978b01fc88d8d09b0d503273998e/68747470733a2f2f6261646765732e6769747465722e696d2f62696f636f6e64612f62696f636f6e64612d726563697065732e737667" alt="Gitter" data-canonical-src="https://badges.gitter.im/bioconda/bioconda-recipes.svg" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://anaconda.org" rel="nofollow"&gt;Conda&lt;/a&gt; is a platform- and language-independent package
manager that sports easy distribution, installation and version management of
software.  The &lt;a href="https://anaconda.org/bioconda" rel="nofollow"&gt;bioconda channel&lt;/a&gt; is a Conda
channel providing bioinformatics related packages for &lt;strong&gt;Linux&lt;/strong&gt; and &lt;strong&gt;Mac OS&lt;/strong&gt;.
This repository hosts the corresponding recipes.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-user-guide" class="anchor" aria-hidden="true" href="#user-guide"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;User guide&lt;/h2&gt;
&lt;p&gt;Please visit &lt;a href="https://bioconda.github.io" rel="nofollow"&gt;https://bioconda.github.io&lt;/a&gt; for details.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-developer-guide" class="anchor" aria-hidden="true" href="#developer-guide"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Developer guide&lt;/h2&gt;
&lt;p&gt;Please visit the new docs at &lt;a href="https://bioconda.github.io/contributor/index.html" rel="nofollow"&gt;https://bioconda.github.io/contributor/index.html&lt;/a&gt; for details.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>bioconda</author><guid isPermaLink="false">https://github.com/bioconda/bioconda-recipes</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>microservices-demo/microservices-demo #20 in Shell, Today</title><link>https://github.com/microservices-demo/microservices-demo</link><description>&lt;p&gt;&lt;i&gt;Deployment scripts &amp; config for Sock Shop&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;p&gt;&lt;a href="https://travis-ci.org/microservices-demo/microservices-demo" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/bedb7c5d7227c7f4f7beaa2541bb19ce53e2a07c/68747470733a2f2f7472617669732d63692e6f72672f6d6963726f73657276696365732d64656d6f2f6d6963726f73657276696365732d64656d6f2e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/microservices-demo/microservices-demo.svg?branch=master" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-sock-shop--a-microservice-demo-application" class="anchor" aria-hidden="true" href="#sock-shop--a-microservice-demo-application"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Sock Shop : A Microservice Demo Application&lt;/h1&gt;
&lt;p&gt;The application is the user-facing part of an online shop that sells socks. It is intended to aid the demonstration and testing of microservice and cloud native technologies.&lt;/p&gt;
&lt;p&gt;It is built using &lt;a href="http://projects.spring.io/spring-boot/" rel="nofollow"&gt;Spring Boot&lt;/a&gt;, &lt;a href="http://gokit.io" rel="nofollow"&gt;Go kit&lt;/a&gt; and &lt;a href="https://nodejs.org/" rel="nofollow"&gt;Node.js&lt;/a&gt; and is packaged in Docker containers.&lt;/p&gt;
&lt;p&gt;You can read more about the &lt;a href="./internal-docs/design.md"&gt;application design&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-deployment-platforms" class="anchor" aria-hidden="true" href="#deployment-platforms"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deployment Platforms&lt;/h2&gt;
&lt;p&gt;The &lt;a href="./deploy/"&gt;deploy folder&lt;/a&gt; contains scripts and instructions to provision the application onto your favourite platform.&lt;/p&gt;
&lt;p&gt;Please let us know if there is a platform that you would like to see supported.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-bugs-feature-requests-and-contributing" class="anchor" aria-hidden="true" href="#bugs-feature-requests-and-contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bugs, Feature Requests and Contributing&lt;/h2&gt;
&lt;p&gt;We'd love to see community contributions. We like to keep it simple and use Github issues to track bugs and feature requests and pull requests to manage contributions. See the &lt;a href=".github/CONTRIBUTING.md"&gt;contribution information&lt;/a&gt; for more information.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-screenshot" class="anchor" aria-hidden="true" href="#screenshot"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Screenshot&lt;/h2&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://github.com/microservices-demo/microservices-demo.github.io/raw/master/assets/sockshop-frontend.png"&gt;&lt;img src="https://github.com/microservices-demo/microservices-demo.github.io/raw/master/assets/sockshop-frontend.png" alt="Sock Shop frontend" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-visualizing-the-application" class="anchor" aria-hidden="true" href="#visualizing-the-application"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Visualizing the application&lt;/h2&gt;
&lt;p&gt;Use &lt;a href="http://weave.works/products/weave-scope/" rel="nofollow"&gt;Weave Scope&lt;/a&gt; or &lt;a href="http://cloud.weave.works/" rel="nofollow"&gt;Weave Cloud&lt;/a&gt; to visualize the application once it's running in the selected &lt;a href="./deploy/"&gt;target platform&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://github.com/microservices-demo/microservices-demo.github.io/raw/master/assets/sockshop-scope.png"&gt;&lt;img src="https://github.com/microservices-demo/microservices-demo.github.io/raw/master/assets/sockshop-scope.png" alt="Sock Shop in Weave Scope" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;/h2&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>microservices-demo</author><guid isPermaLink="false">https://github.com/microservices-demo/microservices-demo</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>big-data-europe/docker-hadoop #21 in Shell, Today</title><link>https://github.com/big-data-europe/docker-hadoop</link><description>&lt;p&gt;&lt;i&gt;Apache Hadoop docker image&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;p&gt;&lt;a href="https://gitter.im/big-data-europe/Lobby" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/20d7543bc8280bf8134b686c46c7b7e2c0a467fd/68747470733a2f2f6261646765732e6769747465722e696d2f67697474657248512f6769747465722e706e67" alt="Gitter chat" data-canonical-src="https://badges.gitter.im/gitterHQ/gitter.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-changes" class="anchor" aria-hidden="true" href="#changes"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Changes&lt;/h1&gt;
&lt;p&gt;Version 2.0.0 introduces uses wait_for_it script for the cluster startup&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-hadoop-docker" class="anchor" aria-hidden="true" href="#hadoop-docker"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Hadoop Docker&lt;/h1&gt;
&lt;h2&gt;&lt;a id="user-content-supported-hadoop-versions" class="anchor" aria-hidden="true" href="#supported-hadoop-versions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Supported Hadoop Versions&lt;/h2&gt;
&lt;p&gt;See repository branches for supported hadoop versions&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-quick-start" class="anchor" aria-hidden="true" href="#quick-start"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;
&lt;p&gt;To deploy an example HDFS cluster, run:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  docker-compose up
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Run example wordcount job:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  make wordcount
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Or deploy in swarm:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker stack deploy -c docker-compose-v3.yml hadoop
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;docker-compose&lt;/code&gt; creates a docker network that can be found by running &lt;code&gt;docker network list&lt;/code&gt;, e.g. &lt;code&gt;dockerhadoop_default&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Run &lt;code&gt;docker network inspect&lt;/code&gt; on the network (e.g. &lt;code&gt;dockerhadoop_default&lt;/code&gt;) to find the IP the hadoop interfaces are published on. Access these interfaces with the following URLs:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Namenode: http://&amp;lt;dockerhadoop_IP_address&amp;gt;:9870/dfshealth.html#tab-overview&lt;/li&gt;
&lt;li&gt;History server: http://&amp;lt;dockerhadoop_IP_address&amp;gt;:8188/applicationhistory&lt;/li&gt;
&lt;li&gt;Datanode: http://&amp;lt;dockerhadoop_IP_address&amp;gt;:9864/&lt;/li&gt;
&lt;li&gt;Nodemanager: http://&amp;lt;dockerhadoop_IP_address&amp;gt;:8042/node&lt;/li&gt;
&lt;li&gt;Resource manager: http://&amp;lt;dockerhadoop_IP_address&amp;gt;:8088/&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-configure-environment-variables" class="anchor" aria-hidden="true" href="#configure-environment-variables"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Configure Environment Variables&lt;/h2&gt;
&lt;p&gt;The configuration parameters can be specified in the hadoop.env file or as environmental variables for specific services (e.g. namenode, datanode etc.):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  CORE_CONF_fs_defaultFS=hdfs://namenode:8020
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;CORE_CONF corresponds to core-site.xml. fs_defaultFS=hdfs://namenode:8020 will be transformed into:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  &amp;lt;property&amp;gt;&amp;lt;name&amp;gt;fs.defaultFS&amp;lt;/name&amp;gt;&amp;lt;value&amp;gt;hdfs://namenode:8020&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To define dash inside a configuration parameter, use triple underscore, such as YARN_CONF_yarn_log___aggregation___enable=true (yarn-site.xml):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  &amp;lt;property&amp;gt;&amp;lt;name&amp;gt;yarn.log-aggregation-enable&amp;lt;/name&amp;gt;&amp;lt;value&amp;gt;true&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The available configurations are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;/etc/hadoop/core-site.xml CORE_CONF&lt;/li&gt;
&lt;li&gt;/etc/hadoop/hdfs-site.xml HDFS_CONF&lt;/li&gt;
&lt;li&gt;/etc/hadoop/yarn-site.xml YARN_CONF&lt;/li&gt;
&lt;li&gt;/etc/hadoop/httpfs-site.xml HTTPFS_CONF&lt;/li&gt;
&lt;li&gt;/etc/hadoop/kms-site.xml KMS_CONF&lt;/li&gt;
&lt;li&gt;/etc/hadoop/mapred-site.xml  MAPRED_CONF&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you need to extend some other configuration file, refer to base/entrypoint.sh bash script.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>big-data-europe</author><guid isPermaLink="false">https://github.com/big-data-europe/docker-hadoop</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>keycloak/keycloak-containers #22 in Shell, Today</title><link>https://github.com/keycloak/keycloak-containers</link><description>&lt;p&gt;&lt;i&gt;Docker image for Keycloak project&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-keycloak" class="anchor" aria-hidden="true" href="#keycloak"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Keycloak&lt;/h1&gt;
&lt;p&gt;Keycloak is an Open Source Identity and Access Management solution for modern Applications and Services.&lt;/p&gt;
&lt;p&gt;This repository contains Docker images related to Keycloak.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://hub.docker.com/r/jboss/keycloak" rel="nofollow"&gt;keycloak&lt;/a&gt; Keycloak server&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://hub.docker.com/r/keycloak/keycloak-gatekeeper" rel="nofollow"&gt;gatekeeper&lt;/a&gt; Keycloak gatekeeper&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://hub.docker.com/r/jboss/keycloak-adapter-wildfly" rel="nofollow"&gt;keycloak-adapter-wildfly&lt;/a&gt; WildFly including Keycloak adapter&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-help-and-documentation" class="anchor" aria-hidden="true" href="#help-and-documentation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Help and Documentation&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="server/README.md"&gt;Keycloak server image documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.keycloak.org/documentation.html" rel="nofollow"&gt;Documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://lists.jboss.org/mailman/listinfo/keycloak-user" rel="nofollow"&gt;User Mailing List&lt;/a&gt; - Mailing list for help and general questions about Keycloak&lt;/li&gt;
&lt;li&gt;&lt;a href="https://issues.jboss.org/projects/KEYCLOAK" rel="nofollow"&gt;JIRA&lt;/a&gt; - Issue tracker for bugs and feature requests&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-reporting-security-vulnerabilities" class="anchor" aria-hidden="true" href="#reporting-security-vulnerabilities"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Reporting Security Vulnerabilities&lt;/h2&gt;
&lt;p&gt;If you've found a security vulnerability, please look at the &lt;a href="http://www.keycloak.org/security.html" rel="nofollow"&gt;instructions on how to properly report it&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-reporting-an-issue" class="anchor" aria-hidden="true" href="#reporting-an-issue"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Reporting an issue&lt;/h2&gt;
&lt;p&gt;If you believe you have discovered a defect in Keycloak please open an issue in our &lt;a href="https://issues.jboss.org/projects/KEYCLOAK" rel="nofollow"&gt;Issue Tracker&lt;/a&gt;.
Please remember to provide a good summary, description as well as steps to reproduce the issue.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-getting-started" class="anchor" aria-hidden="true" href="#getting-started"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Getting started&lt;/h2&gt;
&lt;p&gt;To run Keycloak, run:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;docker run jboss/keycloak
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For more details refer to the &lt;a href="server/README.md"&gt;Keycloak server image documentation&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-contributing" class="anchor" aria-hidden="true" href="#contributing"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Contributing&lt;/h2&gt;
&lt;p&gt;Before contributing to Keycloak please read our &lt;a href="CONTRIBUTING.md"&gt;contributing guidelines&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-other-keycloak-projects" class="anchor" aria-hidden="true" href="#other-keycloak-projects"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Other Keycloak Projects&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/keycloak/keycloak"&gt;Keycloak&lt;/a&gt; - Keycloak Server and Java adapters&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/keycloak/keycloak-documentation"&gt;Keycloak Documentation&lt;/a&gt; - Documentation for Keycloak&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/keycloak/keycloak-quickstarts"&gt;Keycloak QuickStarts&lt;/a&gt; - QuickStarts for getting started with Keycloak&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jboss-dockerfiles/keycloak"&gt;Keycloak Docker&lt;/a&gt; - Docker images for Keycloak&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/keycloak/keycloak-gatekeeper"&gt;Keycloak Gatekeeper&lt;/a&gt; - Proxy service to secure apps and services with Keycloak&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/keycloak/keycloak-nodejs-connect"&gt;Keycloak Node.js Connect&lt;/a&gt; - Node.js adapter for Keycloak&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/keycloak/keycloak-nodejs-admin-client"&gt;Keycloak Node.js Admin Client&lt;/a&gt; - Node.js library for Keycloak Admin REST API&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.apache.org/licenses/LICENSE-2.0" rel="nofollow"&gt;Apache License, Version 2.0&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>keycloak</author><guid isPermaLink="false">https://github.com/keycloak/keycloak-containers</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>dylanaraps/neofetch #23 in Shell, Today</title><link>https://github.com/dylanaraps/neofetch</link><description>&lt;p&gt;&lt;i&gt;🖼️  A command-line system information tool written in bash 3.2+&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h3 align="center"&gt;&lt;a id="" class="anchor" aria-hidden="true" href="#"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/b9b096d774e2e00aa7300cf3110029116041ddce/68747470733a2f2f692e696d6775722e636f6d2f5a51493245597a2e706e67"&gt;&lt;img src="https://camo.githubusercontent.com/b9b096d774e2e00aa7300cf3110029116041ddce/68747470733a2f2f692e696d6775722e636f6d2f5a51493245597a2e706e67" alt="logo" height="100px" data-canonical-src="https://i.imgur.com/ZQI2EYz.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p align="center"&gt;A command-line system information tool written in bash 3.2+&lt;/p&gt;
&lt;p align="center"&gt;
&lt;a href="./LICENSE.md"&gt;&lt;img src="https://camo.githubusercontent.com/890acbdcb87868b382af9a4b1fac507b9659d9bf/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d4d49542d626c75652e737667" data-canonical-src="https://img.shields.io/badge/license-MIT-blue.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://github.com/dylanaraps/neofetch/releases"&gt;&lt;img src="https://camo.githubusercontent.com/f0f83c29e25a1121dabc8432a7cbea3cc9c12023/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f72656c656173652f64796c616e61726170732f6e656f66657463682e737667" data-canonical-src="https://img.shields.io/github/release/dylanaraps/neofetch.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://repology.org/metapackage/neofetch" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/296e5e84f0340275828d32a675be853baf3a264c/68747470733a2f2f7265706f6c6f67792e6f72672f62616467652f74696e792d7265706f732f6e656f66657463682e737667" alt="Packaging status" data-canonical-src="https://repology.org/badge/tiny-repos/neofetch.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/289c5b1c6fe6b77fde4fab691b1f07acd73c996b/68747470733a2f2f692e696d6775722e636f6d2f47466d433541642e706e67"&gt;&lt;img src="https://camo.githubusercontent.com/289c5b1c6fe6b77fde4fab691b1f07acd73c996b/68747470733a2f2f692e696d6775722e636f6d2f47466d433541642e706e67" alt="neofetch" align="right" height="240px" data-canonical-src="https://i.imgur.com/GFmC5Ad.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Neofetch is a command-line system information tool written in &lt;code&gt;bash 3.2+&lt;/code&gt;. Neofetch displays information about your operating system, software and hardware in an aesthetic and visually pleasing way.&lt;/p&gt;
&lt;p&gt;The overall purpose of Neofetch is to be used in screen-shots of your system. Neofetch shows the information other people want to see. There are other tools available for proper system statistic/diagnostics.&lt;/p&gt;
&lt;p&gt;The information by default is displayed alongside your operating system's logo. You can further configure Neofetch to instead use an image, a custom ASCII file, your wallpaper or nothing at all.&lt;/p&gt;
&lt;p&gt;&lt;a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/baa2dbda5355e2659de7338d3a53a7783ca9071d/68747470733a2f2f692e696d6775722e636f6d2f6c55726b51424e2e706e67"&gt;&lt;img src="https://camo.githubusercontent.com/baa2dbda5355e2659de7338d3a53a7783ca9071d/68747470733a2f2f692e696d6775722e636f6d2f6c55726b51424e2e706e67" alt="neofetch" align="right" height="240px" data-canonical-src="https://i.imgur.com/lUrkQBN.png" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;You can further configure Neofetch to display exactly what you want it to. Through the use of command-line flags and the configuration file you can change existing information outputs or add your own custom ones.&lt;/p&gt;
&lt;p&gt;Neofetch supports almost 150 different operating systems. From Linux to Windows, all the way to more obscure operating systems like Minix, AIX and Haiku. If your favourite operating system is unsupported: Open up an issue and support will be added.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-more-dependencies-installation-wiki" class="anchor" aria-hidden="true" href="#more-dependencies-installation-wiki"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;More: [&lt;a href="https://github.com/dylanaraps/neofetch/wiki/Dependencies"&gt;Dependencies&lt;/a&gt;] [&lt;a href="https://github.com/dylanaraps/neofetch/wiki/Installation"&gt;Installation&lt;/a&gt;] [&lt;a href="https://github.com/dylanaraps/neofetch/wiki"&gt;Wiki&lt;/a&gt;]&lt;/h3&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>dylanaraps</author><guid isPermaLink="false">https://github.com/dylanaraps/neofetch</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>StackExchange/blackbox #24 in Shell, Today</title><link>https://github.com/StackExchange/blackbox</link><description>&lt;p&gt;&lt;i&gt;Safely store secrets in Git/Mercurial/Subversion&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;h1&gt;&lt;a id="user-content-blackbox-" class="anchor" aria-hidden="true" href="#blackbox-"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;BlackBox &lt;a href="https://circleci.com/gh/StackExchange/workflows/blackbox" rel="nofollow"&gt;&lt;img src="https://camo.githubusercontent.com/a1f2bcef83e21becb27d41cb4f7961d31e92e106/68747470733a2f2f636972636c6563692e636f6d2f67682f537461636b45786368616e67652f626c61636b626f782e7376673f7374796c653d736869656c64" alt="CircleCI" data-canonical-src="https://circleci.com/gh/StackExchange/blackbox.svg?style=shield" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;Safely store secrets in a VCS repo (i.e. Git, Mercurial, Subversion or Perforce). These commands make it easy for you to Gnu Privacy Guard (GPG) encrypt specific files in a repo so they are "encrypted at rest" in your repository. However, the scripts make it easy to decrypt them when you need to view or edit them, and decrypt them for use in production. Originally written for Puppet, BlackBox now works with any Git or Mercurial repository.&lt;/p&gt;
&lt;p&gt;A slide presentation about an older release &lt;a href="http://www.slideshare.net/TomLimoncelli/the-blackbox-project-sfae" rel="nofollow"&gt;is on SlideShare&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Join our mailing list: &lt;a href="https://groups.google.com/d/forum/blackbox-project" rel="nofollow"&gt;https://groups.google.com/d/forum/blackbox-project&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-table-of-contents" class="anchor" aria-hidden="true" href="#table-of-contents"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Table of Contents&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#blackbox"&gt;BlackBox&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#table-of-contents"&gt;Table of Contents&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#overview"&gt;Overview&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#why-is-this-important"&gt;Why is this important?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#installation-instructions"&gt;Installation Instructions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#commands"&gt;Commands&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#compatibility"&gt;Compatibility&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#how-is-the-encryption-done"&gt;How is the encryption done?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#what-does-this-look-like-to-the-typical-user"&gt;What does this look like to the typical user?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#how-to-use-the-secrets-with-puppet"&gt;How to use the secrets with Puppet?&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#entire-files"&gt;Entire files&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#small-strings"&gt;Small strings&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;File Management
&lt;ul&gt;
&lt;li&gt;&lt;a href="#how-to-enroll-a-new-file-into-the-system"&gt;How to enroll a new file into the system?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#how-to-remove-a-file-from-the-system"&gt;How to remove a file from the system?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;User Management
&lt;ul&gt;
&lt;li&gt;&lt;a href="#how-to-indoctrinate-a-new-user-into-the-system"&gt;How to indoctrinate a new user into the system?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#how-to-remove-a-user-from-the-system"&gt;How to remove a user from the system?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Repo Management
&lt;ul&gt;
&lt;li&gt;&lt;a href="#enabling-blackbox-for-a-repo"&gt;Enabling BlackBox For a Repo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#set-up-automated-users-or-role-accounts"&gt;Set up automated users or “role accounts”&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#replacing-expired-keys"&gt;Replacing expired keys&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#some-common-errors"&gt;Some common errors&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#using-blackbox-on-windows"&gt;Using BlackBox on Windows&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#using-blackbox-without-a-repo"&gt;Using BlackBox without a repo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#some-subversion-gotchas"&gt;Some Subversion gotchas&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#using-blackbox-when-gpg2-is-installed-next-to-gpg"&gt;Using Blackbox when gpg2 is installed next to gpg&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#how-to-submit-bugs-or-ask-questions"&gt;How to submit bugs or ask questions?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#developer-info"&gt;Developer Info&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#alternatives"&gt;Alternatives&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#license"&gt;License&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-overview" class="anchor" aria-hidden="true" href="#overview"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Overview&lt;/h1&gt;
&lt;p&gt;Suppose you have a VCS repository (i.e. a Git or Mercurial repo) and certain files contain secrets such as passwords or SSL private keys. Often people just store such files "and hope that nobody finds them in the repo". That's not safe.&lt;/p&gt;
&lt;p&gt;With BlackBox, those files are stored encrypted using GPG. Access to the VCS repo without also having the right GPG keys makes it worthless to have the files. As long as you keep your GPG keys safe, you don't have to worry about storing your VCS repo on an untrusted server. Heck, even if you trust your server, now you don't have to trust the people that do backups of that server, or the people that handle the backup tapes!&lt;/p&gt;
&lt;p&gt;Rather than one GPG passphrase for all the files, each person with access has their own GPG keys in the system. Any file can be decrypted by anyone with their GPG key. This way, if one person leaves the company, you don't have to communicate a new password to everyone with access. Simply disable the one key that should no longer have access. The process for doing this is as easy as running 2 commands (1 to disable their key, 1 to re-encrypt all files.)&lt;/p&gt;
&lt;p&gt;Automated processes often need access to all the decrypted files. This is easy too. For example, suppose Git is being used for Puppet files. The master needs access to the decrypted version of all the files. Simply set up a GPG key for the Puppet master (or the role account that pushes new files to the Puppet master) and have that user run &lt;code&gt;blackbox_postdeploy&lt;/code&gt; after any files are updated.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-getting-started" class="anchor" aria-hidden="true" href="#getting-started"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Getting started&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If you don't have a GPG key, set it up using instructions such as:
&lt;a href="https://help.github.com/articles/generating-a-new-gpg-key/"&gt;Set up GPG key&lt;/a&gt;. &lt;br&gt;
Now you are ready to go.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;cd&lt;/code&gt; into a Git, Mercurial, Subversion or Perforce repository and run &lt;code&gt;blackbox_initialize&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If a file is to be encrypted, run &lt;code&gt;blackbox_register_new_file&lt;/code&gt; and you are done.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add and remove keys with &lt;code&gt;blackbox_addadmin&lt;/code&gt; and &lt;code&gt;blackbox_removeadmin&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To view and/or edit a file, run &lt;code&gt;blackbox_edit&lt;/code&gt;;
this will decrypt the file and open with whatever is specified by
your $EDITOR environment variable. &lt;br&gt;
When you close the editor the
file will automatically be encrypted again and the temporary plaintext
file will be shredded. &lt;br&gt;
If you need to leave the file decrypted while
you update you can use the&lt;code&gt;blackbox_edit_start&lt;/code&gt; to decrypt the file
and &lt;code&gt;blackbox_edit_end&lt;/code&gt; when you want to "put it back in the box."&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;&lt;a id="user-content-why-is-this-important" class="anchor" aria-hidden="true" href="#why-is-this-important"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Why is this important?&lt;/h1&gt;
&lt;p&gt;OBVIOUSLY we don't want secret things like SSL private keys and passwords to be leaked.&lt;/p&gt;
&lt;p&gt;NOT SO OBVIOUSLY when we store "secrets" in a VCS repo like Git or Mercurial, suddenly we are less able to share our code with other people. Communication between subteams of an organization is hurt. You can't collaborate as well. Either you find yourself emailing individual files around (yuck!), making a special repo with just the files needed by your collaborators (yuck!!), or just deciding that collaboration isn't worth all that effort (yuck!!!).&lt;/p&gt;
&lt;p&gt;The ability to be open and transparent about our code, with the exception of a few specific files, is key to the kind of collaboration that DevOps and modern IT practitioners need to do.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-installation-instructions" class="anchor" aria-hidden="true" href="#installation-instructions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation Instructions&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;The hard way (manual)&lt;/em&gt;: Copy all the files in "bin" to your "bin".&lt;/li&gt;
&lt;li&gt;&lt;em&gt;The hard way (automatic)&lt;/em&gt;: &lt;code&gt;make copy-install&lt;/code&gt; will copy the bin files into /usr/local/bin (uninstall with &lt;code&gt;make usrlocal-uninstall&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;&lt;em&gt;The symlinks way&lt;/em&gt;: &lt;code&gt;make symlinks-install&lt;/code&gt; will make symlinks of the bin files into /usr/local/bin (uninstall with &lt;code&gt;make usrlocal-uninstall&lt;/code&gt;) (useful when doing development)&lt;/li&gt;
&lt;li&gt;&lt;em&gt;The MacPorts Way&lt;/em&gt;: &lt;code&gt;sudo port install vcs_blackbox&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;The Homebrew Way&lt;/em&gt;: &lt;code&gt;brew install blackbox&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;The RPM way&lt;/em&gt;: Check out the repo and make an RPM via &lt;code&gt;make packages-rpm&lt;/code&gt;; now you can distribute the RPM via local methods. (Requires &lt;a href="https://github.com/jordansissel/fpm"&gt;fpm&lt;/a&gt;.)&lt;/li&gt;
&lt;li&gt;&lt;em&gt;The Debian/Ubuntu way&lt;/em&gt;: Check out the repo and make a DEB via &lt;code&gt;make packages-deb&lt;/code&gt;; now you can distribute the DEB via local methods. (Requires &lt;a href="https://github.com/jordansissel/fpm"&gt;fpm&lt;/a&gt;.)&lt;/li&gt;
&lt;li&gt;&lt;em&gt;The Antigen Way&lt;/em&gt;: Add &lt;code&gt;antigen bundle StackExchange/blackbox&lt;/code&gt; to your .zshrc&lt;/li&gt;
&lt;li&gt;&lt;em&gt;The Zgen Way&lt;/em&gt;: Add &lt;code&gt;zgen load StackExchange/blackbox&lt;/code&gt; to your .zshrc where you're loading your other plugins.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;The Nix Way&lt;/em&gt;: &lt;code&gt;nix-env -i blackbox&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-commands" class="anchor" aria-hidden="true" href="#commands"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Commands&lt;/h1&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name:&lt;/th&gt;
&lt;th&gt;Description:&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_edit &amp;lt;file&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Decrypt, run $EDITOR, re-encrypt a file&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_edit_start &amp;lt;file&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Decrypt a file so it can be updated&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_edit_end &amp;lt;file&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Encrypt a file after blackbox_edit_start was used&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_cat &amp;lt;file&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Decrypt and view the contents of a file&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_view &amp;lt;file&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Like blackbox_cat but pipes to &lt;code&gt;less&lt;/code&gt; or $PAGER&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_diff&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Diff decrypted files against their original crypted version&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_initialize&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Enable blackbox for a GIT or HG repo&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_register_new_file &amp;lt;file&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Encrypt a file for the first time&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_deregister_file &amp;lt;file&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Remove a file from blackbox&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_list_files&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;List the files maintained by blackbox&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_list_admins&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;List admins currently authorized for blackbox&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_decrypt_file &amp;lt;file&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Decrypt a file&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_decrypt_all_files&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Decrypt all managed files (INTERACTIVE)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_postdeploy&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Decrypt all managed files (batch)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_addadmin &amp;lt;gpg-key&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Add someone to the list of people that can encrypt/decrypt secrets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_removeadmin &amp;lt;gpg-key&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Remove someone from the list of people that can encrypt/decrypt secrets&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_shred_all_files&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Safely delete any decrypted files&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_update_all_files&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Decrypt then re-encrypt all files. Useful after keys are changed&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;blackbox_whatsnew &amp;lt;file&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;show what has changed in the last commit for a given file&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1&gt;&lt;a id="user-content-compatibility" class="anchor" aria-hidden="true" href="#compatibility"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Compatibility&lt;/h1&gt;
&lt;p&gt;BlackBox automatically determines which VCS you are using and does the right thing. It has a plug-in architecture to make it easy to extend to work with other systems. It has been tested to work with many operating systems.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Version Control systems
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;git&lt;/code&gt; -- The Git&lt;/li&gt;
&lt;li&gt;&lt;code&gt;hg&lt;/code&gt; -- Mercurial&lt;/li&gt;
&lt;li&gt;&lt;code&gt;svn&lt;/code&gt; -- SubVersion (Thanks, Ben Drasin!)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;p4&lt;/code&gt; -- Perforce&lt;/li&gt;
&lt;li&gt;none -- The files can be decrypted outside of a repo if the &lt;code&gt;.blackbox&lt;/code&gt; directory is intact&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Operating system
&lt;ul&gt;
&lt;li&gt;CentOS / RedHat&lt;/li&gt;
&lt;li&gt;MacOS X&lt;/li&gt;
&lt;li&gt;Cygwin (Thanks, Ben Drasin!) &lt;strong&gt;See Note Below&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;MinGW (git bash on windows) &lt;strong&gt;See Note Below&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;NetBSD&lt;/li&gt;
&lt;li&gt;SmartOS&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To add or fix support for a VCS system, look for code at the end of &lt;code&gt;bin/_blackbox_common.sh&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;To add or fix support for a new operating system, look for the case statements in &lt;code&gt;bin/_blackbox_common.sh&lt;/code&gt; and &lt;code&gt;bin/_stack_lib.sh&lt;/code&gt; and maybe &lt;code&gt;tools/confidence_test.sh&lt;/code&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-using-blackbox-on-windows" class="anchor" aria-hidden="true" href="#using-blackbox-on-windows"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using BlackBox on Windows&lt;/h1&gt;
&lt;p&gt;BlackBox can be used with Cygwin or MinGW.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-protect-the-line-endings" class="anchor" aria-hidden="true" href="#protect-the-line-endings"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Protect the line endings&lt;/h3&gt;
&lt;p&gt;BlackBox assumes that &lt;code&gt;blackbox-admins.txt&lt;/code&gt; and &lt;code&gt;blackbox-files.txt&lt;/code&gt; will have
LF line endings. Windows users should be careful to configure Git or other systems
to not convert or "fix" those files.&lt;/p&gt;
&lt;p&gt;If you use Git, add the following lines to your &lt;code&gt;.gitattributes&lt;/code&gt; file:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;**/blackbox-admins.txt text eol=lf
**/blackbox-files.txt text eol=lf
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The latest version of &lt;code&gt;blackbox_initialize&lt;/code&gt; will create a &lt;code&gt;.gitattributes&lt;/code&gt; file in the &lt;code&gt;$BLACKBOXDATA&lt;/code&gt;
directory (usually &lt;code&gt;.blackbox&lt;/code&gt;) for you.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-cygwin" class="anchor" aria-hidden="true" href="#cygwin"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Cygwin&lt;/h3&gt;
&lt;p&gt;Cygwin support requires the following packages:&lt;/p&gt;
&lt;p&gt;Normal operation:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;gnupg&lt;/li&gt;
&lt;li&gt;git or mercurial or subversion or perforce (as appropriate)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Development (if you will be adding code and want to run the confidence test)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;procps&lt;/li&gt;
&lt;li&gt;make&lt;/li&gt;
&lt;li&gt;git (the confidence test currently only tests git)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;&lt;a id="user-content-mingw" class="anchor" aria-hidden="true" href="#mingw"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;MinGW&lt;/h3&gt;
&lt;p&gt;MinGW (comes with Git for Windows) support requires the following:&lt;/p&gt;
&lt;p&gt;Normal operation:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://git-scm.com/" rel="nofollow"&gt;Git for Windows&lt;/a&gt; (not tested with Mercurial)
&lt;ul&gt;
&lt;li&gt;Git Bash MINTTY returns a MinGW console.  So when you install make sure you pick &lt;code&gt;MINTTY&lt;/code&gt; instead of windows console.  You'll be executing blackbox from the Git Bash prompt.&lt;/li&gt;
&lt;li&gt;You need at least version 2.8.1 of Git for Windows.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://sourceforge.net/projects/getgnuwin32/files/" rel="nofollow"&gt;GnuWin32&lt;/a&gt; - needed for various tools not least of which is mktemp which is used by blackbox
&lt;ul&gt;
&lt;li&gt;after downloading the install just provides you with some batch files.  Because of prior issues at sourceforge and to make sure you get the latest version of each package the batch files handle the brunt of the work of getting the correct packages and installing them for you.&lt;/li&gt;
&lt;li&gt;from a &lt;strong&gt;windows command prompt&lt;/strong&gt; run &lt;code&gt;download.bat&lt;/code&gt;  once it has completed run &lt;code&gt;install.bat&lt;/code&gt; then add the path for those tools to your PATH (ex: &lt;code&gt;PATH=%PATH%;c:\GnuWin32\bin&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Development:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;unknown (if you develop Blackbox under MinGW, please let us know if any additional packages are required to run &lt;code&gt;make test&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-how-is-the-encryption-done" class="anchor" aria-hidden="true" href="#how-is-the-encryption-done"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How is the encryption done?&lt;/h1&gt;
&lt;p&gt;GPG has many different ways to encrypt a file. BlackBox uses the mode that lets you specify a list of keys that can decrypt the message.&lt;/p&gt;
&lt;p&gt;If you have 5 people ("admins") that should be able to access the secrets, each creates a GPG key and adds their public key to the keychain. The GPG command used to encrypt the file lists all 5 key names, and therefore any 1 key can decrypt the file.&lt;/p&gt;
&lt;p&gt;To remove someone's access, remove that admin's key name (i.e. email address) from the list of admins and re-encrypt all the files. They can still read the .gpg file (assuming they have access to the repository) but they can't decrypt it any more.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;What if they kept a copy of the old repo before you removed access?&lt;/em&gt; Yes, they can decrypt old versions of the file. This is why when an admin leaves the team, you should change all your passwords, SSL certs, and so on. You should have been doing that before BlackBox, right?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Why don't you use symmetric keys?&lt;/em&gt; In other words, why mess with all this GPG key stuff and instead why don't we just encrypt all the files with a single passphrase. Yes, GPG supports that, but then we are managing a shared password, which is fraught with problems. If someone "leaves the team" we would have to communicate to everyone a new password. Now we just have to remove their key. This scales better.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;How do automated processes decrypt without asking for a password?&lt;/em&gt; GPG requires a passphrase on a private key. However, it permits the creation of subkeys that have no passphrase. For automated processes, create a subkey that is only stored on the machine that needs to decrypt the files. For example, at Stack Exchange, when our Continuous Integration (CI) system pushes a code change to our Puppet masters, they run &lt;code&gt;blackbox_postdeploy&lt;/code&gt; to decrypt all the files. The user that runs this code has a subkey that doesn't require a passphrase. Since we have many masters, each has its own key. And, yes, this means our Puppet Masters have to be very secure. However, they were already secure because, like, dude... if you can break into someone's puppet master you own their network.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;If you use Puppet, why didn't you just use hiera-eyaml?&lt;/em&gt; There are 4 reasons:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;This works with any Git or Mercurial repo, even if you aren't using Puppet.&lt;/li&gt;
&lt;li&gt;hiera-eyaml decrypts "on demand" which means your Puppet Master now uses a lot of CPU to decrypt keys every time it is contacted. It slows down your master, which, in my case, is already slow enough.&lt;/li&gt;
&lt;li&gt;This works with binary files, without having to ASCIIify them and paste them into a YAML file. Have you tried to do this with a cert that is 10K long and changes every few weeks? Ick.&lt;/li&gt;
&lt;li&gt;hiera-eyaml didn't exist when I wrote this.&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;&lt;a id="user-content-what-does-this-look-like-to-the-typical-user" class="anchor" aria-hidden="true" href="#what-does-this-look-like-to-the-typical-user"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What does this look like to the typical user?&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;If you need to, start the GPG Agent: &lt;code&gt;eval $(gpg-agent --daemon)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Decrypt the file so it is editable: &lt;code&gt;blackbox_edit_start FILENAME&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;(You will need to enter your GPG passphrase.)&lt;/li&gt;
&lt;li&gt;Edit FILENAME as you desire: &lt;code&gt;vim FILENAME&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Re-encrypt the file: &lt;code&gt;blackbox_edit_end FILENAME&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Commit the changes. &lt;code&gt;git commit -a&lt;/code&gt; or &lt;code&gt;hg commit&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Wait... it can be even easier than that! Run &lt;code&gt;blackbox_edit FILENAME&lt;/code&gt;, and it'll decrypt the file in a temp file and call &lt;code&gt;$EDITOR&lt;/code&gt; on it, re-encrypting again after the editor is closed.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-how-to-use-the-secrets-with-puppet" class="anchor" aria-hidden="true" href="#how-to-use-the-secrets-with-puppet"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How to use the secrets with Puppet?&lt;/h1&gt;
&lt;h3&gt;&lt;a id="user-content-entire-files" class="anchor" aria-hidden="true" href="#entire-files"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Entire files:&lt;/h3&gt;
&lt;p&gt;Entire files, such as SSL certs and private keys, are treated just like regular files. You decrypt them any time you push a new release to the puppet master.&lt;/p&gt;
&lt;p&gt;Puppet example for an encrypted file: &lt;code&gt;secret_file.key.gpg&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;file { '/etc/my_little_secret.key':
    ensure  =&amp;gt; 'file',
    owner   =&amp;gt; 'root',
    group   =&amp;gt; 'puppet',
    mode    =&amp;gt; '0760',
    source  =&amp;gt; "puppet:///modules/${module_name}/secret_file.key",
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-small-strings" class="anchor" aria-hidden="true" href="#small-strings"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Small strings:&lt;/h3&gt;
&lt;p&gt;Small strings, such as passwords and API keys, are stored in a hiera yaml file, which you encrypt with &lt;code&gt;blackbox_register_new_file&lt;/code&gt;. For example, we use a file called &lt;code&gt;blackbox.yaml&lt;/code&gt;. You can access them using the hiera() function.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Setup:&lt;/em&gt; Configure &lt;code&gt;hiera.yaml&lt;/code&gt; by adding "blackbox" to the search hierarchy:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;:hierarchy:
  - ...
  - blackbox
  - ...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In blackbox.yaml specify:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;---
module::test_password: "my secret password"
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In your Puppet Code, access the password as you would any hiera data:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$the_password = hiera('module::test_password', 'fail')

file {'/tmp/debug-blackbox.txt':
    content =&amp;gt; $the_password,
    owner   =&amp;gt; 'root',
    group   =&amp;gt; 'root',
    mode    =&amp;gt; '0600',
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The variable &lt;code&gt;$the_password&lt;/code&gt; will contain "my secret password" and can be used anywhere strings are used.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-how-to-enroll-a-new-file-into-the-system" class="anchor" aria-hidden="true" href="#how-to-enroll-a-new-file-into-the-system"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How to enroll a new file into the system?&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;If you need to, start the GPG Agent: &lt;code&gt;eval $(gpg-agent --daemon)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Add the file to the system:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;blackbox_register_new_file path/to/file.name.key
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Multiple file names can be specified on the command line:&lt;/p&gt;
&lt;p&gt;Example 1: Register 2 files:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;blackbox_register_new_file file1.txt file2.txt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Example 2: Register all the files in &lt;code&gt;$DIR&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;find $DIR -type f -not -name '*.gpg' -print0 | xargs -0 blackbox_register_new_file
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a id="user-content-how-to-remove-a-file-from-the-system" class="anchor" aria-hidden="true" href="#how-to-remove-a-file-from-the-system"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How to remove a file from the system?&lt;/h1&gt;
&lt;p&gt;This happens quite rarely, but we've got it covered:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;blackbox_deregister_file path/to/file.name.key
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a id="user-content-how-to-indoctrinate-a-new-user-into-the-system" class="anchor" aria-hidden="true" href="#how-to-indoctrinate-a-new-user-into-the-system"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How to indoctrinate a new user into the system?&lt;/h1&gt;
&lt;p&gt;FYI: Your repo may use &lt;code&gt;keyrings/live&lt;/code&gt; instead of &lt;code&gt;.blackbox&lt;/code&gt;. See "Where is the configuration stored?"&lt;/p&gt;
&lt;p&gt;&lt;code&gt;.blackbox/blackbox-admins.txt&lt;/code&gt; is a file that lists which users are able to decrypt files. (More pedantically, it is a list of the GnuPG key names that the file is encrypted for.)&lt;/p&gt;
&lt;p&gt;To join the list of people that can edit the file requires three steps; You create a GPG key and add it to the key ring. Then, someone that already has access adds you to the system. Lastly, you should test your access.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-step-1-you-create-a-gpg-key-pair-on-a-secure-machine-and-add-to-public-keychain" class="anchor" aria-hidden="true" href="#step-1-you-create-a-gpg-key-pair-on-a-secure-machine-and-add-to-public-keychain"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Step 1: YOU create a GPG key pair on a secure machine and add to public keychain.&lt;/h3&gt;
&lt;p&gt;If you don't already have a GPG key, here's how to generate one:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;gpg --gen-key
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;WARNING: New versions of GPG generate keys which are not understood by
old versions of GPG.  If you generate a key with a new version of GPG,
this will cause problems for users of older versions of GPG.
Therefore it is recommended that you either assure that everyone using
Blackbox have the exact same version of GPG, or generate GPG keys
using a version of GPG as old as the oldest version of GPG used by
everyone using Blackbox.&lt;/p&gt;
&lt;p&gt;Pick defaults for encryption settings, 0 expiration. Pick a VERY GOOD passphrase. Store a backup of the private key someplace secure. For example, keep the backup copy on a USB drive that is locked in safe.  Or, at least put it on a secure machine with little or no internet access, full-disk-encryption, etc. Your employer probably has rules about how to store such things.&lt;/p&gt;
&lt;p&gt;FYI: If generating the key is slow, this is usually because the system
isn't generating enough entropy.  Tip: Open another window on that
machine and run this command: &lt;code&gt;ls -R /&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Now that you have a GPG key, add yourself as an admin:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;blackbox_addadmin KEYNAME
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;...where "KEYNAME" is the email address listed in the gpg key you created previously. For example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;blackbox_addadmin tal@example.com
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;When the command completes successfully, instructions on how to commit these changes will be output. Run the command as given to commit the changes. It will look like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git commit -m'NEW ADMIN: tal@example.com' .blackbox/pubring.gpg .blackbox/trustdb.gpg .blackbox/blackbox-admins.txt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then push it to the repo:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git push

or

ht push

(or whatever is appropriate)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;NOTE: Creating a Role Account? If you are adding the pubring.gpg of a role account, you can specify the directory where the pubring.gpg file can be found as a 2nd parameter: &lt;code&gt;blackbox_addadmin puppetmaster@puppet-master-1.example.com /path/to/the/dir&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-step-2-someone-else-adds-you-to-the-system" class="anchor" aria-hidden="true" href="#step-2-someone-else-adds-you-to-the-system"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Step 2: SOMEONE ELSE adds you to the system.&lt;/h3&gt;
&lt;p&gt;Ask someone that already has access to re-encrypt the data files. This gives you access. They simply decrypt and re-encrypt the data without making any changes.&lt;/p&gt;
&lt;p&gt;Pre-check: Verify the new keys look good.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git pull    # Or whatever is required for your system
gpg --homedir=.blackbox --list-keys
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For example, examine the key name (email address) to make sure it conforms to corporate standards.&lt;/p&gt;
&lt;p&gt;Import the keychain into your personal keychain and reencrypt:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;gpg --import .blackbox/pubring.gpg
blackbox_update_all_files
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Push the re-encrypted files:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git commit -a
git push

or

hg commit
hg push
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;&lt;a id="user-content-step-3-you-test" class="anchor" aria-hidden="true" href="#step-3-you-test"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Step 3: YOU test.&lt;/h3&gt;
&lt;p&gt;Make sure you can decrypt a file. (Suggestion: Keep a dummy file in VCS just for new people to practice on.)&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-how-to-remove-a-user-from-the-system" class="anchor" aria-hidden="true" href="#how-to-remove-a-user-from-the-system"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How to remove a user from the system?&lt;/h1&gt;
&lt;p&gt;Simply run &lt;code&gt;blackbox_removeadmin&lt;/code&gt; with their keyname then re-encrypt:&lt;/p&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;blackbox_removeadmin olduser@example.com
blackbox_update_all_files
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;When the command completes, you will be given a reminder to check in the change and push it.&lt;/p&gt;
&lt;p&gt;Note that their keys will still be in the key ring, but they will go unused. If you'd like to clean up the keyring, use the normal GPG commands and check in the file.&lt;/p&gt;
&lt;p&gt;FYI: Your repo may use &lt;code&gt;keyrings/live&lt;/code&gt; instead of &lt;code&gt;.blackbox&lt;/code&gt;. See "Where is the configuration stored?"&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;gpg --homedir=.blackbox --list-keys
gpg --homedir=.blackbox --delete-key olduser@example.com
git commit -m'Cleaned olduser@example.com from keyring'  .blackbox/*
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;FYI: Your repo may use &lt;code&gt;keyrings/live&lt;/code&gt; instead of &lt;code&gt;.blackbox&lt;/code&gt;. See "Where is the configuration stored?"&lt;/p&gt;
&lt;p&gt;The key ring only has public keys. There are no secret keys to delete.&lt;/p&gt;
&lt;p&gt;Remember that this person did have access to all the secrets at one time. They could have made a copy. Therefore, to be completely secure, you should change all passwords, generate new SSL keys, and so on just like when anyone that had privileged access leaves an organization.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-where-is-the-configuration-stored-blackbox-vs-keyringslive" class="anchor" aria-hidden="true" href="#where-is-the-configuration-stored-blackbox-vs-keyringslive"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Where is the configuration stored? .blackbox vs. keyrings/live&lt;/h1&gt;
&lt;p&gt;Blackbox stores its configuration data in the &lt;code&gt;.blackbox&lt;/code&gt; subdirectory.  Older
repos use &lt;code&gt;keyrings/live&lt;/code&gt;.  For backwards compatibility either will work.&lt;/p&gt;
&lt;p&gt;All documentation refers to &lt;code&gt;.blackbox&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;You can convert an old repo by simply renaming the directory:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mv keyrings/live .blackbox
rmdir keyrings
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;There is no technical reason to convert old repos except that it is less
confusing to users.&lt;/p&gt;
&lt;p&gt;This change was made in commit 60e782a0, release v1.20180615.&lt;/p&gt;
&lt;p&gt;The details:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;First Blackbox checks &lt;code&gt;$BLACKBOXDATA&lt;/code&gt;. If this environment variable is set, this is the directory that will be used. If it lists a directory that does not exist, Blackbox will print an error and exit.&lt;/li&gt;
&lt;li&gt;If &lt;code&gt;$BLACKBOXDATA&lt;/code&gt; is not set: (which is the typical use case)
&lt;ul&gt;
&lt;li&gt;Blackbox will first try &lt;code&gt;keyrings/live&lt;/code&gt; and use it if it exists.&lt;/li&gt;
&lt;li&gt;Otherwise the default &lt;code&gt;.blackbox&lt;/code&gt; will be used.  If &lt;code&gt;.blackbox&lt;/code&gt; does not exist, Blackbox will print an error and exit.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-enabling-blackbox-for-a-repo" class="anchor" aria-hidden="true" href="#enabling-blackbox-for-a-repo"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Enabling BlackBox For a Repo&lt;/h1&gt;
&lt;p&gt;Overview:&lt;/p&gt;
&lt;p&gt;To add "blackbox" to a git or mercurial repo, you'll need to do the following:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Run the initialize script. This adds a few files to your repo in a directory called ".blackbox".&lt;/li&gt;
&lt;li&gt;For the first user, create a GPG key and add it to the key ring.&lt;/li&gt;
&lt;li&gt;Encrypt the files you want to be "secret".&lt;/li&gt;
&lt;li&gt;For any automated user (one that must be able to decrypt without a passphrase), create a GPG key and create a subkey with an empty passphrase.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;FYI: Your repo may use &lt;code&gt;keyrings/live&lt;/code&gt; instead of &lt;code&gt;.blackbox&lt;/code&gt;. See "Where is the configuration stored?"&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-run-the-initialize-script" class="anchor" aria-hidden="true" href="#run-the-initialize-script"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Run the initialize script.&lt;/h3&gt;
&lt;p&gt;You'll want to include blackbox's "bin" directory in your PATH:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;export PATH=$PATH:/the/path/to/blackbox/bin
blackbox_initialize
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you're using antigen, adding &lt;code&gt;antigen bundle StackExchange/blackbox&lt;/code&gt; to your .zshrc will download this repository and add it to your $PATH.&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-for-the-first-user-create-a-gpg-key-and-add-it-to-the-key-ring" class="anchor" aria-hidden="true" href="#for-the-first-user-create-a-gpg-key-and-add-it-to-the-key-ring"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;For the first user, create a GPG key and add it to the key ring.&lt;/h3&gt;
&lt;p&gt;Follow the instructions for "&lt;a href="#how-to-indoctrinate-a-new-user-into-the-system"&gt;How to indoctrinate a new user into the system?&lt;/a&gt;". Only do Step 1.&lt;/p&gt;
&lt;p&gt;Once that is done, is a good idea to test the system by making sure a file can be added to the system (see "How to enroll a new file into the system?"), and a different user can decrypt the file.&lt;/p&gt;
&lt;p&gt;Make a new file and register it:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;rm -f foo.txt.gpg foo.txt
echo This is a test. &amp;gt;foo.txt
blackbox_register_new_file foo.txt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Decrypt it:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;blackbox_edit_start foo.txt.gpg
cat foo.txt
echo This is the new file contents. &amp;gt;foo.txt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Re-encrypt it:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;blackbox_edit_end foo.txt.gpg
ls -l foo.txt*
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You should only see &lt;code&gt;foo.txt.gpg&lt;/code&gt; as &lt;code&gt;foo.txt&lt;/code&gt; should be gone.&lt;/p&gt;
&lt;p&gt;The next step is to commit &lt;code&gt;foo.txt.gpg&lt;/code&gt; and make sure another user can check out, view, and change the contents of the file. That is left as an exercise for the reader. If you are feel like taking a risk, don't commit &lt;code&gt;foo.txt.gpg&lt;/code&gt; and delete it instead.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-set-up-automated-users-or-role-accounts" class="anchor" aria-hidden="true" href="#set-up-automated-users-or-role-accounts"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Set up automated users or "role accounts"&lt;/h1&gt;
&lt;p&gt;i.e. This is how a Puppet Master can have access to the unencrypted data.&lt;/p&gt;
&lt;p&gt;FYI: Your repo may use &lt;code&gt;keyrings/live&lt;/code&gt; instead of &lt;code&gt;.blackbox&lt;/code&gt;. See "Where is the configuration stored?"&lt;/p&gt;
&lt;p&gt;An automated user (a "role account") is one that that must be able to decrypt without a passphrase. In general you'll want to do this for the user that pulls the files from the repo to the master. This may be automated with Jenkins CI or other CI system.&lt;/p&gt;
&lt;p&gt;GPG keys have to have a passphrase. However, passphrases are optional on subkeys. Therefore, we will create a key with a passphrase then create a subkey without a passphrase. Since the subkey is very powerful, it should be created on a very secure machine.&lt;/p&gt;
&lt;p&gt;There's another catch. The role account probably can't check files into Git/Mercurial. It probably only has read-only access to the repo. That's a good security policy. This means that the role account can't be used to upload the subkey public bits into the repo.&lt;/p&gt;
&lt;p&gt;Therefore, we will create the key/subkey on a secure machine as yourself. From there we can commit the public portions into the repo. Also from this account we will export the parts that the role account needs, copy them to where the role account can access them, and import them as the role account.&lt;/p&gt;
&lt;p&gt;ProTip: If asked to generate entropy, consider running this on the same machine in another window: &lt;code&gt;sudo dd if=/dev/sda of=/dev/null&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;For the rest of this doc, you'll need to make the following substitutions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ROLEUSER: svc_deployacct or whatever your role account's name is.&lt;/li&gt;
&lt;li&gt;NEWMASTER: the machine this role account exists on.&lt;/li&gt;
&lt;li&gt;SECUREHOST: The machine you use to create the keys.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;NOTE: This should be more automated/scripted. Patches welcome.&lt;/p&gt;
&lt;p&gt;On SECUREHOST, create the puppet master's keys:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ mkdir /tmp/NEWMASTER
$ cd /tmp/NEWMASTER
$ gpg --homedir . --gen-key
Your selection?
   (1) RSA and RSA (default)
What keysize do you want? (2048) DEFAULT
Key is valid for? (0) DEFAULT

# Real name: Puppet CI Deploy Account
# Email address: svc_deployacct@hostname.domain.name
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;NOTE: Rather than a real email address, use the username@FQDN of the host the key will be used on. If you use this role account on many machines, each should have its own key. By using the FQDN of the host, you will be able to know which key is which. In this doc, we'll refer to username@FQDN as $KEYNAME&lt;/p&gt;
&lt;p&gt;Save the passphrase somewhere safe!&lt;/p&gt;
&lt;p&gt;Create a sub-key that has no password:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ gpg --homedir . --edit-key svc_deployacct
gpg&amp;gt; addkey
(enter passphrase)
  Please select what kind of key you want:
   (3) DSA (sign only)
   (4) RSA (sign only)
   (5) Elgamal (encrypt only)
   (6) RSA (encrypt only)
Your selection? 6
What keysize do you want? (2048)
Key is valid for? (0)
Command&amp;gt; key 2
(the new subkey has a "*" next to it)
Command&amp;gt; passwd
(enter the main key's passphrase)
(enter an empty passphrase for the subkey... confirm you want to do this)
Command&amp;gt; save
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now securely export this directory to NEWMASTER:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;gpg --homedir . --export -a svc_sadeploy &amp;gt;/tmp/NEWMASTER/pubkey.txt
tar cvf /tmp/keys.tar .
rsync -avP /tmp/keys.tar NEWMASTER:/tmp/.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;On NEWMASTER, receive the new GnuPG config:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo -u svc_deployacct bash
mkdir -m 0700 -p ~/.gnupg
cd ~/.gnupg &amp;amp;&amp;amp; tar xpvf /tmp/keys.tar
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Back on SECUREHOST, add the new email address to .blackbox/blackbox-admins.txt:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cd /path/to/the/repo
blackbox_addadmin $KEYNAME /tmp/NEWMASTER
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Verify that secring.gpg is a zero-length file. If it isn't, you have somehow added a private key to the keyring. Start over.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cd .blackbox
ls -l secring.gpg
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Commit the recent changes:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cd .blackbox
git commit -m"Adding key for KEYNAME" pubring.gpg trustdb.gpg blackbox-admins.txt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Regenerate all encrypted files with the new key:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;blackbox_update_all_files
git status
git commit -m"updated encryption" -a
git push
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;On NEWMASTER, import the keys and decrypt the files:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo -u svc_sadeploy bash   # Become the role account.
gpg --import /etc/puppet/.blackbox/pubring.gpg
export PATH=$PATH:/path/to/blackbox/bin
blackbox_postdeploy
sudo -u puppet cat /etc/puppet/hieradata/blackbox.yaml # or any encrypted file.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ProTip: If you get "gpg: decryption failed: No secret key" then you forgot to re-encrypt blackbox.yaml with the new key.&lt;/p&gt;
&lt;p&gt;On SECUREHOST, securely delete your files:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cd /tmp/NEWMASTER
# On machines with the "shred" command:
shred -u /tmp/keys.tar
find . -type f -print0 | xargs -0 shred -u
# All else:
rm -rf /tmp/NEWMASTER
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Also shred any other temporary files you may have made.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-replacing-expired-keys" class="anchor" aria-hidden="true" href="#replacing-expired-keys"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Replacing expired keys&lt;/h1&gt;
&lt;p&gt;If someone's key has already expired, blackbox will stop
encrypting.  You see this error:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ blackbox_edit_end modified_file.txt
--&amp;gt; Error: can't re-encrypt because a key has expired.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;FYI: Your repo may use &lt;code&gt;keyrings/live&lt;/code&gt; instead of &lt;code&gt;.blackbox&lt;/code&gt;. See "Where is the configuration stored?"&lt;/p&gt;
&lt;p&gt;You can also detect keys that are about to expire by issuing this command and manually reviewing the "expired:" dates:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;gpg --homedir=.blackbox  --list-keys
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or... list UIDs that will expire within 1 month from today: (Warning: this also lists keys without an expiration date)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;gpg --homedir=.blackbox --list-keys  --with-colons --fixed-list-mode  | grep ^uid | awk -F: '$6 &amp;lt; '$(( $(date +%s) + 2592000))
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here's how to replace the key:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Step 1. Administrator removes expired user:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Warning: This process will erase any unencrypted files that you were in the process of editing. Copy them elsewhere and restore the changes when done.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;blackbox_removeadmin expired_user@example.com
# This next command overwrites any changed unencrypted files. See warning above.
blackbox_update_all_files
git commit -m "Re-encrypt all files"
gpg --homedir=.blackbox --delete-key expired_user@example.com
git commit -m 'Cleaned expired_user@example.com from keyring'  .blackbox/*
git push
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Step 2. Expired user adds an updated key:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;git pull
blackbox_addadmin updated_user@example.com
git commit -m'NEW ADMIN: updated_user@example.com .blackbox/pubring.gpg .blackbox/trustdb.gpg .blackbox/blackbox-admins.txt
git push
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Step 3. Administrator re-encrypts all files with the updated key of the expired user:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;git pull
gpg --import .blackbox/pubring.gpg
blackbox_update_all_files
git commit -m "Re-encrypt all files"
git push
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Step 4: Clean up:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Any files that were temporarily copied in the first step so as to not be overwritten can now be copied back and re-encrypted with the &lt;code&gt;blackbox_edit_end&lt;/code&gt; command.&lt;/p&gt;
&lt;p&gt;(Thanks to @chishaku for finding a solution to this problem!)&lt;/p&gt;
&lt;h3&gt;&lt;a id="user-content-configure-git-to-show-diffs-in-encrypted-files" class="anchor" aria-hidden="true" href="#configure-git-to-show-diffs-in-encrypted-files"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Configure git to show diffs in encrypted files&lt;/h3&gt;
&lt;p&gt;It's possible to tell Git to decrypt versions of the file before running them through &lt;code&gt;git diff&lt;/code&gt; or &lt;code&gt;git log&lt;/code&gt;. To achieve this do:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Add the following to &lt;code&gt;.gitattributes&lt;/code&gt; at the top of the git repository:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;*.gpg diff=blackbox
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Add the following to &lt;code&gt;.git/config&lt;/code&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;[diff "blackbox"]
    textconv = gpg --use-agent -q --batch --decrypt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And now commands like &lt;code&gt;git log -p file.gpg&lt;/code&gt; will show a nice log of the changes in the encrypted file.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-some-common-errors" class="anchor" aria-hidden="true" href="#some-common-errors"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Some common errors&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;gpg: filename: skipped: No public key&lt;/code&gt; -- Usually this means there is an item in &lt;code&gt;.blackbox/blackbox-admins.txt&lt;/code&gt; that is not the name of the key. Either something invalid was inserted (like a filename instead of a username) or a user has left the organization and their key was removed from the keychain, but their name wasn't removed from the blackbox-admins.txt file.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;gpg: decryption failed: No secret key&lt;/code&gt; -- Usually means you forgot to re-encrypt the file with the new key.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Error: can't re-encrypt because a key has expired.&lt;/code&gt; -- A user's key has expired and can't be used to encrypt any more. Follow the &lt;a href="#replace-expired-keys"&gt;Replace expired keys&lt;/a&gt; tip.&lt;/p&gt;
&lt;p&gt;FYI: Your repo may use &lt;code&gt;keyrings/live&lt;/code&gt; instead of &lt;code&gt;.blackbox&lt;/code&gt;. See "Where is the configuration stored?"&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-using-blackbox-without-a-repo" class="anchor" aria-hidden="true" href="#using-blackbox-without-a-repo"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using Blackbox without a repo&lt;/h1&gt;
&lt;p&gt;If the files are copied out of a repo they can still be decrypted and edited. Obviously edits, changes to keys, and such will be lost if they are made outside the repo. Also note that commands are most likely to only work if run from the base directory (i.e. the parent to the .blackbox directory).&lt;/p&gt;
&lt;p&gt;The following commands have been tested outside a repo:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;blackbox_postdeploy&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;blackbox_edit_start&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;blackbox_edit_end&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;&lt;a id="user-content-some-subversion-gotchas" class="anchor" aria-hidden="true" href="#some-subversion-gotchas"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Some Subversion gotchas&lt;/h1&gt;
&lt;p&gt;The current implementation will store the blackbox in &lt;code&gt;/keyrings&lt;/code&gt; at the root of the entire repo.  This will create an issue between environments that have different roots (i.e. checking out &lt;code&gt;/&lt;/code&gt; on development vs &lt;code&gt;/releases/foo&lt;/code&gt; in production). To get around this, you can &lt;code&gt;export BLACKBOX_REPOBASE=/path/to/repo&lt;/code&gt; and set a specific base for your repo.&lt;/p&gt;
&lt;p&gt;This was originally written for git and supports a two-phase commit, in which &lt;code&gt;commit&lt;/code&gt; is a local commit and "push" sends the change upstream to the version control server when something is registered or deregistered with the system.  The current implementation will immediately &lt;code&gt;commit&lt;/code&gt; a file (to the upstream subversion server) when you execute a &lt;code&gt;blackbox_*&lt;/code&gt; command.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-using-blackbox-when-gpg2-is-installed-next-to-gpg" class="anchor" aria-hidden="true" href="#using-blackbox-when-gpg2-is-installed-next-to-gpg"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using Blackbox when gpg2 is installed next to gpg&lt;/h1&gt;
&lt;p&gt;In some situations, team members or automated roles need to install gpg
2.x alongside the system gpg version 1.x to catch up with the team's gpg
version. On Ubuntu 16, you can &lt;code&gt;apt-get install gnupg2&lt;/code&gt; which
installs the binary gpg2. If you want to use this gpg2 binary, run every
blackbox command with GPG=gpg2.&lt;/p&gt;
&lt;p&gt;For example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;GPG=gpg2 blackbox_postdeploy
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;&lt;a id="user-content-how-to-submit-bugs-or-ask-questions" class="anchor" aria-hidden="true" href="#how-to-submit-bugs-or-ask-questions"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How to submit bugs or ask questions?&lt;/h1&gt;
&lt;p&gt;We welcome questions, bug reports and feedback!&lt;/p&gt;
&lt;p&gt;The best place to start is to join the &lt;a href="https://groups.google.com/d/forum/blackbox-project" rel="nofollow"&gt;blackbox-project mailing list&lt;/a&gt; and ask there.&lt;/p&gt;
&lt;p&gt;Bugs are tracked here in Github. Please feel free to &lt;a href="https://github.com/StackExchange/blackbox/issues"&gt;report bugs&lt;/a&gt; yourself.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-developer-info" class="anchor" aria-hidden="true" href="#developer-info"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Developer Info&lt;/h1&gt;
&lt;p&gt;Code submissions are gladly welcomed! The code is fairly easy to read.&lt;/p&gt;
&lt;p&gt;Get the code:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git clone git@github.com:StackExchange/blackbox.git
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Test your changes:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;make confidence
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This runs through a number of system tests. It creates a repo, encrypts files, decrypts files, and so on. You can run these tests to verify that the changes you made didn't break anything. You can also use these tests to verify that the system works with a new operating system.&lt;/p&gt;
&lt;p&gt;Please submit tests with code changes:&lt;/p&gt;
&lt;p&gt;The best way to change BlackBox is via Test Driven Development. First add a test to &lt;code&gt;tools/confidence.sh&lt;/code&gt;. This test should fail, and demonstrate the need for the change you are about to make. Then fix the bug or add the feature you want. When you are done, &lt;code&gt;make confidence&lt;/code&gt; should pass all tests. The PR you submit should include your code as well as the new test. This way the confidence tests accumulate as the system grows as we know future changes don't break old features.&lt;/p&gt;
&lt;p&gt;Note: The tests currently assume "git" and have been tested only on CentOS, Mac OS X, and Cygwin. Patches welcome!&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-alternatives" class="anchor" aria-hidden="true" href="#alternatives"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Alternatives&lt;/h1&gt;
&lt;p&gt;Here are other open source packages that do something similar to BlackBox. If you like them better than BlackBox, please use them.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.agwa.name/projects/git-crypt/" rel="nofollow"&gt;git-crypt&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.zx2c4.com/projects/password-store/" rel="nofollow"&gt;Pass&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/elasticdog/transcrypt"&gt;Transcrypt&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://keyringer.pw/" rel="nofollow"&gt;Keyringer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sobolevn/git-secret"&gt;git-secret&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;git-crypt has the best git integration. Once set up it is nearly transparent to the users. However it only works with git.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-license" class="anchor" aria-hidden="true" href="#license"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;License&lt;/h1&gt;
&lt;p&gt;This content is released under the MIT License.
See the &lt;a href="LICENSE.txt"&gt;LICENSE.txt&lt;/a&gt; file.&lt;/p&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>StackExchange</author><guid isPermaLink="false">https://github.com/StackExchange/blackbox</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item><item><title>futuresimple/helm-secrets #25 in Shell, Today</title><link>https://github.com/futuresimple/helm-secrets</link><description>&lt;p&gt;&lt;i&gt;A helm plugin that help manage secrets with Git workflow and store them anywhere&lt;/i&gt;&lt;/p&gt;&lt;div id="readme" class="instapaper_body md" data-path="README.md"&gt;&lt;article class="markdown-body entry-content p-5" itemprop="text"&gt;&lt;p&gt;&lt;a href="https://github.com/futuresimple/helm-secrets/blob/master/LICENSE"&gt;&lt;img src="https://camo.githubusercontent.com/fa849ff2abb63050742f2a2219f6705583a59a43/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f66757475726573696d706c652f68656c6d2d736563726574732e737667" alt="License" data-canonical-src="https://img.shields.io/github/license/futuresimple/helm-secrets.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://github.com/futuresimple/helm-secrets/releases/latest"&gt;&lt;img src="https://camo.githubusercontent.com/8b77355abbb65f00a27578fabef87b5bc59b80d9/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f72656c656173652f66757475726573696d706c652f68656c6d2d736563726574732e737667" alt="Current Release" data-canonical-src="https://img.shields.io/github/release/futuresimple/helm-secrets.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://github.com/futuresimple/helm-secrets/releases/latest"&gt;&lt;img src="https://camo.githubusercontent.com/1f1f813fe4ed65f794b0456fd5cebdd51628777b/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f70726f64756374696f6e2d72656164792d677265656e2e737667" alt="Production Ready" data-canonical-src="https://img.shields.io/badge/production-ready-green.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://github.com/futuresimple/helm-secrets/issues"&gt;&lt;img src="https://camo.githubusercontent.com/d4e88cdace9d7e7e1ba96df1f0a1bcdcd1cdd30c/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6973737565732f66757475726573696d706c652f68656c6d2d736563726574732e737667" alt="GitHub issues" data-canonical-src="https://img.shields.io/github/issues/futuresimple/helm-secrets.svg" style="max-width:100%;"&gt;&lt;/a&gt;
&lt;a href="https://github.com/futuresimple/helm-secrets/pulls"&gt;&lt;img src="https://camo.githubusercontent.com/c9b67c80567958314aa4af9f6a940a29cc6e027c/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6973737565732d70722f66757475726573696d706c652f68656c6d2d736563726574732e7376673f7374796c653d666c61742d737175617265" alt="GitHub pull requests" data-canonical-src="https://img.shields.io/github/issues-pr/futuresimple/helm-secrets.svg?style=flat-square" style="max-width:100%;"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-plugin-for-secrets-management-in-helm" class="anchor" aria-hidden="true" href="#plugin-for-secrets-management-in-helm"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Plugin for secrets management in Helm&lt;/h1&gt;
&lt;p&gt;Developed and used in all environments in &lt;a href="https://getbase.com/" rel="nofollow"&gt;BaseCRM&lt;/a&gt;.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-how-we-use-it-" class="anchor" aria-hidden="true" href="#how-we-use-it-"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;how we use it ?&lt;/h1&gt;
&lt;p&gt;We store secrets and values in &lt;code&gt;helm_vars&lt;/code&gt; dir structure just like in this repository example dir. All this data versioned in GIT.
Working in teams on multiple projects/regions/envs and multiple secrets files at once.
We have Makefile in our Helm charts repo to simplify install helm-secrets plugin with helm and other stuff we use. Same Makefile used to rebuild all helm charts with dependencies and some other everyday helpers.
Encrypting, Decrypting, Editing secrets on local clones, making #PR's and storing this in our helm charts repo encrypted with PGP, AWS KMS and GCP KMS.
Deploying using helm-wrapper from local or from CI with same charts and secrets/values from GIT repository.&lt;/p&gt;
&lt;h1&gt;&lt;a id="user-content-main-features" class="anchor" aria-hidden="true" href="#main-features"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Main features&lt;/h1&gt;
&lt;p&gt;A first internal version of the plugin used pure PGP and the whole secret file was encrypted as one.
A current version of the plugin using Golang sops as backend which could be integrated in future into Helm itself, but currently, it is only shell wrapper.&lt;/p&gt;
&lt;p&gt;What kind of problems this plugin solves:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Simple replaceable layer integrated with helm command for encrypting, decrypting, view secrets files stored in any place. Currently using SOPS as backend.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mozilla/sops#important-information-on-types"&gt;Support for YAML/JSON structures encryption - Helm YAML secrets files&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mozilla/sops/blob/master/example.yaml"&gt;Encryption per value where visual Diff should work even on encrypted files&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mozilla/sops#showing-diffs-in-cleartext-in-git"&gt;On the fly decryption for git diff&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;On the fly decryption and cleanup for helm install/upgrade with a helm command wrapper&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mozilla/sops#using-sops-yaml-conf-to-select-kms-pgp-for-new-files"&gt;Multiple key management solutions like PGP, AWS KMS and GCP KMS at same time&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mozilla/sops#adding-and-removing-keys"&gt;Simple adding/removing keys&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://aws.amazon.com/kms/" rel="nofollow"&gt;With AWS KMS permissions management for keys&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mozilla/sops#using-sops-yaml-conf-to-select-kms-pgp-for-new-files"&gt;Secrets files directory tree separation with recursive .sops.yaml files search&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mozilla/sops#extract-a-sub-part-of-a-document-tree"&gt;Extracting sub-elements from encrypted file structure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/mozilla/sops#encrypting-only-parts-of-a-file"&gt;Encrypt only part of a file if needed&lt;/a&gt;. &lt;a href="https://github.com/mozilla/sops/blob/master/example.yaml"&gt;Example encrypted file&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a id="user-content-moving-parts-of-project" class="anchor" aria-hidden="true" href="#moving-parts-of-project"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Moving parts of project&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;helm-wrapper&lt;/code&gt; - It is not a part of Helm project itself. It is a just simple wrapper in the shell that runs helm within but wrapping secret decryption and cleaning on-the-fly, before and after Helm run. It is created from install-binary.sh in helm-secrets plugin install process as hook action making the symlink to wrapper.sh. This should be used as default command to operate with Helm client with helm-secrets installed.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;test.sh&lt;/code&gt; - Test script to check if all parts of the plugin work. Using example dir with vars structure and PGP keys to make real tests on real data with real encryption/decryption.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;install-binary.sh&lt;/code&gt; - Script used as the hook to download and install sops and install git diff configuration for helm-secrets files.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;secrets.sh&lt;/code&gt; - Main helm-secrets plugin code for all helm-secrets plugin actions available in &lt;code&gt;helm secrets help&lt;/code&gt; after plugin install&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-installation-and-dependencies" class="anchor" aria-hidden="true" href="#installation-and-dependencies"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation and Dependencies&lt;/h2&gt;
&lt;h4&gt;&lt;a id="user-content-sops-install" class="anchor" aria-hidden="true" href="#sops-install"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;SOPS install&lt;/h4&gt;
&lt;p&gt;Just install the plugin using &lt;code&gt;helm plugin install https://github.com/futuresimple/helm-secrets&lt;/code&gt; and sops will be installed as part of it, using hook when helm &amp;gt; 2.3.x&lt;/p&gt;
&lt;p&gt;You can always install manually in MacOS as below:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;brew install sops
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For Linux RPM or DEB, sops is available here: &lt;a href="https://github.com/mozilla/sops/releases"&gt;Dist Packages&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-sops-git-diff" class="anchor" aria-hidden="true" href="#sops-git-diff"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;SOPS git diff&lt;/h4&gt;
&lt;p&gt;Git config part is installed with the plugin, but to be fully functional the following needs to be added to the &lt;code&gt;.gitattributes&lt;/code&gt; file in the root directory of a charts repo:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;secrets.yaml diff=sopsdiffer
secrets.*.yaml diff=sopsdiffer
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;More info on &lt;a href="https://github.com/mozilla/sops#showing-diffs-in-cleartext-in-git"&gt;sops page&lt;/a&gt;&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-using-helm-plugin-manager--23x" class="anchor" aria-hidden="true" href="#using-helm-plugin-manager--23x"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using Helm plugin manager (&amp;gt; 2.3.x)&lt;/h4&gt;
&lt;p&gt;As already described above,&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;helm plugin install https://github.com/futuresimple/helm-secrets 
&lt;/code&gt;&lt;/pre&gt;
&lt;h4&gt;&lt;a id="user-content-for-pre-helm-230-installation" class="anchor" aria-hidden="true" href="#for-pre-helm-230-installation"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;For Pre Helm 2.3.0 Installation&lt;/h4&gt;
&lt;p&gt;Get a release tarball from the &lt;a href="https://github.com/futuresimple/helm-secrets/releases"&gt;releases&lt;/a&gt; page.&lt;/p&gt;
&lt;p&gt;Unpack the tarball in your helm plugins directory (&lt;code&gt;$(helm home)/plugins&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;For example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;curl -L $TARBALL_URL | tar -C $(helm home)/plugins -xzv
&lt;/code&gt;&lt;/pre&gt;
&lt;h4&gt;&lt;a id="user-content-helm-wrapper-configuration" class="anchor" aria-hidden="true" href="#helm-wrapper-configuration"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Helm-wrapper configuration&lt;/h4&gt;
&lt;p&gt;By default, helm-wrapper is not configured to encrypt/decrypt secrets.yaml in charts templates. They are treated as templates and values from specific secrets/value files should be used in these templates as a reference from helm itself.
Set you own options as ENV variables if you like to overwrite default kms enabled and decrypt charts disabled.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;DECRYPT_CHARTS=false helm-wrapper...
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-usage-and-examples" class="anchor" aria-hidden="true" href="#usage-and-examples"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage and examples&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;$ helm secrets help
GnuPG secrets encryption in Helm Charts

This plugin provides ability to encrypt/decrypt secrets files
to store in less secure places, before they are installed using
Helm.

To decrypt/encrypt/edit you need to initialize/first encrypt secrets with
sops - https://github.com/mozilla/sops

Available Commands:
  enc           Encrypt secrets file
  dec           Decrypt secrets file
  view          Print secrets decrypted
  edit          Edit secrets file and encrypt afterwards
  clean         Remove all decrypted files in specified directory (recursively)
  install       wrapper that decrypts secrets[.*].yaml files before running helm install
  template	    wrapper that decrypts secrets[.*].yaml files before running helm template
  upgrade       wrapper that decrypts secrets[.*].yaml files before running helm upgrade
  lint          wrapper that decrypts secrets[.*].yaml files before running helm lint
  diff          wrapper that decrypts secrets[.*].yaml files before running helm diff
                  (diff is a helm plugin)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;By convention, files containing secrets are named &lt;code&gt;secrets.yaml&lt;/code&gt;, or anything beginning with "secrets." and ending with ".yaml". E.g. &lt;code&gt;secrets.test.yaml&lt;/code&gt; and &lt;code&gt;secrets.prod.yaml&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Decrypted files have the suffix ".yaml.dec" by default. This can be changed using the &lt;code&gt;HELM_SECRETS_DEC_SUFFIX&lt;/code&gt; environment variable.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-basic-commands" class="anchor" aria-hidden="true" href="#basic-commands"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Basic commands:&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;  enc           Encrypt secrets file
  dec           Decrypt secrets file
  view          Print decrypted secrets file
  edit          Edit secrets file (decrypt before and encrypt after)
  clean         Delete *.yaml-dec files in directory (recursively)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Each of these commands have their own help.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-use-case-and-workflow" class="anchor" aria-hidden="true" href="#use-case-and-workflow"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Use case and workflow&lt;/h2&gt;
&lt;h4&gt;&lt;a id="user-content-usage-examples" class="anchor" aria-hidden="true" href="#usage-examples"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Usage examples&lt;/h4&gt;
&lt;p&gt;Note: You need to run &lt;code&gt;gpg --import example/pgp/project{x,y}.asc&lt;/code&gt; in order to successfully decrypt secrets included in the examples&lt;/p&gt;
&lt;h5&gt;&lt;a id="user-content-decrypt" class="anchor" aria-hidden="true" href="#decrypt"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Decrypt&lt;/h5&gt;
&lt;p&gt;The decrypt operation decrypts a secrets.yaml file and saves the decrypted result in secrets.yaml.dec:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ helm secrets dec example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
Decrypting example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The secrets.yaml.dec file:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;secret_sandbox_projectx: secret_foo_123
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that if the secrets.yaml.dec file already exists and is newer than secrets.yaml, it will not be overwritten:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ helm secrets dec example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
Decrypting example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml.dec is newer than example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
&lt;/code&gt;&lt;/pre&gt;
&lt;h5&gt;&lt;a id="user-content-encrypt" class="anchor" aria-hidden="true" href="#encrypt"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Encrypt&lt;/h5&gt;
&lt;p&gt;The encrypt operation encrypts a secrets.yaml.dec file and saves the encrypted result in secrets.yaml:&lt;/p&gt;
&lt;p&gt;If you initially have an unencrypted secrets.yaml file, it will be used as input and will be overwritten:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ helm secrets enc example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
Encrypting example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
Encrypted example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you already have an encrypted secrets.yaml file and a decrypted secrets.yaml.dec file, encrypting will encrypt secrets.yaml.dec to secrets.yaml:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ helm secrets dec example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
Decrypting example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
$ helm secrets enc example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
Encrypting example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
Encrypted example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml.dec to example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
&lt;/code&gt;&lt;/pre&gt;
&lt;h5&gt;&lt;a id="user-content-view" class="anchor" aria-hidden="true" href="#view"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;View&lt;/h5&gt;
&lt;p&gt;The view operation decrypts secrets.yaml and prints it to stdout:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ helm secrets view example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
secret_sandbox_projectx: secret_foo_123
&lt;/code&gt;&lt;/pre&gt;
&lt;h5&gt;&lt;a id="user-content-edit" class="anchor" aria-hidden="true" href="#edit"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Edit&lt;/h5&gt;
&lt;p&gt;The edit operation will decrypt the secrets.yaml file and open it in an editor. If the file is modified, it will be encrypted again after you exit the editor.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ helm secrets edit example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;There is new feature in SOPS master that allows using $EDITOR to spcify editor used by sops but not released yet.&lt;/p&gt;
&lt;h5&gt;&lt;a id="user-content-clean" class="anchor" aria-hidden="true" href="#clean"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Clean&lt;/h5&gt;
&lt;p&gt;The operation will delete all decrypted files in a directory, recursively:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ helm secrets clean example/helm_vars/projectX/sandbox/us-east-1/java-app/
removed example/helm_vars/projectX/sandbox/us-east-1/java-app/secrets.yaml.dec
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you use git there is commit hook that prevents commiting decrypted files and you can add all *.yaml.dec files in you repository &lt;code&gt;.gitignore&lt;/code&gt; file.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-summary" class="anchor" aria-hidden="true" href="#summary"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Summary&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Values/Secrets data are not a part of the chart. You need to manage your values, public charts contains mostly defaults without secrets - data vs code&lt;/li&gt;
&lt;li&gt;To use the helm-secrets plugin you should build your &lt;code&gt;.sops.yaml&lt;/code&gt; rules to make everything automatic&lt;/li&gt;
&lt;li&gt;Use helm secrets &amp;lt;enc|dec|view|edit&amp;gt; for everyday work with you secret yaml files&lt;/li&gt;
&lt;li&gt;Use version control systems like GIT to work in teams and get history of versions&lt;/li&gt;
&lt;li&gt;Everyday search keys is simple even with encrypted files or decrypt on-the-fly with git diff config included&lt;/li&gt;
&lt;li&gt;With example helm_vars you can manage multiple world locations with multiple projects that contain multiple environments&lt;/li&gt;
&lt;li&gt;With the helm wrapper you can easily run "helm secrets install/upgrade/rollback" with secrets files included as &lt;code&gt;-f&lt;/code&gt; option from you helm_vars values dir tree.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We use vars for Helm Charts from separate directory tree with the structure like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;helm_vars/
├── .sops.yaml
├── projectX
|   ├── .sops.yaml
│   ├── production
│   │   └── us-east-1
│   │       └── java-app
│   │           └── hello-world
│   │               ├── secrets.yaml
│   │               └── values.yaml
│   ├── sandbox
│   │   └── us-east-1
│   │       └── java-app
│   │           └── hello-world
│   │               ├── secrets.yaml
│   │               └── values.yaml
|   ├── secrets.yaml
│   └── values.yaml
├── projectY
|   ├── .sops.yaml
│   ├── production
│   │   └── us-east-1
│   │       └── java-app
│   │           └── hello-world
│   │               ├── secrets.yaml
│   │               └── values.yaml
│   ├── sandbox
│   │   └── us-east-1
│   │       └── java-app
│   │           └── hello-world
│   │               ├── secrets.yaml
│   │               └── values.yaml
|   ├── secrets.yaml
│   └── values.yaml
├── secrets.yaml
└── values.yaml
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As you can see we can run different PGP or KMS keys per project, globally or per any tree level. Thanks to this we can isolate tree on different CI/CD instances using same GIT repository.
As we use simple -f option when running the helm wrapper we can just use encrypted secrets.yaml and all these secrets will be decrypted and cleaned on the fly before and after helm run.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;.sops.yaml&lt;/code&gt; file example&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;---
creation_rules:
        # Encrypt with AWS KMS
        - kms: 'arn:aws:kms:us-east-1:222222222222:key/111b1c11-1c11-1fd1-aa11-a1c1a1sa1dsl1+arn:aws:iam::222222222222:role/helm_secrets'

        # Encrypt using GCP KMS
        - gcp_kms: projects/mygcproject/locations/global/keyRings/mykeyring/cryptoKeys/thekey

        # As failover encrypt with PGP
        - pgp: '000111122223333444AAAADDDDFFFFGGGG000999'

        # For more help look at https://github.com/mozilla/sops
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Multiple KMS and PGP are allowed.&lt;/p&gt;
&lt;p&gt;Everything is described in SOPS docs - links in this project description.&lt;/p&gt;
&lt;h2&gt;&lt;a id="user-content-helm-wrapper" class="anchor" aria-hidden="true" href="#helm-wrapper"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Helm Wrapper&lt;/h2&gt;
&lt;p&gt;Running helm to install/upgrade chart with our secrets files is simple with the included helm wrapper which will decrypt on-the-fly and use decrypted secrets files in the actual helm command.&lt;/p&gt;
&lt;h4&gt;&lt;a id="user-content-wrapped-commands" class="anchor" aria-hidden="true" href="#wrapped-commands"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Wrapped commands&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;  install       run "helm install" with decrypted secrets files
  upgrade       run "helm upgrade" with decrypted secrets files
  lint          run "helm lint" with decrypted secrets files
  diff          run "helm diff" with decrypted secrets files
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The wrapper enables you to call these helm commands with on-the-fly decryption of secrets files passed as &lt;code&gt;-f&lt;/code&gt; or &lt;code&gt;--values&lt;/code&gt; arguments. Instead of calling e.g. &lt;code&gt;helm install ...&lt;/code&gt; you can call &lt;code&gt;helm secrets install ...&lt;/code&gt; to get on-the-fly decryption.&lt;/p&gt;
&lt;p&gt;The diff command is a separate helm plugin, &lt;a href="https://github.com/databus23/helm-diff"&gt;helm-diff&lt;/a&gt;. Using it you can view the changes that would be deployed before deploying. In the same way as above, instead of calling e.g. &lt;code&gt;helm diff upgrade ...&lt;/code&gt; you can call &lt;code&gt;helm secrets diff upgrade ...&lt;/code&gt;, and so on.&lt;/p&gt;
&lt;p&gt;Note that if a decrypted secrets.yaml.dec file exists and is newer then the secrets.yaml file, it will be used in the wrapped command rather than decrypting secrets.yaml.&lt;/p&gt;
&lt;p&gt;Real example of the helm wrapper usage with simple java helloworld application.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;AWS_PROFILE=sandbox helm secrets upgrade \
  helloworld \
  stable/java-app \
  --install \
  --timeout 600 \
  --wait \
  --kube-context=sandbox \
  --namespace=projectx \
  --set global.app_version=bff8fc4 \
  -f helm_vars/projectx/sandbox/us-east-1/java-app/helloworld/secrets.yaml \
  -f helm_vars/projectx/sandbox/us-east-1/java-app/helloworld/values.yaml \
  -f helm_vars/secrets.yaml \
  -f helm_vars/values.yaml

Release "helloworld" has been upgraded. Happy Helming!
LAST DEPLOYED: Fri May  5 13:27:01 2017
NAMESPACE: projectx
STATUS: DEPLOYED

RESOURCES:
==&amp;gt; extensions/v1beta1/Deployment
NAME        DESIRED  CURRENT  UP-TO-DATE  AVAILABLE  AGE
helloworld  3        3        3           2          1h

==&amp;gt; v1/Secret
NAME        TYPE    DATA  AGE
helloworld  Opaque  10    1h

==&amp;gt; v1/ConfigMap
NAME        DATA  AGE
helloworld  2     1h

==&amp;gt; v1/Service
NAME        CLUSTER-IP      EXTERNAL-IP  PORT(S)   AGE
helloworld  100.65.221.245  &amp;lt;none&amp;gt;       8080/TCP  1h

NOTES:
Deploy success helloworld-bff8fc4 in namespace projectx

removed helm_vars/projectx/sandbox/us-east-1/java-app/helloworld/secrets.yaml.dec
removed helm_vars/secrets.yaml.dec
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can see that we use a global secrets file and a specific secrets file for this app in this project/environment/region. We use some plain value files next to secrets. We use values from secrets in some secrets template in helloworld application chart template and some values are used in the configmap template in the same chart. Some values are added as env variables in deployment manifest templates in the chart. As you can see we can use secrets and values in helm in many ways. Everything depends on use case.&lt;/p&gt;
&lt;p&gt;Even when helm failed then decrypted files are cleaned&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;AWS_PROFILE=sandbox helm-wrapper upgrade \
  helloworld \
  stable/java-app \
  --install \
  --timeout 600 \
  --wait \
  --kube-context=wrongcontext \
  --namespace=projectx \
  --set global.app_version=bff8fc4 \
  -f helm_vars/projectx/sandbox/us-east-1/java-app/helloworld/secrets.yaml \
  -f helm_vars/projectx/sandbox/us-east-1/java-app/helloworld/values.yaml \
  -f helm_vars/secrets.yaml \
  -f helm_vars/values.yaml

Error: could not get kubernetes config for context 'wrongcontext': context "wrongcontext" does not exist

removed helm_vars/projectx/sandbox/us-east-1/java-app/helloworld/secrets.yaml.dec
removed helm_vars/secrets.yaml.dec
&lt;/code&gt;&lt;/pre&gt;
&lt;h4&gt;&lt;a id="user-content-using-secret-values-in-helm-chart-secrets-template" class="anchor" aria-hidden="true" href="#using-secret-values-in-helm-chart-secrets-template"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using secret values in Helm chart secrets template&lt;/h4&gt;
&lt;p&gt;We just need to create Kubernetes secrets template in chart templates dir.
For example in your charts repo you have &lt;code&gt;stable/helloworld/&lt;/code&gt;. Inside this chart you should have &lt;code&gt;stable/helloworld/templates/&lt;/code&gt; dir and then create the &lt;code&gt;stable/helloworld/templates/secrets.yaml&lt;/code&gt; file with content as specified bellow.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;apiVersion: v1
kind: Secret
metadata:
  name: helloworld
  labels:
    app: helloworld
    chart: "{{ .Chart.Name }}-{{ .Chart.Version }}"
    release: "{{ .Release.Name }}"
    heritage: "{{ .Release.Service }}"
type: Opaque
data:
  my_secret_key: {{ .Values.secret_sandbox_helloworld | b64enc | quote }}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In this example you have a Kubernetes secret named "helloworld" and data inside this secret will be filled in from values defined in &lt;code&gt;-f helm_vars/projectx/sandbox/us-east-1/java-app/helloworld/secrets.yaml&lt;/code&gt;. We use &lt;code&gt;.Values.secret_sandbox_helloworld&lt;/code&gt; to refer to the value in the decrypted secret file. In this way, the value from the decrypted &lt;code&gt;helm_vars/projectx/sandbox/us-east-1/java-app/helloworld/secrets.yaml&lt;/code&gt; will be available as &lt;code&gt;my_secret_key&lt;/code&gt; in Kubernetes.&lt;/p&gt;
&lt;p&gt;You can now use the "helloworld" secret in your deployment manifest (or any other manifest supporting secretKeyRef) in the env section like this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;apiVersion: extensions/v1beta1
kind: Deployment
...
...
        containers:
        ...
        ...
          env:
            - name: my_new_secret_key
              valueFrom:
                secretKeyRef:
                  name: helloworld
                  key: my_secret_key
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;&lt;a id="user-content-important-tips" class="anchor" aria-hidden="true" href="#important-tips"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Important Tips&lt;/h2&gt;
&lt;h4&gt;&lt;a id="user-content-prevent-committing-decrypted-files-to-git" class="anchor" aria-hidden="true" href="#prevent-committing-decrypted-files-to-git"&gt;&lt;svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"&gt;&lt;path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Prevent committing decrypted files to git&lt;/h4&gt;
&lt;p&gt;If you like to secure situation when decrypted file is committed by mistake to git you can add your secrets.yaml.dec files to you charts project repository &lt;code&gt;.gitignore&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;A second level of security is to add for example a &lt;code&gt;.sopscommithook&lt;/code&gt; file inside your chart repository local commit hook.&lt;/p&gt;
&lt;p&gt;This will prevent committing decrypted files without sops metadata.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;.sopscommithook&lt;/code&gt; content example:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/sh

for FILE in $(git diff-index HEAD --name-only | grep &amp;lt;your vars dir&amp;gt; | grep "secrets.y"); do
    if [ -f "$FILE" ] &amp;amp;&amp;amp; ! grep -C10000 "sops:" $FILE | grep -q "version:"; then
        echo "!!!!! $FILE" 'File is not encrypted !!!!!'
        echo "Run: helm secrets enc &amp;lt;file path&amp;gt;"
        exit 1
    fi
done
exit
&lt;/code&gt;&lt;/pre&gt;
&lt;/article&gt;&lt;/div&gt;</description><author>futuresimple</author><guid isPermaLink="false">https://github.com/futuresimple/helm-secrets</guid><pubDate>Sat, 02 Nov 2019 00:00:00 GMT</pubDate></item></channel></rss>